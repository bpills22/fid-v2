"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const react_1 = require("react");
const window_1 = require("@edgio/prefetch/window");
/**
 * Installs the service worker
 *
 * Example:
 *
 * ```js
 *  import {useServiceWorker} from '@edgio/react';
 *
 *  function MyComponent() {
 *   useServiceWorker({
 *     // set to `true` to install the service worker in development mode
 *     dev: false,
 *   });
 *   // ...rest of your app.js code
 *  }
 * ```
 *
 * @param options
 * @param options.dev Set to true to install the service worker in development mode
 */
function useServiceWorker({ dev = false } = {}) {
    (0, react_1.useEffect)(() => {
        if (dev || process.env.NODE_ENV === 'production') {
            (0, window_1.install)();
        }
    }, []);
}
exports.default = useServiceWorker;
