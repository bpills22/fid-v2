{
  "version": 3,
  "sources": ["../../src/utils/ports.ts", "../../src/constants.ts", "../../src/log.ts", "../../src/lambda/injection/getBodyLoggingData.ts", "../../src/utils/idUtils.ts", "../../src/lambda/serverMetrics.ts", "../../../../node_modules/pino-std-serializers/lib/err.js", "../../../../node_modules/pino-std-serializers/lib/req.js", "../../../../node_modules/pino-std-serializers/lib/res.js", "../../../../node_modules/pino-std-serializers/index.js", "../../../../node_modules/fast-redact/lib/validator.js", "../../../../node_modules/fast-redact/lib/rx.js", "../../../../node_modules/fast-redact/lib/parse.js", "../../../../node_modules/fast-redact/lib/redactor.js", "../../../../node_modules/fast-redact/lib/modifiers.js", "../../../../node_modules/fast-redact/lib/restorer.js", "../../../../node_modules/fast-redact/lib/state.js", "../../../../node_modules/fast-redact/index.js", "../../../../node_modules/pino/lib/symbols.js", "../../../../node_modules/pino/lib/redaction.js", "../../../../node_modules/pino/lib/time.js", "../../../../node_modules/flatstr/index.js", "../../../../node_modules/atomic-sleep/index.js", "../../../../node_modules/sonic-boom/index.js", "../../../../node_modules/process-warning/index.js", "../../../../node_modules/pino/lib/deprecations.js", "../../../../node_modules/quick-format-unescaped/index.js", "../../../../node_modules/fast-safe-stringify/index.js", "../../../../node_modules/pino/lib/tools.js", "../../../../node_modules/pino/lib/levels.js", "../../../../node_modules/pino/lib/meta.js", "../../../../node_modules/pino/lib/proto.js", "../../../../node_modules/pino/pino.js", "../../src/lambda/injection/consoleWrapper.ts", "../../src/lambda/global.helpers.ts", "../../src/environment.ts", "../../src/lambda/injection/stdStreamsWrapper.ts", "../../src/lambda/injection/httpRequestInterceptor.ts", "../../../../node_modules/has-symbols/shams.js", "../../../../node_modules/has-symbols/index.js", "../../../../node_modules/has-proto/index.js", "../../../../node_modules/function-bind/implementation.js", "../../../../node_modules/function-bind/index.js", "../../../../node_modules/has/src/index.js", "../../../../node_modules/get-intrinsic/index.js", "../../../../node_modules/call-bind/index.js", "../../../../node_modules/call-bind/callBound.js", "../../../../node_modules/object-inspect/util.inspect.js", "../../../../node_modules/object-inspect/index.js", "../../../../node_modules/side-channel/index.js", "../../../../node_modules/qs/lib/formats.js", "../../../../node_modules/qs/lib/utils.js", "../../../../node_modules/qs/lib/stringify.js", "../../../../node_modules/qs/lib/parse.js", "../../../../node_modules/qs/lib/index.js", "../../src/runtime/LambdaRequest.ts", "../../src/runtime/LambdaResponse.ts", "../../node_modules/cookie/index.js", "../../src/runtime/CacheKey.ts", "../../src/utils/first.ts", "../../src/runtime/mods/Mod.ts", "../../src/runtime/Phase.ts", "../../src/runtime/url.ts", "../../src/utils/decodeUnreservedURIChars.ts", "../../src/runtime/evaluators/EvaluatorGroup.ts", "../../src/runtime/evaluators/Evaluator.ts", "../../src/utils/regExpEscape.ts", "../../src/utils/toEdgeRegex.ts", "../../src/utils/regexUtils.ts", "../../src/runtime/evaluators/index.ts", "../../src/runtime/interpolate.ts", "../../../../node_modules/path-to-regexp/src/index.ts", "../../src/utils/bindParams.ts", "../../src/runtime/toRegExp.ts", "../../src/router/path.ts", "../../src/runtime/mods/ModRewrite.ts", "../../../../node_modules/cache-control-parser/dist/index.js", "../../src/router/converters/toSeconds.ts", "../../src/router/converters/toTimeUnitAbbrev.ts", "../../src/runtime/mods/ModCache.ts", "../../src/runtime/EarlyReturn.ts", "../../src/runtime/mods/ModAccess.ts", "../../src/runtime/mods/ModSetEnv.ts", "../../src/errors/BackendFetchError.ts", "../../src/runtime/random.ts", "../../src/utils/mergeQueryString.ts", "../../src/errors/EdgioError.ts", "../../src/errors/edgioErrorLinks.ts", "../../src/errors/EdgioHeadersOverflowError.ts", "../../src/errors/EdgioInternalError.ts", "../../src/errors/EdgioNoResponseError.ts", "../../src/errors/EdgioNotReadyError.ts", "../../src/errors/EdgioProjectError.ts", "../../src/errors/EdgioProjectCrashedError.ts", "../../src/errors/EdgioOutOfResourcesError.ts", "../../src/errors/EdgioProjectTimeoutError.ts", "../../src/errors/EdgioResponseTooLargeError.ts", "../../src/errors/EdgioUpstreamOriginTimeoutError.ts", "../../src/errors/index.ts", "../../src/runtime/Backend.ts", "../../src/runtime/Origin.ts", "../../src/runtime/OriginFetcher.ts", "../../src/origins.ts", "../../src/runtime/mods/ModProxyCore.ts", "../../src/runtime/mods/ModProxyFeatures.ts", "../../src/runtime/mods/ModRedirect.ts", "../../src/runtime/edge-functions/Worker.ts", "../../src/runtime/edge-functions/EdgeFunctionWorkerParams.ts", "../../../../node_modules/node-fetch/node_modules/webidl-conversions/lib/index.js", "../../../../node_modules/node-fetch/node_modules/whatwg-url/lib/utils.js", "../../../../node_modules/node-fetch/node_modules/tr46/index.js", "../../../../node_modules/node-fetch/node_modules/whatwg-url/lib/url-state-machine.js", "../../../../node_modules/node-fetch/node_modules/whatwg-url/lib/URL-impl.js", "../../../../node_modules/node-fetch/node_modules/whatwg-url/lib/URL.js", "../../../../node_modules/node-fetch/node_modules/whatwg-url/lib/public-api.js", "../../../../node_modules/safer-buffer/safer.js", "../../../../node_modules/iconv-lite/lib/bom-handling.js", "../../../../node_modules/iconv-lite/encodings/internal.js", "../../../../node_modules/iconv-lite/encodings/utf32.js", "../../../../node_modules/iconv-lite/encodings/utf16.js", "../../../../node_modules/iconv-lite/encodings/utf7.js", "../../../../node_modules/iconv-lite/encodings/sbcs-codec.js", "../../../../node_modules/iconv-lite/encodings/sbcs-data.js", "../../../../node_modules/iconv-lite/encodings/sbcs-data-generated.js", "../../../../node_modules/iconv-lite/encodings/dbcs-codec.js", "../../../../node_modules/iconv-lite/encodings/dbcs-data.js", "../../../../node_modules/iconv-lite/encodings/index.js", "../../../../node_modules/iconv-lite/lib/streams.js", "../../../../node_modules/iconv-lite/lib/index.js", "../../../../node_modules/encoding/lib/encoding.js", "../../../../node_modules/node-fetch/lib/index.js", "../../../../node_modules/lodash/lodash.js", "../../src/runtime/edge-functions/WasmMemory.ts", "../../src/runtime/edge-functions/WasmProgram.ts", "../../src/runtime/edge-functions/EdgeFunctionHeaders.ts", "../../src/runtime/edge-functions/EdgeFunctionResponse.ts", "../../src/runtime/edge-functions/Serializer.ts", "../../src/runtime/edge-functions/EdgeFunctionFetchError.ts", "../../src/runtime/edge-functions/consts.ts", "../../../../node_modules/event-target-shim/src/event.mjs", "../../../../node_modules/event-target-shim/src/event-target.mjs", "../../../../node_modules/abort-controller/src/abort-signal.ts", "../../../../node_modules/abort-controller/src/abort-controller.ts", "../../src/runtime/edge-functions/EdgeFunctionsWorkerManager.ts", "../../src/runtime/edge-functions/EdgeFunctionsManager.ts", "../../src/runtime/HandlerFinished.ts", "../../src/utils/edgeFunctionUtils.ts", "../../src/runtime/mods/ModEdgeFunctions.ts", "../../src/utils/headerUtils.ts", "../../src/runtime/mods/ModTranscode.ts", "../../src/runtime/rules/constants.ts", "../../src/runtime/rules/RulesVisitor.ts", "../../src/runtime/mods/ModStream.ts", "../../src/runtime/executePlan.ts", "../../src/errors/InvalidRoutePatternError.ts", "../../src/utils/toPathRegexp.ts", "../../src/runtime/rules/RulesConditionalVisitor.ts", "../../src/runtime/image-optimizer/types.ts", "../../src/runtime/image-optimizer/ImageOptimizer.ts", "../../src/runtime/image-optimizer/ImageOptimizerError.ts", "../../src/utils/colorUtils.ts", "../../src/runtime/image-optimizer/ImageOptimizerConfigParser.ts", "../../src/runtime/mods/ModImageOptimizer.ts", "../../src/runtime/RequestContext.ts", "../../src/runtime/rules/RulesFormatter.ts", "../../../../node_modules/color-name/index.js", "../../../../node_modules/color-convert/conversions.js", "../../../../node_modules/color-convert/route.js", "../../../../node_modules/color-convert/index.js", "../../../../node_modules/ansi-styles/index.js", "../../../../node_modules/has-flag/index.js", "../../../../node_modules/supports-color/index.js", "../../../../node_modules/chalk/source/util.js", "../../../../node_modules/chalk/source/templates.js", "../../../../node_modules/chalk/source/index.js", "../../src/deploy/edge-functions/EdgeFunctionsBuilder.ts", "../../../../node_modules/esbuild/lib/main.js", "../../src/runtime/edge-functions/EdgeFunctionsWasmManager.ts", "../../src/runtime/edge-functions/EdgeFunctionCompiler.ts", "../../../../node_modules/path-root-regex/index.js", "../../../../node_modules/path-root/index.js", "../../../../node_modules/resolve-package-path/src/rethrow-unless-code.ts", "../../../../node_modules/resolve-package-path/src/should-preserve-symlinks.ts", "../../../../node_modules/resolve-package-path/src/resolve-package-path.ts", "../../../../node_modules/resolve-package-path/src/cache.ts", "../../../../node_modules/resolve-package-path/src/cache-group.ts", "../../../../node_modules/resolve-package-path/src/index.ts", "../../src/deploy/resolveInPackage.ts", "../../src/deploy/paths.ts", "../../src/deploy/edge-functions/paths.ts", "../../../../node_modules/acorn/dist/acorn.mjs", "../../../../node_modules/acorn-walk/dist/walk.mjs", "../../src/deploy/edge-functions/EdgeFunctionsNodeBuilder.ts", "../../../../node_modules/slash/index.js", "../../src/utils/nonWebpackRequire.ts", "../../src/utils/index.ts", "../../src/utils/watch.ts", "../../src/deploy/edge-functions/index.ts", "../../src/runtime/createEdgeConfig.ts", "../../src/runtime/PropertyContext.ts", "../../src/runtime/RequestHandler.ts", "../../../../node_modules/lru-cache/index.mjs", "../../../../node_modules/lodash.clonedeep/index.js", "../../src/runtime/Cache.ts", "../../../../node_modules/ts-fs-utils/Envirovment.js", "../../../../node_modules/ts-fs-utils/FileExtension.js", "../../../../node_modules/ts-fs-utils/Name.js", "../../../../node_modules/ts-fs-utils/FileName.js", "../../../../node_modules/ts-fs-utils/utils/normalizePath.js", "../../../../node_modules/ts-fs-utils/AbsoluteFolderName.js", "../../../../node_modules/ts-fs-utils/serializer/createJsonSerializer.js", "../../../../node_modules/ts-fs-utils/serializer/createRawSerializer.js", "../../../../node_modules/ts-fs-utils/AbsoluteFileName.js", "../../../../node_modules/ts-fs-utils/utils/Lazy.js", "../../../../node_modules/ts-fs-utils/RelativeFolderName.js", "../../../../node_modules/ts-fs-utils/RelativeFileName.js", "../../../../node_modules/ts-fs-utils/index.js", "../../src/config.ts", "../../src/source.ts", "../../src/utils/requireInternal.ts", "../../src/router/RouteCriteria.ts", "../../src/router/exact.ts", "../../src/router/converters/toCondition.ts", "../../src/router/createMatchers.ts", "../../src/router/converters/toRule.ts", "../../src/router/RedirectOptions.ts", "../../src/utils/isEmpty.ts", "../../src/utils/universalRouteUtils.ts", "../../src/router/ParamsExtractor.ts", "../../src/utils/cookieUtils.ts", "../../src/router/converters/toTimeInterval.ts", "../../src/router/RouteHelper.ts", "../../src/router/converters/toFeature.ts", "../../src/utils/Tasks.ts", "../../src/router/PreloadRequests.ts", "../../src/router/Router.ts", "../../src/edgio.fs.ts", "../../src/lambda/RuntimeContext.ts", "../../src/errors/EdgioProjectRequestLoopError.ts", "../../src/lambda/dispatch.ts", "../../node_modules/ws/lib/stream.js", "../../node_modules/ws/lib/constants.js", "../../node_modules/ws/lib/buffer-util.js", "../../node_modules/ws/lib/limiter.js", "../../node_modules/ws/lib/permessage-deflate.js", "../../node_modules/ws/lib/validation.js", "../../node_modules/ws/lib/receiver.js", "../../node_modules/ws/lib/sender.js", "../../node_modules/ws/lib/event-target.js", "../../node_modules/ws/lib/extension.js", "../../node_modules/ws/lib/websocket.js", "../../node_modules/ws/lib/subprotocol.js", "../../node_modules/ws/lib/websocket-server.js", "../../node_modules/ws/wrapper.mjs", "../../src/lambda/server.implementation.ts", "../../src/lambda/server.ts"],
  "sourcesContent": ["export const port = Number(process.env.PORT) || 3000\nexport const jsPort = port + 1\nexport const assetPort = port + 2\nexport const handlerPort = port + 1000\nexport const localhost = '127.0.0.1'\nexport const localhostWithPort = `${localhost}:${port}`\n", "/**\n * Edgio configuration file name.\n */\nexport const EDGIO_CONFIG_FILE = 'edgio.config.js'\n\n/**\n * Indicate asset files that need to be uploaded under a different\n * bucket key.\n * It contains values like\n * {\n *   '/posts' => '/posts/index.html'\n * }\n */\nexport const EDGIO_ASSET_ALIASES_FILE = 'asset-aliases.json'\n\n/**\n * Environment variables used by Edgio.\n */\nexport const EDGIO_ENV_VARIABLES = {\n  /**\n   * Edgio configuration environment variable key.\n   */\n  config: 'EDGIO_CONFIG',\n\n  /**\n   * Edgio internal configuration environment variable key.\n   */\n  internalConfig: 'EDGIO_INTERNAL_CONFIG',\n\n  /**\n   * Indicates whether code is running locally or in the cloud.\n   * @private\n   */\n  deploymentType: 'EDGIO_DEPLOYMENT_TYPE',\n\n  /**\n   * Allows Edgio development team to easily override Edgio version\n   * during development process.\n   * @private\n   */\n  versionOverride: 'EDGIO_VERSION_OVERRIDE',\n\n  /**\n   * Indicates that we are running a production build.\n   * @private\n   */\n  productionBuild: 'EDGIO_PRODUCTION_BUILD',\n\n  /**\n   * Indicates that we are running app locally.\n   * @private\n   */\n  local: 'EDGIO_LOCAL',\n\n  /**\n   * Turns on the cache when set to 'true'.\n   * @private\n   */\n  cache: 'EDGIO_CACHE',\n\n  /**\n   * The hostname of currently used permalink.\n   * @private\n   */\n  permalinkHost: 'EDGIO_PERMALINK_HOST',\n\n  /**\n   * The image optimizer host.\n   * This is same as the permalink host, but it's used for old image optimizer.\n   * @deprecated This will be replaced by EDGIO_PERMALINK_HOST when console-api changes are released.\n   * @private\n   */\n  imageOptimizerHost: 'EDGIO_IMAGE_OPTIMIZER_HOST',\n}\n\n/**\n * Environment variables used by Edgio Edge Functions.\n */\nexport const EDGIO_EDGE_FUNCTION_ENV_VARIABLES = {\n  /**\n   * The path to the edge function within the project.\n   */\n  path: '__EDGE_FUNCTION_PATH__',\n\n  /**\n   * The edge function's QuickJS bytecode (base64 encoded).\n   */\n  quickjsBytecodeBase64: '__EDGE_FUNCTION_QUICKJS_BYTECODE_BASE64__',\n\n  /**\n   * When 'enabled' turn on edge function debugging.\n   */\n  debug: 'debug',\n}\n\n/**\n * The default version of edge functions to use.\n * @private\n */\nexport const EDGIO_EDGE_FUNCTION_DEFAULT_VERSION = 2\n\n/**\n * Indicates that code is running in AWS.\n * @private\n */\nexport const EDGIO_DEPLOYMENT_TYPE_AWS = 'AWS'\n\n/**\n * Prefix of all Edgio headers.\n */\nexport const EDGIO_HEADERS_PREFIX = 'x-edg-'\n\n/**\n * Instructs the runtime to forward the request directly to the user's app or a function rather than processing\n * edge-control rules.\n * @private\n */\nexport const EDGIO_CLOUD_FUNCTIONS_HINT_HEADER = 'x-cloud-functions-hint'\n\n/**\n * Instructs the runtime to forward the request directly one of the router's functions by hint name.\n * @private\n */\nexport const EDGIO_CLOUD_FUNCTIONS_HINTS = {\n  // Instructs the runtime to forward the request directly to the user's app.\n  app: 'app',\n\n  // Instructs the runtime to forward the request directly one of the router's functions by index.\n  compute: 'compute',\n\n  // Instructs the runtime to invoke a compute that will execute a redirect and return early.\n  redirect: 'redirect',\n\n  // Instructs the runtime to invoke a compute that will execute a redirect and return early.\n  proxy: 'proxy',\n} as const\n\nexport type EdgioCloudFunctionsHint =\n  (typeof EDGIO_CLOUD_FUNCTIONS_HINTS)[keyof typeof EDGIO_CLOUD_FUNCTIONS_HINTS]\n\n/**\n * Maximum number of user headers allowed by Edgio platform.\n *\n * We limit the request and response headers allowed to 70. This is due to a limitation that edge has\n * which at the moment supports up to 96 headers. Edge provider itself needs to use some of those headers\n * with the remainder used by our edge code.\n *\n * NOTE: This constant must be equal ot the constant of the same name defined in Edgio buffer proxy.\n * NOTE: If this constant is updated then the constant of the same name has to be updated in @edgio/build-lambda module.\n */\nexport const EDGIO_MAX_USER_HEADERS_ALLOWED = 70\n\n/**\n * Status code returned when there are too many request or response headers.\n *\n * Must be equal to HeaderOverflowError status code as defined in build lambda and Edgio buffer proxy.\n */\nexport const EDGIO_TOO_MANY_HEADERS_STATUS_CODE = 542\n\n/**\n * The status code returned when the edgio_prefetch query param is present and a response could not be found in the cache.\n */\nexport const EDGIO_UNCACHED_PREFETCH_STATUS = 412\n\n/**\n * The maximum number of nested requests allowed by Edgio platform,\n * where a site is the upstream of itself or another site.\n * If this limit is exceeded, the request will be terminated with a 538 status code,\n * to prevent infinite loops and generating excessive traffic.\n */\nexport const EDGIO_MAX_NESTED_REQUESTS = 3\n\n/**\n * The value that is appended to the 'Via' header\n * everytime request goes through the @edgio/core.\n */\nexport const EDGIO_VIA_HEADER_VALUE = 'Edgio Core'\n\n/**\n * CDN-as-code configuration actions\n */\nexport const ACTIONS = {\n  setHeader: 'set-header',\n  updateHeader: 'update-header',\n  removeHeader: 'remove-header',\n  syntheticRes: 'synthetic-response',\n  updatePath: 'update-path',\n  proxy: 'proxy',\n  addCookie: 'add-cookie',\n  updateCookie: 'update-cookie',\n  removeCookie: 'remove-cookie',\n}\n\n/**\n * The backend for cloud functions\n */\nexport const BACKENDS = {\n  js: '__js__',\n  static: '__static__',\n  permanentStatic: '__permanent_static__',\n  imageOptimizer: '__image_optimizer__',\n}\n\n/**\n * The hostname used for the internal service running the user's application.\n */\nexport const JS_BACKEND_HOSTNAME = '127.0.0.1'\n\nexport const HTTP_METHODS = {\n  head: 'head',\n  get: 'get',\n  post: 'post',\n  delete: 'delete',\n  put: 'put',\n  patch: 'patch',\n  options: 'options',\n} as const\n\nexport type HTTPMethod = (typeof HTTP_METHODS)[keyof typeof HTTP_METHODS]\n\n/**\n * Common HTTP headers.\n */\nexport const HTTP_HEADERS = {\n  accept: 'accept',\n  acceptCh: 'accept-CH',\n  acceptEncoding: 'accept-encoding',\n  authorization: 'authorization',\n  cacheControl: 'cache-control',\n  contentEncoding: 'content-encoding',\n  contentLength: 'content-length',\n  contentType: 'content-type',\n  cookie: 'cookie',\n  expires: 'expires',\n  host: 'host',\n  location: 'location',\n  range: 'range',\n  serverTiming: 'server-timing',\n  setCookie: 'set-cookie',\n  userAgent: 'user-agent',\n  vary: 'vary',\n  via: 'via',\n  transferEncoding: 'transfer-encoding',\n  strictTransportSecurity: 'strict-transport-security',\n  referrerPolicy: 'referrer-policy',\n  featurePolicy: 'feature-policy',\n  xHost: 'x-host',\n  xEcPop: 'x-ec-pop',\n  xEcDebug: 'x-ec-debug',\n  xForwardedFor: 'x-forwarded-for',\n  xForwardedProto: 'x-forwarded-proto',\n  xForwardedPort: 'x-forwarded-port',\n  xFrameOptions: 'x-frame-options',\n  xXssProtection: 'x-xss-protection',\n  xContentTypeOptions: 'x-content-type-options',\n  xRequestId: 'x-request-id',\n  xSwCacheControl: 'x-sw-cache-control',\n  xEdgeBrowser: 'x-edg-browser',\n  xEdgeCacheControl: 'x-edg-cache-control',\n  xEdgeCachingStatus: 'x-edg-caching-status',\n  xEdgeClientIp: 'x-edg-client-ip',\n  xEdgeComponents: 'x-edg-components',\n  xEdgeDestination: 'x-edg-destination',\n  xEdgeDevice: 'x-edg-device',\n  xEdgeDeviceIsBot: 'x-edg-device-is-bot',\n  xEdgeGeoCity: 'x-edg-geo-city',\n  xEdgeGeoCountryCode: 'x-edg-geo-country-code',\n  xEdgeGeoLatitude: 'x-edg-geo-latitude',\n  xEdgeGeoLongitude: 'x-edg-geo-longitude',\n  xEdgeGeoPostalCode: 'x-edg-geo-postal-code',\n  xEdgeMatchedRoutes: 'x-edg-matched-routes',\n  xEdgeProtocol: 'x-edg-protocol',\n  xEdgeRoute: 'x-edg-route',\n  xEdgeStatus: 'x-edg-status',\n  xEdgeSurrogateKey: 'x-edg-surrogate-key',\n  xEdgeT: 'x-edg-t',\n  xEdgeUserT: 'x-edg-user-t',\n  xEdgeVendor: 'x-edg-vendor',\n  xEdgeVersion: 'x-edg-version',\n  xEdgServerlessError: 'x-edg-serverless-error',\n  xEdgInvokeSource: 'x-edg-invoke-source',\n  xEdgInvokeAction: 'x-edg-invoke-action',\n  xEdgErrorMessage: 'x-edg-error-message',\n  xEdgErrorDetails: 'x-edg-error-details',\n  xEdgErrorLevel: 'x-edg-error-level',\n  xEdgRawUrl: 'x-edg-raw-url',\n  xCloudFunctionsHint: EDGIO_CLOUD_FUNCTIONS_HINT_HEADER,\n  x0ClientIp: 'x-0-client-ip',\n  x0Protocol: 'x-0-protocol',\n  x0Version: 'x-0-version',\n  xEcEdgeIoDebug: 'x-ec-edgeio-debug',\n  xEcEdgeIoDisable: 'x-ec-edgeio-disable',\n  xEdgeIoInfo: 'x-edgeio-info',\n  xEdgeIoStatus: 'x-edgeio-status',\n  xEdgeIoError: 'x-edgeio-error',\n  xEcUUID: 'x-ec-uuid',\n} as const\n\n/**\n * Union type for HTTP_HEADERS values\n */\nexport type HttpHeaders = (typeof HTTP_HEADERS)[keyof typeof HTTP_HEADERS]\n\n/**\n * Values for x-edg-caching-status\n */\nexport const CACHING_STATUS = {\n  cached: 'cached',\n  hit: 'hit',\n  bypassed: 'bypassed',\n  private: 'private',\n  method: 'method',\n  bodyTooBig: 'body-too-big',\n  code: 'code',\n  setCookie: 'set-cookie',\n  noMaxAge: 'no-max-age',\n} as const\n\nexport type CachingStatus = (typeof CACHING_STATUS)[keyof typeof CACHING_STATUS]\n\nexport const CACHEABLE_METHODS = new Set<string>(['get', 'head'])\n\n/**\n * Values for x-edg-caching-status\n */\nexport const CACHING_DEBUG_HEADERS = {\n  cache: 'x-ec-cache',\n  checkCacheable: 'x-ec-check-cacheable',\n  cacheState: 'x-ec-cache-state',\n  cacheKey: 'x-ec-cache-key',\n}\n\n// Caching debug status codes.\n// https://docs.edgecast.com/cdn/Content/Reference/Cache_Status_Codes.htm\nexport const CACHING_DEBUG_STATUS = {\n  configNoCache: 'CONFIG_NOCACHE',\n  none: 'NONE',\n  tcpClientRefreshMiss: 'TCP_CLIENT_REFRESH_MISS',\n  tcpExpiredHit: 'TCP_EXPIRED_HIT',\n  tcpExpiredMiss: 'TCP_EXPIRED_MISS',\n  tcpHit: 'TCP_HIT',\n  tcpMiss: 'TCP_MISS',\n  tcpPartialHit: 'TCP_PARTIAL_HIT',\n  uncacheable: 'UNCACHEABLE',\n}\n\nexport const CACHING_DEBUG_CACHEABLE = {\n  yes: 'YES',\n  no: 'NO',\n}\n\n/**\n * When present, this query parameter will cause Edgio to return a 412 status\n * if a response could not be found in the cache.\n */\nexport const THROTTLED_QUERY_PARAM = 'edgio_prefetch'\n/**\n * Same value as above but DEPRECATED.\n */\nexport const PREFETCH_QUERY_PARAM = THROTTLED_QUERY_PARAM\n\n/**\n Adds query parameter with custom maxAgeSecond value for service-worker cache if it's specified in PrefetchConfiguration\n */\nexport const PREFETCH_TTL_PARAM = 'edgio_prefetch_ttl'\n\n/**\n Labels the request so that devtools will display as prefetched\n */\nexport const DEVTOOLS_PREFETCH_QUERY_PARAM = 'edgio_dt_pf'\n\n/**\n * The name of the query parameter used to detect HEAD requests.\n */\nexport const HEAD_QUERY_PARAM = 'edgio_head'\n\n/**\n * The name of the query parameter used for the body of POST requests, which is used for the cache key\n */\nexport const POST_BODY_QUERY_PARAM = 'pref_edgio_body'\n\n/**\n * The name of the query parameter used for the method of requests, which is used for the cache key\n */\nexport const METHOD_QUERY_PARAM = 'pref_edgio_method'\n\n/**\n * Route Group name, which is used in router for fallback routes\n */\nexport const ROUTES_FALLBACK = 'fallback'\n\n/**\n * Route Group name, which is used in router for error page routes\n */\nexport const ROUTES_CATCH_GROUP = 'catch'\n\n/**\n * Route Group name, which is used in router for noindex routes\n */\nexport const ROUTES_NOINDEX_GROUP = 'noindex'\n\n/**\n * Regex used to determine if the host should be excluded from\n * SE indexing\n */\nexport const HOSTS_NOINDEX_PERMALINK_REGEX = /\\.edgio\\.link|\\.edgio-perma\\.link/\n\n/**\n * The path where cache-manifest file is served by built-in rule.\n * Connascence of value with console-api/app/services/cache_manifest/constants.rb\n */\nexport const EDGIO_CACHE_MANIFEST_PATH = '/__edgio__/cache-manifest.js'\n\n/**\n * The name of the JS global constant which contains the cache-manifest content\n * when cache-manifest is imported as a script to site.\n * Connascence of value with console-api/app/services/cache_manifest/constants.rb\n */\nexport const EDGIO_CACHE_MANIFEST_JS_VAR_NAME = '__EDGIO_CACHE_MANIFEST__'\n\n/**\n * The base path of the URL where the install.js file of @edgio/prefetch is served from CDN.\n * Connascence of value with console-api/app/services/edge_control/internal_config.rb\n */\nexport const EDGIO_PREFETCH_CDN_BASE_PATH = '/__edgio__/prefetch'\n\n/**\n * The path in express style where the install.js file of @edgio/prefetch is served from CDN.\n * Connascence of value with console-api/app/services/edge_control/internal_config.rb\n * @example /__edgio__/prefetch/install.js\n * @example /__edgio__/prefetch/v7.2.2/install.js\n */\nexport const EDGIO_PREFETCH_CDN_PATH = `${EDGIO_PREFETCH_CDN_BASE_PATH}/:path*`\n\n/**\n * The path in express style where the service-worker file of @edgio/prefetch is served from CDN.\n * Connascence of value with console-api/app/services/edge_control/internal_config.rb\n * @example /__edgio__service_worker_v7.2.2.js\n */\nexport const EDGIO_PREFETCH_CDN_SW_PATH = '/__edgio__service_worker_:version.js'\n\n/**\n * The value of cache-manifest rule comment which indicates that the rule should be ignored when\n * building cache-manifest by console-api. This allows customers to exclude certain rules from it.\n * We simulate it here in @edgio/core to provide the same experience in local simulation.\n * Connascence of value with console-api/app/services/cache_manifest/cache_manifest_builder.rb\n */\nexport const EDGIO_CACHE_MANIFEST_RULE_IGNORE_COMMENT = 'cache-manifest-ignore'\n\n/**\n * Is current environment 'browser'\n */\nexport const IS_BROWSER = typeof window !== 'undefined'\n\n/**\n * Brotli encoding code.\n */\nexport const BROTLI_ENCODING = 'br'\n\n/**\n * Gzip encoding code.\n */\nexport const GZIP_ENCODING = 'gzip'\n\n/**\n * Deflate encoding code.\n */\nexport const DEFLATE_ENCODING = 'deflate'\n\n/**\n * One year in seconds\n */\nexport const FAR_FUTURE_TTL = '1y'\n\nexport const INVOKE_SOURCES = {\n  functionUrl: 'function-url',\n  console: 'console',\n  bufferProxy: 'buffer-proxy',\n} as const\n\nexport type InvokeSource = (typeof INVOKE_SOURCES)[keyof typeof INVOKE_SOURCES]\n\nexport const INVOKE_ACTIONS = {\n  getEdgeConfig: 'getEdgeConfig',\n  getPreloadConfig: 'getPreloadConfig',\n  serverless: 'serverless',\n  simulator: 'simulator',\n} as const\n\nexport type InvokeAction = (typeof INVOKE_ACTIONS)[keyof typeof INVOKE_ACTIONS]\n\n// althought this seems like simple ready message, this message is also important for the\n// handler.ts to detect that the server is ready to accept requests\n// NOTE: Do not use formmating (chalk, colors) in this message, as colors and chalk are not\n// are not alwayse preserved between spwaned processes (handler will not be able to detect the message)\nexport const EDGIO_READY_MESSAGE = '> Edgio ready on '\n", "enum LogLevel {\n  TRACE,\n  DEBUG,\n  INFO,\n  WARN,\n  ERROR,\n}\n\ntype LogLevelStrings = keyof typeof LogLevel\nconst key = <LogLevelStrings>process.env.LOG_LEVEL?.toUpperCase()\nconst configuredLogLevel = key ? LogLevel[key] : LogLevel.INFO\n\nconst logger = {\n  trace(...params: any[]) {\n    logger.log(LogLevel.TRACE, ...params)\n  },\n\n  debug(...params: any[]) {\n    logger.log(LogLevel.DEBUG, ...params)\n  },\n\n  info(...params: any[]) {\n    logger.log(LogLevel.INFO, ...params)\n  },\n\n  warn(...params: any[]) {\n    logger.log(LogLevel.WARN, ...params)\n  },\n\n  error(...params: any[]) {\n    logger.log(LogLevel.ERROR, ...params)\n  },\n\n  log(level: number, ...params: any[]) {\n    // If given a single function as a param, call it and log the result\n    // This allows us to skip computation of expensive log output if it would\n    // not be shown based on the configured level\n    if (params.length === 1 && typeof params[0] === 'function') {\n      params = [params[0]()]\n    }\n    if (configuredLogLevel != null && configuredLogLevel <= level) {\n      console.log(`${LogLevel[level].padEnd(5, ' ')}`, ...params)\n    }\n  },\n}\n\nexport default logger\n", "import { gunzipSync, brotliDecompressSync, inflateSync } from 'zlib'\nimport { HTTP_HEADERS, BROTLI_ENCODING, GZIP_ENCODING, DEFLATE_ENCODING } from '../../constants'\nimport logger from '../../log'\n\n// We limit the logged body due to CloudWatch 256Kb per line limitation,\n// CloudWatch costs and, last but not least, websocket exploding on\n// larger sizes.\n// Tests have shown that 8Kb length results in responsive UI with enough\n// captured information.\nconst MAX_BODY_LENGTH = 8 * 1024\n\nfunction base64encode(input: Buffer | string) {\n  if (Buffer.isBuffer(input)) {\n    return input.toString('base64')\n  }\n  return Buffer.from(input as string).toString('base64')\n}\n\n// Gets the content encoding value from the given headers, no matter\n// what case the header has been passed through.\nfunction getContentEncoding(headers?: any) {\n  if (!headers) {\n    return undefined\n  }\n\n  let encoding = headers[HTTP_HEADERS.contentEncoding]\n  if (!encoding) {\n    for (let name of Object.keys(headers)) {\n      if (name.toLowerCase() === HTTP_HEADERS.contentEncoding) {\n        encoding = headers[name]\n        break\n      }\n    }\n  }\n\n  if (Array.isArray(encoding)) {\n    if (encoding.length) {\n      encoding = encoding[0]\n    } else {\n      encoding = undefined\n    }\n  }\n\n  return encoding\n}\n\n// For the purposes of HTTP request and response logging we log the body.\n// This function returns an object with possibly truncated body, full body\n// length and a flag set to true if the body was truncated.\n// The object is directly included in the HTTP request logging result.\n// This functionn never throws as it is just related to logging and we don't\n// want a request to ever fail due to logging issues.\nexport default function getBodyLoggingData(\n  rawBody: string | Buffer | Buffer[] | undefined,\n  headers?: any\n) {\n  try {\n    if (!rawBody || rawBody.length === 0) {\n      return {}\n    }\n\n    let body\n    if (typeof rawBody === 'string') {\n      body = Buffer.from(rawBody)\n    } else if (Buffer.isBuffer(rawBody)) {\n      body = rawBody\n    } else if (Array.isArray(rawBody)) {\n      body = Buffer.concat(rawBody)\n    } else {\n      // We don't know what we have so the best we can do is return a user visible error.\n      return {\n        body: base64encode(`Unknown body format: ${typeof rawBody}`),\n        // @ts-ignore\n        bodyLength: rawBody.length,\n        bodyTruncated: true,\n      }\n    }\n\n    let encoding = getContentEncoding(headers)?.toLowerCase()\n    try {\n      switch (encoding) {\n        case GZIP_ENCODING: {\n          body = gunzipSync(body)\n          break\n        }\n        case BROTLI_ENCODING: {\n          body = brotliDecompressSync(body)\n          break\n        }\n        case DEFLATE_ENCODING: {\n          body = inflateSync(body)\n          break\n        }\n        default: {\n          // Nothing to do.\n        }\n      }\n    } catch (e: any) {\n      logger.warn(\n        `Couldn't decompress response body [${encoding}] (${e?.message}). Body will be logged as is.`\n      )\n    }\n\n    return {\n      body: base64encode(body.slice(0, MAX_BODY_LENGTH)),\n      bodyLength: body.length,\n      bodyTruncated: body.length > MAX_BODY_LENGTH,\n    }\n  } catch (e: any) {\n    // istanbul ignore next\n    return {\n      body: base64encode(`Error while getting body logging data: ${e && e.message}`),\n      bodyLength: rawBody?.length ?? 0,\n      bodyTruncated: true,\n    }\n  }\n}\n", "/**\n * Generates a random id of the given length\n * just from A-Z, a-z, 0-9 characters.\n * @param length The length of the id\n */\nexport function generateRandomId(length: number = 10) {\n  let result = ''\n  const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'\n  for (let i = 0; i < length; i++) {\n    result += characters.charAt(Math.floor(Math.random() * characters.length))\n  }\n  return result\n}\n", "import { generateRandomId } from '../utils/idUtils'\nimport { EDGIO_VIA_HEADER_VALUE } from '../constants'\n\n/**\n * Object with the metrics for the current server.ts instance\n */\nexport const metrics = {\n  // Generate a unique ID for this server instance\n  // right after the server is started.\n  serverId: generateRandomId(),\n\n  // Handler ID - The unique ID of the parent process handler.ts\n  _handlerId: undefined as string | undefined,\n  get handlerId() {\n    // Return extracted handlerId if it's already set\n    if (this._handlerId) return this._handlerId\n\n    // Extract handlerId from process.argv passed by parent process\n    process.argv.find(arg => {\n      return (this._handlerId = arg.match(/^--handler-id=(.+)$/)?.[1])\n    })\n    this._handlerId = this._handlerId || 'UNKNOWN_HANDLER_ID'\n\n    return this._handlerId\n  },\n\n  // Times\n  appStartedAt: undefined as number | undefined,\n  appReadyAt: undefined as number | undefined,\n\n  // Counters\n  serverErrorCount: 0,\n\n  // The value of the Via req header,\n  // that will be injected into every upstream request made by fetch, axios, etc...\n  // Locally, it's just set to 'Edgio Core' by default.\n  // In Lambda, it's set to the value of the Via header from the original incoming request.\n  // This allows us to track the request path through the system and detect loops.\n  // NOTE: Every lambda can process only single request at a time, this value is always up-to-date.\n  via: EDGIO_VIA_HEADER_VALUE,\n\n  // Calculates durations\n  get appReadyTime() {\n    return this.appReadyAt && this.appStartedAt ? this.appReadyAt - this.appStartedAt : 0\n  },\n  get serverRss() {\n    const { rss } = process.memoryUsage()\n    return Math.round((rss / 1024 / 1024) * 100) / 100\n  },\n\n  // Returns the serialized metrics\n  serialize(): string {\n    const shortcuts = {\n      // Server ID - The unique ID of this server instance.\n      sid: this.serverId,\n      // App ready time - The time in ms it took to start the app.\n      art: this.appReadyTime,\n      // Server Memory RSS - The total memory in MiB occupied by the code segment, heap and stack of this process\n      srss: this.serverRss,\n      // Server Error Count - The total number of errors this server instance has encountered.\n      sec: this.serverErrorCount,\n    }\n\n    return Object.entries(shortcuts)\n      .map(([key, value]) => `${key}=${value}`)\n      .join(',')\n  },\n}\n", "'use strict'\n\nmodule.exports = errSerializer\n\nconst { toString } = Object.prototype\nconst seen = Symbol('circular-ref-tag')\nconst rawSymbol = Symbol('pino-raw-err-ref')\nconst pinoErrProto = Object.create({}, {\n  type: {\n    enumerable: true,\n    writable: true,\n    value: undefined\n  },\n  message: {\n    enumerable: true,\n    writable: true,\n    value: undefined\n  },\n  stack: {\n    enumerable: true,\n    writable: true,\n    value: undefined\n  },\n  raw: {\n    enumerable: false,\n    get: function () {\n      return this[rawSymbol]\n    },\n    set: function (val) {\n      this[rawSymbol] = val\n    }\n  }\n})\nObject.defineProperty(pinoErrProto, rawSymbol, {\n  writable: true,\n  value: {}\n})\n\nfunction errSerializer (err) {\n  if (!(err instanceof Error)) {\n    return err\n  }\n\n  err[seen] = undefined // tag to prevent re-looking at this\n  const _err = Object.create(pinoErrProto)\n  _err.type = toString.call(err.constructor) === '[object Function]'\n    ? err.constructor.name\n    : err.name\n  _err.message = err.message\n  _err.stack = err.stack\n  for (const key in err) {\n    if (_err[key] === undefined) {\n      const val = err[key]\n      if (val instanceof Error) {\n        /* eslint-disable no-prototype-builtins */\n        if (!val.hasOwnProperty(seen)) {\n          _err[key] = errSerializer(val)\n        }\n      } else {\n        _err[key] = val\n      }\n    }\n  }\n\n  delete err[seen] // clean up tag in case err is serialized again later\n  _err.raw = err\n  return _err\n}\n", "'use strict'\n\nmodule.exports = {\n  mapHttpRequest,\n  reqSerializer\n}\n\nconst rawSymbol = Symbol('pino-raw-req-ref')\nconst pinoReqProto = Object.create({}, {\n  id: {\n    enumerable: true,\n    writable: true,\n    value: ''\n  },\n  method: {\n    enumerable: true,\n    writable: true,\n    value: ''\n  },\n  url: {\n    enumerable: true,\n    writable: true,\n    value: ''\n  },\n  query: {\n    enumerable: true,\n    writable: true,\n    value: ''\n  },\n  params: {\n    enumerable: true,\n    writable: true,\n    value: ''\n  },\n  headers: {\n    enumerable: true,\n    writable: true,\n    value: {}\n  },\n  remoteAddress: {\n    enumerable: true,\n    writable: true,\n    value: ''\n  },\n  remotePort: {\n    enumerable: true,\n    writable: true,\n    value: ''\n  },\n  raw: {\n    enumerable: false,\n    get: function () {\n      return this[rawSymbol]\n    },\n    set: function (val) {\n      this[rawSymbol] = val\n    }\n  }\n})\nObject.defineProperty(pinoReqProto, rawSymbol, {\n  writable: true,\n  value: {}\n})\n\nfunction reqSerializer (req) {\n  // req.info is for hapi compat.\n  const connection = req.info || req.socket\n  const _req = Object.create(pinoReqProto)\n  _req.id = (typeof req.id === 'function' ? req.id() : (req.id || (req.info ? req.info.id : undefined)))\n  _req.method = req.method\n  // req.originalUrl is for expressjs compat.\n  if (req.originalUrl) {\n    _req.url = req.originalUrl\n    _req.query = req.query\n    _req.params = req.params\n  } else {\n    // req.url.path is  for hapi compat.\n    _req.url = req.path || (req.url ? (req.url.path || req.url) : undefined)\n  }\n  _req.headers = req.headers\n  _req.remoteAddress = connection && connection.remoteAddress\n  _req.remotePort = connection && connection.remotePort\n  // req.raw is  for hapi compat/equivalence\n  _req.raw = req.raw || req\n  return _req\n}\n\nfunction mapHttpRequest (req) {\n  return {\n    req: reqSerializer(req)\n  }\n}\n", "'use strict'\n\nmodule.exports = {\n  mapHttpResponse,\n  resSerializer\n}\n\nconst rawSymbol = Symbol('pino-raw-res-ref')\nconst pinoResProto = Object.create({}, {\n  statusCode: {\n    enumerable: true,\n    writable: true,\n    value: 0\n  },\n  headers: {\n    enumerable: true,\n    writable: true,\n    value: ''\n  },\n  raw: {\n    enumerable: false,\n    get: function () {\n      return this[rawSymbol]\n    },\n    set: function (val) {\n      this[rawSymbol] = val\n    }\n  }\n})\nObject.defineProperty(pinoResProto, rawSymbol, {\n  writable: true,\n  value: {}\n})\n\nfunction resSerializer (res) {\n  const _res = Object.create(pinoResProto)\n  _res.statusCode = res.statusCode\n  _res.headers = res.getHeaders ? res.getHeaders() : res._headers\n  _res.raw = res\n  return _res\n}\n\nfunction mapHttpResponse (res) {\n  return {\n    res: resSerializer(res)\n  }\n}\n", "'use strict'\n\nconst errSerializer = require('./lib/err')\nconst reqSerializers = require('./lib/req')\nconst resSerializers = require('./lib/res')\n\nmodule.exports = {\n  err: errSerializer,\n  mapHttpRequest: reqSerializers.mapHttpRequest,\n  mapHttpResponse: resSerializers.mapHttpResponse,\n  req: reqSerializers.reqSerializer,\n  res: resSerializers.resSerializer,\n\n  wrapErrorSerializer: function wrapErrorSerializer (customSerializer) {\n    if (customSerializer === errSerializer) return customSerializer\n    return function wrapErrSerializer (err) {\n      return customSerializer(errSerializer(err))\n    }\n  },\n\n  wrapRequestSerializer: function wrapRequestSerializer (customSerializer) {\n    if (customSerializer === reqSerializers.reqSerializer) return customSerializer\n    return function wrappedReqSerializer (req) {\n      return customSerializer(reqSerializers.reqSerializer(req))\n    }\n  },\n\n  wrapResponseSerializer: function wrapResponseSerializer (customSerializer) {\n    if (customSerializer === resSerializers.resSerializer) return customSerializer\n    return function wrappedResSerializer (res) {\n      return customSerializer(resSerializers.resSerializer(res))\n    }\n  }\n}\n", "'use strict'\n\nmodule.exports = validator\n\nfunction validator (opts = {}) {\n  const {\n    ERR_PATHS_MUST_BE_STRINGS = () => 'fast-redact - Paths must be (non-empty) strings',\n    ERR_INVALID_PATH = (s) => `fast-redact \u2013 Invalid path (${s})`\n  } = opts\n\n  return function validate ({ paths }) {\n    paths.forEach((s) => {\n      if (typeof s !== 'string') {\n        throw Error(ERR_PATHS_MUST_BE_STRINGS())\n      }\n      try {\n        if (/\u3007/.test(s)) throw Error()\n        const expr = (s[0] === '[' ? '' : '.') + s.replace(/^\\*/, '\u3007').replace(/\\.\\*/g, '.\u3007').replace(/\\[\\*\\]/g, '[\u3007]')\n        if (/\\n|\\r|;/.test(expr)) throw Error()\n        if (/\\/\\*/.test(expr)) throw Error()\n        /* eslint-disable-next-line */\n        Function(`\n            'use strict'\n            const o = new Proxy({}, { get: () => o, set: () => { throw Error() } });\n            const \u3007 = null;\n            o${expr}\n            if ([o${expr}].length !== 1) throw Error()`)()\n      } catch (e) {\n        throw Error(ERR_INVALID_PATH(s))\n      }\n    })\n  }\n}\n", "'use strict'\n\nmodule.exports = /[^.[\\]]+|\\[((?:.)*?)\\]/g\n\n/*\nRegular expression explanation:\n\nAlt 1: /[^.[\\]]+/ - Match one or more characters that are *not* a dot (.)\n                    opening square bracket ([) or closing square bracket (])\n\nAlt 2: /\\[((?:.)*?)\\]/ - If the char IS dot or square bracket, then create a capture\n                         group (which will be capture group $1) that matches anything\n                         within square brackets. Expansion is lazy so it will\n                         stop matching as soon as the first closing bracket is met `]`\n                         (rather than continuing to match until the final closing bracket).\n*/\n", "'use strict'\n\nconst rx = require('./rx')\n\nmodule.exports = parse\n\nfunction parse ({ paths }) {\n  const wildcards = []\n  var wcLen = 0\n  const secret = paths.reduce(function (o, strPath, ix) {\n    var path = strPath.match(rx).map((p) => p.replace(/'|\"|`/g, ''))\n    const leadingBracket = strPath[0] === '['\n    path = path.map((p) => {\n      if (p[0] === '[') return p.substr(1, p.length - 2)\n      else return p\n    })\n    const star = path.indexOf('*')\n    if (star > -1) {\n      const before = path.slice(0, star)\n      const beforeStr = before.join('.')\n      const after = path.slice(star + 1, path.length)\n      const nested = after.length > 0\n      wcLen++\n      wildcards.push({\n        before,\n        beforeStr,\n        after,\n        nested\n      })\n    } else {\n      o[strPath] = {\n        path: path,\n        val: undefined,\n        precensored: false,\n        circle: '',\n        escPath: JSON.stringify(strPath),\n        leadingBracket: leadingBracket\n      }\n    }\n    return o\n  }, {})\n\n  return { wildcards, wcLen, secret }\n}\n", "'use strict'\n\nconst rx = require('./rx')\n\nmodule.exports = redactor\n\nfunction redactor ({ secret, serialize, wcLen, strict, isCensorFct, censorFctTakesPath }, state) {\n  /* eslint-disable-next-line */\n  const redact = Function('o', `\n    if (typeof o !== 'object' || o == null) {\n      ${strictImpl(strict, serialize)}\n    }\n    const { censor, secret } = this\n    ${redactTmpl(secret, isCensorFct, censorFctTakesPath)}\n    this.compileRestore()\n    ${dynamicRedactTmpl(wcLen > 0, isCensorFct, censorFctTakesPath)}\n    ${resultTmpl(serialize)}\n  `).bind(state)\n\n  if (serialize === false) {\n    redact.restore = (o) => state.restore(o)\n  }\n\n  return redact\n}\n\nfunction redactTmpl (secret, isCensorFct, censorFctTakesPath) {\n  return Object.keys(secret).map((path) => {\n    const { escPath, leadingBracket, path: arrPath } = secret[path]\n    const skip = leadingBracket ? 1 : 0\n    const delim = leadingBracket ? '' : '.'\n    const hops = []\n    var match\n    while ((match = rx.exec(path)) !== null) {\n      const [ , ix ] = match\n      const { index, input } = match\n      if (index > skip) hops.push(input.substring(0, index - (ix ? 0 : 1)))\n    }\n    var existence = hops.map((p) => `o${delim}${p}`).join(' && ')\n    if (existence.length === 0) existence += `o${delim}${path} != null`\n    else existence += ` && o${delim}${path} != null`\n\n    const circularDetection = `\n      switch (true) {\n        ${hops.reverse().map((p) => `\n          case o${delim}${p} === censor:\n            secret[${escPath}].circle = ${JSON.stringify(p)}\n            break\n        `).join('\\n')}\n      }\n    `\n\n    const censorArgs = censorFctTakesPath\n      ? `val, ${JSON.stringify(arrPath)}`\n      : `val`\n\n    return `\n      if (${existence}) {\n        const val = o${delim}${path}\n        if (val === censor) {\n          secret[${escPath}].precensored = true\n        } else {\n          secret[${escPath}].val = val\n          o${delim}${path} = ${isCensorFct ? `censor(${censorArgs})` : 'censor'}\n          ${circularDetection}\n        }\n      }\n    `\n  }).join('\\n')\n}\n\nfunction dynamicRedactTmpl (hasWildcards, isCensorFct, censorFctTakesPath) {\n  return hasWildcards === true ? `\n    {\n      const { wildcards, wcLen, groupRedact, nestedRedact } = this\n      for (var i = 0; i < wcLen; i++) {\n        const { before, beforeStr, after, nested } = wildcards[i]\n        if (nested === true) {\n          secret[beforeStr] = secret[beforeStr] || []\n          nestedRedact(secret[beforeStr], o, before, after, censor, ${isCensorFct}, ${censorFctTakesPath})\n        } else secret[beforeStr] = groupRedact(o, before, censor, ${isCensorFct}, ${censorFctTakesPath})\n      }\n    }\n  ` : ''\n}\n\nfunction resultTmpl (serialize) {\n  return serialize === false ? `return o` : `\n    var s = this.serialize(o)\n    this.restore(o)\n    return s\n  `\n}\n\nfunction strictImpl (strict, serialize) {\n  return strict === true\n    ? `throw Error('fast-redact: primitives cannot be redacted')`\n    : serialize === false ? `return o` : `return this.serialize(o)`\n}\n", "'use strict'\n\nmodule.exports = {\n  groupRedact,\n  groupRestore,\n  nestedRedact,\n  nestedRestore\n}\n\nfunction groupRestore ({ keys, values, target }) {\n  if (target == null) return\n  const length = keys.length\n  for (var i = 0; i < length; i++) {\n    const k = keys[i]\n    target[k] = values[i]\n  }\n}\n\nfunction groupRedact (o, path, censor, isCensorFct, censorFctTakesPath) {\n  const target = get(o, path)\n  if (target == null) return { keys: null, values: null, target: null, flat: true }\n  const keys = Object.keys(target)\n  const keysLength = keys.length\n  const pathLength = path.length\n  const pathWithKey = censorFctTakesPath ? [...path] : undefined\n  const values = new Array(keysLength)\n\n  for (var i = 0; i < keysLength; i++) {\n    const key = keys[i]\n    values[i] = target[key]\n\n    if (censorFctTakesPath) {\n      pathWithKey[pathLength] = key\n      target[key] = censor(target[key], pathWithKey)\n    } else if (isCensorFct) {\n      target[key] = censor(target[key])\n    } else {\n      target[key] = censor\n    }\n  }\n  return { keys, values, target, flat: true }\n}\n\n/**\n * @param {RestoreInstruction[]} instructions a set of instructions for restoring values to objects\n */\nfunction nestedRestore (instructions) {\n  for (let i = 0; i < instructions.length; i++) {\n    const { target, path, value } = instructions[i]\n    let current = target\n    for (let i = path.length - 1; i > 0; i--) {\n      current = current[path[i]]\n    }\n    current[path[0]] = value\n  }\n}\n\nfunction nestedRedact (store, o, path, ns, censor, isCensorFct, censorFctTakesPath) {\n  const target = get(o, path)\n  if (target == null) return\n  const keys = Object.keys(target)\n  const keysLength = keys.length\n  for (var i = 0; i < keysLength; i++) {\n    const key = keys[i]\n    specialSet(store, target, key, path, ns, censor, isCensorFct, censorFctTakesPath)\n  }\n  return store\n}\n\nfunction has (obj, prop) {\n  return obj !== undefined && obj !== null\n    ? ('hasOwn' in Object ? Object.hasOwn(obj, prop) : Object.prototype.hasOwnProperty.call(obj, prop))\n    : false\n}\n\nfunction specialSet (store, o, k, path, afterPath, censor, isCensorFct, censorFctTakesPath) {\n  const afterPathLen = afterPath.length\n  const lastPathIndex = afterPathLen - 1\n  const originalKey = k\n  var i = -1\n  var n\n  var nv\n  var ov\n  var oov = null\n  var wc = null\n  var kIsWc\n  var wcov\n  var consecutive = false\n  var level = 0\n  // need to track depth of the `redactPath` tree\n  var depth = 0\n  var redactPathCurrent = tree()\n  ov = n = o[k]\n  if (typeof n !== 'object') return\n  while (n != null && ++i < afterPathLen) {\n    depth += 1\n    k = afterPath[i]\n    oov = ov\n    if (k !== '*' && !wc && !(typeof n === 'object' && k in n)) {\n      break\n    }\n    if (k === '*') {\n      if (wc === '*') {\n        consecutive = true\n      }\n      wc = k\n      if (i !== lastPathIndex) {\n        continue\n      }\n    }\n    if (wc) {\n      const wcKeys = Object.keys(n)\n      for (var j = 0; j < wcKeys.length; j++) {\n        const wck = wcKeys[j]\n        wcov = n[wck]\n        kIsWc = k === '*'\n        if (consecutive) {\n          redactPathCurrent = node(redactPathCurrent, wck, depth)\n          level = i\n          ov = iterateNthLevel(wcov, level - 1, k, path, afterPath, censor, isCensorFct, censorFctTakesPath, originalKey, n, nv, ov, kIsWc, wck, i, lastPathIndex, redactPathCurrent, store, o[originalKey], depth + 1)\n        } else {\n          if (kIsWc || (typeof wcov === 'object' && wcov !== null && k in wcov)) {\n            if (kIsWc) {\n              ov = wcov\n            } else {\n              ov = wcov[k]\n            }\n            nv = (i !== lastPathIndex)\n              ? ov\n              : (isCensorFct\n                ? (censorFctTakesPath ? censor(ov, [...path, originalKey, ...afterPath]) : censor(ov))\n                : censor)\n            if (kIsWc) {\n              const rv = restoreInstr(node(redactPathCurrent, wck, depth), ov, o[originalKey])\n              store.push(rv)\n              n[wck] = nv\n            } else {\n              if (wcov[k] === nv) {\n                // pass\n              } else if ((nv === undefined && censor !== undefined) || (has(wcov, k) && nv === ov)) {\n                redactPathCurrent = node(redactPathCurrent, wck, depth)\n              } else {\n                redactPathCurrent = node(redactPathCurrent, wck, depth)\n                const rv = restoreInstr(node(redactPathCurrent, k, depth + 1), ov, o[originalKey])\n                store.push(rv)\n                wcov[k] = nv\n              }\n            }\n          }\n        }\n      }\n      wc = null\n    } else {\n      ov = n[k]\n      redactPathCurrent = node(redactPathCurrent, k, depth)\n      nv = (i !== lastPathIndex)\n        ? ov\n        : (isCensorFct\n          ? (censorFctTakesPath ? censor(ov, [...path, originalKey, ...afterPath]) : censor(ov))\n          : censor)\n      if ((has(n, k) && nv === ov) || (nv === undefined && censor !== undefined)) {\n        // pass\n      } else {\n        const rv = restoreInstr(redactPathCurrent, ov, o[originalKey])\n        store.push(rv)\n        n[k] = nv\n      }\n      n = n[k]\n    }\n    if (typeof n !== 'object') break\n    // prevent circular structure, see https://github.com/pinojs/pino/issues/1513\n    if (ov === oov || typeof ov === 'undefined') {\n      // pass\n    }\n  }\n}\n\nfunction get (o, p) {\n  var i = -1\n  var l = p.length\n  var n = o\n  while (n != null && ++i < l) {\n    n = n[p[i]]\n  }\n  return n\n}\n\nfunction iterateNthLevel (wcov, level, k, path, afterPath, censor, isCensorFct, censorFctTakesPath, originalKey, n, nv, ov, kIsWc, wck, i, lastPathIndex, redactPathCurrent, store, parent, depth) {\n  if (level === 0) {\n    if (kIsWc || (typeof wcov === 'object' && wcov !== null && k in wcov)) {\n      if (kIsWc) {\n        ov = wcov\n      } else {\n        ov = wcov[k]\n      }\n      nv = (i !== lastPathIndex)\n        ? ov\n        : (isCensorFct\n          ? (censorFctTakesPath ? censor(ov, [...path, originalKey, ...afterPath]) : censor(ov))\n          : censor)\n      if (kIsWc) {\n        const rv = restoreInstr(redactPathCurrent, ov, parent)\n        store.push(rv)\n        n[wck] = nv\n      } else {\n        if (wcov[k] === nv) {\n          // pass\n        } else if ((nv === undefined && censor !== undefined) || (has(wcov, k) && nv === ov)) {\n          // pass\n        } else {\n          const rv = restoreInstr(node(redactPathCurrent, k, depth + 1), ov, parent)\n          store.push(rv)\n          wcov[k] = nv\n        }\n      }\n    }\n  }\n  for (const key in wcov) {\n    if (typeof wcov[key] === 'object') {\n      redactPathCurrent = node(redactPathCurrent, key, depth)\n      iterateNthLevel(wcov[key], level - 1, k, path, afterPath, censor, isCensorFct, censorFctTakesPath, originalKey, n, nv, ov, kIsWc, wck, i, lastPathIndex, redactPathCurrent, store, parent, depth + 1)\n    }\n  }\n}\n\n/**\n * @typedef {object} TreeNode\n * @prop {TreeNode} [parent] reference to the parent of this node in the tree, or `null` if there is no parent\n * @prop {string} key the key that this node represents (key here being part of the path being redacted\n * @prop {TreeNode[]} children the child nodes of this node\n * @prop {number} depth the depth of this node in the tree\n */\n\n/**\n * instantiate a new, empty tree\n * @returns {TreeNode}\n */\nfunction tree () {\n  return { parent: null, key: null, children: [], depth: 0 }\n}\n\n/**\n * creates a new node in the tree, attaching it as a child of the provided parent node\n * if the specified depth matches the parent depth, adds the new node as a _sibling_ of the parent instead\n  * @param {TreeNode} parent the parent node to add a new node to (if the parent depth matches the provided `depth` value, will instead add as a sibling of this\n  * @param {string} key the key that the new node represents (key here being part of the path being redacted)\n  * @param {number} depth the depth of the new node in the tree - used to determing whether to add the new node as a child or sibling of the provided `parent` node\n  * @returns {TreeNode} a reference to the newly created node in the tree\n */\nfunction node (parent, key, depth) {\n  if (parent.depth === depth) {\n    return node(parent.parent, key, depth)\n  }\n\n  var child = {\n    parent,\n    key,\n    depth,\n    children: []\n  }\n\n  parent.children.push(child)\n\n  return child\n}\n\n/**\n * @typedef {object} RestoreInstruction\n * @prop {string[]} path a reverse-order path that can be used to find the correct insertion point to restore a `value` for the given `parent` object\n * @prop {*} value the value to restore\n * @prop {object} target the object to restore the `value` in\n */\n\n/**\n * create a restore instruction for the given redactPath node\n * generates a path in reverse order by walking up the redactPath tree\n * @param {TreeNode} node a tree node that should be at the bottom of the redact path (i.e. have no children) - this will be used to walk up the redact path tree to construct the path needed to restore\n * @param {*} value the value to restore\n * @param {object} target a reference to the parent object to apply the restore instruction to\n * @returns {RestoreInstruction} an instruction used to restore a nested value for a specific object\n */\nfunction restoreInstr (node, value, target) {\n  let current = node\n  const path = []\n  do {\n    path.push(current.key)\n    current = current.parent\n  } while (current.parent != null)\n\n  return { path, value, target }\n}\n", "'use strict'\n\nconst { groupRestore, nestedRestore } = require('./modifiers')\n\nmodule.exports = restorer\n\nfunction restorer ({ secret, wcLen }) {\n  return function compileRestore () {\n    if (this.restore) return\n    const paths = Object.keys(secret)\n    const resetters = resetTmpl(secret, paths)\n    const hasWildcards = wcLen > 0\n    const state = hasWildcards ? { secret, groupRestore, nestedRestore } : { secret }\n    /* eslint-disable-next-line */\n    this.restore = Function(\n      'o',\n      restoreTmpl(resetters, paths, hasWildcards)\n    ).bind(state)\n  }\n}\n\n/**\n * Mutates the original object to be censored by restoring its original values\n * prior to censoring.\n *\n * @param {object} secret Compiled object describing which target fields should\n * be censored and the field states.\n * @param {string[]} paths The list of paths to censor as provided at\n * initialization time.\n *\n * @returns {string} String of JavaScript to be used by `Function()`. The\n * string compiles to the function that does the work in the description.\n */\nfunction resetTmpl (secret, paths) {\n  return paths.map((path) => {\n    const { circle, escPath, leadingBracket } = secret[path]\n    const delim = leadingBracket ? '' : '.'\n    const reset = circle\n      ? `o.${circle} = secret[${escPath}].val`\n      : `o${delim}${path} = secret[${escPath}].val`\n    const clear = `secret[${escPath}].val = undefined`\n    return `\n      if (secret[${escPath}].val !== undefined) {\n        try { ${reset} } catch (e) {}\n        ${clear}\n      }\n    `\n  }).join('')\n}\n\n/**\n * Creates the body of the restore function\n *\n * Restoration of the redacted object happens\n * backwards, in reverse order of redactions,\n * so that repeated redactions on the same object\n * property can be eventually rolled back to the\n * original value.\n *\n * This way dynamic redactions are restored first,\n * starting from the last one working backwards and\n * followed by the static ones.\n *\n * @returns {string} the body of the restore function\n */\nfunction restoreTmpl (resetters, paths, hasWildcards) {\n  const dynamicReset = hasWildcards === true ? `\n    const keys = Object.keys(secret)\n    const len = keys.length\n    for (var i = len - 1; i >= ${paths.length}; i--) {\n      const k = keys[i]\n      const o = secret[k]\n      if (o.flat === true) this.groupRestore(o)\n      else this.nestedRestore(o)\n      secret[k] = null\n    }\n  ` : ''\n\n  return `\n    const secret = this.secret\n    ${dynamicReset}\n    ${resetters}\n    return o\n  `\n}\n", "'use strict'\n\nmodule.exports = state\n\nfunction state (o) {\n  const {\n    secret,\n    censor,\n    compileRestore,\n    serialize,\n    groupRedact,\n    nestedRedact,\n    wildcards,\n    wcLen\n  } = o\n  const builder = [{ secret, censor, compileRestore }]\n  if (serialize !== false) builder.push({ serialize })\n  if (wcLen > 0) builder.push({ groupRedact, nestedRedact, wildcards, wcLen })\n  return Object.assign(...builder)\n}\n", "'use strict'\n\nconst validator = require('./lib/validator')\nconst parse = require('./lib/parse')\nconst redactor = require('./lib/redactor')\nconst restorer = require('./lib/restorer')\nconst { groupRedact, nestedRedact } = require('./lib/modifiers')\nconst state = require('./lib/state')\nconst rx = require('./lib/rx')\nconst validate = validator()\nconst noop = (o) => o\nnoop.restore = noop\n\nconst DEFAULT_CENSOR = '[REDACTED]'\nfastRedact.rx = rx\nfastRedact.validator = validator\n\nmodule.exports = fastRedact\n\nfunction fastRedact (opts = {}) {\n  const paths = Array.from(new Set(opts.paths || []))\n  const serialize = 'serialize' in opts ? (\n    opts.serialize === false ? opts.serialize\n      : (typeof opts.serialize === 'function' ? opts.serialize : JSON.stringify)\n  ) : JSON.stringify\n  const remove = opts.remove\n  if (remove === true && serialize !== JSON.stringify) {\n    throw Error('fast-redact \u2013 remove option may only be set when serializer is JSON.stringify')\n  }\n  const censor = remove === true\n    ? undefined\n    : 'censor' in opts ? opts.censor : DEFAULT_CENSOR\n\n  const isCensorFct = typeof censor === 'function'\n  const censorFctTakesPath = isCensorFct && censor.length > 1\n\n  if (paths.length === 0) return serialize || noop\n\n  validate({ paths, serialize, censor })\n\n  const { wildcards, wcLen, secret } = parse({ paths, censor })\n\n  const compileRestore = restorer({ secret, wcLen })\n  const strict = 'strict' in opts ? opts.strict : true\n\n  return redactor({ secret, wcLen, serialize, strict, isCensorFct, censorFctTakesPath }, state({\n    secret,\n    censor,\n    compileRestore,\n    serialize,\n    groupRedact,\n    nestedRedact,\n    wildcards,\n    wcLen\n  }))\n}\n", "'use strict'\n\nconst setLevelSym = Symbol('pino.setLevel')\nconst getLevelSym = Symbol('pino.getLevel')\nconst levelValSym = Symbol('pino.levelVal')\nconst useLevelLabelsSym = Symbol('pino.useLevelLabels')\nconst useOnlyCustomLevelsSym = Symbol('pino.useOnlyCustomLevels')\nconst mixinSym = Symbol('pino.mixin')\n\nconst lsCacheSym = Symbol('pino.lsCache')\nconst chindingsSym = Symbol('pino.chindings')\nconst parsedChindingsSym = Symbol('pino.parsedChindings')\n\nconst asJsonSym = Symbol('pino.asJson')\nconst writeSym = Symbol('pino.write')\nconst redactFmtSym = Symbol('pino.redactFmt')\n\nconst timeSym = Symbol('pino.time')\nconst timeSliceIndexSym = Symbol('pino.timeSliceIndex')\nconst streamSym = Symbol('pino.stream')\nconst stringifySym = Symbol('pino.stringify')\nconst stringifiersSym = Symbol('pino.stringifiers')\nconst endSym = Symbol('pino.end')\nconst formatOptsSym = Symbol('pino.formatOpts')\nconst messageKeySym = Symbol('pino.messageKey')\nconst nestedKeySym = Symbol('pino.nestedKey')\nconst mixinMergeStrategySym = Symbol('pino.mixinMergeStrategy')\n\nconst wildcardFirstSym = Symbol('pino.wildcardFirst')\n\n// public symbols, no need to use the same pino\n// version for these\nconst serializersSym = Symbol.for('pino.serializers')\nconst formattersSym = Symbol.for('pino.formatters')\nconst hooksSym = Symbol.for('pino.hooks')\nconst needsMetadataGsym = Symbol.for('pino.metadata')\n\nmodule.exports = {\n  setLevelSym,\n  getLevelSym,\n  levelValSym,\n  useLevelLabelsSym,\n  mixinSym,\n  lsCacheSym,\n  chindingsSym,\n  parsedChindingsSym,\n  asJsonSym,\n  writeSym,\n  serializersSym,\n  redactFmtSym,\n  timeSym,\n  timeSliceIndexSym,\n  streamSym,\n  stringifySym,\n  stringifiersSym,\n  endSym,\n  formatOptsSym,\n  messageKeySym,\n  nestedKeySym,\n  wildcardFirstSym,\n  needsMetadataGsym,\n  useOnlyCustomLevelsSym,\n  formattersSym,\n  hooksSym,\n  mixinMergeStrategySym\n}\n", "'use strict'\n\nconst fastRedact = require('fast-redact')\nconst { redactFmtSym, wildcardFirstSym } = require('./symbols')\nconst { rx, validator } = fastRedact\n\nconst validate = validator({\n  ERR_PATHS_MUST_BE_STRINGS: () => 'pino \u2013 redacted paths must be strings',\n  ERR_INVALID_PATH: (s) => `pino \u2013 redact paths array contains an invalid path (${s})`\n})\n\nconst CENSOR = '[Redacted]'\nconst strict = false // TODO should this be configurable?\n\nfunction redaction (opts, serialize) {\n  const { paths, censor } = handle(opts)\n\n  const shape = paths.reduce((o, str) => {\n    rx.lastIndex = 0\n    const first = rx.exec(str)\n    const next = rx.exec(str)\n\n    // ns is the top-level path segment, brackets + quoting removed.\n    let ns = first[1] !== undefined\n      ? first[1].replace(/^(?:\"|'|`)(.*)(?:\"|'|`)$/, '$1')\n      : first[0]\n\n    if (ns === '*') {\n      ns = wildcardFirstSym\n    }\n\n    // top level key:\n    if (next === null) {\n      o[ns] = null\n      return o\n    }\n\n    // path with at least two segments:\n    // if ns is already redacted at the top level, ignore lower level redactions\n    if (o[ns] === null) {\n      return o\n    }\n\n    const { index } = next\n    const nextPath = `${str.substr(index, str.length - 1)}`\n\n    o[ns] = o[ns] || []\n\n    // shape is a mix of paths beginning with literal values and wildcard\n    // paths [ \"a.b.c\", \"*.b.z\" ] should reduce to a shape of\n    // { \"a\": [ \"b.c\", \"b.z\" ], *: [ \"b.z\" ] }\n    // note: \"b.z\" is in both \"a\" and * arrays because \"a\" matches the wildcard.\n    // (* entry has wildcardFirstSym as key)\n    if (ns !== wildcardFirstSym && o[ns].length === 0) {\n      // first time ns's get all '*' redactions so far\n      o[ns].push(...(o[wildcardFirstSym] || []))\n    }\n\n    if (ns === wildcardFirstSym) {\n      // new * path gets added to all previously registered literal ns's.\n      Object.keys(o).forEach(function (k) {\n        if (o[k]) {\n          o[k].push(nextPath)\n        }\n      })\n    }\n\n    o[ns].push(nextPath)\n    return o\n  }, {})\n\n  // the redactor assigned to the format symbol key\n  // provides top level redaction for instances where\n  // an object is interpolated into the msg string\n  const result = {\n    [redactFmtSym]: fastRedact({ paths, censor, serialize, strict })\n  }\n\n  const topCensor = (...args) => {\n    return typeof censor === 'function' ? serialize(censor(...args)) : serialize(censor)\n  }\n\n  return [...Object.keys(shape), ...Object.getOwnPropertySymbols(shape)].reduce((o, k) => {\n    // top level key:\n    if (shape[k] === null) {\n      o[k] = (value) => topCensor(value, [k])\n    } else {\n      const wrappedCensor = typeof censor === 'function'\n        ? (value, path) => {\n            return censor(value, [k, ...path])\n          }\n        : censor\n      o[k] = fastRedact({\n        paths: shape[k],\n        censor: wrappedCensor,\n        serialize,\n        strict\n      })\n    }\n    return o\n  }, result)\n}\n\nfunction handle (opts) {\n  if (Array.isArray(opts)) {\n    opts = { paths: opts, censor: CENSOR }\n    validate(opts)\n    return opts\n  }\n  let { paths, censor = CENSOR, remove } = opts\n  if (Array.isArray(paths) === false) { throw Error('pino \u2013 redact must contain an array of strings') }\n  if (remove === true) censor = undefined\n  validate({ paths, censor })\n\n  return { paths, censor }\n}\n\nmodule.exports = redaction\n", "'use strict'\n\nconst nullTime = () => ''\n\nconst epochTime = () => `,\"time\":${Date.now()}`\n\nconst unixTime = () => `,\"time\":${Math.round(Date.now() / 1000.0)}`\n\nconst isoTime = () => `,\"time\":\"${new Date(Date.now()).toISOString()}\"` // using Date.now() for testability\n\nmodule.exports = { nullTime, epochTime, unixTime, isoTime }\n", "'use strict'\n\n// You may be tempted to copy and paste this, \n// but take a look at the commit history first,\n// this is a moving target so relying on the module\n// is the best way to make sure the optimization\n// method is kept up to date and compatible with\n// every Node version.\n\nfunction flatstr (s) {\n  s | 0\n  return s\n}\n\nmodule.exports = flatstr", "'use strict'\n\n/* global SharedArrayBuffer, Atomics */\n\nif (typeof SharedArrayBuffer !== 'undefined' && typeof Atomics !== 'undefined') {\n  const nil = new Int32Array(new SharedArrayBuffer(4))\n\n  function sleep (ms) {\n    // also filters out NaN, non-number types, including empty strings, but allows bigints\n    const valid = ms > 0 && ms < Infinity \n    if (valid === false) {\n      if (typeof ms !== 'number' && typeof ms !== 'bigint') {\n        throw TypeError('sleep: ms must be a number')\n      }\n      throw RangeError('sleep: ms must be a number that is greater than 0 but less than Infinity')\n    }\n\n    Atomics.wait(nil, 0, 0, Number(ms))\n  }\n  module.exports = sleep\n} else {\n\n  function sleep (ms) {\n    // also filters out NaN, non-number types, including empty strings, but allows bigints\n    const valid = ms > 0 && ms < Infinity \n    if (valid === false) {\n      if (typeof ms !== 'number' && typeof ms !== 'bigint') {\n        throw TypeError('sleep: ms must be a number')\n      }\n      throw RangeError('sleep: ms must be a number that is greater than 0 but less than Infinity')\n    }\n    const target = Date.now() + Number(ms)\n    while (target > Date.now()){}\n  }\n\n  module.exports = sleep\n\n}\n", "'use strict'\n\nconst fs = require('fs')\nconst EventEmitter = require('events')\nconst flatstr = require('flatstr')\nconst inherits = require('util').inherits\n\nconst BUSY_WRITE_TIMEOUT = 100\n\nconst sleep = require('atomic-sleep')\n\n// 16 MB - magic number\n// This constant ensures that SonicBoom only needs\n// 32 MB of free memory to run. In case of having 1GB+\n// of data to write, this prevents an out of memory\n// condition.\nconst MAX_WRITE = 16 * 1024 * 1024\n\nfunction openFile (file, sonic) {\n  sonic._opening = true\n  sonic._writing = true\n  sonic._asyncDrainScheduled = false\n\n  // NOTE: 'error' and 'ready' events emitted below only relevant when sonic.sync===false\n  // for sync mode, there is no way to add a listener that will receive these\n\n  function fileOpened (err, fd) {\n    if (err) {\n      sonic._reopening = false\n      sonic._writing = false\n      sonic._opening = false\n\n      if (sonic.sync) {\n        process.nextTick(() => {\n          if (sonic.listenerCount('error') > 0) {\n            sonic.emit('error', err)\n          }\n        })\n      } else {\n        sonic.emit('error', err)\n      }\n      return\n    }\n\n    sonic.fd = fd\n    sonic.file = file\n    sonic._reopening = false\n    sonic._opening = false\n    sonic._writing = false\n\n    if (sonic.sync) {\n      process.nextTick(() => sonic.emit('ready'))\n    } else {\n      sonic.emit('ready')\n    }\n\n    if (sonic._reopening) {\n      return\n    }\n\n    // start\n    const len = sonic._buf.length\n    if (len > 0 && len > sonic.minLength && !sonic.destroyed) {\n      actualWrite(sonic)\n    }\n  }\n\n  if (sonic.sync) {\n    try {\n      const fd = fs.openSync(file, 'a')\n      fileOpened(null, fd)\n    } catch (err) {\n      fileOpened(err)\n      throw err\n    }\n  } else {\n    fs.open(file, 'a', fileOpened)\n  }\n}\n\nfunction SonicBoom (opts) {\n  if (!(this instanceof SonicBoom)) {\n    return new SonicBoom(opts)\n  }\n\n  let { fd, dest, minLength, sync } = opts || {}\n\n  fd = fd || dest\n\n  this._buf = ''\n  this.fd = -1\n  this._writing = false\n  this._writingBuf = ''\n  this._ending = false\n  this._reopening = false\n  this._asyncDrainScheduled = false\n  this.file = null\n  this.destroyed = false\n  this.sync = sync || false\n\n  this.minLength = minLength || 0\n\n  if (typeof fd === 'number') {\n    this.fd = fd\n    process.nextTick(() => this.emit('ready'))\n  } else if (typeof fd === 'string') {\n    openFile(fd, this)\n  } else {\n    throw new Error('SonicBoom supports only file descriptors and files')\n  }\n\n  this.release = (err, n) => {\n    if (err) {\n      if (err.code === 'EAGAIN') {\n        if (this.sync) {\n          // This error code should not happen in sync mode, because it is\n          // not using the underlining operating system asynchronous functions.\n          // However it happens, and so we handle it.\n          // Ref: https://github.com/pinojs/pino/issues/783\n          try {\n            sleep(BUSY_WRITE_TIMEOUT)\n            this.release(undefined, 0)\n          } catch (err) {\n            this.release(err)\n          }\n        } else {\n          // Let's give the destination some time to process the chunk.\n          setTimeout(() => {\n            fs.write(this.fd, this._writingBuf, 'utf8', this.release)\n          }, BUSY_WRITE_TIMEOUT)\n        }\n      } else {\n        // The error maybe recoverable later, so just put data back to this._buf\n        this._buf = this._writingBuf + this._buf\n        this._writingBuf = ''\n        this._writing = false\n\n        this.emit('error', err)\n      }\n      return\n    }\n\n    if (this._writingBuf.length !== n) {\n      this._writingBuf = this._writingBuf.slice(n)\n      if (this.sync) {\n        try {\n          do {\n            n = fs.writeSync(this.fd, this._writingBuf, 'utf8')\n            this._writingBuf = this._writingBuf.slice(n)\n          } while (this._writingBuf.length !== 0)\n        } catch (err) {\n          this.release(err)\n          return\n        }\n      } else {\n        fs.write(this.fd, this._writingBuf, 'utf8', this.release)\n        return\n      }\n    }\n\n    this._writingBuf = ''\n\n    if (this.destroyed) {\n      return\n    }\n\n    const len = this._buf.length\n    if (this._reopening) {\n      this._writing = false\n      this._reopening = false\n      this.reopen()\n    } else if (len > 0 && len > this.minLength) {\n      actualWrite(this)\n    } else if (this._ending) {\n      if (len > 0) {\n        actualWrite(this)\n      } else {\n        this._writing = false\n        actualClose(this)\n      }\n    } else {\n      this._writing = false\n      if (this.sync) {\n        if (!this._asyncDrainScheduled) {\n          this._asyncDrainScheduled = true\n          process.nextTick(emitDrain, this)\n        }\n      } else {\n        this.emit('drain')\n      }\n    }\n  }\n\n  this.on('newListener', function (name) {\n    if (name === 'drain') {\n      this._asyncDrainScheduled = false\n    }\n  })\n}\n\nfunction emitDrain (sonic) {\n  const hasListeners = sonic.listenerCount('drain') > 0\n  if (!hasListeners) return\n  sonic._asyncDrainScheduled = false\n  sonic.emit('drain')\n}\n\ninherits(SonicBoom, EventEmitter)\n\nSonicBoom.prototype.write = function (data) {\n  if (this.destroyed) {\n    throw new Error('SonicBoom destroyed')\n  }\n\n  this._buf += data\n  const len = this._buf.length\n  if (!this._writing && len > this.minLength) {\n    actualWrite(this)\n  }\n  return len < 16384\n}\n\nSonicBoom.prototype.flush = function () {\n  if (this.destroyed) {\n    throw new Error('SonicBoom destroyed')\n  }\n\n  if (this._writing || this.minLength <= 0) {\n    return\n  }\n\n  actualWrite(this)\n}\n\nSonicBoom.prototype.reopen = function (file) {\n  if (this.destroyed) {\n    throw new Error('SonicBoom destroyed')\n  }\n\n  if (this._opening) {\n    this.once('ready', () => {\n      this.reopen(file)\n    })\n    return\n  }\n\n  if (this._ending) {\n    return\n  }\n\n  if (!this.file) {\n    throw new Error('Unable to reopen a file descriptor, you must pass a file to SonicBoom')\n  }\n\n  this._reopening = true\n\n  if (this._writing) {\n    return\n  }\n\n  const fd = this.fd\n  this.once('ready', () => {\n    if (fd !== this.fd) {\n      fs.close(fd, (err) => {\n        if (err) {\n          return this.emit('error', err)\n        }\n      })\n    }\n  })\n\n  openFile(file || this.file, this)\n}\n\nSonicBoom.prototype.end = function () {\n  if (this.destroyed) {\n    throw new Error('SonicBoom destroyed')\n  }\n\n  if (this._opening) {\n    this.once('ready', () => {\n      this.end()\n    })\n    return\n  }\n\n  if (this._ending) {\n    return\n  }\n\n  this._ending = true\n\n  if (!this._writing && this._buf.length > 0 && this.fd >= 0) {\n    actualWrite(this)\n    return\n  }\n\n  if (this._writing) {\n    return\n  }\n\n  actualClose(this)\n}\n\nSonicBoom.prototype.flushSync = function () {\n  if (this.destroyed) {\n    throw new Error('SonicBoom destroyed')\n  }\n\n  if (this.fd < 0) {\n    throw new Error('sonic boom is not ready yet')\n  }\n\n  while (this._buf.length > 0) {\n    try {\n      fs.writeSync(this.fd, this._buf, 'utf8')\n      this._buf = ''\n    } catch (err) {\n      if (err.code !== 'EAGAIN') {\n        throw err\n      }\n\n      sleep(BUSY_WRITE_TIMEOUT)\n    }\n  }\n}\n\nSonicBoom.prototype.destroy = function () {\n  if (this.destroyed) {\n    return\n  }\n  actualClose(this)\n}\n\nfunction actualWrite (sonic) {\n  sonic._writing = true\n  let buf = sonic._buf\n  const release = sonic.release\n  if (buf.length > MAX_WRITE) {\n    buf = buf.slice(0, MAX_WRITE)\n    sonic._buf = sonic._buf.slice(MAX_WRITE)\n  } else {\n    sonic._buf = ''\n  }\n  flatstr(buf)\n  sonic._writingBuf = buf\n  if (sonic.sync) {\n    try {\n      const written = fs.writeSync(sonic.fd, buf, 'utf8')\n      release(null, written)\n    } catch (err) {\n      release(err)\n    }\n  } else {\n    fs.write(sonic.fd, buf, 'utf8', release)\n  }\n}\n\nfunction actualClose (sonic) {\n  if (sonic.fd === -1) {\n    sonic.once('ready', actualClose.bind(null, sonic))\n    return\n  }\n  // TODO write a test to check if we are not leaking fds\n  fs.close(sonic.fd, (err) => {\n    if (err) {\n      sonic.emit('error', err)\n      return\n    }\n\n    if (sonic._ending && !sonic._writing) {\n      sonic.emit('finish')\n    }\n    sonic.emit('close')\n  })\n  sonic.destroyed = true\n  sonic._buf = ''\n}\n\nmodule.exports = SonicBoom\n", "'use strict'\n\nconst { format } = require('util')\n\nfunction build () {\n  const codes = {}\n  const emitted = new Map()\n\n  function create (name, code, message) {\n    if (!name) throw new Error('Warning name must not be empty')\n    if (!code) throw new Error('Warning code must not be empty')\n    if (!message) throw new Error('Warning message must not be empty')\n\n    code = code.toUpperCase()\n\n    if (codes[code] !== undefined) {\n      throw new Error(`The code '${code}' already exist`)\n    }\n\n    function buildWarnOpts (a, b, c) {\n      // more performant than spread (...) operator\n      let formatted\n      if (a && b && c) {\n        formatted = format(message, a, b, c)\n      } else if (a && b) {\n        formatted = format(message, a, b)\n      } else if (a) {\n        formatted = format(message, a)\n      } else {\n        formatted = message\n      }\n\n      return {\n        code,\n        name,\n        message: formatted\n      }\n    }\n\n    emitted.set(code, false)\n    codes[code] = buildWarnOpts\n\n    return codes[code]\n  }\n\n  function emit (code, a, b, c) {\n    if (codes[code] === undefined) throw new Error(`The code '${code}' does not exist`)\n    if (emitted.get(code) === true) return\n    emitted.set(code, true)\n\n    const warning = codes[code](a, b, c)\n    process.emitWarning(warning.message, warning.name, warning.code)\n  }\n\n  return {\n    create,\n    emit,\n    emitted\n  }\n}\n\nmodule.exports = build\n", "'use strict'\n\nconst warning = require('process-warning')()\nmodule.exports = warning\n\nconst warnName = 'PinoWarning'\n\nwarning.create(warnName, 'PINODEP004', 'bindings.serializers is deprecated, use options.serializers option instead')\n\nwarning.create(warnName, 'PINODEP005', 'bindings.formatters is deprecated, use options.formatters option instead')\n\nwarning.create(warnName, 'PINODEP006', 'bindings.customLevels is deprecated, use options.customLevels option instead')\n\nwarning.create(warnName, 'PINODEP007', 'bindings.level is deprecated, use options.level option instead')\n", "'use strict'\nfunction tryStringify (o) {\n  try { return JSON.stringify(o) } catch(e) { return '\"[Circular]\"' }\n}\n\nmodule.exports = format\n\nfunction format(f, args, opts) {\n  var ss = (opts && opts.stringify) || tryStringify\n  var offset = 1\n  if (typeof f === 'object' && f !== null) {\n    var len = args.length + offset\n    if (len === 1) return f\n    var objects = new Array(len)\n    objects[0] = ss(f)\n    for (var index = 1; index < len; index++) {\n      objects[index] = ss(args[index])\n    }\n    return objects.join(' ')\n  }\n  if (typeof f !== 'string') {\n    return f\n  }\n  var argLen = args.length\n  if (argLen === 0) return f\n  var str = ''\n  var a = 1 - offset\n  var lastPos = -1\n  var flen = (f && f.length) || 0\n  for (var i = 0; i < flen;) {\n    if (f.charCodeAt(i) === 37 && i + 1 < flen) {\n      lastPos = lastPos > -1 ? lastPos : 0\n      switch (f.charCodeAt(i + 1)) {\n        case 100: // 'd'\n        case 102: // 'f'\n          if (a >= argLen)\n            break\n          if (args[a] == null)  break\n          if (lastPos < i)\n            str += f.slice(lastPos, i)\n          str += Number(args[a])\n          lastPos = i + 2\n          i++\n          break\n        case 105: // 'i'\n          if (a >= argLen)\n            break\n          if (args[a] == null)  break\n          if (lastPos < i)\n            str += f.slice(lastPos, i)\n          str += Math.floor(Number(args[a]))\n          lastPos = i + 2\n          i++\n          break\n        case 79: // 'O'\n        case 111: // 'o'\n        case 106: // 'j'\n          if (a >= argLen)\n            break\n          if (args[a] === undefined) break\n          if (lastPos < i)\n            str += f.slice(lastPos, i)\n          var type = typeof args[a]\n          if (type === 'string') {\n            str += '\\'' + args[a] + '\\''\n            lastPos = i + 2\n            i++\n            break\n          }\n          if (type === 'function') {\n            str += args[a].name || '<anonymous>'\n            lastPos = i + 2\n            i++\n            break\n          }\n          str += ss(args[a])\n          lastPos = i + 2\n          i++\n          break\n        case 115: // 's'\n          if (a >= argLen)\n            break\n          if (lastPos < i)\n            str += f.slice(lastPos, i)\n          str += String(args[a])\n          lastPos = i + 2\n          i++\n          break\n        case 37: // '%'\n          if (lastPos < i)\n            str += f.slice(lastPos, i)\n          str += '%'\n          lastPos = i + 2\n          i++\n          a--\n          break\n      }\n      ++a\n    }\n    ++i\n  }\n  if (lastPos === -1)\n    return f\n  else if (lastPos < flen) {\n    str += f.slice(lastPos)\n  }\n\n  return str\n}\n", "module.exports = stringify\nstringify.default = stringify\nstringify.stable = deterministicStringify\nstringify.stableStringify = deterministicStringify\n\nvar LIMIT_REPLACE_NODE = '[...]'\nvar CIRCULAR_REPLACE_NODE = '[Circular]'\n\nvar arr = []\nvar replacerStack = []\n\nfunction defaultOptions () {\n  return {\n    depthLimit: Number.MAX_SAFE_INTEGER,\n    edgesLimit: Number.MAX_SAFE_INTEGER\n  }\n}\n\n// Regular stringify\nfunction stringify (obj, replacer, spacer, options) {\n  if (typeof options === 'undefined') {\n    options = defaultOptions()\n  }\n\n  decirc(obj, '', 0, [], undefined, 0, options)\n  var res\n  try {\n    if (replacerStack.length === 0) {\n      res = JSON.stringify(obj, replacer, spacer)\n    } else {\n      res = JSON.stringify(obj, replaceGetterValues(replacer), spacer)\n    }\n  } catch (_) {\n    return JSON.stringify('[unable to serialize, circular reference is too complex to analyze]')\n  } finally {\n    while (arr.length !== 0) {\n      var part = arr.pop()\n      if (part.length === 4) {\n        Object.defineProperty(part[0], part[1], part[3])\n      } else {\n        part[0][part[1]] = part[2]\n      }\n    }\n  }\n  return res\n}\n\nfunction setReplace (replace, val, k, parent) {\n  var propertyDescriptor = Object.getOwnPropertyDescriptor(parent, k)\n  if (propertyDescriptor.get !== undefined) {\n    if (propertyDescriptor.configurable) {\n      Object.defineProperty(parent, k, { value: replace })\n      arr.push([parent, k, val, propertyDescriptor])\n    } else {\n      replacerStack.push([val, k, replace])\n    }\n  } else {\n    parent[k] = replace\n    arr.push([parent, k, val])\n  }\n}\n\nfunction decirc (val, k, edgeIndex, stack, parent, depth, options) {\n  depth += 1\n  var i\n  if (typeof val === 'object' && val !== null) {\n    for (i = 0; i < stack.length; i++) {\n      if (stack[i] === val) {\n        setReplace(CIRCULAR_REPLACE_NODE, val, k, parent)\n        return\n      }\n    }\n\n    if (\n      typeof options.depthLimit !== 'undefined' &&\n      depth > options.depthLimit\n    ) {\n      setReplace(LIMIT_REPLACE_NODE, val, k, parent)\n      return\n    }\n\n    if (\n      typeof options.edgesLimit !== 'undefined' &&\n      edgeIndex + 1 > options.edgesLimit\n    ) {\n      setReplace(LIMIT_REPLACE_NODE, val, k, parent)\n      return\n    }\n\n    stack.push(val)\n    // Optimize for Arrays. Big arrays could kill the performance otherwise!\n    if (Array.isArray(val)) {\n      for (i = 0; i < val.length; i++) {\n        decirc(val[i], i, i, stack, val, depth, options)\n      }\n    } else {\n      var keys = Object.keys(val)\n      for (i = 0; i < keys.length; i++) {\n        var key = keys[i]\n        decirc(val[key], key, i, stack, val, depth, options)\n      }\n    }\n    stack.pop()\n  }\n}\n\n// Stable-stringify\nfunction compareFunction (a, b) {\n  if (a < b) {\n    return -1\n  }\n  if (a > b) {\n    return 1\n  }\n  return 0\n}\n\nfunction deterministicStringify (obj, replacer, spacer, options) {\n  if (typeof options === 'undefined') {\n    options = defaultOptions()\n  }\n\n  var tmp = deterministicDecirc(obj, '', 0, [], undefined, 0, options) || obj\n  var res\n  try {\n    if (replacerStack.length === 0) {\n      res = JSON.stringify(tmp, replacer, spacer)\n    } else {\n      res = JSON.stringify(tmp, replaceGetterValues(replacer), spacer)\n    }\n  } catch (_) {\n    return JSON.stringify('[unable to serialize, circular reference is too complex to analyze]')\n  } finally {\n    // Ensure that we restore the object as it was.\n    while (arr.length !== 0) {\n      var part = arr.pop()\n      if (part.length === 4) {\n        Object.defineProperty(part[0], part[1], part[3])\n      } else {\n        part[0][part[1]] = part[2]\n      }\n    }\n  }\n  return res\n}\n\nfunction deterministicDecirc (val, k, edgeIndex, stack, parent, depth, options) {\n  depth += 1\n  var i\n  if (typeof val === 'object' && val !== null) {\n    for (i = 0; i < stack.length; i++) {\n      if (stack[i] === val) {\n        setReplace(CIRCULAR_REPLACE_NODE, val, k, parent)\n        return\n      }\n    }\n    try {\n      if (typeof val.toJSON === 'function') {\n        return\n      }\n    } catch (_) {\n      return\n    }\n\n    if (\n      typeof options.depthLimit !== 'undefined' &&\n      depth > options.depthLimit\n    ) {\n      setReplace(LIMIT_REPLACE_NODE, val, k, parent)\n      return\n    }\n\n    if (\n      typeof options.edgesLimit !== 'undefined' &&\n      edgeIndex + 1 > options.edgesLimit\n    ) {\n      setReplace(LIMIT_REPLACE_NODE, val, k, parent)\n      return\n    }\n\n    stack.push(val)\n    // Optimize for Arrays. Big arrays could kill the performance otherwise!\n    if (Array.isArray(val)) {\n      for (i = 0; i < val.length; i++) {\n        deterministicDecirc(val[i], i, i, stack, val, depth, options)\n      }\n    } else {\n      // Create a temporary object in the required way\n      var tmp = {}\n      var keys = Object.keys(val).sort(compareFunction)\n      for (i = 0; i < keys.length; i++) {\n        var key = keys[i]\n        deterministicDecirc(val[key], key, i, stack, val, depth, options)\n        tmp[key] = val[key]\n      }\n      if (typeof parent !== 'undefined') {\n        arr.push([parent, k, val])\n        parent[k] = tmp\n      } else {\n        return tmp\n      }\n    }\n    stack.pop()\n  }\n}\n\n// wraps replacer function to handle values we couldn't replace\n// and mark them as replaced value\nfunction replaceGetterValues (replacer) {\n  replacer =\n    typeof replacer !== 'undefined'\n      ? replacer\n      : function (k, v) {\n        return v\n      }\n  return function (key, val) {\n    if (replacerStack.length > 0) {\n      for (var i = 0; i < replacerStack.length; i++) {\n        var part = replacerStack[i]\n        if (part[1] === key && part[0] === val) {\n          val = part[2]\n          replacerStack.splice(i, 1)\n          break\n        }\n      }\n    }\n    return replacer.call(this, key, val)\n  }\n}\n", "'use strict'\n\n/* eslint no-prototype-builtins: 0 */\n\nconst format = require('quick-format-unescaped')\nconst { mapHttpRequest, mapHttpResponse } = require('pino-std-serializers')\nconst SonicBoom = require('sonic-boom')\nconst stringifySafe = require('fast-safe-stringify')\nconst {\n  lsCacheSym,\n  chindingsSym,\n  parsedChindingsSym,\n  writeSym,\n  serializersSym,\n  formatOptsSym,\n  endSym,\n  stringifiersSym,\n  stringifySym,\n  wildcardFirstSym,\n  needsMetadataGsym,\n  redactFmtSym,\n  streamSym,\n  nestedKeySym,\n  formattersSym,\n  messageKeySym\n} = require('./symbols')\n\nfunction noop () {}\n\nfunction genLog (level, hook) {\n  if (!hook) return LOG\n\n  return function hookWrappedLog (...args) {\n    hook.call(this, args, LOG, level)\n  }\n\n  function LOG (o, ...n) {\n    if (typeof o === 'object') {\n      let msg = o\n      if (o !== null) {\n        if (o.method && o.headers && o.socket) {\n          o = mapHttpRequest(o)\n        } else if (typeof o.setHeader === 'function') {\n          o = mapHttpResponse(o)\n        }\n      }\n      if (this[nestedKeySym]) o = { [this[nestedKeySym]]: o }\n      let formatParams\n      if (msg === null && n.length === 0) {\n        formatParams = [null]\n      } else {\n        msg = n.shift()\n        formatParams = n\n      }\n      this[writeSym](o, format(msg, formatParams, this[formatOptsSym]), level)\n    } else {\n      this[writeSym](null, format(o, n, this[formatOptsSym]), level)\n    }\n  }\n}\n\n// magically escape strings for json\n// relying on their charCodeAt\n// everything below 32 needs JSON.stringify()\n// 34 and 92 happens all the time, so we\n// have a fast case for them\nfunction asString (str) {\n  let result = ''\n  let last = 0\n  let found = false\n  let point = 255\n  const l = str.length\n  if (l > 100) {\n    return JSON.stringify(str)\n  }\n  for (var i = 0; i < l && point >= 32; i++) {\n    point = str.charCodeAt(i)\n    if (point === 34 || point === 92) {\n      result += str.slice(last, i) + '\\\\'\n      last = i\n      found = true\n    }\n  }\n  if (!found) {\n    result = str\n  } else {\n    result += str.slice(last)\n  }\n  return point < 32 ? JSON.stringify(str) : '\"' + result + '\"'\n}\n\nfunction asJson (obj, msg, num, time) {\n  const stringify = this[stringifySym]\n  const stringifiers = this[stringifiersSym]\n  const end = this[endSym]\n  const chindings = this[chindingsSym]\n  const serializers = this[serializersSym]\n  const formatters = this[formattersSym]\n  const messageKey = this[messageKeySym]\n  let data = this[lsCacheSym][num] + time\n\n  // we need the child bindings added to the output first so instance logged\n  // objects can take precedence when JSON.parse-ing the resulting log line\n  data = data + chindings\n\n  let value\n  const notHasOwnProperty = obj.hasOwnProperty === undefined\n  if (formatters.log) {\n    obj = formatters.log(obj)\n  }\n  if (msg !== undefined) {\n    obj[messageKey] = msg\n  }\n  const wildcardStringifier = stringifiers[wildcardFirstSym]\n  for (const key in obj) {\n    value = obj[key]\n    if ((notHasOwnProperty || obj.hasOwnProperty(key)) && value !== undefined) {\n      value = serializers[key] ? serializers[key](value) : value\n\n      const stringifier = stringifiers[key] || wildcardStringifier\n\n      switch (typeof value) {\n        case 'undefined':\n        case 'function':\n          continue\n        case 'number':\n          /* eslint no-fallthrough: \"off\" */\n          if (Number.isFinite(value) === false) {\n            value = null\n          }\n        // this case explicitly falls through to the next one\n        case 'boolean':\n          if (stringifier) value = stringifier(value)\n          break\n        case 'string':\n          value = (stringifier || asString)(value)\n          break\n        default:\n          value = (stringifier || stringify)(value)\n      }\n      if (value === undefined) continue\n      data += ',\"' + key + '\":' + value\n    }\n  }\n\n  return data + end\n}\n\nfunction asChindings (instance, bindings) {\n  let value\n  let data = instance[chindingsSym]\n  const stringify = instance[stringifySym]\n  const stringifiers = instance[stringifiersSym]\n  const wildcardStringifier = stringifiers[wildcardFirstSym]\n  const serializers = instance[serializersSym]\n  const formatter = instance[formattersSym].bindings\n  bindings = formatter(bindings)\n\n  for (const key in bindings) {\n    value = bindings[key]\n    const valid = key !== 'level' &&\n      key !== 'serializers' &&\n      key !== 'formatters' &&\n      key !== 'customLevels' &&\n      bindings.hasOwnProperty(key) &&\n      value !== undefined\n    if (valid === true) {\n      value = serializers[key] ? serializers[key](value) : value\n      value = (stringifiers[key] || wildcardStringifier || stringify)(value)\n      if (value === undefined) continue\n      data += ',\"' + key + '\":' + value\n    }\n  }\n  return data\n}\n\nfunction getPrettyStream (opts, prettifier, dest, instance) {\n  if (prettifier && typeof prettifier === 'function') {\n    prettifier = prettifier.bind(instance)\n    return prettifierMetaWrapper(prettifier(opts), dest, opts)\n  }\n  try {\n    const prettyFactory = require('pino-pretty').prettyFactory || require('pino-pretty')\n    prettyFactory.asMetaWrapper = prettifierMetaWrapper\n    return prettifierMetaWrapper(prettyFactory(opts), dest, opts)\n  } catch (e) {\n    if (e.message.startsWith(\"Cannot find module 'pino-pretty'\")) {\n      throw Error('Missing `pino-pretty` module: `pino-pretty` must be installed separately')\n    };\n    throw e\n  }\n}\n\nfunction prettifierMetaWrapper (pretty, dest, opts) {\n  opts = Object.assign({ suppressFlushSyncWarning: false }, opts)\n  let warned = false\n  return {\n    [needsMetadataGsym]: true,\n    lastLevel: 0,\n    lastMsg: null,\n    lastObj: null,\n    lastLogger: null,\n    flushSync () {\n      if (opts.suppressFlushSyncWarning || warned) {\n        return\n      }\n      warned = true\n      setMetadataProps(dest, this)\n      dest.write(pretty(Object.assign({\n        level: 40, // warn\n        msg: 'pino.final with prettyPrint does not support flushing',\n        time: Date.now()\n      }, this.chindings())))\n    },\n    chindings () {\n      const lastLogger = this.lastLogger\n      let chindings = null\n\n      // protection against flushSync being called before logging\n      // anything\n      if (!lastLogger) {\n        return null\n      }\n\n      if (lastLogger.hasOwnProperty(parsedChindingsSym)) {\n        chindings = lastLogger[parsedChindingsSym]\n      } else {\n        chindings = JSON.parse('{' + lastLogger[chindingsSym].substr(1) + '}')\n        lastLogger[parsedChindingsSym] = chindings\n      }\n\n      return chindings\n    },\n    write (chunk) {\n      const lastLogger = this.lastLogger\n      const chindings = this.chindings()\n\n      let time = this.lastTime\n\n      if (time.match(/^\\d+/)) {\n        time = parseInt(time)\n      } else {\n        time = time.slice(1, -1)\n      }\n\n      const lastObj = this.lastObj\n      const lastMsg = this.lastMsg\n      const errorProps = null\n\n      const formatters = lastLogger[formattersSym]\n      const formattedObj = formatters.log ? formatters.log(lastObj) : lastObj\n\n      const messageKey = lastLogger[messageKeySym]\n      if (lastMsg && formattedObj && !formattedObj.hasOwnProperty(messageKey)) {\n        formattedObj[messageKey] = lastMsg\n      }\n\n      const obj = Object.assign({\n        level: this.lastLevel,\n        time\n      }, formattedObj, errorProps)\n\n      const serializers = lastLogger[serializersSym]\n      const keys = Object.keys(serializers)\n\n      for (var i = 0; i < keys.length; i++) {\n        const key = keys[i]\n        if (obj[key] !== undefined) {\n          obj[key] = serializers[key](obj[key])\n        }\n      }\n\n      for (const key in chindings) {\n        if (!obj.hasOwnProperty(key)) {\n          obj[key] = chindings[key]\n        }\n      }\n\n      const stringifiers = lastLogger[stringifiersSym]\n      const redact = stringifiers[redactFmtSym]\n\n      const formatted = pretty(typeof redact === 'function' ? redact(obj) : obj)\n      if (formatted === undefined) return\n\n      setMetadataProps(dest, this)\n      dest.write(formatted)\n    }\n  }\n}\n\nfunction hasBeenTampered (stream) {\n  return stream.write !== stream.constructor.prototype.write\n}\n\nfunction buildSafeSonicBoom (opts) {\n  const stream = new SonicBoom(opts)\n  stream.on('error', filterBrokenPipe)\n  return stream\n\n  function filterBrokenPipe (err) {\n    // TODO verify on Windows\n    if (err.code === 'EPIPE') {\n      // If we get EPIPE, we should stop logging here\n      // however we have no control to the consumer of\n      // SonicBoom, so we just overwrite the write method\n      stream.write = noop\n      stream.end = noop\n      stream.flushSync = noop\n      stream.destroy = noop\n      return\n    }\n    stream.removeListener('error', filterBrokenPipe)\n    stream.emit('error', err)\n  }\n}\n\nfunction createArgsNormalizer (defaultOptions) {\n  return function normalizeArgs (instance, opts = {}, stream) {\n    // support stream as a string\n    if (typeof opts === 'string') {\n      stream = buildSafeSonicBoom({ dest: opts, sync: true })\n      opts = {}\n    } else if (typeof stream === 'string') {\n      stream = buildSafeSonicBoom({ dest: stream, sync: true })\n    } else if (opts instanceof SonicBoom || opts.writable || opts._writableState) {\n      stream = opts\n      opts = null\n    }\n    opts = Object.assign({}, defaultOptions, opts)\n    if ('extreme' in opts) {\n      throw Error('The extreme option has been removed, use pino.destination({ sync: false }) instead')\n    }\n    if ('onTerminated' in opts) {\n      throw Error('The onTerminated option has been removed, use pino.final instead')\n    }\n    if ('changeLevelName' in opts) {\n      process.emitWarning(\n        'The changeLevelName option is deprecated and will be removed in v7. Use levelKey instead.',\n        { code: 'changeLevelName_deprecation' }\n      )\n      opts.levelKey = opts.changeLevelName\n      delete opts.changeLevelName\n    }\n    const { enabled, prettyPrint, prettifier, messageKey } = opts\n    if (enabled === false) opts.level = 'silent'\n    stream = stream || process.stdout\n    if (stream === process.stdout && stream.fd >= 0 && !hasBeenTampered(stream)) {\n      stream = buildSafeSonicBoom({ fd: stream.fd, sync: true })\n    }\n    if (prettyPrint) {\n      const prettyOpts = Object.assign({ messageKey }, prettyPrint)\n      stream = getPrettyStream(prettyOpts, prettifier, stream, instance)\n    }\n    return { opts, stream }\n  }\n}\n\nfunction final (logger, handler) {\n  if (typeof logger === 'undefined' || typeof logger.child !== 'function') {\n    throw Error('expected a pino logger instance')\n  }\n  const hasHandler = (typeof handler !== 'undefined')\n  if (hasHandler && typeof handler !== 'function') {\n    throw Error('if supplied, the handler parameter should be a function')\n  }\n  const stream = logger[streamSym]\n  if (typeof stream.flushSync !== 'function') {\n    throw Error('final requires a stream that has a flushSync method, such as pino.destination')\n  }\n\n  const finalLogger = new Proxy(logger, {\n    get: (logger, key) => {\n      if (key in logger.levels.values) {\n        return (...args) => {\n          logger[key](...args)\n          stream.flushSync()\n        }\n      }\n      return logger[key]\n    }\n  })\n\n  if (!hasHandler) {\n    return finalLogger\n  }\n\n  return (err = null, ...args) => {\n    try {\n      stream.flushSync()\n    } catch (e) {\n      // it's too late to wait for the stream to be ready\n      // because this is a final tick scenario.\n      // in practice there shouldn't be a situation where it isn't\n      // however, swallow the error just in case (and for easier testing)\n    }\n    return handler(err, finalLogger, ...args)\n  }\n}\n\nfunction stringify (obj) {\n  try {\n    return JSON.stringify(obj)\n  } catch (_) {\n    return stringifySafe(obj)\n  }\n}\n\nfunction buildFormatters (level, bindings, log) {\n  return {\n    level,\n    bindings,\n    log\n  }\n}\n\nfunction setMetadataProps (dest, that) {\n  if (dest[needsMetadataGsym] === true) {\n    dest.lastLevel = that.lastLevel\n    dest.lastMsg = that.lastMsg\n    dest.lastObj = that.lastObj\n    dest.lastTime = that.lastTime\n    dest.lastLogger = that.lastLogger\n  }\n}\n\nmodule.exports = {\n  noop,\n  buildSafeSonicBoom,\n  getPrettyStream,\n  asChindings,\n  asJson,\n  genLog,\n  createArgsNormalizer,\n  final,\n  stringify,\n  buildFormatters\n}\n", "'use strict'\n/* eslint no-prototype-builtins: 0 */\nconst flatstr = require('flatstr')\nconst {\n  lsCacheSym,\n  levelValSym,\n  useOnlyCustomLevelsSym,\n  streamSym,\n  formattersSym,\n  hooksSym\n} = require('./symbols')\nconst { noop, genLog } = require('./tools')\n\nconst levels = {\n  trace: 10,\n  debug: 20,\n  info: 30,\n  warn: 40,\n  error: 50,\n  fatal: 60\n}\nconst levelMethods = {\n  fatal: (hook) => {\n    const logFatal = genLog(levels.fatal, hook)\n    return function (...args) {\n      const stream = this[streamSym]\n      logFatal.call(this, ...args)\n      if (typeof stream.flushSync === 'function') {\n        try {\n          stream.flushSync()\n        } catch (e) {\n          // https://github.com/pinojs/pino/pull/740#discussion_r346788313\n        }\n      }\n    }\n  },\n  error: (hook) => genLog(levels.error, hook),\n  warn: (hook) => genLog(levels.warn, hook),\n  info: (hook) => genLog(levels.info, hook),\n  debug: (hook) => genLog(levels.debug, hook),\n  trace: (hook) => genLog(levels.trace, hook)\n}\n\nconst nums = Object.keys(levels).reduce((o, k) => {\n  o[levels[k]] = k\n  return o\n}, {})\n\nconst initialLsCache = Object.keys(nums).reduce((o, k) => {\n  o[k] = flatstr('{\"level\":' + Number(k))\n  return o\n}, {})\n\nfunction genLsCache (instance) {\n  const formatter = instance[formattersSym].level\n  const { labels } = instance.levels\n  const cache = {}\n  for (const label in labels) {\n    const level = formatter(labels[label], Number(label))\n    cache[label] = JSON.stringify(level).slice(0, -1)\n  }\n  instance[lsCacheSym] = cache\n  return instance\n}\n\nfunction isStandardLevel (level, useOnlyCustomLevels) {\n  if (useOnlyCustomLevels) {\n    return false\n  }\n\n  switch (level) {\n    case 'fatal':\n    case 'error':\n    case 'warn':\n    case 'info':\n    case 'debug':\n    case 'trace':\n      return true\n    default:\n      return false\n  }\n}\n\nfunction setLevel (level) {\n  const { labels, values } = this.levels\n  if (typeof level === 'number') {\n    if (labels[level] === undefined) throw Error('unknown level value' + level)\n    level = labels[level]\n  }\n  if (values[level] === undefined) throw Error('unknown level ' + level)\n  const preLevelVal = this[levelValSym]\n  const levelVal = this[levelValSym] = values[level]\n  const useOnlyCustomLevelsVal = this[useOnlyCustomLevelsSym]\n  const hook = this[hooksSym].logMethod\n\n  for (const key in values) {\n    if (levelVal > values[key]) {\n      this[key] = noop\n      continue\n    }\n    this[key] = isStandardLevel(key, useOnlyCustomLevelsVal) ? levelMethods[key](hook) : genLog(values[key], hook)\n  }\n\n  this.emit(\n    'level-change',\n    level,\n    levelVal,\n    labels[preLevelVal],\n    preLevelVal\n  )\n}\n\nfunction getLevel (level) {\n  const { levels, levelVal } = this\n  // protection against potential loss of Pino scope from serializers (edge case with circular refs - https://github.com/pinojs/pino/issues/833)\n  return (levels && levels.labels) ? levels.labels[levelVal] : ''\n}\n\nfunction isLevelEnabled (logLevel) {\n  const { values } = this.levels\n  const logLevelVal = values[logLevel]\n  return logLevelVal !== undefined && (logLevelVal >= this[levelValSym])\n}\n\nfunction mappings (customLevels = null, useOnlyCustomLevels = false) {\n  const customNums = customLevels\n    /* eslint-disable */\n    ? Object.keys(customLevels).reduce((o, k) => {\n        o[customLevels[k]] = k\n        return o\n      }, {})\n    : null\n    /* eslint-enable */\n\n  const labels = Object.assign(\n    Object.create(Object.prototype, { Infinity: { value: 'silent' } }),\n    useOnlyCustomLevels ? null : nums,\n    customNums\n  )\n  const values = Object.assign(\n    Object.create(Object.prototype, { silent: { value: Infinity } }),\n    useOnlyCustomLevels ? null : levels,\n    customLevels\n  )\n  return { labels, values }\n}\n\nfunction assertDefaultLevelFound (defaultLevel, customLevels, useOnlyCustomLevels) {\n  if (typeof defaultLevel === 'number') {\n    const values = [].concat(\n      Object.keys(customLevels || {}).map(key => customLevels[key]),\n      useOnlyCustomLevels ? [] : Object.keys(nums).map(level => +level),\n      Infinity\n    )\n    if (!values.includes(defaultLevel)) {\n      throw Error(`default level:${defaultLevel} must be included in custom levels`)\n    }\n    return\n  }\n\n  const labels = Object.assign(\n    Object.create(Object.prototype, { silent: { value: Infinity } }),\n    useOnlyCustomLevels ? null : levels,\n    customLevels\n  )\n  if (!(defaultLevel in labels)) {\n    throw Error(`default level:${defaultLevel} must be included in custom levels`)\n  }\n}\n\nfunction assertNoLevelCollisions (levels, customLevels) {\n  const { labels, values } = levels\n  for (const k in customLevels) {\n    if (k in values) {\n      throw Error('levels cannot be overridden')\n    }\n    if (customLevels[k] in labels) {\n      throw Error('pre-existing level values cannot be used for new levels')\n    }\n  }\n}\n\nmodule.exports = {\n  initialLsCache,\n  genLsCache,\n  levelMethods,\n  getLevel,\n  setLevel,\n  isLevelEnabled,\n  mappings,\n  assertNoLevelCollisions,\n  assertDefaultLevelFound\n}\n", "'use strict'\n\nconst { version } = require('../package.json')\n\nmodule.exports = { version }\n", "'use strict'\n\n/* eslint no-prototype-builtins: 0 */\n\nconst { EventEmitter } = require('events')\nconst SonicBoom = require('sonic-boom')\nconst flatstr = require('flatstr')\nconst warning = require('./deprecations')\nconst {\n  lsCacheSym,\n  levelValSym,\n  setLevelSym,\n  getLevelSym,\n  chindingsSym,\n  parsedChindingsSym,\n  mixinSym,\n  asJsonSym,\n  writeSym,\n  mixinMergeStrategySym,\n  timeSym,\n  timeSliceIndexSym,\n  streamSym,\n  serializersSym,\n  formattersSym,\n  useOnlyCustomLevelsSym,\n  needsMetadataGsym,\n  redactFmtSym,\n  stringifySym,\n  formatOptsSym,\n  stringifiersSym\n} = require('./symbols')\nconst {\n  getLevel,\n  setLevel,\n  isLevelEnabled,\n  mappings,\n  initialLsCache,\n  genLsCache,\n  assertNoLevelCollisions\n} = require('./levels')\nconst {\n  asChindings,\n  asJson,\n  buildFormatters,\n  stringify\n} = require('./tools')\nconst {\n  version\n} = require('./meta')\nconst redaction = require('./redaction')\n\n// note: use of class is satirical\n// https://github.com/pinojs/pino/pull/433#pullrequestreview-127703127\nconst constructor = class Pino {}\nconst prototype = {\n  constructor,\n  child,\n  bindings,\n  setBindings,\n  flush,\n  isLevelEnabled,\n  version,\n  get level () { return this[getLevelSym]() },\n  set level (lvl) { this[setLevelSym](lvl) },\n  get levelVal () { return this[levelValSym] },\n  set levelVal (n) { throw Error('levelVal is read-only') },\n  [lsCacheSym]: initialLsCache,\n  [writeSym]: write,\n  [asJsonSym]: asJson,\n  [getLevelSym]: getLevel,\n  [setLevelSym]: setLevel\n}\n\nObject.setPrototypeOf(prototype, EventEmitter.prototype)\n\n// exporting and consuming the prototype object using factory pattern fixes scoping issues with getters when serializing\nmodule.exports = function () {\n  return Object.create(prototype)\n}\n\nconst resetChildingsFormatter = bindings => bindings\nfunction child (bindings, options) {\n  if (!bindings) {\n    throw Error('missing bindings for child Pino')\n  }\n  options = options || {} // default options to empty object\n  const serializers = this[serializersSym]\n  const formatters = this[formattersSym]\n  const instance = Object.create(this)\n\n  if (bindings.hasOwnProperty('serializers') === true) {\n    warning.emit('PINODEP004')\n    options.serializers = bindings.serializers\n  }\n  if (bindings.hasOwnProperty('formatters') === true) {\n    warning.emit('PINODEP005')\n    options.formatters = bindings.formatters\n  }\n  if (bindings.hasOwnProperty('customLevels') === true) {\n    warning.emit('PINODEP006')\n    options.customLevels = bindings.customLevels\n  }\n  if (bindings.hasOwnProperty('level') === true) {\n    warning.emit('PINODEP007')\n    options.level = bindings.level\n  }\n  if (options.hasOwnProperty('serializers') === true) {\n    instance[serializersSym] = Object.create(null)\n\n    for (const k in serializers) {\n      instance[serializersSym][k] = serializers[k]\n    }\n    const parentSymbols = Object.getOwnPropertySymbols(serializers)\n    /* eslint no-var: off */\n    for (var i = 0; i < parentSymbols.length; i++) {\n      const ks = parentSymbols[i]\n      instance[serializersSym][ks] = serializers[ks]\n    }\n\n    for (const bk in options.serializers) {\n      instance[serializersSym][bk] = options.serializers[bk]\n    }\n    const bindingsSymbols = Object.getOwnPropertySymbols(options.serializers)\n    for (var bi = 0; bi < bindingsSymbols.length; bi++) {\n      const bks = bindingsSymbols[bi]\n      instance[serializersSym][bks] = options.serializers[bks]\n    }\n  } else instance[serializersSym] = serializers\n  if (options.hasOwnProperty('formatters')) {\n    const { level, bindings: chindings, log } = options.formatters\n    instance[formattersSym] = buildFormatters(\n      level || formatters.level,\n      chindings || resetChildingsFormatter,\n      log || formatters.log\n    )\n  } else {\n    instance[formattersSym] = buildFormatters(\n      formatters.level,\n      resetChildingsFormatter,\n      formatters.log\n    )\n  }\n  if (options.hasOwnProperty('customLevels') === true) {\n    assertNoLevelCollisions(this.levels, options.customLevels)\n    instance.levels = mappings(options.customLevels, instance[useOnlyCustomLevelsSym])\n    genLsCache(instance)\n  }\n\n  // redact must place before asChindings and only replace if exist\n  if ((typeof options.redact === 'object' && options.redact !== null) || Array.isArray(options.redact)) {\n    instance.redact = options.redact // replace redact directly\n    const stringifiers = redaction(instance.redact, stringify)\n    const formatOpts = { stringify: stringifiers[redactFmtSym] }\n    instance[stringifySym] = stringify\n    instance[stringifiersSym] = stringifiers\n    instance[formatOptsSym] = formatOpts\n  }\n\n  instance[chindingsSym] = asChindings(instance, bindings)\n  const childLevel = options.level || this.level\n  instance[setLevelSym](childLevel)\n\n  return instance\n}\n\nfunction bindings () {\n  const chindings = this[chindingsSym]\n  const chindingsJson = `{${chindings.substr(1)}}` // at least contains ,\"pid\":7068,\"hostname\":\"myMac\"\n  const bindingsFromJson = JSON.parse(chindingsJson)\n  delete bindingsFromJson.pid\n  delete bindingsFromJson.hostname\n  return bindingsFromJson\n}\n\nfunction setBindings (newBindings) {\n  const chindings = asChindings(this, newBindings)\n  this[chindingsSym] = chindings\n  delete this[parsedChindingsSym]\n}\n\n/**\n * Default strategy for creating `mergeObject` from arguments and the result from `mixin()`.\n * Fields from `mergeObject` have higher priority in this strategy.\n *\n * @param {Object} mergeObject The object a user has supplied to the logging function.\n * @param {Object} mixinObject The result of the `mixin` method.\n * @return {Object}\n */\nfunction defaultMixinMergeStrategy (mergeObject, mixinObject) {\n  return Object.assign(mixinObject, mergeObject)\n}\n\nfunction write (_obj, msg, num) {\n  const t = this[timeSym]()\n  const mixin = this[mixinSym]\n  const mixinMergeStrategy = this[mixinMergeStrategySym] || defaultMixinMergeStrategy\n  const objError = _obj instanceof Error\n  let obj\n\n  if (_obj === undefined || _obj === null) {\n    obj = mixin ? mixin({}) : {}\n  } else {\n    obj = mixinMergeStrategy(_obj, mixin ? mixin(_obj) : {})\n    if (!msg && objError) {\n      msg = _obj.message\n    }\n\n    if (objError) {\n      obj.stack = _obj.stack\n      if (!obj.type) {\n        obj.type = 'Error'\n      }\n    }\n  }\n\n  const s = this[asJsonSym](obj, msg, num, t)\n\n  const stream = this[streamSym]\n  if (stream[needsMetadataGsym] === true) {\n    stream.lastLevel = num\n    stream.lastObj = obj\n    stream.lastMsg = msg\n    stream.lastTime = t.slice(this[timeSliceIndexSym])\n    stream.lastLogger = this // for child loggers\n  }\n  if (stream instanceof SonicBoom) stream.write(s)\n  else stream.write(flatstr(s))\n}\n\nfunction flush () {\n  const stream = this[streamSym]\n  if ('flush' in stream) stream.flush()\n}\n", "'use strict'\n/* eslint no-prototype-builtins: 0 */\nconst os = require('os')\nconst stdSerializers = require('pino-std-serializers')\nconst redaction = require('./lib/redaction')\nconst time = require('./lib/time')\nconst proto = require('./lib/proto')\nconst symbols = require('./lib/symbols')\nconst { assertDefaultLevelFound, mappings, genLsCache } = require('./lib/levels')\nconst {\n  createArgsNormalizer,\n  asChindings,\n  final,\n  stringify,\n  buildSafeSonicBoom,\n  buildFormatters,\n  noop\n} = require('./lib/tools')\nconst { version } = require('./lib/meta')\nconst { mixinMergeStrategySym } = require('./lib/symbols')\nconst {\n  chindingsSym,\n  redactFmtSym,\n  serializersSym,\n  timeSym,\n  timeSliceIndexSym,\n  streamSym,\n  stringifySym,\n  stringifiersSym,\n  setLevelSym,\n  endSym,\n  formatOptsSym,\n  messageKeySym,\n  nestedKeySym,\n  mixinSym,\n  useOnlyCustomLevelsSym,\n  formattersSym,\n  hooksSym\n} = symbols\nconst { epochTime, nullTime } = time\nconst { pid } = process\nconst hostname = os.hostname()\nconst defaultErrorSerializer = stdSerializers.err\nconst defaultOptions = {\n  level: 'info',\n  messageKey: 'msg',\n  nestedKey: null,\n  enabled: true,\n  prettyPrint: false,\n  base: { pid, hostname },\n  serializers: Object.assign(Object.create(null), {\n    err: defaultErrorSerializer\n  }),\n  formatters: Object.assign(Object.create(null), {\n    bindings (bindings) {\n      return bindings\n    },\n    level (label, number) {\n      return { level: number }\n    }\n  }),\n  hooks: {\n    logMethod: undefined\n  },\n  timestamp: epochTime,\n  name: undefined,\n  redact: null,\n  customLevels: null,\n  levelKey: undefined,\n  useOnlyCustomLevels: false\n}\n\nconst normalize = createArgsNormalizer(defaultOptions)\n\nconst serializers = Object.assign(Object.create(null), stdSerializers)\n\nfunction pino (...args) {\n  const instance = {}\n  const { opts, stream } = normalize(instance, ...args)\n  const {\n    redact,\n    crlf,\n    serializers,\n    timestamp,\n    messageKey,\n    nestedKey,\n    base,\n    name,\n    level,\n    customLevels,\n    useLevelLabels,\n    changeLevelName,\n    levelKey,\n    mixin,\n    mixinMergeStrategy,\n    useOnlyCustomLevels,\n    formatters,\n    hooks\n  } = opts\n\n  const allFormatters = buildFormatters(\n    formatters.level,\n    formatters.bindings,\n    formatters.log\n  )\n\n  if (useLevelLabels && !(changeLevelName || levelKey)) {\n    process.emitWarning('useLevelLabels is deprecated, use the formatters.level option instead', 'Warning', 'PINODEP001')\n    allFormatters.level = labelsFormatter\n  } else if ((changeLevelName || levelKey) && !useLevelLabels) {\n    process.emitWarning('changeLevelName and levelKey are deprecated, use the formatters.level option instead', 'Warning', 'PINODEP002')\n    allFormatters.level = levelNameFormatter(changeLevelName || levelKey)\n  } else if ((changeLevelName || levelKey) && useLevelLabels) {\n    process.emitWarning('useLevelLabels is deprecated, use the formatters.level option instead', 'Warning', 'PINODEP001')\n    process.emitWarning('changeLevelName and levelKey are deprecated, use the formatters.level option instead', 'Warning', 'PINODEP002')\n    allFormatters.level = levelNameLabelFormatter(changeLevelName || levelKey)\n  }\n\n  if (serializers[Symbol.for('pino.*')]) {\n    process.emitWarning('The pino.* serializer is deprecated, use the formatters.log options instead', 'Warning', 'PINODEP003')\n    allFormatters.log = serializers[Symbol.for('pino.*')]\n  }\n\n  if (!allFormatters.bindings) {\n    allFormatters.bindings = defaultOptions.formatters.bindings\n  }\n  if (!allFormatters.level) {\n    allFormatters.level = defaultOptions.formatters.level\n  }\n\n  const stringifiers = redact ? redaction(redact, stringify) : {}\n  const formatOpts = redact\n    ? { stringify: stringifiers[redactFmtSym] }\n    : { stringify }\n  const end = '}' + (crlf ? '\\r\\n' : '\\n')\n  const coreChindings = asChindings.bind(null, {\n    [chindingsSym]: '',\n    [serializersSym]: serializers,\n    [stringifiersSym]: stringifiers,\n    [stringifySym]: stringify,\n    [formattersSym]: allFormatters\n  })\n\n  let chindings = ''\n  if (base !== null) {\n    if (name === undefined) {\n      chindings = coreChindings(base)\n    } else {\n      chindings = coreChindings(Object.assign({}, base, { name }))\n    }\n  }\n\n  const time = (timestamp instanceof Function)\n    ? timestamp\n    : (timestamp ? epochTime : nullTime)\n  const timeSliceIndex = time().indexOf(':') + 1\n\n  if (useOnlyCustomLevels && !customLevels) throw Error('customLevels is required if useOnlyCustomLevels is set true')\n  if (mixin && typeof mixin !== 'function') throw Error(`Unknown mixin type \"${typeof mixin}\" - expected \"function\"`)\n\n  assertDefaultLevelFound(level, customLevels, useOnlyCustomLevels)\n  const levels = mappings(customLevels, useOnlyCustomLevels)\n\n  Object.assign(instance, {\n    levels,\n    [useOnlyCustomLevelsSym]: useOnlyCustomLevels,\n    [streamSym]: stream,\n    [timeSym]: time,\n    [timeSliceIndexSym]: timeSliceIndex,\n    [stringifySym]: stringify,\n    [stringifiersSym]: stringifiers,\n    [endSym]: end,\n    [formatOptsSym]: formatOpts,\n    [messageKeySym]: messageKey,\n    [nestedKeySym]: nestedKey,\n    [serializersSym]: serializers,\n    [mixinSym]: mixin,\n    [mixinMergeStrategySym]: mixinMergeStrategy,\n    [chindingsSym]: chindings,\n    [formattersSym]: allFormatters,\n    [hooksSym]: hooks,\n    silent: noop\n  })\n\n  Object.setPrototypeOf(instance, proto())\n\n  genLsCache(instance)\n\n  instance[setLevelSym](level)\n\n  return instance\n}\n\nfunction labelsFormatter (label, number) {\n  return { level: label }\n}\n\nfunction levelNameFormatter (name) {\n  return function (label, number) {\n    return { [name]: number }\n  }\n}\n\nfunction levelNameLabelFormatter (name) {\n  return function (label, number) {\n    return { [name]: label }\n  }\n}\n\nmodule.exports = pino\n\nmodule.exports.extreme = (dest = process.stdout.fd) => {\n  process.emitWarning(\n    'The pino.extreme() option is deprecated and will be removed in v7. Use pino.destination({ sync: false }) instead.',\n    { code: 'extreme_deprecation' }\n  )\n  return buildSafeSonicBoom({ dest, minLength: 4096, sync: false })\n}\n\nmodule.exports.destination = (dest = process.stdout.fd) => {\n  if (typeof dest === 'object') {\n    dest.dest = dest.dest || process.stdout.fd\n    return buildSafeSonicBoom(dest)\n  } else {\n    return buildSafeSonicBoom({ dest, minLength: 0, sync: true })\n  }\n}\n\nmodule.exports.final = final\nmodule.exports.levels = mappings()\nmodule.exports.stdSerializers = serializers\nmodule.exports.stdTimeFunctions = Object.assign({}, time)\nmodule.exports.symbols = symbols\nmodule.exports.version = version\n\n// Enables default and name export with TypeScript and Babel\nmodule.exports.default = pino\nmodule.exports.pino = pino\n", "/*\n * Wrap the console logging functions with 'pino' JSON logger\n * when we are running as a lambda\n */\n\nimport { metrics } from '../serverMetrics'\n\nexport const awsCloudWatchTag = { awsTag: 'userLogs' }\nconst util = require('util')\nconst pino = require('pino')\n\n// The following console function write to stdout,\n// but we do not support them when running as Lambda.\n// console.count\n// console.countReset\n// console.dirxml\n// console.group\n// console.table\n\n// Because the enable() and disable() functions can\n// be called multiple, overlapping times, we need to\n// put these two variables into a global.\n// istanbul ignore else\nconst edgioOriginalConsole = {\n  assert: console.assert,\n  debug: console.debug,\n  dir: console.dir,\n  error: console.error,\n  info: console.info,\n  log: console.log,\n  time: console.time,\n  timeEnd: console.timeEnd,\n  timeLog: console.timeLog,\n  trace: console.trace,\n  warn: console.warn,\n}\n\nlet _timers: { [key: string]: number } = {}\n\n/**\n * A function set as `logMethod` in Pino options in order to concatenate\n * trailing parameters to logging functions. This emulates the behavior\n * of console.log family of methods.\n *\n * More at https://github.com/pinojs/pino/blob/HEAD/docs/api.md#interpolationvalues-any\n */\nfunction pinoLogArgConcatenationMethod(args: any[], method: any) {\n  if (args.length >= 2) {\n    // interpolate all non-string arguments with %j which serializes objects properly\n    // @ts-ignore\n    method.apply(this, [\n      args.map(arg => (typeof arg === 'string' ? '%s' : '%j')).join(' '),\n      ...args,\n    ])\n  } else {\n    // @ts-ignore\n    method.apply(this, args)\n  }\n}\n\nexport default class ConsoleWrapper {\n  static _assert(condition: boolean | undefined, ...args: any[]) {\n    if (!condition) {\n      console.info(...args)\n    }\n  }\n\n  static _dir(...args: any[]) {\n    console.info(util.inspect(...args))\n  }\n\n  static _time(label: string) {\n    _timers[label] = Date.now()\n  }\n\n  static _timeEnd(label: string) {\n    ConsoleWrapper._timeLog(label)\n  }\n\n  static _timeLog(label: string, ...args: any[]) {\n    if (!_timers[label]) {\n      console.warn(`Warning: No such label '${label}' for console.timeEnd()`)\n      return\n    }\n    const deltaTime = Date.now() - _timers[label]\n    _timers[label] = Date.now()\n    console.info(`${label}: ${deltaTime}ms`, ...args)\n  }\n\n  static enable({ clientIp, requestId }: { clientIp?: string; requestId?: string } = {}) {\n    _timers = {}\n\n    let logger = pino({\n      base: {\n        hid: metrics.handlerId,\n        sid: metrics.serverId,\n        ...awsCloudWatchTag,\n      },\n      // Changing this to true because we are getting rid of cloudwatch\n      // which used to add timestamps automatically. We should use the log generation time over\n      // log ingestion time anyway because the former is more accurate.\n      timestamp: true,\n      hooks: {\n        logMethod: pinoLogArgConcatenationMethod,\n      },\n    })\n\n    if (clientIp) {\n      logger = logger.child({ clientIp })\n    }\n\n    if (requestId) {\n      logger = logger.child({ requestId })\n    }\n\n    console.assert = ConsoleWrapper._assert\n    console.debug = logger.debug.bind(logger)\n    console.dir = ConsoleWrapper._dir\n    console.error = logger.error.bind(logger)\n    console.info = logger.info.bind(logger)\n    console.log = logger.info.bind(logger)\n    console.time = ConsoleWrapper._time\n    console.timeEnd = ConsoleWrapper._timeEnd\n    console.timeLog = ConsoleWrapper._timeLog\n    console.trace = logger.trace.bind(logger)\n    console.warn = logger.warn.bind(logger)\n  }\n\n  static disable() {\n    console.assert = edgioOriginalConsole.assert\n    console.debug = edgioOriginalConsole.debug\n    console.dir = edgioOriginalConsole.dir\n    console.error = edgioOriginalConsole.error\n    console.info = edgioOriginalConsole.info\n    console.log = edgioOriginalConsole.log\n    console.time = edgioOriginalConsole.time\n    console.timeEnd = edgioOriginalConsole.timeEnd\n    console.timeLog = edgioOriginalConsole.timeLog\n    console.trace = edgioOriginalConsole.trace\n    console.warn = edgioOriginalConsole.warn\n  }\n}\n", "import DevServerOptions from '../dev/DevServerOptions'\nimport LambdaResponse from '../runtime/LambdaResponse'\nimport { RuntimeOptions } from './RuntimeOptions'\n\n// add to global scope write to stream\ndeclare global {\n  interface String {\n    writeToStream: (response: LambdaResponse) => void\n  }\n}\n\nString.prototype.writeToStream = function (response: LambdaResponse) {\n  response.sendResponse(this.toString())\n}\n\n/**\n * This class is used to store global variables that are used in the runtime,\n * but are not passed as parameters to the functions, instead they are stored\n * in the global scope. For instance, as we don't have a way to pass values\n * between prod.js or dev.js script, we do it here, by accesing the global scope.\n */\nexport class EdgioRuntimeGlobal {\n  static get runtimeOptions(): RuntimeOptions | undefined {\n    // @ts-ignore\n    return global.EDGIO_RUNTIME_OPTIONS\n  }\n\n  static set runtimeOptions(options: RuntimeOptions | undefined) {\n    // @ts-ignore\n    global.EDGIO_RUNTIME_OPTIONS = options\n  }\n\n  static get isCacheEnabled(): boolean {\n    // @ts-ignore\n    return global.isCacheEnabled ?? false\n  }\n\n  static set isCacheEnabled(value: boolean) {\n    // @ts-ignore\n    global.isCacheEnabled = value\n  }\n\n  static get devOptions(): DevServerOptions | undefined {\n    // @ts-ignore\n    return global.devOptions\n  }\n\n  static set devOptions(options: DevServerOptions | undefined) {\n    // @ts-ignore\n    global.devOptions = options\n  }\n}\n\nexport {}\n", "import { EDGIO_DEPLOYMENT_TYPE_AWS, EDGIO_ENV_VARIABLES } from './constants'\nimport { EdgioRuntimeGlobal } from './lambda/global.helpers'\n\n/**\n * Used to determine if the app is running in the cloud.\n * @returns `true` when running in the cloud, `false` otherwise\n */\nexport function isCloud(): boolean {\n  if (EdgioRuntimeGlobal.runtimeOptions !== undefined)\n    return EdgioRuntimeGlobal.runtimeOptions.isProductionBuild\n\n  return process.env[EDGIO_ENV_VARIABLES.deploymentType] === EDGIO_DEPLOYMENT_TYPE_AWS\n}\n\n/**\n * Returns true when running locally, either in dev or production mode\n */\nexport function isLocal(): boolean {\n  return (\n    EdgioRuntimeGlobal.runtimeOptions?.devMode || process.env[EDGIO_ENV_VARIABLES.local] === 'true'\n  )\n}\n\n/**\n * Used to determine if the app is running on a production build.\n * @returns `true` when running a production build, either locally or in the cloud; `false` otherwise\n */\nexport function isProductionBuild(): boolean {\n  if (EdgioRuntimeGlobal.runtimeOptions !== undefined)\n    return EdgioRuntimeGlobal.runtimeOptions.isProductionBuild\n\n  return (\n    // Users can change the value of NODE_ENV in the cloud https://docs.edg.io/guides/basics/environments#built-in-environment-variables\n    // Caveat: We NEED to access NODE_ENV through array accessor, otherwise its mapped into static value by webpack that isnt changable at runtime\n    process.env['NODE_ENV'] === 'production' ||\n    // To reliably detect a prod build, we set variable EDGIO_PRODUCTION_BUILD true in lambdas which users can't change\n    // We can't use isCloud in those cases, as we need to use this function also in local cases\n    process.env[EDGIO_ENV_VARIABLES.productionBuild] === 'true'\n  )\n}\n\n/**\n * Used to determine if the app is running in `edgio run` development environment\n * @returns `true` when running with `edgio run`without production flag, `false` otherwise\n */\nexport function isEdgioRunDev(): boolean {\n  return !isCloud() && !isProductionBuild()\n}\n\n/**\n * Determines whether or not we are running in a browser\n * @returns `true` when running in a browser, otherwise false\n */\nexport function isBrowser() {\n  return typeof window !== 'undefined'\n}\n", "/*\n * Wrap the stdout/stderr write function to get a JSON output with request metadata\n * when we are running as a lambda\n */\n\nconst environment = require('../../environment')\nimport ConsoleWrapper, { awsCloudWatchTag } from './consoleWrapper'\nimport { metrics } from '../serverMetrics'\n\nconst edgioOriginalOutputs: any = {\n  stdoutWrite: process.stdout.write,\n  stderrWrite: process.stderr.write,\n}\n\nconst PINO_ERROR_LEVEL = 50\nconst PINO_INFO_LEVEL = 30\n\nlet edgioEnabledCount: number = 0\n\nconst JSON_LOG_IDENTIFIER = JSON.stringify(awsCloudWatchTag).replace('{', '').replace('}', '')\n\n/**\n * Check if this log is already wrapped into a json payload\n * @param log\n */\nfunction isEdgioJsonLog(log: string) {\n  return log.indexOf(JSON_LOG_IDENTIFIER) >= 0\n}\n\n// Connascence of values with Console UI: it depends on the values to correctly\n// render the logged request data.\n// Connascence of values with Log Streamer lambda: it depends on these values to\n// correctly apply the filtering,\nconst DOWNSTREAM_REQUEST_INFO_LEVEL = 100\nconst DOWNSTREAM_RESPONSE_INFO_LEVEL = 101\nconst UPSTREAM_REQUEST_INFO_LEVEL = 102\nconst UPSTREAM_RESPONSE_INFO_LEVEL = 103\nconst UPSTREAM_RESPONSE_BODY_INFO_LEVEL = 104\n\n// Base JSON object for the ongoing request. In AWS lambda all\n// requests are processed serially so we can keep this globally.\n// If we have to make this work for local development, we will\n// have to use \"thread local storage\".\nlet currentBaseJsonObject: any = {}\n\nexport function deepRequestInspectionLogger() {\n  // Logs the HTTP request information at the given level, provided that\n  // the HTTP request logging is globally enabled.\n  // This functions never throws as it is just related to logging and we don't\n  // want a request to ever fail due to logging issues.\n  function logHttpRequestInfo(data: any, level: number) {\n    try {\n      // A global that is ultimately set through the UI in the environment version.\n      if (process.env.EDGIO_HTTP_REQUEST_LOGGING === '1') {\n        edgioOriginalOutputs.stdoutWrite.apply(process.stdout, [\n          JSON.stringify({\n            level,\n            time: Date.now(),\n            hid: metrics.handlerId,\n            sid: metrics.serverId,\n            ...currentBaseJsonObject,\n            data,\n          }),\n        ])\n        edgioOriginalOutputs.stdoutWrite.apply(process.stdout, ['\\n'])\n      }\n    } catch (e: any) {\n      // istanbul ignore next\n      console.error(`Error while logging HTTP request info at level ${level}: ${e && e.message}`)\n    }\n  }\n\n  function logDownstreamRequestInfo(data: any) {\n    return logHttpRequestInfo(data, DOWNSTREAM_REQUEST_INFO_LEVEL)\n  }\n  function logDownstreamResponseInfo(data: any) {\n    return logHttpRequestInfo(data, DOWNSTREAM_RESPONSE_INFO_LEVEL)\n  }\n  function logUpstreamRequestInfo(data: any) {\n    return logHttpRequestInfo(data, UPSTREAM_REQUEST_INFO_LEVEL)\n  }\n  function logUpstreamResponseInfo(data: any) {\n    return logHttpRequestInfo(data, UPSTREAM_RESPONSE_INFO_LEVEL)\n  }\n  function logUpstreamResponseBodyInfo(data: any) {\n    return logHttpRequestInfo(data, UPSTREAM_RESPONSE_BODY_INFO_LEVEL)\n  }\n  return {\n    logDownstreamRequestInfo,\n    logDownstreamResponseInfo,\n    logUpstreamRequestInfo,\n    logUpstreamResponseInfo,\n    logUpstreamResponseBodyInfo,\n  }\n}\n\n/**\n * Overrides the given stream #write method so that every chunk\n * of text sent to that function is wrapped into a JSON object\n * as a 'msg' attribute.\n * The rest of the JSON object is defined by baseJsonObject\n *\n * @param stream Stream to override\n * @param baseJsonObject JSON object into which we inject the stream message\n */\nfunction jsonifyWriteStream(stream: NodeJS.WritableStream, baseJsonObject: object) {\n  const originalWrite = stream.write\n\n  // @ts-ignore\n  stream.write = function (chunk: Uint8Array | string, ...otherArgs) {\n    // Converts Buffer or Uint8Array to string\n    let convertedChunk\n    if (typeof chunk === 'object') {\n      convertedChunk = Buffer.from(chunk).toString()\n    } else {\n      convertedChunk = chunk\n    }\n\n    // Let JSON pass through without wrapping it again.\n    if (chunk && !isEdgioJsonLog(convertedChunk)) {\n      chunk =\n        JSON.stringify({\n          ...baseJsonObject,\n          time: Date.now(),\n          msg: convertedChunk,\n        }) + '\\n'\n    }\n\n    // @ts-ignore\n    return originalWrite.apply(stream, [chunk, ...otherArgs])\n  }\n}\n\nconst stdStreamsWrapper = {\n  /**\n   * Wraps console.xxx methods AND standard streams into a JSON payload that will\n   * be sent back to the final user in the log streaming interface.\n   *\n   * Notes:\n   * - We have to wrap standard streams because some logging libraries (like 'consola')\n   *   writes to those directly without going through console.xxx\n   * - We have to wrap console.xxx methods too, as they don't seem to be bound to\n   *   standard streams in AWS Lambda Environment. That wrapper (using pino) streams\n   *   to process.stdout, leading to the point below.\n   * - Both notes above would result in a double json encapsulation when logging via\n   *   console.xxx methods. We prevent that in our standard stream wrapper by detecting\n   *   a json string that coming from pino logger.\n   */\n  enable: ({ clientIp, requestId }: { clientIp?: string; requestId?: string } = {}) => {\n    if (!environment.isCloud()) {\n      return\n    }\n\n    if (edgioEnabledCount === 0) {\n      let basePayload: any = {\n        hid: metrics.handlerId,\n        sid: metrics.serverId,\n        ...awsCloudWatchTag,\n      }\n\n      if (clientIp) {\n        basePayload = {\n          ...basePayload,\n          clientIp,\n        }\n      }\n\n      if (requestId) {\n        basePayload = {\n          ...basePayload,\n          requestId,\n        }\n      }\n\n      // Since lambda processes the requests serially, we can rely on a global.\n      currentBaseJsonObject = basePayload\n\n      // Wrap standard streams as some\n      // As we don't have the same degree of \"level\" details as console methods, we\n      // assign INFO for stdout and ERROR for stderr\n      jsonifyWriteStream(process.stdout, { level: PINO_INFO_LEVEL, ...basePayload })\n      jsonifyWriteStream(process.stderr, { level: PINO_ERROR_LEVEL, ...basePayload })\n\n      // Wrap console.xxx methods\n      ConsoleWrapper.enable({ clientIp, requestId })\n    }\n\n    edgioEnabledCount++\n  },\n\n  disable: () => {\n    if (!environment.isCloud()) {\n      return\n    }\n\n    edgioEnabledCount--\n\n    if (edgioEnabledCount === 0) {\n      process.stdout.write = edgioOriginalOutputs.stdoutWrite\n      process.stderr.write = edgioOriginalOutputs.stderrWrite\n      currentBaseJsonObject = {}\n\n      ConsoleWrapper.disable()\n    }\n  },\n}\n\nexport default stdStreamsWrapper\n", "// @ts-nocheck\n// This entire module is written in JavaScript to allow for *very* precise and low-level overriding of\n// built-in NodeJS modules.\n'use strict'\nimport http from 'http'\nimport https from 'https'\nimport url from 'url'\nimport { inherits } from 'util'\nimport getBodyLoggingData from './getBodyLoggingData'\nimport { deepRequestInspectionLogger } from './stdStreamsWrapper'\nimport { EDGIO_VIA_HEADER_VALUE, HTTP_HEADERS } from '../../constants'\nimport { metrics } from '../serverMetrics'\n\n// Regex used to detect when the upstream requests are going to Edgio static backend.\n// The format of such domains is `xdn-user-assets-<AWS region>-<AWS Organization ID>.s3.amazonaws.com`\n// AWS regions are named `us-east-1`, `us-east-2`, etc.\n// AWS Organization IDs are only numbers.\nconst EDGIO_STATIC_BACKEND_DOMAIN_REGEX =\n  /^xdn-user-assets-[a-zA-Z0-9-]+-[0-9]+\\.s3\\.amazonaws\\.com$/\n\n// Copied from Node 14.x source code https://github.com/nodejs/node/blob/78680c1cbc8b0c435963bc512e826b2a6227c315/lib/internal/url.js#L1267\nfunction urlToOptions(url) {\n  const options = {\n    protocol: url.protocol,\n    hostname:\n      typeof url.hostname === 'string' && url.hostname.startsWith('[')\n        ? url.hostname.slice(1, -1)\n        : url.hostname,\n    hash: url.hash,\n    search: url.search,\n    pathname: url.pathname,\n    path: `${url.pathname || ''}${url.search || ''}`,\n    href: url.href,\n  }\n  if (url.port !== '') {\n    options.port = Number(url.port)\n  }\n  if (url.username || url.password) {\n    options.auth = `${url.username}:${url.password}`\n  }\n  return options\n}\n\n// Adapted from Node 14.x source code https://github.com/nodejs/node/blob/78680c1cbc8b0c435963bc512e826b2a6227c315/lib/_http_client.js#L92\nlet urlWarningEmitted = false\nconst searchParams = Symbol('query')\nconst searchParamsSymbol = searchParams\nfunction normalizeClientRequestArgs(input, options, cb) {\n  if (typeof input === 'string') {\n    const urlStr = input\n    try {\n      input = urlToOptions(new URL(urlStr))\n    } catch (err) {\n      input = url.parse(urlStr)\n      if (!input.hostname) {\n        throw err\n      }\n      if (!urlWarningEmitted && !process.noDeprecation) {\n        urlWarningEmitted = true\n        process.emitWarning(\n          `The provided URL ${urlStr} is not a valid URL, and is supported ` +\n            'in the http module solely for compatibility.',\n          'DeprecationWarning',\n          'DEP0109'\n        )\n      }\n    }\n  } else if (input && input[searchParamsSymbol] && input[searchParamsSymbol][searchParamsSymbol]) {\n    // url.URL instance\n    input = urlToOptions(input)\n  } else {\n    cb = options\n    options = input\n    input = null\n  }\n\n  if (typeof options === 'function') {\n    cb = options\n    options = input || {}\n  } else {\n    options = Object.assign(input || {}, options)\n  }\n\n  return { options, callback: cb }\n}\n\n// The original HTTP module ClientRequest. We will use this class\n// whenever we are not intercepting the requests.\nconst OriginalClientRequest = http.ClientRequest\n\n// Upstream counter per downstream request. It is reset every time\n// the request logging is enabled. Since Lambda is serially executed\n// we know that this will never have multiple concurrent requests.\nlet upstreamRequestCounter = 0\nlet upstreamRequestStart = []\n\n// The current interception options. These are set anew on every new\n// lambda (downstream) request.\nlet upstreamRequestInterceptionOptions = {}\n\n// Inherits native ClientRequest class in order to intercept the\n// upstream requests and log them.\nfunction EdgioClientRequest(...args) {\n  const { options, callback } = normalizeClientRequestArgs(...args)\n  options.headers = options.headers || {}\n  addDefaultUserAgent(options.headers)\n  addViaHeader(options.headers)\n\n  // We don't log requests going to the same host\n  // or edgio_static origin as developers don't\n  // expect to see internal platform requests.\n  if (!shouldLogRequest(options.hostname || options.host)) {\n    // On disabled logging, invoke the native Node ClientRequest.\n    return OriginalClientRequest.call(this, options, callback)\n  }\n\n  // On enabled logging, patch the native ClientRequest to log request, response and response body.\n  const wrappedCallback = patchClientRequest(this, options, callback)\n  // After patching and wrapping invoke the native ClientRequest (aka `super`)\n  return OriginalClientRequest.call(this, options, wrappedCallback)\n}\n\n// Patches the native ClientRequest in order to intercept upstream request and response data and log it.\nfunction patchClientRequest(clientRequest, options, callback) {\n  const id = upstreamRequestCounter++\n  upstreamRequestStart[id] = Date.now()\n\n  // For easier log tracking we log some of the upstream request info on upstream requests *and*\n  // on upstream responses.\n  const upstreamRequestInfo = {\n    method: options.method,\n    protocol: options.protocol,\n    host: options.hostname || options.host,\n    port: options.port || (options.protocol === 'https:' ? 443 : 80),\n    path: options.path,\n  }\n\n  const driLogger = new deepRequestInspectionLogger()\n\n  const wrappedCallback = res => {\n    const bodyBuffers = []\n\n    res.once('end', () => {\n      driLogger.logUpstreamResponseBodyInfo({\n        id,\n        ...upstreamRequestInfo,\n        ...getBodyLoggingData(bodyBuffers, res.headers),\n      })\n    })\n\n    // We only need to log upstream response and intercept the body if the\n    // HTTP request logging is enabled.\n    if (upstreamRequestInterceptionOptions.enableHttpRequestLogging) {\n      driLogger.logUpstreamResponseInfo({\n        id,\n        ...upstreamRequestInfo,\n        statusCode: res.statusCode,\n        statusMessage: res.statusMessage || http.STATUS_CODES[res.statusCode] || 'Unknown',\n        headers: res.headers,\n        duration: Date.now() - upstreamRequestStart[id],\n      })\n\n      let encoding\n      // We need to be aware of changes to the stream's encoding so that we\n      // don't accidentally mangle the data.\n      const { setEncoding } = res\n      res.setEncoding = function (newEncoding) {\n        encoding = newEncoding\n        return setEncoding.apply(this, arguments)\n      }\n\n      // Capture the data as it is streamed and log it on end.\n      // One danger that this poses is that it, in general case, it will\n      // increase the memory use of the function compared to user code\n      // running without logging. There is no way to avoid this short of\n      // logging buffers as they are coming and even that would not be\n      // entirely safe (as decompressing and converting a single buffer\n      // to base64 also needs additional memory)\n      // Replace res.push with our own implementation that stores chunks\n      // We use this approach over subscribing to res.on('data') because\n      // subscribing to data event turns the response stream to flowing mode\n      // That means the user code might miss some data events if it hasn't subscribed\n      // to 'data' event synchronously.\n      const origResPush = res.push\n      res.push = function (data) {\n        if (data) {\n          if (encoding) {\n            data = Buffer.from(data, encoding)\n          }\n          bodyBuffers.push(data)\n        }\n\n        return origResPush.call(res, data)\n      }\n    }\n\n    if (callback) {\n      callback(res)\n    }\n  }\n\n  // Patch the write and the end methods to intercept the request data.\n  const requestBodyBuffers = []\n  // Adds the buffer unless it's actually a callback function passed to\n  // `.write` or `.end`.\n  const addRequestBodyBuffer = function (buffer, encoding) {\n    if (Buffer.isBuffer(buffer) || typeof buffer === 'string') {\n      let internalBuffer = buffer\n      if (!Buffer.isBuffer(internalBuffer)) {\n        if (typeof encoding !== 'string') {\n          encoding = null\n        }\n        internalBuffer = Buffer.from(buffer, encoding)\n      }\n      requestBodyBuffers.push(internalBuffer)\n    }\n  }\n  clientRequest.write = function (buffer, encoding, callback) {\n    // Capture more of the request body. As with response bodies, this\n    // posses a problem of larger memory use when compared to user code on its own.\n    addRequestBodyBuffer(buffer, encoding)\n\n    return Object.getPrototypeOf(Object.getPrototypeOf(clientRequest)).write.call(\n      clientRequest,\n      buffer,\n      encoding,\n      callback\n    )\n  }.bind(clientRequest)\n  clientRequest.end = function (buffer, encoding, callback) {\n    // Capture the last buffer if it's being written through `.end`.\n    addRequestBodyBuffer(buffer, encoding)\n\n    if (upstreamRequestInterceptionOptions.enableHttpRequestLogging) {\n      driLogger.logUpstreamRequestInfo({\n        id,\n        ...upstreamRequestInfo,\n        headers: options.headers,\n        ...getBodyLoggingData(requestBodyBuffers, options.headers),\n      })\n    }\n\n    return Object.getPrototypeOf(Object.getPrototypeOf(clientRequest)).end.call(\n      clientRequest,\n      buffer,\n      encoding,\n      callback\n    )\n  }.bind(clientRequest)\n  // We log the first error as some errors like bad certs raise error event multiple times.\n  clientRequest.once('error', err => {\n    if (upstreamRequestInterceptionOptions.enableHttpRequestLogging) {\n      driLogger.logUpstreamResponseInfo({\n        id,\n        ...upstreamRequestInfo,\n        duration: Date.now() - upstreamRequestStart[id],\n        code: err && err.code,\n        error: err && err.message,\n      })\n    }\n  })\n\n  return wrappedCallback\n}\n\n// EdgioClientRequest extends the native ClientRequest and adds request and response\n// logging to it.\ninherits(EdgioClientRequest, http.ClientRequest)\n\n// Current ClientRequest class. When not logging requests, this\n// is equal to the native HTTP ClientRequest. When logging requests\n// this is equal to EdgioClientRequest.\nlet CurrentClientRequest = OriginalClientRequest\n\n// Override HTTP and HTTPS `request` functions so that they use\n// our current ClientRequest class. We have to do this in lambda\n// because by the time we get to override the HTTP/HTTPS modules\n// seem already loaded and then set to use native ClientRequest.\n\n// Copied from Node 14.x source code https://github.com/nodejs/node/blob/78680c1cbc8b0c435963bc512e826b2a6227c315/lib/http.js#L49\nhttp.request = function request(url, options, cb) {\n  return new CurrentClientRequest(url, options, cb)\n}\n\n// Adapted from Node 14.x source code https://github.com/nodejs/node/blob/78680c1cbc8b0c435963bc512e826b2a6227c315/lib/https.js#L280\nhttps.request = function request(...args) {\n  const { options, callback } = normalizeClientRequestArgs(...args)\n  options._defaultAgent = https.globalAgent\n  return new CurrentClientRequest(options, callback)\n}\n\n// Globally enables HTTP request logging by replacing the current ClientRequest\n// with EdgioClientRequest.\nCurrentClientRequest = EdgioClientRequest\nhttp.ClientRequest = EdgioClientRequest\n\nglobal.originalFetch = fetch\nglobal.fetch = async function fetch(\n  urlOrReq: URL | RequestInfo,\n  options: RequestInit | undefined = {}\n) {\n  const id = upstreamRequestCounter++\n  upstreamRequestStart[id] = Date.now()\n  const driLogger = new deepRequestInspectionLogger()\n\n  options.headers = options.headers || {}\n  addDefaultUserAgent(options.headers)\n  addViaHeader(options.headers)\n\n  // Don't even try to process request\n  // and just call the original fetch if logging is disabled\n  if (!upstreamRequestInterceptionOptions.enableHttpRequestLogging) {\n    return originalFetch(urlOrReq, options)\n  }\n\n  // The request info\n  const request = toRequest(urlOrReq, options)\n  const url = new URL(request.url)\n\n  // We don't log requests going to the same host\n  // or edgio_static origin as developers don't\n  // expect to see internal platform requests.\n  if (!shouldLogRequest(url.hostname)) {\n    return originalFetch(url, options)\n  }\n\n  const upstreamRequestInfo = {\n    method: request.method,\n    protocol: url.protocol,\n    host: url.hostname || url.host,\n    port: url.port || (url.protocol === 'https:' ? 443 : 80),\n    path: url.pathname + url.search,\n  }\n\n  // Log the response info\n  const requestHeaders = {}\n  request.headers.forEach((value, name) => (requestHeaders[name] = value))\n  driLogger.logUpstreamRequestInfo({\n    id,\n    ...upstreamRequestInfo,\n    headers: requestHeaders,\n    ...getBodyLoggingData(options.body || [], options.headers),\n  })\n\n  try {\n    // Make the fetch request\n    const response = await originalFetch(url, options)\n    // Clone the response before we consume the body,\n    // so we can log the body info and pass clone to the user code.\n    const responseClone = response.clone()\n\n    // Log the response info\n    const responseHeaders = {}\n    response.headers.forEach((value, name) => (responseHeaders[name] = value))\n    const responseBodyArrayBuffer = await response.arrayBuffer()\n    const responseBodyBuffer = Buffer.from(responseBodyArrayBuffer || [])\n    driLogger.logUpstreamResponseInfo({\n      id,\n      ...upstreamRequestInfo,\n      statusCode: response.status,\n      statusMessage: response.statusText || http.STATUS_CODES[response.status] || 'Unknown',\n      headers: responseHeaders,\n      duration: Date.now() - upstreamRequestStart[id],\n    })\n\n    // Log the response body info\n    driLogger.logUpstreamResponseBodyInfo({\n      id,\n      ...upstreamRequestInfo,\n      ...getBodyLoggingData(responseBodyBuffer, response.headers),\n    })\n\n    // Return copy of the response with the original body\n    // Note: There's a one edge-case -\n    // When we receive 204 No Content response from upstream origin,\n    // the response body is empty buffer with zero size. However,\n    // when we try to reconstruct such response using Response constructor,\n    // the empty string/buffer is not accepted as a valid body for 204 - No Content response status\n    // and the body needs to be set to null or undefined instead.\n    // The .clone() method handles this case.\n    return responseClone\n  } catch (err: any) {\n    // Log captured error\n    driLogger.logUpstreamResponseInfo({\n      id,\n      ...upstreamRequestInfo,\n      duration: Date.now() - upstreamRequestStart[id],\n      code: err && err.code,\n      error: err && err.message,\n    })\n    // Re-throw the error for the user code to handle\n    throw err\n  }\n}\n\n/**\n * Converts the given input to a Request object.\n * @param input The string | URL | Request to convert\n * @param init The request init options\n */\nfunction toRequest(input: string | URL | Request, init?: RequestInit): Request {\n  if (typeof input === 'string') {\n    return new Request(input, init)\n  } else if (input instanceof URL) {\n    return new Request(input.toString(), init)\n  } else {\n    return input\n  }\n}\n\n/**\n * Returns true if the request should be logged.\n * Request to localhost or Edgio static assets are not logged.\n * @param hostname\n */\nfunction shouldLogRequest(hostname?: string) {\n  return Boolean(\n    hostname &&\n      !['127.0.0.1', '0.0.0.0', '::1', '0:0:0:0:0:0:0:1', 'localhost'].includes(hostname) &&\n      !EDGIO_STATIC_BACKEND_DOMAIN_REGEX.test(hostname)\n  )\n}\n\n/**\n * Adds default 'User-Agent' header to the given headers object.\n * @param headers The headers object\n */\nfunction addDefaultUserAgent(headers: Record<string, string | string[]>) {\n  // If the user agent is not set, set it to \"Edgio\"\n  const userAgentHeader = Object.keys(headers).find(\n    header => header.toLowerCase() === HTTP_HEADERS.userAgent\n  )\n  if (!userAgentHeader) {\n    headers[HTTP_HEADERS.userAgent] = 'Edgio'\n  }\n}\n\n/**\n * Adds original incoming request's Via header with appended \"Edgio\",\n * so we can track the request path through the system and detect loops.\n * For example when user tries to itself or another Edgio site.\n */\nfunction addViaHeader(headers: Record<string, string | string[]>) {\n  // If the user agent is not set, set it to \"Edgio\"\n  const viaHeader = Object.keys(headers).find(header => header.toLowerCase() === HTTP_HEADERS.via)\n  if (!viaHeader) {\n    headers[HTTP_HEADERS.via] = metrics.via\n  }\n  headers[HTTP_HEADERS.via] = `${headers[HTTP_HEADERS.via]}, ${EDGIO_VIA_HEADER_VALUE}`\n}\n\n// Replace the current ClientRequest with EdgioClientRequest in order to intercept\n// all HTTP requests issued by the user code inside of lambda. This allows us to:\n//\n// * perform HTTP request logging\n// * preserve headers such as `via`\n//\n// Details:\n// * This function resets the internal counters so it cannot be used with concurrent\n// downstream requests on a single instance. AWS doesn't support this but if we need\n// to support it in local development this would need to be changed to use \"thread local storage\".\n// * Note that the enabling is global as long as it's done at the earliest possible\n// time in the lifetime of the process. Otherwise, other modules might make their\n// own copies of native ClientRequest and globally replacing it afterwards would\n// not work for those modules.\nfunction interceptRequests(options) {\n  upstreamRequestCounter = 0\n  upstreamRequestStart = []\n  upstreamRequestInterceptionOptions = options || {}\n}\n\nmodule.exports = {\n  interceptRequests,\n}\n", "'use strict';\n\n/* eslint complexity: [2, 18], max-statements: [2, 33] */\nmodule.exports = function hasSymbols() {\n\tif (typeof Symbol !== 'function' || typeof Object.getOwnPropertySymbols !== 'function') { return false; }\n\tif (typeof Symbol.iterator === 'symbol') { return true; }\n\n\tvar obj = {};\n\tvar sym = Symbol('test');\n\tvar symObj = Object(sym);\n\tif (typeof sym === 'string') { return false; }\n\n\tif (Object.prototype.toString.call(sym) !== '[object Symbol]') { return false; }\n\tif (Object.prototype.toString.call(symObj) !== '[object Symbol]') { return false; }\n\n\t// temp disabled per https://github.com/ljharb/object.assign/issues/17\n\t// if (sym instanceof Symbol) { return false; }\n\t// temp disabled per https://github.com/WebReflection/get-own-property-symbols/issues/4\n\t// if (!(symObj instanceof Symbol)) { return false; }\n\n\t// if (typeof Symbol.prototype.toString !== 'function') { return false; }\n\t// if (String(sym) !== Symbol.prototype.toString.call(sym)) { return false; }\n\n\tvar symVal = 42;\n\tobj[sym] = symVal;\n\tfor (sym in obj) { return false; } // eslint-disable-line no-restricted-syntax, no-unreachable-loop\n\tif (typeof Object.keys === 'function' && Object.keys(obj).length !== 0) { return false; }\n\n\tif (typeof Object.getOwnPropertyNames === 'function' && Object.getOwnPropertyNames(obj).length !== 0) { return false; }\n\n\tvar syms = Object.getOwnPropertySymbols(obj);\n\tif (syms.length !== 1 || syms[0] !== sym) { return false; }\n\n\tif (!Object.prototype.propertyIsEnumerable.call(obj, sym)) { return false; }\n\n\tif (typeof Object.getOwnPropertyDescriptor === 'function') {\n\t\tvar descriptor = Object.getOwnPropertyDescriptor(obj, sym);\n\t\tif (descriptor.value !== symVal || descriptor.enumerable !== true) { return false; }\n\t}\n\n\treturn true;\n};\n", "'use strict';\n\nvar origSymbol = typeof Symbol !== 'undefined' && Symbol;\nvar hasSymbolSham = require('./shams');\n\nmodule.exports = function hasNativeSymbols() {\n\tif (typeof origSymbol !== 'function') { return false; }\n\tif (typeof Symbol !== 'function') { return false; }\n\tif (typeof origSymbol('foo') !== 'symbol') { return false; }\n\tif (typeof Symbol('bar') !== 'symbol') { return false; }\n\n\treturn hasSymbolSham();\n};\n", "'use strict';\n\nvar test = {\n\tfoo: {}\n};\n\nvar $Object = Object;\n\nmodule.exports = function hasProto() {\n\treturn { __proto__: test }.foo === test.foo && !({ __proto__: null } instanceof $Object);\n};\n", "'use strict';\n\n/* eslint no-invalid-this: 1 */\n\nvar ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';\nvar toStr = Object.prototype.toString;\nvar max = Math.max;\nvar funcType = '[object Function]';\n\nvar concatty = function concatty(a, b) {\n    var arr = [];\n\n    for (var i = 0; i < a.length; i += 1) {\n        arr[i] = a[i];\n    }\n    for (var j = 0; j < b.length; j += 1) {\n        arr[j + a.length] = b[j];\n    }\n\n    return arr;\n};\n\nvar slicy = function slicy(arrLike, offset) {\n    var arr = [];\n    for (var i = offset || 0, j = 0; i < arrLike.length; i += 1, j += 1) {\n        arr[j] = arrLike[i];\n    }\n    return arr;\n};\n\nvar joiny = function (arr, joiner) {\n    var str = '';\n    for (var i = 0; i < arr.length; i += 1) {\n        str += arr[i];\n        if (i + 1 < arr.length) {\n            str += joiner;\n        }\n    }\n    return str;\n};\n\nmodule.exports = function bind(that) {\n    var target = this;\n    if (typeof target !== 'function' || toStr.apply(target) !== funcType) {\n        throw new TypeError(ERROR_MESSAGE + target);\n    }\n    var args = slicy(arguments, 1);\n\n    var bound;\n    var binder = function () {\n        if (this instanceof bound) {\n            var result = target.apply(\n                this,\n                concatty(args, arguments)\n            );\n            if (Object(result) === result) {\n                return result;\n            }\n            return this;\n        }\n        return target.apply(\n            that,\n            concatty(args, arguments)\n        );\n\n    };\n\n    var boundLength = max(0, target.length - args.length);\n    var boundArgs = [];\n    for (var i = 0; i < boundLength; i++) {\n        boundArgs[i] = '$' + i;\n    }\n\n    bound = Function('binder', 'return function (' + joiny(boundArgs, ',') + '){ return binder.apply(this,arguments); }')(binder);\n\n    if (target.prototype) {\n        var Empty = function Empty() {};\n        Empty.prototype = target.prototype;\n        bound.prototype = new Empty();\n        Empty.prototype = null;\n    }\n\n    return bound;\n};\n", "'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = Function.prototype.bind || implementation;\n", "'use strict';\n\nvar bind = require('function-bind');\n\nmodule.exports = bind.call(Function.call, Object.prototype.hasOwnProperty);\n", "'use strict';\n\nvar undefined;\n\nvar $SyntaxError = SyntaxError;\nvar $Function = Function;\nvar $TypeError = TypeError;\n\n// eslint-disable-next-line consistent-return\nvar getEvalledConstructor = function (expressionSyntax) {\n\ttry {\n\t\treturn $Function('\"use strict\"; return (' + expressionSyntax + ').constructor;')();\n\t} catch (e) {}\n};\n\nvar $gOPD = Object.getOwnPropertyDescriptor;\nif ($gOPD) {\n\ttry {\n\t\t$gOPD({}, '');\n\t} catch (e) {\n\t\t$gOPD = null; // this is IE 8, which has a broken gOPD\n\t}\n}\n\nvar throwTypeError = function () {\n\tthrow new $TypeError();\n};\nvar ThrowTypeError = $gOPD\n\t? (function () {\n\t\ttry {\n\t\t\t// eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties\n\t\t\targuments.callee; // IE 8 does not throw here\n\t\t\treturn throwTypeError;\n\t\t} catch (calleeThrows) {\n\t\t\ttry {\n\t\t\t\t// IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '')\n\t\t\t\treturn $gOPD(arguments, 'callee').get;\n\t\t\t} catch (gOPDthrows) {\n\t\t\t\treturn throwTypeError;\n\t\t\t}\n\t\t}\n\t}())\n\t: throwTypeError;\n\nvar hasSymbols = require('has-symbols')();\nvar hasProto = require('has-proto')();\n\nvar getProto = Object.getPrototypeOf || (\n\thasProto\n\t\t? function (x) { return x.__proto__; } // eslint-disable-line no-proto\n\t\t: null\n);\n\nvar needsEval = {};\n\nvar TypedArray = typeof Uint8Array === 'undefined' || !getProto ? undefined : getProto(Uint8Array);\n\nvar INTRINSICS = {\n\t'%AggregateError%': typeof AggregateError === 'undefined' ? undefined : AggregateError,\n\t'%Array%': Array,\n\t'%ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,\n\t'%ArrayIteratorPrototype%': hasSymbols && getProto ? getProto([][Symbol.iterator]()) : undefined,\n\t'%AsyncFromSyncIteratorPrototype%': undefined,\n\t'%AsyncFunction%': needsEval,\n\t'%AsyncGenerator%': needsEval,\n\t'%AsyncGeneratorFunction%': needsEval,\n\t'%AsyncIteratorPrototype%': needsEval,\n\t'%Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,\n\t'%BigInt%': typeof BigInt === 'undefined' ? undefined : BigInt,\n\t'%BigInt64Array%': typeof BigInt64Array === 'undefined' ? undefined : BigInt64Array,\n\t'%BigUint64Array%': typeof BigUint64Array === 'undefined' ? undefined : BigUint64Array,\n\t'%Boolean%': Boolean,\n\t'%DataView%': typeof DataView === 'undefined' ? undefined : DataView,\n\t'%Date%': Date,\n\t'%decodeURI%': decodeURI,\n\t'%decodeURIComponent%': decodeURIComponent,\n\t'%encodeURI%': encodeURI,\n\t'%encodeURIComponent%': encodeURIComponent,\n\t'%Error%': Error,\n\t'%eval%': eval, // eslint-disable-line no-eval\n\t'%EvalError%': EvalError,\n\t'%Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,\n\t'%Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,\n\t'%FinalizationRegistry%': typeof FinalizationRegistry === 'undefined' ? undefined : FinalizationRegistry,\n\t'%Function%': $Function,\n\t'%GeneratorFunction%': needsEval,\n\t'%Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,\n\t'%Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,\n\t'%Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,\n\t'%isFinite%': isFinite,\n\t'%isNaN%': isNaN,\n\t'%IteratorPrototype%': hasSymbols && getProto ? getProto(getProto([][Symbol.iterator]())) : undefined,\n\t'%JSON%': typeof JSON === 'object' ? JSON : undefined,\n\t'%Map%': typeof Map === 'undefined' ? undefined : Map,\n\t'%MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols || !getProto ? undefined : getProto(new Map()[Symbol.iterator]()),\n\t'%Math%': Math,\n\t'%Number%': Number,\n\t'%Object%': Object,\n\t'%parseFloat%': parseFloat,\n\t'%parseInt%': parseInt,\n\t'%Promise%': typeof Promise === 'undefined' ? undefined : Promise,\n\t'%Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,\n\t'%RangeError%': RangeError,\n\t'%ReferenceError%': ReferenceError,\n\t'%Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,\n\t'%RegExp%': RegExp,\n\t'%Set%': typeof Set === 'undefined' ? undefined : Set,\n\t'%SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols || !getProto ? undefined : getProto(new Set()[Symbol.iterator]()),\n\t'%SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,\n\t'%String%': String,\n\t'%StringIteratorPrototype%': hasSymbols && getProto ? getProto(''[Symbol.iterator]()) : undefined,\n\t'%Symbol%': hasSymbols ? Symbol : undefined,\n\t'%SyntaxError%': $SyntaxError,\n\t'%ThrowTypeError%': ThrowTypeError,\n\t'%TypedArray%': TypedArray,\n\t'%TypeError%': $TypeError,\n\t'%Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,\n\t'%Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,\n\t'%Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,\n\t'%Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,\n\t'%URIError%': URIError,\n\t'%WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,\n\t'%WeakRef%': typeof WeakRef === 'undefined' ? undefined : WeakRef,\n\t'%WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet\n};\n\nif (getProto) {\n\ttry {\n\t\tnull.error; // eslint-disable-line no-unused-expressions\n\t} catch (e) {\n\t\t// https://github.com/tc39/proposal-shadowrealm/pull/384#issuecomment-1364264229\n\t\tvar errorProto = getProto(getProto(e));\n\t\tINTRINSICS['%Error.prototype%'] = errorProto;\n\t}\n}\n\nvar doEval = function doEval(name) {\n\tvar value;\n\tif (name === '%AsyncFunction%') {\n\t\tvalue = getEvalledConstructor('async function () {}');\n\t} else if (name === '%GeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('function* () {}');\n\t} else if (name === '%AsyncGeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('async function* () {}');\n\t} else if (name === '%AsyncGenerator%') {\n\t\tvar fn = doEval('%AsyncGeneratorFunction%');\n\t\tif (fn) {\n\t\t\tvalue = fn.prototype;\n\t\t}\n\t} else if (name === '%AsyncIteratorPrototype%') {\n\t\tvar gen = doEval('%AsyncGenerator%');\n\t\tif (gen && getProto) {\n\t\t\tvalue = getProto(gen.prototype);\n\t\t}\n\t}\n\n\tINTRINSICS[name] = value;\n\n\treturn value;\n};\n\nvar LEGACY_ALIASES = {\n\t'%ArrayBufferPrototype%': ['ArrayBuffer', 'prototype'],\n\t'%ArrayPrototype%': ['Array', 'prototype'],\n\t'%ArrayProto_entries%': ['Array', 'prototype', 'entries'],\n\t'%ArrayProto_forEach%': ['Array', 'prototype', 'forEach'],\n\t'%ArrayProto_keys%': ['Array', 'prototype', 'keys'],\n\t'%ArrayProto_values%': ['Array', 'prototype', 'values'],\n\t'%AsyncFunctionPrototype%': ['AsyncFunction', 'prototype'],\n\t'%AsyncGenerator%': ['AsyncGeneratorFunction', 'prototype'],\n\t'%AsyncGeneratorPrototype%': ['AsyncGeneratorFunction', 'prototype', 'prototype'],\n\t'%BooleanPrototype%': ['Boolean', 'prototype'],\n\t'%DataViewPrototype%': ['DataView', 'prototype'],\n\t'%DatePrototype%': ['Date', 'prototype'],\n\t'%ErrorPrototype%': ['Error', 'prototype'],\n\t'%EvalErrorPrototype%': ['EvalError', 'prototype'],\n\t'%Float32ArrayPrototype%': ['Float32Array', 'prototype'],\n\t'%Float64ArrayPrototype%': ['Float64Array', 'prototype'],\n\t'%FunctionPrototype%': ['Function', 'prototype'],\n\t'%Generator%': ['GeneratorFunction', 'prototype'],\n\t'%GeneratorPrototype%': ['GeneratorFunction', 'prototype', 'prototype'],\n\t'%Int8ArrayPrototype%': ['Int8Array', 'prototype'],\n\t'%Int16ArrayPrototype%': ['Int16Array', 'prototype'],\n\t'%Int32ArrayPrototype%': ['Int32Array', 'prototype'],\n\t'%JSONParse%': ['JSON', 'parse'],\n\t'%JSONStringify%': ['JSON', 'stringify'],\n\t'%MapPrototype%': ['Map', 'prototype'],\n\t'%NumberPrototype%': ['Number', 'prototype'],\n\t'%ObjectPrototype%': ['Object', 'prototype'],\n\t'%ObjProto_toString%': ['Object', 'prototype', 'toString'],\n\t'%ObjProto_valueOf%': ['Object', 'prototype', 'valueOf'],\n\t'%PromisePrototype%': ['Promise', 'prototype'],\n\t'%PromiseProto_then%': ['Promise', 'prototype', 'then'],\n\t'%Promise_all%': ['Promise', 'all'],\n\t'%Promise_reject%': ['Promise', 'reject'],\n\t'%Promise_resolve%': ['Promise', 'resolve'],\n\t'%RangeErrorPrototype%': ['RangeError', 'prototype'],\n\t'%ReferenceErrorPrototype%': ['ReferenceError', 'prototype'],\n\t'%RegExpPrototype%': ['RegExp', 'prototype'],\n\t'%SetPrototype%': ['Set', 'prototype'],\n\t'%SharedArrayBufferPrototype%': ['SharedArrayBuffer', 'prototype'],\n\t'%StringPrototype%': ['String', 'prototype'],\n\t'%SymbolPrototype%': ['Symbol', 'prototype'],\n\t'%SyntaxErrorPrototype%': ['SyntaxError', 'prototype'],\n\t'%TypedArrayPrototype%': ['TypedArray', 'prototype'],\n\t'%TypeErrorPrototype%': ['TypeError', 'prototype'],\n\t'%Uint8ArrayPrototype%': ['Uint8Array', 'prototype'],\n\t'%Uint8ClampedArrayPrototype%': ['Uint8ClampedArray', 'prototype'],\n\t'%Uint16ArrayPrototype%': ['Uint16Array', 'prototype'],\n\t'%Uint32ArrayPrototype%': ['Uint32Array', 'prototype'],\n\t'%URIErrorPrototype%': ['URIError', 'prototype'],\n\t'%WeakMapPrototype%': ['WeakMap', 'prototype'],\n\t'%WeakSetPrototype%': ['WeakSet', 'prototype']\n};\n\nvar bind = require('function-bind');\nvar hasOwn = require('has');\nvar $concat = bind.call(Function.call, Array.prototype.concat);\nvar $spliceApply = bind.call(Function.apply, Array.prototype.splice);\nvar $replace = bind.call(Function.call, String.prototype.replace);\nvar $strSlice = bind.call(Function.call, String.prototype.slice);\nvar $exec = bind.call(Function.call, RegExp.prototype.exec);\n\n/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */\nvar rePropName = /[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g;\nvar reEscapeChar = /\\\\(\\\\)?/g; /** Used to match backslashes in property paths. */\nvar stringToPath = function stringToPath(string) {\n\tvar first = $strSlice(string, 0, 1);\n\tvar last = $strSlice(string, -1);\n\tif (first === '%' && last !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected closing `%`');\n\t} else if (last === '%' && first !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected opening `%`');\n\t}\n\tvar result = [];\n\t$replace(string, rePropName, function (match, number, quote, subString) {\n\t\tresult[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : number || match;\n\t});\n\treturn result;\n};\n/* end adaptation */\n\nvar getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {\n\tvar intrinsicName = name;\n\tvar alias;\n\tif (hasOwn(LEGACY_ALIASES, intrinsicName)) {\n\t\talias = LEGACY_ALIASES[intrinsicName];\n\t\tintrinsicName = '%' + alias[0] + '%';\n\t}\n\n\tif (hasOwn(INTRINSICS, intrinsicName)) {\n\t\tvar value = INTRINSICS[intrinsicName];\n\t\tif (value === needsEval) {\n\t\t\tvalue = doEval(intrinsicName);\n\t\t}\n\t\tif (typeof value === 'undefined' && !allowMissing) {\n\t\t\tthrow new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');\n\t\t}\n\n\t\treturn {\n\t\t\talias: alias,\n\t\t\tname: intrinsicName,\n\t\t\tvalue: value\n\t\t};\n\t}\n\n\tthrow new $SyntaxError('intrinsic ' + name + ' does not exist!');\n};\n\nmodule.exports = function GetIntrinsic(name, allowMissing) {\n\tif (typeof name !== 'string' || name.length === 0) {\n\t\tthrow new $TypeError('intrinsic name must be a non-empty string');\n\t}\n\tif (arguments.length > 1 && typeof allowMissing !== 'boolean') {\n\t\tthrow new $TypeError('\"allowMissing\" argument must be a boolean');\n\t}\n\n\tif ($exec(/^%?[^%]*%?$/, name) === null) {\n\t\tthrow new $SyntaxError('`%` may not be present anywhere but at the beginning and end of the intrinsic name');\n\t}\n\tvar parts = stringToPath(name);\n\tvar intrinsicBaseName = parts.length > 0 ? parts[0] : '';\n\n\tvar intrinsic = getBaseIntrinsic('%' + intrinsicBaseName + '%', allowMissing);\n\tvar intrinsicRealName = intrinsic.name;\n\tvar value = intrinsic.value;\n\tvar skipFurtherCaching = false;\n\n\tvar alias = intrinsic.alias;\n\tif (alias) {\n\t\tintrinsicBaseName = alias[0];\n\t\t$spliceApply(parts, $concat([0, 1], alias));\n\t}\n\n\tfor (var i = 1, isOwn = true; i < parts.length; i += 1) {\n\t\tvar part = parts[i];\n\t\tvar first = $strSlice(part, 0, 1);\n\t\tvar last = $strSlice(part, -1);\n\t\tif (\n\t\t\t(\n\t\t\t\t(first === '\"' || first === \"'\" || first === '`')\n\t\t\t\t|| (last === '\"' || last === \"'\" || last === '`')\n\t\t\t)\n\t\t\t&& first !== last\n\t\t) {\n\t\t\tthrow new $SyntaxError('property names with quotes must have matching quotes');\n\t\t}\n\t\tif (part === 'constructor' || !isOwn) {\n\t\t\tskipFurtherCaching = true;\n\t\t}\n\n\t\tintrinsicBaseName += '.' + part;\n\t\tintrinsicRealName = '%' + intrinsicBaseName + '%';\n\n\t\tif (hasOwn(INTRINSICS, intrinsicRealName)) {\n\t\t\tvalue = INTRINSICS[intrinsicRealName];\n\t\t} else if (value != null) {\n\t\t\tif (!(part in value)) {\n\t\t\t\tif (!allowMissing) {\n\t\t\t\t\tthrow new $TypeError('base intrinsic for ' + name + ' exists, but the property is not available.');\n\t\t\t\t}\n\t\t\t\treturn void undefined;\n\t\t\t}\n\t\t\tif ($gOPD && (i + 1) >= parts.length) {\n\t\t\t\tvar desc = $gOPD(value, part);\n\t\t\t\tisOwn = !!desc;\n\n\t\t\t\t// By convention, when a data property is converted to an accessor\n\t\t\t\t// property to emulate a data property that does not suffer from\n\t\t\t\t// the override mistake, that accessor's getter is marked with\n\t\t\t\t// an `originalValue` property. Here, when we detect this, we\n\t\t\t\t// uphold the illusion by pretending to see that original data\n\t\t\t\t// property, i.e., returning the value rather than the getter\n\t\t\t\t// itself.\n\t\t\t\tif (isOwn && 'get' in desc && !('originalValue' in desc.get)) {\n\t\t\t\t\tvalue = desc.get;\n\t\t\t\t} else {\n\t\t\t\t\tvalue = value[part];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tisOwn = hasOwn(value, part);\n\t\t\t\tvalue = value[part];\n\t\t\t}\n\n\t\t\tif (isOwn && !skipFurtherCaching) {\n\t\t\t\tINTRINSICS[intrinsicRealName] = value;\n\t\t\t}\n\t\t}\n\t}\n\treturn value;\n};\n", "'use strict';\n\nvar bind = require('function-bind');\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $apply = GetIntrinsic('%Function.prototype.apply%');\nvar $call = GetIntrinsic('%Function.prototype.call%');\nvar $reflectApply = GetIntrinsic('%Reflect.apply%', true) || bind.call($call, $apply);\n\nvar $gOPD = GetIntrinsic('%Object.getOwnPropertyDescriptor%', true);\nvar $defineProperty = GetIntrinsic('%Object.defineProperty%', true);\nvar $max = GetIntrinsic('%Math.max%');\n\nif ($defineProperty) {\n\ttry {\n\t\t$defineProperty({}, 'a', { value: 1 });\n\t} catch (e) {\n\t\t// IE 8 has a broken defineProperty\n\t\t$defineProperty = null;\n\t}\n}\n\nmodule.exports = function callBind(originalFunction) {\n\tvar func = $reflectApply(bind, $call, arguments);\n\tif ($gOPD && $defineProperty) {\n\t\tvar desc = $gOPD(func, 'length');\n\t\tif (desc.configurable) {\n\t\t\t// original length, plus the receiver, minus any additional arguments (after the receiver)\n\t\t\t$defineProperty(\n\t\t\t\tfunc,\n\t\t\t\t'length',\n\t\t\t\t{ value: 1 + $max(0, originalFunction.length - (arguments.length - 1)) }\n\t\t\t);\n\t\t}\n\t}\n\treturn func;\n};\n\nvar applyBind = function applyBind() {\n\treturn $reflectApply(bind, $apply, arguments);\n};\n\nif ($defineProperty) {\n\t$defineProperty(module.exports, 'apply', { value: applyBind });\n} else {\n\tmodule.exports.apply = applyBind;\n}\n", "'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar callBind = require('./');\n\nvar $indexOf = callBind(GetIntrinsic('String.prototype.indexOf'));\n\nmodule.exports = function callBoundIntrinsic(name, allowMissing) {\n\tvar intrinsic = GetIntrinsic(name, !!allowMissing);\n\tif (typeof intrinsic === 'function' && $indexOf(name, '.prototype.') > -1) {\n\t\treturn callBind(intrinsic);\n\t}\n\treturn intrinsic;\n};\n", "/* see bundle-object-inspect.sh for details */\n", "var hasMap = typeof Map === 'function' && Map.prototype;\nvar mapSizeDescriptor = Object.getOwnPropertyDescriptor && hasMap ? Object.getOwnPropertyDescriptor(Map.prototype, 'size') : null;\nvar mapSize = hasMap && mapSizeDescriptor && typeof mapSizeDescriptor.get === 'function' ? mapSizeDescriptor.get : null;\nvar mapForEach = hasMap && Map.prototype.forEach;\nvar hasSet = typeof Set === 'function' && Set.prototype;\nvar setSizeDescriptor = Object.getOwnPropertyDescriptor && hasSet ? Object.getOwnPropertyDescriptor(Set.prototype, 'size') : null;\nvar setSize = hasSet && setSizeDescriptor && typeof setSizeDescriptor.get === 'function' ? setSizeDescriptor.get : null;\nvar setForEach = hasSet && Set.prototype.forEach;\nvar hasWeakMap = typeof WeakMap === 'function' && WeakMap.prototype;\nvar weakMapHas = hasWeakMap ? WeakMap.prototype.has : null;\nvar hasWeakSet = typeof WeakSet === 'function' && WeakSet.prototype;\nvar weakSetHas = hasWeakSet ? WeakSet.prototype.has : null;\nvar hasWeakRef = typeof WeakRef === 'function' && WeakRef.prototype;\nvar weakRefDeref = hasWeakRef ? WeakRef.prototype.deref : null;\nvar booleanValueOf = Boolean.prototype.valueOf;\nvar objectToString = Object.prototype.toString;\nvar functionToString = Function.prototype.toString;\nvar $match = String.prototype.match;\nvar $slice = String.prototype.slice;\nvar $replace = String.prototype.replace;\nvar $toUpperCase = String.prototype.toUpperCase;\nvar $toLowerCase = String.prototype.toLowerCase;\nvar $test = RegExp.prototype.test;\nvar $concat = Array.prototype.concat;\nvar $join = Array.prototype.join;\nvar $arrSlice = Array.prototype.slice;\nvar $floor = Math.floor;\nvar bigIntValueOf = typeof BigInt === 'function' ? BigInt.prototype.valueOf : null;\nvar gOPS = Object.getOwnPropertySymbols;\nvar symToString = typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol' ? Symbol.prototype.toString : null;\nvar hasShammedSymbols = typeof Symbol === 'function' && typeof Symbol.iterator === 'object';\n// ie, `has-tostringtag/shams\nvar toStringTag = typeof Symbol === 'function' && Symbol.toStringTag && (typeof Symbol.toStringTag === hasShammedSymbols ? 'object' : 'symbol')\n    ? Symbol.toStringTag\n    : null;\nvar isEnumerable = Object.prototype.propertyIsEnumerable;\n\nvar gPO = (typeof Reflect === 'function' ? Reflect.getPrototypeOf : Object.getPrototypeOf) || (\n    [].__proto__ === Array.prototype // eslint-disable-line no-proto\n        ? function (O) {\n            return O.__proto__; // eslint-disable-line no-proto\n        }\n        : null\n);\n\nfunction addNumericSeparator(num, str) {\n    if (\n        num === Infinity\n        || num === -Infinity\n        || num !== num\n        || (num && num > -1000 && num < 1000)\n        || $test.call(/e/, str)\n    ) {\n        return str;\n    }\n    var sepRegex = /[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;\n    if (typeof num === 'number') {\n        var int = num < 0 ? -$floor(-num) : $floor(num); // trunc(num)\n        if (int !== num) {\n            var intStr = String(int);\n            var dec = $slice.call(str, intStr.length + 1);\n            return $replace.call(intStr, sepRegex, '$&_') + '.' + $replace.call($replace.call(dec, /([0-9]{3})/g, '$&_'), /_$/, '');\n        }\n    }\n    return $replace.call(str, sepRegex, '$&_');\n}\n\nvar utilInspect = require('./util.inspect');\nvar inspectCustom = utilInspect.custom;\nvar inspectSymbol = isSymbol(inspectCustom) ? inspectCustom : null;\n\nmodule.exports = function inspect_(obj, options, depth, seen) {\n    var opts = options || {};\n\n    if (has(opts, 'quoteStyle') && (opts.quoteStyle !== 'single' && opts.quoteStyle !== 'double')) {\n        throw new TypeError('option \"quoteStyle\" must be \"single\" or \"double\"');\n    }\n    if (\n        has(opts, 'maxStringLength') && (typeof opts.maxStringLength === 'number'\n            ? opts.maxStringLength < 0 && opts.maxStringLength !== Infinity\n            : opts.maxStringLength !== null\n        )\n    ) {\n        throw new TypeError('option \"maxStringLength\", if provided, must be a positive integer, Infinity, or `null`');\n    }\n    var customInspect = has(opts, 'customInspect') ? opts.customInspect : true;\n    if (typeof customInspect !== 'boolean' && customInspect !== 'symbol') {\n        throw new TypeError('option \"customInspect\", if provided, must be `true`, `false`, or `\\'symbol\\'`');\n    }\n\n    if (\n        has(opts, 'indent')\n        && opts.indent !== null\n        && opts.indent !== '\\t'\n        && !(parseInt(opts.indent, 10) === opts.indent && opts.indent > 0)\n    ) {\n        throw new TypeError('option \"indent\" must be \"\\\\t\", an integer > 0, or `null`');\n    }\n    if (has(opts, 'numericSeparator') && typeof opts.numericSeparator !== 'boolean') {\n        throw new TypeError('option \"numericSeparator\", if provided, must be `true` or `false`');\n    }\n    var numericSeparator = opts.numericSeparator;\n\n    if (typeof obj === 'undefined') {\n        return 'undefined';\n    }\n    if (obj === null) {\n        return 'null';\n    }\n    if (typeof obj === 'boolean') {\n        return obj ? 'true' : 'false';\n    }\n\n    if (typeof obj === 'string') {\n        return inspectString(obj, opts);\n    }\n    if (typeof obj === 'number') {\n        if (obj === 0) {\n            return Infinity / obj > 0 ? '0' : '-0';\n        }\n        var str = String(obj);\n        return numericSeparator ? addNumericSeparator(obj, str) : str;\n    }\n    if (typeof obj === 'bigint') {\n        var bigIntStr = String(obj) + 'n';\n        return numericSeparator ? addNumericSeparator(obj, bigIntStr) : bigIntStr;\n    }\n\n    var maxDepth = typeof opts.depth === 'undefined' ? 5 : opts.depth;\n    if (typeof depth === 'undefined') { depth = 0; }\n    if (depth >= maxDepth && maxDepth > 0 && typeof obj === 'object') {\n        return isArray(obj) ? '[Array]' : '[Object]';\n    }\n\n    var indent = getIndent(opts, depth);\n\n    if (typeof seen === 'undefined') {\n        seen = [];\n    } else if (indexOf(seen, obj) >= 0) {\n        return '[Circular]';\n    }\n\n    function inspect(value, from, noIndent) {\n        if (from) {\n            seen = $arrSlice.call(seen);\n            seen.push(from);\n        }\n        if (noIndent) {\n            var newOpts = {\n                depth: opts.depth\n            };\n            if (has(opts, 'quoteStyle')) {\n                newOpts.quoteStyle = opts.quoteStyle;\n            }\n            return inspect_(value, newOpts, depth + 1, seen);\n        }\n        return inspect_(value, opts, depth + 1, seen);\n    }\n\n    if (typeof obj === 'function' && !isRegExp(obj)) { // in older engines, regexes are callable\n        var name = nameOf(obj);\n        var keys = arrObjKeys(obj, inspect);\n        return '[Function' + (name ? ': ' + name : ' (anonymous)') + ']' + (keys.length > 0 ? ' { ' + $join.call(keys, ', ') + ' }' : '');\n    }\n    if (isSymbol(obj)) {\n        var symString = hasShammedSymbols ? $replace.call(String(obj), /^(Symbol\\(.*\\))_[^)]*$/, '$1') : symToString.call(obj);\n        return typeof obj === 'object' && !hasShammedSymbols ? markBoxed(symString) : symString;\n    }\n    if (isElement(obj)) {\n        var s = '<' + $toLowerCase.call(String(obj.nodeName));\n        var attrs = obj.attributes || [];\n        for (var i = 0; i < attrs.length; i++) {\n            s += ' ' + attrs[i].name + '=' + wrapQuotes(quote(attrs[i].value), 'double', opts);\n        }\n        s += '>';\n        if (obj.childNodes && obj.childNodes.length) { s += '...'; }\n        s += '</' + $toLowerCase.call(String(obj.nodeName)) + '>';\n        return s;\n    }\n    if (isArray(obj)) {\n        if (obj.length === 0) { return '[]'; }\n        var xs = arrObjKeys(obj, inspect);\n        if (indent && !singleLineValues(xs)) {\n            return '[' + indentedJoin(xs, indent) + ']';\n        }\n        return '[ ' + $join.call(xs, ', ') + ' ]';\n    }\n    if (isError(obj)) {\n        var parts = arrObjKeys(obj, inspect);\n        if (!('cause' in Error.prototype) && 'cause' in obj && !isEnumerable.call(obj, 'cause')) {\n            return '{ [' + String(obj) + '] ' + $join.call($concat.call('[cause]: ' + inspect(obj.cause), parts), ', ') + ' }';\n        }\n        if (parts.length === 0) { return '[' + String(obj) + ']'; }\n        return '{ [' + String(obj) + '] ' + $join.call(parts, ', ') + ' }';\n    }\n    if (typeof obj === 'object' && customInspect) {\n        if (inspectSymbol && typeof obj[inspectSymbol] === 'function' && utilInspect) {\n            return utilInspect(obj, { depth: maxDepth - depth });\n        } else if (customInspect !== 'symbol' && typeof obj.inspect === 'function') {\n            return obj.inspect();\n        }\n    }\n    if (isMap(obj)) {\n        var mapParts = [];\n        if (mapForEach) {\n            mapForEach.call(obj, function (value, key) {\n                mapParts.push(inspect(key, obj, true) + ' => ' + inspect(value, obj));\n            });\n        }\n        return collectionOf('Map', mapSize.call(obj), mapParts, indent);\n    }\n    if (isSet(obj)) {\n        var setParts = [];\n        if (setForEach) {\n            setForEach.call(obj, function (value) {\n                setParts.push(inspect(value, obj));\n            });\n        }\n        return collectionOf('Set', setSize.call(obj), setParts, indent);\n    }\n    if (isWeakMap(obj)) {\n        return weakCollectionOf('WeakMap');\n    }\n    if (isWeakSet(obj)) {\n        return weakCollectionOf('WeakSet');\n    }\n    if (isWeakRef(obj)) {\n        return weakCollectionOf('WeakRef');\n    }\n    if (isNumber(obj)) {\n        return markBoxed(inspect(Number(obj)));\n    }\n    if (isBigInt(obj)) {\n        return markBoxed(inspect(bigIntValueOf.call(obj)));\n    }\n    if (isBoolean(obj)) {\n        return markBoxed(booleanValueOf.call(obj));\n    }\n    if (isString(obj)) {\n        return markBoxed(inspect(String(obj)));\n    }\n    if (!isDate(obj) && !isRegExp(obj)) {\n        var ys = arrObjKeys(obj, inspect);\n        var isPlainObject = gPO ? gPO(obj) === Object.prototype : obj instanceof Object || obj.constructor === Object;\n        var protoTag = obj instanceof Object ? '' : 'null prototype';\n        var stringTag = !isPlainObject && toStringTag && Object(obj) === obj && toStringTag in obj ? $slice.call(toStr(obj), 8, -1) : protoTag ? 'Object' : '';\n        var constructorTag = isPlainObject || typeof obj.constructor !== 'function' ? '' : obj.constructor.name ? obj.constructor.name + ' ' : '';\n        var tag = constructorTag + (stringTag || protoTag ? '[' + $join.call($concat.call([], stringTag || [], protoTag || []), ': ') + '] ' : '');\n        if (ys.length === 0) { return tag + '{}'; }\n        if (indent) {\n            return tag + '{' + indentedJoin(ys, indent) + '}';\n        }\n        return tag + '{ ' + $join.call(ys, ', ') + ' }';\n    }\n    return String(obj);\n};\n\nfunction wrapQuotes(s, defaultStyle, opts) {\n    var quoteChar = (opts.quoteStyle || defaultStyle) === 'double' ? '\"' : \"'\";\n    return quoteChar + s + quoteChar;\n}\n\nfunction quote(s) {\n    return $replace.call(String(s), /\"/g, '&quot;');\n}\n\nfunction isArray(obj) { return toStr(obj) === '[object Array]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isDate(obj) { return toStr(obj) === '[object Date]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isRegExp(obj) { return toStr(obj) === '[object RegExp]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isError(obj) { return toStr(obj) === '[object Error]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isString(obj) { return toStr(obj) === '[object String]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isNumber(obj) { return toStr(obj) === '[object Number]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isBoolean(obj) { return toStr(obj) === '[object Boolean]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\n\n// Symbol and BigInt do have Symbol.toStringTag by spec, so that can't be used to eliminate false positives\nfunction isSymbol(obj) {\n    if (hasShammedSymbols) {\n        return obj && typeof obj === 'object' && obj instanceof Symbol;\n    }\n    if (typeof obj === 'symbol') {\n        return true;\n    }\n    if (!obj || typeof obj !== 'object' || !symToString) {\n        return false;\n    }\n    try {\n        symToString.call(obj);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nfunction isBigInt(obj) {\n    if (!obj || typeof obj !== 'object' || !bigIntValueOf) {\n        return false;\n    }\n    try {\n        bigIntValueOf.call(obj);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nvar hasOwn = Object.prototype.hasOwnProperty || function (key) { return key in this; };\nfunction has(obj, key) {\n    return hasOwn.call(obj, key);\n}\n\nfunction toStr(obj) {\n    return objectToString.call(obj);\n}\n\nfunction nameOf(f) {\n    if (f.name) { return f.name; }\n    var m = $match.call(functionToString.call(f), /^function\\s*([\\w$]+)/);\n    if (m) { return m[1]; }\n    return null;\n}\n\nfunction indexOf(xs, x) {\n    if (xs.indexOf) { return xs.indexOf(x); }\n    for (var i = 0, l = xs.length; i < l; i++) {\n        if (xs[i] === x) { return i; }\n    }\n    return -1;\n}\n\nfunction isMap(x) {\n    if (!mapSize || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        mapSize.call(x);\n        try {\n            setSize.call(x);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof Map; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakMap(x) {\n    if (!weakMapHas || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakMapHas.call(x, weakMapHas);\n        try {\n            weakSetHas.call(x, weakSetHas);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof WeakMap; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakRef(x) {\n    if (!weakRefDeref || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakRefDeref.call(x);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nfunction isSet(x) {\n    if (!setSize || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        setSize.call(x);\n        try {\n            mapSize.call(x);\n        } catch (m) {\n            return true;\n        }\n        return x instanceof Set; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakSet(x) {\n    if (!weakSetHas || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakSetHas.call(x, weakSetHas);\n        try {\n            weakMapHas.call(x, weakMapHas);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof WeakSet; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isElement(x) {\n    if (!x || typeof x !== 'object') { return false; }\n    if (typeof HTMLElement !== 'undefined' && x instanceof HTMLElement) {\n        return true;\n    }\n    return typeof x.nodeName === 'string' && typeof x.getAttribute === 'function';\n}\n\nfunction inspectString(str, opts) {\n    if (str.length > opts.maxStringLength) {\n        var remaining = str.length - opts.maxStringLength;\n        var trailer = '... ' + remaining + ' more character' + (remaining > 1 ? 's' : '');\n        return inspectString($slice.call(str, 0, opts.maxStringLength), opts) + trailer;\n    }\n    // eslint-disable-next-line no-control-regex\n    var s = $replace.call($replace.call(str, /(['\\\\])/g, '\\\\$1'), /[\\x00-\\x1f]/g, lowbyte);\n    return wrapQuotes(s, 'single', opts);\n}\n\nfunction lowbyte(c) {\n    var n = c.charCodeAt(0);\n    var x = {\n        8: 'b',\n        9: 't',\n        10: 'n',\n        12: 'f',\n        13: 'r'\n    }[n];\n    if (x) { return '\\\\' + x; }\n    return '\\\\x' + (n < 0x10 ? '0' : '') + $toUpperCase.call(n.toString(16));\n}\n\nfunction markBoxed(str) {\n    return 'Object(' + str + ')';\n}\n\nfunction weakCollectionOf(type) {\n    return type + ' { ? }';\n}\n\nfunction collectionOf(type, size, entries, indent) {\n    var joinedEntries = indent ? indentedJoin(entries, indent) : $join.call(entries, ', ');\n    return type + ' (' + size + ') {' + joinedEntries + '}';\n}\n\nfunction singleLineValues(xs) {\n    for (var i = 0; i < xs.length; i++) {\n        if (indexOf(xs[i], '\\n') >= 0) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction getIndent(opts, depth) {\n    var baseIndent;\n    if (opts.indent === '\\t') {\n        baseIndent = '\\t';\n    } else if (typeof opts.indent === 'number' && opts.indent > 0) {\n        baseIndent = $join.call(Array(opts.indent + 1), ' ');\n    } else {\n        return null;\n    }\n    return {\n        base: baseIndent,\n        prev: $join.call(Array(depth + 1), baseIndent)\n    };\n}\n\nfunction indentedJoin(xs, indent) {\n    if (xs.length === 0) { return ''; }\n    var lineJoiner = '\\n' + indent.prev + indent.base;\n    return lineJoiner + $join.call(xs, ',' + lineJoiner) + '\\n' + indent.prev;\n}\n\nfunction arrObjKeys(obj, inspect) {\n    var isArr = isArray(obj);\n    var xs = [];\n    if (isArr) {\n        xs.length = obj.length;\n        for (var i = 0; i < obj.length; i++) {\n            xs[i] = has(obj, i) ? inspect(obj[i], obj) : '';\n        }\n    }\n    var syms = typeof gOPS === 'function' ? gOPS(obj) : [];\n    var symMap;\n    if (hasShammedSymbols) {\n        symMap = {};\n        for (var k = 0; k < syms.length; k++) {\n            symMap['$' + syms[k]] = syms[k];\n        }\n    }\n\n    for (var key in obj) { // eslint-disable-line no-restricted-syntax\n        if (!has(obj, key)) { continue; } // eslint-disable-line no-restricted-syntax, no-continue\n        if (isArr && String(Number(key)) === key && key < obj.length) { continue; } // eslint-disable-line no-restricted-syntax, no-continue\n        if (hasShammedSymbols && symMap['$' + key] instanceof Symbol) {\n            // this is to prevent shammed Symbols, which are stored as strings, from being included in the string key section\n            continue; // eslint-disable-line no-restricted-syntax, no-continue\n        } else if ($test.call(/[^\\w$]/, key)) {\n            xs.push(inspect(key, obj) + ': ' + inspect(obj[key], obj));\n        } else {\n            xs.push(key + ': ' + inspect(obj[key], obj));\n        }\n    }\n    if (typeof gOPS === 'function') {\n        for (var j = 0; j < syms.length; j++) {\n            if (isEnumerable.call(obj, syms[j])) {\n                xs.push('[' + inspect(syms[j]) + ']: ' + inspect(obj[syms[j]], obj));\n            }\n        }\n    }\n    return xs;\n}\n", "'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\nvar callBound = require('call-bind/callBound');\nvar inspect = require('object-inspect');\n\nvar $TypeError = GetIntrinsic('%TypeError%');\nvar $WeakMap = GetIntrinsic('%WeakMap%', true);\nvar $Map = GetIntrinsic('%Map%', true);\n\nvar $weakMapGet = callBound('WeakMap.prototype.get', true);\nvar $weakMapSet = callBound('WeakMap.prototype.set', true);\nvar $weakMapHas = callBound('WeakMap.prototype.has', true);\nvar $mapGet = callBound('Map.prototype.get', true);\nvar $mapSet = callBound('Map.prototype.set', true);\nvar $mapHas = callBound('Map.prototype.has', true);\n\n/*\n * This function traverses the list returning the node corresponding to the\n * given key.\n *\n * That node is also moved to the head of the list, so that if it's accessed\n * again we don't need to traverse the whole list. By doing so, all the recently\n * used nodes can be accessed relatively quickly.\n */\nvar listGetNode = function (list, key) { // eslint-disable-line consistent-return\n\tfor (var prev = list, curr; (curr = prev.next) !== null; prev = curr) {\n\t\tif (curr.key === key) {\n\t\t\tprev.next = curr.next;\n\t\t\tcurr.next = list.next;\n\t\t\tlist.next = curr; // eslint-disable-line no-param-reassign\n\t\t\treturn curr;\n\t\t}\n\t}\n};\n\nvar listGet = function (objects, key) {\n\tvar node = listGetNode(objects, key);\n\treturn node && node.value;\n};\nvar listSet = function (objects, key, value) {\n\tvar node = listGetNode(objects, key);\n\tif (node) {\n\t\tnode.value = value;\n\t} else {\n\t\t// Prepend the new node to the beginning of the list\n\t\tobjects.next = { // eslint-disable-line no-param-reassign\n\t\t\tkey: key,\n\t\t\tnext: objects.next,\n\t\t\tvalue: value\n\t\t};\n\t}\n};\nvar listHas = function (objects, key) {\n\treturn !!listGetNode(objects, key);\n};\n\nmodule.exports = function getSideChannel() {\n\tvar $wm;\n\tvar $m;\n\tvar $o;\n\tvar channel = {\n\t\tassert: function (key) {\n\t\t\tif (!channel.has(key)) {\n\t\t\t\tthrow new $TypeError('Side channel does not contain ' + inspect(key));\n\t\t\t}\n\t\t},\n\t\tget: function (key) { // eslint-disable-line consistent-return\n\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\tif ($wm) {\n\t\t\t\t\treturn $weakMapGet($wm, key);\n\t\t\t\t}\n\t\t\t} else if ($Map) {\n\t\t\t\tif ($m) {\n\t\t\t\t\treturn $mapGet($m, key);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ($o) { // eslint-disable-line no-lonely-if\n\t\t\t\t\treturn listGet($o, key);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\thas: function (key) {\n\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\tif ($wm) {\n\t\t\t\t\treturn $weakMapHas($wm, key);\n\t\t\t\t}\n\t\t\t} else if ($Map) {\n\t\t\t\tif ($m) {\n\t\t\t\t\treturn $mapHas($m, key);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ($o) { // eslint-disable-line no-lonely-if\n\t\t\t\t\treturn listHas($o, key);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tset: function (key, value) {\n\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\tif (!$wm) {\n\t\t\t\t\t$wm = new $WeakMap();\n\t\t\t\t}\n\t\t\t\t$weakMapSet($wm, key, value);\n\t\t\t} else if ($Map) {\n\t\t\t\tif (!$m) {\n\t\t\t\t\t$m = new $Map();\n\t\t\t\t}\n\t\t\t\t$mapSet($m, key, value);\n\t\t\t} else {\n\t\t\t\tif (!$o) {\n\t\t\t\t\t/*\n\t\t\t\t\t * Initialize the linked list as an empty node, so that we don't have\n\t\t\t\t\t * to special-case handling of the first node: we can always refer to\n\t\t\t\t\t * it as (previous node).next, instead of something like (list).head\n\t\t\t\t\t */\n\t\t\t\t\t$o = { key: {}, next: null };\n\t\t\t\t}\n\t\t\t\tlistSet($o, key, value);\n\t\t\t}\n\t\t}\n\t};\n\treturn channel;\n};\n", "'use strict';\n\nvar replace = String.prototype.replace;\nvar percentTwenties = /%20/g;\n\nvar Format = {\n    RFC1738: 'RFC1738',\n    RFC3986: 'RFC3986'\n};\n\nmodule.exports = {\n    'default': Format.RFC3986,\n    formatters: {\n        RFC1738: function (value) {\n            return replace.call(value, percentTwenties, '+');\n        },\n        RFC3986: function (value) {\n            return String(value);\n        }\n    },\n    RFC1738: Format.RFC1738,\n    RFC3986: Format.RFC3986\n};\n", "'use strict';\n\nvar formats = require('./formats');\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar hexTable = (function () {\n    var array = [];\n    for (var i = 0; i < 256; ++i) {\n        array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase());\n    }\n\n    return array;\n}());\n\nvar compactQueue = function compactQueue(queue) {\n    while (queue.length > 1) {\n        var item = queue.pop();\n        var obj = item.obj[item.prop];\n\n        if (isArray(obj)) {\n            var compacted = [];\n\n            for (var j = 0; j < obj.length; ++j) {\n                if (typeof obj[j] !== 'undefined') {\n                    compacted.push(obj[j]);\n                }\n            }\n\n            item.obj[item.prop] = compacted;\n        }\n    }\n};\n\nvar arrayToObject = function arrayToObject(source, options) {\n    var obj = options && options.plainObjects ? Object.create(null) : {};\n    for (var i = 0; i < source.length; ++i) {\n        if (typeof source[i] !== 'undefined') {\n            obj[i] = source[i];\n        }\n    }\n\n    return obj;\n};\n\nvar merge = function merge(target, source, options) {\n    /* eslint no-param-reassign: 0 */\n    if (!source) {\n        return target;\n    }\n\n    if (typeof source !== 'object') {\n        if (isArray(target)) {\n            target.push(source);\n        } else if (target && typeof target === 'object') {\n            if ((options && (options.plainObjects || options.allowPrototypes)) || !has.call(Object.prototype, source)) {\n                target[source] = true;\n            }\n        } else {\n            return [target, source];\n        }\n\n        return target;\n    }\n\n    if (!target || typeof target !== 'object') {\n        return [target].concat(source);\n    }\n\n    var mergeTarget = target;\n    if (isArray(target) && !isArray(source)) {\n        mergeTarget = arrayToObject(target, options);\n    }\n\n    if (isArray(target) && isArray(source)) {\n        source.forEach(function (item, i) {\n            if (has.call(target, i)) {\n                var targetItem = target[i];\n                if (targetItem && typeof targetItem === 'object' && item && typeof item === 'object') {\n                    target[i] = merge(targetItem, item, options);\n                } else {\n                    target.push(item);\n                }\n            } else {\n                target[i] = item;\n            }\n        });\n        return target;\n    }\n\n    return Object.keys(source).reduce(function (acc, key) {\n        var value = source[key];\n\n        if (has.call(acc, key)) {\n            acc[key] = merge(acc[key], value, options);\n        } else {\n            acc[key] = value;\n        }\n        return acc;\n    }, mergeTarget);\n};\n\nvar assign = function assignSingleSource(target, source) {\n    return Object.keys(source).reduce(function (acc, key) {\n        acc[key] = source[key];\n        return acc;\n    }, target);\n};\n\nvar decode = function (str, decoder, charset) {\n    var strWithoutPlus = str.replace(/\\+/g, ' ');\n    if (charset === 'iso-8859-1') {\n        // unescape never throws, no try...catch needed:\n        return strWithoutPlus.replace(/%[0-9a-f]{2}/gi, unescape);\n    }\n    // utf-8\n    try {\n        return decodeURIComponent(strWithoutPlus);\n    } catch (e) {\n        return strWithoutPlus;\n    }\n};\n\nvar encode = function encode(str, defaultEncoder, charset, kind, format) {\n    // This code was originally written by Brian White (mscdex) for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n\n    var string = str;\n    if (typeof str === 'symbol') {\n        string = Symbol.prototype.toString.call(str);\n    } else if (typeof str !== 'string') {\n        string = String(str);\n    }\n\n    if (charset === 'iso-8859-1') {\n        return escape(string).replace(/%u[0-9a-f]{4}/gi, function ($0) {\n            return '%26%23' + parseInt($0.slice(2), 16) + '%3B';\n        });\n    }\n\n    var out = '';\n    for (var i = 0; i < string.length; ++i) {\n        var c = string.charCodeAt(i);\n\n        if (\n            c === 0x2D // -\n            || c === 0x2E // .\n            || c === 0x5F // _\n            || c === 0x7E // ~\n            || (c >= 0x30 && c <= 0x39) // 0-9\n            || (c >= 0x41 && c <= 0x5A) // a-z\n            || (c >= 0x61 && c <= 0x7A) // A-Z\n            || (format === formats.RFC1738 && (c === 0x28 || c === 0x29)) // ( )\n        ) {\n            out += string.charAt(i);\n            continue;\n        }\n\n        if (c < 0x80) {\n            out = out + hexTable[c];\n            continue;\n        }\n\n        if (c < 0x800) {\n            out = out + (hexTable[0xC0 | (c >> 6)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        if (c < 0xD800 || c >= 0xE000) {\n            out = out + (hexTable[0xE0 | (c >> 12)] + hexTable[0x80 | ((c >> 6) & 0x3F)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        i += 1;\n        c = 0x10000 + (((c & 0x3FF) << 10) | (string.charCodeAt(i) & 0x3FF));\n        /* eslint operator-linebreak: [2, \"before\"] */\n        out += hexTable[0xF0 | (c >> 18)]\n            + hexTable[0x80 | ((c >> 12) & 0x3F)]\n            + hexTable[0x80 | ((c >> 6) & 0x3F)]\n            + hexTable[0x80 | (c & 0x3F)];\n    }\n\n    return out;\n};\n\nvar compact = function compact(value) {\n    var queue = [{ obj: { o: value }, prop: 'o' }];\n    var refs = [];\n\n    for (var i = 0; i < queue.length; ++i) {\n        var item = queue[i];\n        var obj = item.obj[item.prop];\n\n        var keys = Object.keys(obj);\n        for (var j = 0; j < keys.length; ++j) {\n            var key = keys[j];\n            var val = obj[key];\n            if (typeof val === 'object' && val !== null && refs.indexOf(val) === -1) {\n                queue.push({ obj: obj, prop: key });\n                refs.push(val);\n            }\n        }\n    }\n\n    compactQueue(queue);\n\n    return value;\n};\n\nvar isRegExp = function isRegExp(obj) {\n    return Object.prototype.toString.call(obj) === '[object RegExp]';\n};\n\nvar isBuffer = function isBuffer(obj) {\n    if (!obj || typeof obj !== 'object') {\n        return false;\n    }\n\n    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n};\n\nvar combine = function combine(a, b) {\n    return [].concat(a, b);\n};\n\nvar maybeMap = function maybeMap(val, fn) {\n    if (isArray(val)) {\n        var mapped = [];\n        for (var i = 0; i < val.length; i += 1) {\n            mapped.push(fn(val[i]));\n        }\n        return mapped;\n    }\n    return fn(val);\n};\n\nmodule.exports = {\n    arrayToObject: arrayToObject,\n    assign: assign,\n    combine: combine,\n    compact: compact,\n    decode: decode,\n    encode: encode,\n    isBuffer: isBuffer,\n    isRegExp: isRegExp,\n    maybeMap: maybeMap,\n    merge: merge\n};\n", "'use strict';\n\nvar getSideChannel = require('side-channel');\nvar utils = require('./utils');\nvar formats = require('./formats');\nvar has = Object.prototype.hasOwnProperty;\n\nvar arrayPrefixGenerators = {\n    brackets: function brackets(prefix) {\n        return prefix + '[]';\n    },\n    comma: 'comma',\n    indices: function indices(prefix, key) {\n        return prefix + '[' + key + ']';\n    },\n    repeat: function repeat(prefix) {\n        return prefix;\n    }\n};\n\nvar isArray = Array.isArray;\nvar push = Array.prototype.push;\nvar pushToArray = function (arr, valueOrArray) {\n    push.apply(arr, isArray(valueOrArray) ? valueOrArray : [valueOrArray]);\n};\n\nvar toISO = Date.prototype.toISOString;\n\nvar defaultFormat = formats['default'];\nvar defaults = {\n    addQueryPrefix: false,\n    allowDots: false,\n    charset: 'utf-8',\n    charsetSentinel: false,\n    delimiter: '&',\n    encode: true,\n    encoder: utils.encode,\n    encodeValuesOnly: false,\n    format: defaultFormat,\n    formatter: formats.formatters[defaultFormat],\n    // deprecated\n    indices: false,\n    serializeDate: function serializeDate(date) {\n        return toISO.call(date);\n    },\n    skipNulls: false,\n    strictNullHandling: false\n};\n\nvar isNonNullishPrimitive = function isNonNullishPrimitive(v) {\n    return typeof v === 'string'\n        || typeof v === 'number'\n        || typeof v === 'boolean'\n        || typeof v === 'symbol'\n        || typeof v === 'bigint';\n};\n\nvar sentinel = {};\n\nvar stringify = function stringify(\n    object,\n    prefix,\n    generateArrayPrefix,\n    commaRoundTrip,\n    strictNullHandling,\n    skipNulls,\n    encoder,\n    filter,\n    sort,\n    allowDots,\n    serializeDate,\n    format,\n    formatter,\n    encodeValuesOnly,\n    charset,\n    sideChannel\n) {\n    var obj = object;\n\n    var tmpSc = sideChannel;\n    var step = 0;\n    var findFlag = false;\n    while ((tmpSc = tmpSc.get(sentinel)) !== void undefined && !findFlag) {\n        // Where object last appeared in the ref tree\n        var pos = tmpSc.get(object);\n        step += 1;\n        if (typeof pos !== 'undefined') {\n            if (pos === step) {\n                throw new RangeError('Cyclic object value');\n            } else {\n                findFlag = true; // Break while\n            }\n        }\n        if (typeof tmpSc.get(sentinel) === 'undefined') {\n            step = 0;\n        }\n    }\n\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    } else if (obj instanceof Date) {\n        obj = serializeDate(obj);\n    } else if (generateArrayPrefix === 'comma' && isArray(obj)) {\n        obj = utils.maybeMap(obj, function (value) {\n            if (value instanceof Date) {\n                return serializeDate(value);\n            }\n            return value;\n        });\n    }\n\n    if (obj === null) {\n        if (strictNullHandling) {\n            return encoder && !encodeValuesOnly ? encoder(prefix, defaults.encoder, charset, 'key', format) : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (isNonNullishPrimitive(obj) || utils.isBuffer(obj)) {\n        if (encoder) {\n            var keyValue = encodeValuesOnly ? prefix : encoder(prefix, defaults.encoder, charset, 'key', format);\n            return [formatter(keyValue) + '=' + formatter(encoder(obj, defaults.encoder, charset, 'value', format))];\n        }\n        return [formatter(prefix) + '=' + formatter(String(obj))];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys;\n    if (generateArrayPrefix === 'comma' && isArray(obj)) {\n        // we need to join elements in\n        if (encodeValuesOnly && encoder) {\n            obj = utils.maybeMap(obj, encoder);\n        }\n        objKeys = [{ value: obj.length > 0 ? obj.join(',') || null : void undefined }];\n    } else if (isArray(filter)) {\n        objKeys = filter;\n    } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    var adjustedPrefix = commaRoundTrip && isArray(obj) && obj.length === 1 ? prefix + '[]' : prefix;\n\n    for (var j = 0; j < objKeys.length; ++j) {\n        var key = objKeys[j];\n        var value = typeof key === 'object' && typeof key.value !== 'undefined' ? key.value : obj[key];\n\n        if (skipNulls && value === null) {\n            continue;\n        }\n\n        var keyPrefix = isArray(obj)\n            ? typeof generateArrayPrefix === 'function' ? generateArrayPrefix(adjustedPrefix, key) : adjustedPrefix\n            : adjustedPrefix + (allowDots ? '.' + key : '[' + key + ']');\n\n        sideChannel.set(object, step);\n        var valueSideChannel = getSideChannel();\n        valueSideChannel.set(sentinel, sideChannel);\n        pushToArray(values, stringify(\n            value,\n            keyPrefix,\n            generateArrayPrefix,\n            commaRoundTrip,\n            strictNullHandling,\n            skipNulls,\n            generateArrayPrefix === 'comma' && encodeValuesOnly && isArray(obj) ? null : encoder,\n            filter,\n            sort,\n            allowDots,\n            serializeDate,\n            format,\n            formatter,\n            encodeValuesOnly,\n            charset,\n            valueSideChannel\n        ));\n    }\n\n    return values;\n};\n\nvar normalizeStringifyOptions = function normalizeStringifyOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (opts.encoder !== null && typeof opts.encoder !== 'undefined' && typeof opts.encoder !== 'function') {\n        throw new TypeError('Encoder has to be a function.');\n    }\n\n    var charset = opts.charset || defaults.charset;\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n\n    var format = formats['default'];\n    if (typeof opts.format !== 'undefined') {\n        if (!has.call(formats.formatters, opts.format)) {\n            throw new TypeError('Unknown format option provided.');\n        }\n        format = opts.format;\n    }\n    var formatter = formats.formatters[format];\n\n    var filter = defaults.filter;\n    if (typeof opts.filter === 'function' || isArray(opts.filter)) {\n        filter = opts.filter;\n    }\n\n    return {\n        addQueryPrefix: typeof opts.addQueryPrefix === 'boolean' ? opts.addQueryPrefix : defaults.addQueryPrefix,\n        allowDots: typeof opts.allowDots === 'undefined' ? defaults.allowDots : !!opts.allowDots,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        delimiter: typeof opts.delimiter === 'undefined' ? defaults.delimiter : opts.delimiter,\n        encode: typeof opts.encode === 'boolean' ? opts.encode : defaults.encode,\n        encoder: typeof opts.encoder === 'function' ? opts.encoder : defaults.encoder,\n        encodeValuesOnly: typeof opts.encodeValuesOnly === 'boolean' ? opts.encodeValuesOnly : defaults.encodeValuesOnly,\n        filter: filter,\n        format: format,\n        formatter: formatter,\n        serializeDate: typeof opts.serializeDate === 'function' ? opts.serializeDate : defaults.serializeDate,\n        skipNulls: typeof opts.skipNulls === 'boolean' ? opts.skipNulls : defaults.skipNulls,\n        sort: typeof opts.sort === 'function' ? opts.sort : null,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (object, opts) {\n    var obj = object;\n    var options = normalizeStringifyOptions(opts);\n\n    var objKeys;\n    var filter;\n\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    } else if (isArray(options.filter)) {\n        filter = options.filter;\n        objKeys = filter;\n    }\n\n    var keys = [];\n\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n\n    var arrayFormat;\n    if (opts && opts.arrayFormat in arrayPrefixGenerators) {\n        arrayFormat = opts.arrayFormat;\n    } else if (opts && 'indices' in opts) {\n        arrayFormat = opts.indices ? 'indices' : 'repeat';\n    } else {\n        arrayFormat = 'indices';\n    }\n\n    var generateArrayPrefix = arrayPrefixGenerators[arrayFormat];\n    if (opts && 'commaRoundTrip' in opts && typeof opts.commaRoundTrip !== 'boolean') {\n        throw new TypeError('`commaRoundTrip` must be a boolean, or absent');\n    }\n    var commaRoundTrip = generateArrayPrefix === 'comma' && opts && opts.commaRoundTrip;\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    if (options.sort) {\n        objKeys.sort(options.sort);\n    }\n\n    var sideChannel = getSideChannel();\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (options.skipNulls && obj[key] === null) {\n            continue;\n        }\n        pushToArray(keys, stringify(\n            obj[key],\n            key,\n            generateArrayPrefix,\n            commaRoundTrip,\n            options.strictNullHandling,\n            options.skipNulls,\n            options.encode ? options.encoder : null,\n            options.filter,\n            options.sort,\n            options.allowDots,\n            options.serializeDate,\n            options.format,\n            options.formatter,\n            options.encodeValuesOnly,\n            options.charset,\n            sideChannel\n        ));\n    }\n\n    var joined = keys.join(options.delimiter);\n    var prefix = options.addQueryPrefix === true ? '?' : '';\n\n    if (options.charsetSentinel) {\n        if (options.charset === 'iso-8859-1') {\n            // encodeURIComponent('&#10003;'), the \"numeric entity\" representation of a checkmark\n            prefix += 'utf8=%26%2310003%3B&';\n        } else {\n            // encodeURIComponent('\u2713')\n            prefix += 'utf8=%E2%9C%93&';\n        }\n    }\n\n    return joined.length > 0 ? prefix + joined : '';\n};\n", "'use strict';\n\nvar utils = require('./utils');\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar defaults = {\n    allowDots: false,\n    allowPrototypes: false,\n    allowSparse: false,\n    arrayLimit: 20,\n    charset: 'utf-8',\n    charsetSentinel: false,\n    comma: false,\n    decoder: utils.decode,\n    delimiter: '&',\n    depth: 5,\n    ignoreQueryPrefix: false,\n    interpretNumericEntities: false,\n    parameterLimit: 1000,\n    parseArrays: true,\n    plainObjects: false,\n    strictNullHandling: false\n};\n\nvar interpretNumericEntities = function (str) {\n    return str.replace(/&#(\\d+);/g, function ($0, numberStr) {\n        return String.fromCharCode(parseInt(numberStr, 10));\n    });\n};\n\nvar parseArrayValue = function (val, options) {\n    if (val && typeof val === 'string' && options.comma && val.indexOf(',') > -1) {\n        return val.split(',');\n    }\n\n    return val;\n};\n\n// This is what browsers will submit when the \u2713 character occurs in an\n// application/x-www-form-urlencoded body and the encoding of the page containing\n// the form is iso-8859-1, or when the submitted form has an accept-charset\n// attribute of iso-8859-1. Presumably also with other charsets that do not contain\n// the \u2713 character, such as us-ascii.\nvar isoSentinel = 'utf8=%26%2310003%3B'; // encodeURIComponent('&#10003;')\n\n// These are the percent-encoded utf-8 octets representing a checkmark, indicating that the request actually is utf-8 encoded.\nvar charsetSentinel = 'utf8=%E2%9C%93'; // encodeURIComponent('\u2713')\n\nvar parseValues = function parseQueryStringValues(str, options) {\n    var obj = { __proto__: null };\n\n    var cleanStr = options.ignoreQueryPrefix ? str.replace(/^\\?/, '') : str;\n    var limit = options.parameterLimit === Infinity ? undefined : options.parameterLimit;\n    var parts = cleanStr.split(options.delimiter, limit);\n    var skipIndex = -1; // Keep track of where the utf8 sentinel was found\n    var i;\n\n    var charset = options.charset;\n    if (options.charsetSentinel) {\n        for (i = 0; i < parts.length; ++i) {\n            if (parts[i].indexOf('utf8=') === 0) {\n                if (parts[i] === charsetSentinel) {\n                    charset = 'utf-8';\n                } else if (parts[i] === isoSentinel) {\n                    charset = 'iso-8859-1';\n                }\n                skipIndex = i;\n                i = parts.length; // The eslint settings do not allow break;\n            }\n        }\n    }\n\n    for (i = 0; i < parts.length; ++i) {\n        if (i === skipIndex) {\n            continue;\n        }\n        var part = parts[i];\n\n        var bracketEqualsPos = part.indexOf(']=');\n        var pos = bracketEqualsPos === -1 ? part.indexOf('=') : bracketEqualsPos + 1;\n\n        var key, val;\n        if (pos === -1) {\n            key = options.decoder(part, defaults.decoder, charset, 'key');\n            val = options.strictNullHandling ? null : '';\n        } else {\n            key = options.decoder(part.slice(0, pos), defaults.decoder, charset, 'key');\n            val = utils.maybeMap(\n                parseArrayValue(part.slice(pos + 1), options),\n                function (encodedVal) {\n                    return options.decoder(encodedVal, defaults.decoder, charset, 'value');\n                }\n            );\n        }\n\n        if (val && options.interpretNumericEntities && charset === 'iso-8859-1') {\n            val = interpretNumericEntities(val);\n        }\n\n        if (part.indexOf('[]=') > -1) {\n            val = isArray(val) ? [val] : val;\n        }\n\n        if (has.call(obj, key)) {\n            obj[key] = utils.combine(obj[key], val);\n        } else {\n            obj[key] = val;\n        }\n    }\n\n    return obj;\n};\n\nvar parseObject = function (chain, val, options, valuesParsed) {\n    var leaf = valuesParsed ? val : parseArrayValue(val, options);\n\n    for (var i = chain.length - 1; i >= 0; --i) {\n        var obj;\n        var root = chain[i];\n\n        if (root === '[]' && options.parseArrays) {\n            obj = [].concat(leaf);\n        } else {\n            obj = options.plainObjects ? Object.create(null) : {};\n            var cleanRoot = root.charAt(0) === '[' && root.charAt(root.length - 1) === ']' ? root.slice(1, -1) : root;\n            var index = parseInt(cleanRoot, 10);\n            if (!options.parseArrays && cleanRoot === '') {\n                obj = { 0: leaf };\n            } else if (\n                !isNaN(index)\n                && root !== cleanRoot\n                && String(index) === cleanRoot\n                && index >= 0\n                && (options.parseArrays && index <= options.arrayLimit)\n            ) {\n                obj = [];\n                obj[index] = leaf;\n            } else if (cleanRoot !== '__proto__') {\n                obj[cleanRoot] = leaf;\n            }\n        }\n\n        leaf = obj;\n    }\n\n    return leaf;\n};\n\nvar parseKeys = function parseQueryStringKeys(givenKey, val, options, valuesParsed) {\n    if (!givenKey) {\n        return;\n    }\n\n    // Transform dot notation to bracket notation\n    var key = options.allowDots ? givenKey.replace(/\\.([^.[]+)/g, '[$1]') : givenKey;\n\n    // The regex chunks\n\n    var brackets = /(\\[[^[\\]]*])/;\n    var child = /(\\[[^[\\]]*])/g;\n\n    // Get the parent\n\n    var segment = options.depth > 0 && brackets.exec(key);\n    var parent = segment ? key.slice(0, segment.index) : key;\n\n    // Stash the parent if it exists\n\n    var keys = [];\n    if (parent) {\n        // If we aren't using plain objects, optionally prefix keys that would overwrite object prototype properties\n        if (!options.plainObjects && has.call(Object.prototype, parent)) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n\n        keys.push(parent);\n    }\n\n    // Loop through children appending to the array until we hit depth\n\n    var i = 0;\n    while (options.depth > 0 && (segment = child.exec(key)) !== null && i < options.depth) {\n        i += 1;\n        if (!options.plainObjects && has.call(Object.prototype, segment[1].slice(1, -1))) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n        keys.push(segment[1]);\n    }\n\n    // If there's a remainder, just add whatever is left\n\n    if (segment) {\n        keys.push('[' + key.slice(segment.index) + ']');\n    }\n\n    return parseObject(keys, val, options, valuesParsed);\n};\n\nvar normalizeParseOptions = function normalizeParseOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (opts.decoder !== null && opts.decoder !== undefined && typeof opts.decoder !== 'function') {\n        throw new TypeError('Decoder has to be a function.');\n    }\n\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n    var charset = typeof opts.charset === 'undefined' ? defaults.charset : opts.charset;\n\n    return {\n        allowDots: typeof opts.allowDots === 'undefined' ? defaults.allowDots : !!opts.allowDots,\n        allowPrototypes: typeof opts.allowPrototypes === 'boolean' ? opts.allowPrototypes : defaults.allowPrototypes,\n        allowSparse: typeof opts.allowSparse === 'boolean' ? opts.allowSparse : defaults.allowSparse,\n        arrayLimit: typeof opts.arrayLimit === 'number' ? opts.arrayLimit : defaults.arrayLimit,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        comma: typeof opts.comma === 'boolean' ? opts.comma : defaults.comma,\n        decoder: typeof opts.decoder === 'function' ? opts.decoder : defaults.decoder,\n        delimiter: typeof opts.delimiter === 'string' || utils.isRegExp(opts.delimiter) ? opts.delimiter : defaults.delimiter,\n        // eslint-disable-next-line no-implicit-coercion, no-extra-parens\n        depth: (typeof opts.depth === 'number' || opts.depth === false) ? +opts.depth : defaults.depth,\n        ignoreQueryPrefix: opts.ignoreQueryPrefix === true,\n        interpretNumericEntities: typeof opts.interpretNumericEntities === 'boolean' ? opts.interpretNumericEntities : defaults.interpretNumericEntities,\n        parameterLimit: typeof opts.parameterLimit === 'number' ? opts.parameterLimit : defaults.parameterLimit,\n        parseArrays: opts.parseArrays !== false,\n        plainObjects: typeof opts.plainObjects === 'boolean' ? opts.plainObjects : defaults.plainObjects,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (str, opts) {\n    var options = normalizeParseOptions(opts);\n\n    if (str === '' || str === null || typeof str === 'undefined') {\n        return options.plainObjects ? Object.create(null) : {};\n    }\n\n    var tempObj = typeof str === 'string' ? parseValues(str, options) : str;\n    var obj = options.plainObjects ? Object.create(null) : {};\n\n    // Iterate over the keys and setup the new object\n\n    var keys = Object.keys(tempObj);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var newObj = parseKeys(key, tempObj[key], options, typeof str === 'string');\n        obj = utils.merge(obj, newObj, options);\n    }\n\n    if (options.allowSparse === true) {\n        return obj;\n    }\n\n    return utils.compact(obj);\n};\n", "'use strict';\n\nvar stringify = require('./stringify');\nvar parse = require('./parse');\nvar formats = require('./formats');\n\nmodule.exports = {\n    formats: formats,\n    parse: parse,\n    stringify: stringify\n};\n", "import Request, { RequestHeaders } from '../runtime/Request'\nimport * as QueryString from 'qs'\nimport { isLocal } from '../environment'\nimport { HTTP_HEADERS, InvokeAction, InvokeSource } from '../constants'\nimport { IncomingMessage } from 'http'\n\nexport interface LambdaRequestOptions {\n  /**\n   * Either pass URL, or mock only certain values.\n   *\n   * Implemented this way as we use only pathname + query as request.url,\n   * dont need hostname, protocol in a lot of cases -> such as testing,\n   * and traditional URL can't be built without it.\n   */\n  url: {\n    pathname: URL['pathname']\n    protocol?: URL['protocol']\n    search?: URL['search']\n    host?: URL['host']\n    port?: URL['port']\n  }\n  /**\n   * Represents the unmodified URL path as received from downstream.\n   */\n  rawUrl: string\n  headers?: RequestHeaders\n  body?: string | Buffer\n  rawBody?: Buffer\n  method?: string\n  httpVersion?: string\n  invokeAction?: InvokeAction\n  invokeSource?: InvokeSource\n}\n\n/**\n * Data holder for lambda request.\n\n * Useful for cases when request needs to be created for:\n *    - lambda invocation / reqResMapper\n *    - findMatchingRules invocation\n *    - fiddle RequestContext invocation\n *    - tests (mainly ones invoking RequestContext directly)\n */\nexport default class LambdaRequest implements Request {\n  url = '/'\n  path = '/'\n  headers: RequestHeaders\n  rawHeaders: string[] = []\n  query: { [key: string]: string | string[] | undefined } = {}\n  method = 'GET'\n  protocol = 'http'\n  secure = true\n  socket = { remoteAddress: '127.0.0.1', encrypted: true }\n  connection = { encrypted: true }\n  httpVersion: string = '1.1'\n  port: string = '443'\n  params?: { [key: string]: string | string[] } | undefined\n  rawUrl: string\n  _rawBody: Buffer\n\n  readonly invokeAction?: InvokeAction\n  readonly invokeSource?: InvokeSource\n\n  private options: LambdaRequestOptions\n\n  constructor(options: LambdaRequestOptions) {\n    this.options = options\n    this.invokeAction = options.invokeAction\n    this.invokeSource = options.invokeSource\n    this.url = options.url.pathname + (options.url.search ?? '')\n    this.query = QueryString.parse(options.url.search ?? '', { ignoreQueryPrefix: true }) as any\n    this.rawUrl = options.rawUrl\n    this.path = options.url.pathname\n    this.method = options.method ?? this.method\n\n    // Compatibility with https://nodejs.org/api/all.html#http_message_headers\n    // Header names *are* lower-cased to maintain Node compatibility.\n    this.headers = normalizeHeaders(options.headers ?? {})\n\n    // We need to set the correct host header here.\n    // Behind the edge, the host header is set to override_host_header origin config value,\n    // but the real host is passed in x-host header.\n    // NOTE: The real lambda function URL shouldn't customers see,\n    // so it's also important to override it here.\n    // @example\n    // Host: cqaxwkomusknlwhrmm46jg2v.lambda-url.us-east-2.on.aws\n    // x-host: example-site.glb.edgio-dev.link\n    const host =\n      options.url.host || this.getHeader(HTTP_HEADERS.xHost) || this.getHeader(HTTP_HEADERS.host)\n    this.setHeader('host', host || 'localhost')\n\n    for (const key of Object.keys(this.headers)) {\n      // Compatibility with https://nodejs.org/api/all.html#http_message_rawheaders\n      // Header names are not lower-cased to maintain Node compatibility.\n      const header = this.headers[key]\n      for (const value of Array.isArray(header) ? header : [header]) {\n        this.rawHeaders.push(key)\n        this.rawHeaders.push(value)\n      }\n    }\n    this.httpVersion = options.httpVersion ?? this.httpVersion\n\n    // This is needed for matching on request.client_ip.\n    // The client ip is the first value in x-forwarded-for header behind the edge.\n    // The rest are another proxies.\n    // @example x-forwarded-for: 193.0.0.1, 1.1.1.2, 1.1.1.3\n    this.socket.remoteAddress = (this.getHeader(HTTP_HEADERS.xForwardedFor)\n      ?.toString()\n      ?.split(',')?.[0] || this.socket.remoteAddress) as string\n\n    if (options.url.protocol) {\n      // protocol trails with ':' locally, which is expected to be removed\n      this.protocol = options.url.protocol?.replace(':', '')\n    } else if (!isLocal()) {\n      // Extract correct protocol for XBP permalinks\n      // TODO: Remove this when EDGE_PERMALINKS are enabled for all customers\n      const xbpProtocol = this.getHeader(HTTP_HEADERS.x0Protocol)?.toString()\n      // NOTE: Sailfish is always sending x-forwarded-proto: \"https\" header\n      // even when the HTTP protocol is used. We need know the original protocol used by the client,\n      // because the request is always sent to Function URL with HTTPS protocol.\n      // The right protocol seems to be the one from the via header.\n      const viaProtocol = this.getHeader(HTTP_HEADERS.via)\n        ?.toString()\n        ?.split('/')\n        ?.shift()\n        ?.toLowerCase()\n      const xForwardedProtocol = this.getHeader(HTTP_HEADERS.xForwardedProto)\n        ?.toString()\n        ?.toLowerCase()\n      this.protocol = xbpProtocol || viaProtocol || xForwardedProtocol || 'https'\n    }\n\n    // We need to set the correct port behind the edge.\n    // The x-forwarded-port\theader seems to have the same issue as x-forwarded-proto.\n    this.port = options.url.port || this.protocol === 'https' ? '443' : '80'\n\n    // Reassign the x-forwarded-* headers,\n    // se they are always present and in sync with the values in the request.\n    this.setHeader(HTTP_HEADERS.xForwardedProto, this.protocol)\n    this.setHeader(HTTP_HEADERS.xForwardedPort, this.port)\n    this.setHeader(HTTP_HEADERS.xForwardedFor, this.socket.remoteAddress)\n\n    // req.secure is ExpressJS extension, set to false only when the app is running locally or the protocol is HTTP\n    // (so the default remains HTTPS which has historically been the only protocol we allowed)\n    this.secure = this.protocol === 'https'\n    // Depending on the version req.socket.encrypted is set to true by NodeJS when the protocol is HTTPS.\n    this.socket.encrypted = this.secure\n    // Depending on the version req.connection.encrypted is set to true by NodeJS when the protocol is HTTPS.\n    this.connection.encrypted = this.secure\n\n    this._rawBody = options.rawBody || Buffer.from(options.body ?? '')\n  }\n\n  static async fromNodeRequest(request: IncomingMessage): Promise<LambdaRequest> {\n    const body = await new Promise<Buffer>(resolve => {\n      const bodyParts: any = []\n      let body\n\n      request\n        .on('data', (chunk: any) => {\n          bodyParts.push(chunk)\n        })\n        .on('end', () => {\n          body = Buffer.concat(bodyParts)\n          resolve(body)\n        })\n    })\n\n    const url = new URL(request.url!, `http://${request.headers.host}`)\n    const invokeAction = request.headers[HTTP_HEADERS.xEdgInvokeAction] as InvokeAction\n    const invokeSource = request.headers[HTTP_HEADERS.xEdgInvokeSource] as InvokeSource\n    // Original URL from the invocation event without encoded/decoded query\n    const rawUrl =\n      request.headers[HTTP_HEADERS.xEdgRawUrl]?.toString() || `${url.pathname}${url.search}`\n\n    return new LambdaRequest({\n      url: {\n        // Normalize pathname to have only one unencoded slash between segments\n        // Example: /a//b -> /a/b\n        pathname: url.pathname.replace(/\\/+/g, '/'),\n        search: url.search,\n      },\n      rawUrl,\n      method: request.method,\n      headers: request.headers,\n      body,\n      invokeAction,\n      invokeSource,\n    })\n  }\n\n  /**\n   * Returns a clone of the original request, before any properties were altered.\n   */\n  cloneOriginal() {\n    return new LambdaRequest(this.options)\n  }\n\n  setHeader(name: string, value: unknown) {\n    this.headers[name.toLowerCase()] = value\n  }\n\n  getHeader(name: string) {\n    return this.headers[name.toLowerCase()]\n  }\n\n  getHeaders() {\n    return this.headers\n  }\n\n  removeHeader(name: string) {\n    delete this.headers[name.toLowerCase()]\n  }\n\n  get body(): string {\n    return this.rawBody.toString('utf8')\n  }\n\n  set body(value: string) {\n    this.rawBody = Buffer.from(value || '')\n  }\n\n  get rawBody() {\n    return this._rawBody\n  }\n\n  set rawBody(value: Buffer) {\n    this._rawBody = value\n    this.setHeader(HTTP_HEADERS.contentLength, this.rawBody.length.toString())\n  }\n}\n\n// sets all headers to lowercase names, and 'flattens' the array values if they contain only one element\nfunction normalizeHeaders(headers: { [name: string]: unknown }) {\n  let result: { [name: string]: string } = {}\n\n  for (let name in headers) {\n    const header = headers[name]\n    result[name.toLowerCase()] =\n      Array.isArray(header) && (header as any).length === 1 ? header[0] : header\n  }\n\n  return result\n}\n", "import { PassThrough, Readable, Stream, Writable } from 'stream'\nimport Response, { ResponseHeaders } from './Response'\nimport { OutgoingHttpHeaders, ServerResponse } from 'http'\nimport { metrics } from '../lambda/serverMetrics'\nimport { HTTP_HEADERS } from '../constants'\nimport logger from '../log'\n\n// this is availalbe only inside the lambda\ndeclare var awslambda: any\n\n/**\n * Helper class useful for cases when:\n *    - response is not available in traditional sense (eg. lambda environment, fiddle, tests)\n *    - we need to run code that is dependant on having an editable response (cache revalidation)\n */\nexport default class LambdaResponse implements Response {\n  headers: ResponseHeaders\n  statusCode: number\n  statusMessage?: string\n  body?: Buffer | string\n\n  // chunks queued for processing + streaming\n  chunks: any[] = []\n  // we remember processed / encoded chunks in order to save them to the cache / dont have to reencode\n  encodedChunks: any[] = []\n\n  private onStream: () => void = () => {}\n  private onEnd: () => void = () => {}\n  private onHeaders: () => void = () => {}\n  private onFlush = () => {}\n\n  // following variables are piped in order defined\n  private downstream!: Readable\n  private encoder?: Writable\n  private decoder?: Writable\n  // if responseStream is empty, we concat the stream into this.body once we have full data\n  private responseStream?: Writable\n\n  // We remember byte length throughout streaming in simulator in order to avoid caching large payloads\n  // This is done as we are using in-memory cache, where we just cant allow for gigabytes to be cached\n  private byteLength: number\n  private maxByteLength: number\n\n  isHeadersStreamed = false\n  isEnded = false\n  isDownstreamInit = false\n  isStreaming = false\n\n  // the streaming of response is disabled by default,\n  // and it's enabled later in modStream if certain conditions are met\n  isStreamableCallback: () => boolean = () => false\n\n  constructor(\n    responseStream?: Writable,\n    public isDirectStream = false,\n    public originalStream: Writable | undefined = undefined\n  ) {\n    this.statusCode = 200\n    this.statusMessage = 'OK'\n    this.headers = {}\n    this.byteLength = 0\n    this.maxByteLength = 128 * 1000 * 1000\n\n    this.initDownstream()\n    this.isDownstreamInit = false // reseting the flag so that it can be called one more time in mod\n    this.responseStream = responseStream\n  }\n\n  sendResponse(data: string) {\n    this?.write(data)\n  }\n\n  static fromAwsResponseStream(awsResponseStream: Writable) {\n    if (!awslambda) {\n      throw new Error('StreamingAwsResponse can only be used in an AWS Lambda environment.')\n    }\n\n    let awsResponseStreamProxy = awsResponseStream\n\n    const passThrough = new PassThrough()\n      .on('data', (chunk: any) => awsResponseStreamProxy.write(chunk))\n      .on('end', () => awsResponseStreamProxy.end())\n\n    const res = new LambdaResponse(passThrough, false, awsResponseStream)\n\n    res.setOnHeaders(() => {\n      const httpResponseMetadata = {\n        statusCode: res.statusCode,\n        headers: res.headers as unknown as OutgoingHttpHeaders,\n      }\n\n      awsResponseStreamProxy = awslambda.HttpResponseStream.from(\n        awsResponseStreamProxy,\n        httpResponseMetadata\n      )\n    })\n\n    return res\n  }\n\n  static fromNodeResponse(response: ServerResponse) {\n    const res = new LambdaResponse(response)\n\n    res.setOnHeaders(() => {\n      response.writeHead(res.statusCode, res.statusMessage, res.headers as any)\n    })\n\n    return res\n  }\n\n  public setHeader(name: string, value: unknown) {\n    this.headers[name.toLowerCase()] = value\n  }\n\n  public removeHeader(name: string) {\n    delete this.headers[name.toLowerCase()]\n  }\n\n  public getHeader(name: string) {\n    return this.headers[name.toLowerCase()]\n  }\n\n  public getHeaders(): ResponseHeaders {\n    return this.headers\n  }\n\n  public clear() {\n    this.chunks = []\n    this.byteLength = 0\n  }\n\n  public clearHeaders() {\n    Object.keys(this.headers).forEach(header => this.removeHeader(header))\n  }\n\n  public isCachable() {\n    return !this.isDirectStream && this.byteLength < this.maxByteLength\n  }\n\n  public async write(chunk: string | Buffer) {\n    // execute isStreamableCallback only once when we receive the first chunk\n    // and store the result for performance reasons\n    if (this.chunks.length === 0) this.setIsStreamable(this.isStreamable())\n\n    this.chunks.push(chunk)\n\n    this.isStreamable() && (await this.onStream())\n  }\n\n  public async end() {\n    // Add Edgio Metrics into headers\n    this.addMetrics()\n\n    // Make sure body and buffer content are in sync\n    // when streaming is disabled as users can do various transformations on the response\n    // in compute, proxy with transformResponse, etc.\n    if (!this.isStreamable() && this.chunks.length > 0 && this.body && this.body.length > 0) {\n      // If we have both chunks and body and not streaming, we'll prefer body over the chunks and\n      // override existing chunks content with body content, so users can override previously stored response in transformResponse\n      // with their own response. Working with single body is more convenient than with chunks for most users.\n      this.chunks = [this.body]\n      logger.trace('[LambdaResponse] Found both chunks and body. Synced body => chunks')\n    }\n    if (!this.isStreamable() && this.chunks.length === 0 && this.body) {\n      // If we have body, not streaming, and don't have chunks, we'll put body into chunks.\n      this.chunks = [this.body]\n      logger.trace('[LambdaResponse] Found just body. Synced body => chunks')\n    }\n    if (!this.isStreamable() && this.chunks.length > 0 && !this.body) {\n      // If we have chunks, not streaming, and don't have body, we'll sync body with chunks\n      // for future processing if streaming is disabled,\n      // so chunks are in sync with body in compute\n      // Convert Buffer or string chunks, concat them and store them in body as a single Buffer\n      this.body = Buffer.concat(this.chunks.map(chunk => Buffer.from(chunk || ''))) // null to empty body\n      logger.trace('[LambdaResponse] Found just chunks. Synced chunks => body')\n    }\n\n    // Push 'end' event into the stream if not present,\n    // so end can be called multiple times without corrupting response\n    if (this.chunks.length === 0 || this.chunks[this.chunks.length - 1] !== null) {\n      this.chunks.push(null)\n    }\n\n    // Call onStream directly\n    // if we don't have any real content in chunks and just null (end of stream) in the chunks\n    if (this.chunks.length === 1) {\n      this.isStreamable() && (await this.onStream())\n    }\n  }\n\n  public setEncoder(value: Writable) {\n    this.encoder = value\n  }\n\n  public setDecoder(value: Writable) {\n    this.decoder = value\n  }\n\n  // in cases we dont want to do anything with the body (eg. cache it), we can set this flag to stream directly\n  // this will be used in production environment / executeApp in the future in order to not hog resources\n  public setDirectStream(value: boolean) {\n    this.isDirectStream = value\n  }\n\n  public stream() {\n    this.isStreaming = true\n    if (!this.isHeadersStreamed) {\n      this.onHeaders()\n      this.isHeadersStreamed = true\n    }\n\n    this.chunks.forEach(chunk => this.downstream.push(chunk))\n    this.chunks = []\n  }\n\n  public async waitForFlush() {\n    // if we're not streaming, we dont have to wait, as there's no body\n    return this.isStreaming\n      ? new Promise<void>(resolve => {\n          this.onFlush = resolve\n          // if already ended, we just resolve, as the stream could have ended before callback was set\n          this.isEnded && resolve()\n        })\n      : Promise.resolve(true)\n  }\n\n  public initDownstream() {\n    if (!this.isDownstreamInit) {\n      this.isDownstreamInit = true\n      this.downstream = new Stream.Readable({\n        read: () => {\n          // this must be implemented, we dont need to use it tho\n        },\n      })\n      let curPipe: Stream = this.downstream\n      this.decoder && (curPipe = curPipe.pipe(this.decoder))\n      this.encoder && (curPipe = curPipe.pipe(this.encoder))\n      curPipe.pipe(\n        new PassThrough()\n          .on('data', chunk => {\n            // if we dont have reponse stream we're invoking programatically,\n            // eg. in runRoute, revalidation, tests, AND IN PRODUCTION AT THE MOMENT\n            // we test for the 'equality' of these approaches in separate LambdaResponse tests\n            this.responseStream?.write(chunk)\n\n            if (!this.isDirectStream) {\n              this.byteLength += Buffer.byteLength(chunk)\n              // if currently streamed byte length is too big, we stop appending to encoded chunks -> memory will be cleared on chain end\n              // this will consequently disable caching for large payloads\n              this.byteLength < this.maxByteLength && this.encodedChunks.push(chunk)\n            }\n          })\n          .on('end', () => {\n            if (this.responseStream) {\n              this.responseStream.end()\n            } else {\n              // if there are no chunks, we leave body undefined as expected\n              if (this.encodedChunks.length > 0) {\n                if (this.byteLength < this.maxByteLength) {\n                  this.body = Buffer.concat(this.encodedChunks)\n                } else {\n                  this.statusCode = 413\n                  this.statusMessage = 'Content Too Large'\n                }\n              }\n            }\n            // we push null to processed chunks, as it signals the end of the stream in case we stream from cache later on\n            // it needs to be pushed after the body is concatted, otherwise it fails, as buffers would fail to concat null\n            this.encodedChunks.push(null)\n            this.isEnded = true\n            this.onFlush()\n            // temporary callback for reqResMapper backwards compatibility\n            // TODO: this wont be needed once we have streaming in lambda function\n            this.onEnd()\n          })\n      )\n    }\n  }\n\n  // allows to enable or disable streaming\n  // or set callback that can enable streaming if certain conditions are met\n  public setIsStreamable(callback: (() => boolean) | boolean) {\n    if (typeof callback === 'boolean') {\n      return (this.isStreamableCallback = () => callback)\n    }\n    this.isStreamableCallback = callback\n  }\n\n  // returns true if the response is streamable\n  public isStreamable() {\n    return this.isStreamableCallback()\n  }\n\n  // callback used to react to data write, as we need to be able to make a decision whether or not to stream based on many criteria\n  public setOnStream(callback: () => void) {\n    this.onStream = callback\n  }\n\n  // TODO: this wont be needed once we have streaming in lambda function\n  public setOnEnd(callback: () => void) {\n    this.onEnd = callback\n  }\n\n  public setOnHeaders(callback: () => void) {\n    this.onHeaders = callback\n  }\n\n  // TODO: this wont be needed once we have streaming in lambda function\n  public getData() {\n    return {\n      body: this.body,\n      statusCode: this.statusCode,\n      statusMessage: this.statusMessage,\n      headers: this.headers,\n    }\n  }\n\n  /**\n   * Injects the metrics headers into the response\n   * @private\n   */\n  addMetrics() {\n    this.setHeader(HTTP_HEADERS.xEdgeT, metrics.serialize())\n    this.setHeader(HTTP_HEADERS.xEdgeStatus, `s=${this.statusCode}`)\n  }\n\n  /**\n   * Sets the response header to a new value by prefixing it with the given value or,\n   * if it doesn't exist, by setting it to the given value,\n   *\n   * @param headerName The name of the header to prefix or set\n   * @param prefixValue The value of the prefix without trailing comma\n   * @private\n   */\n  prefixResponseHeader(headerName: string, prefixValue: string) {\n    const headerValue = this.headers[headerName]\n    if (headerValue) {\n      if (Array.isArray(headerValue)) {\n        headerValue[0] = `${prefixValue},${headerValue[0]}`\n      } else {\n        this.headers[headerName] = `${prefixValue},${headerValue}`\n      }\n    } else {\n      this.headers[headerName] = `${prefixValue}`\n    }\n  }\n}\n", "/*!\n * cookie\n * Copyright(c) 2012-2014 Roman Shtylman\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module exports.\n * @public\n */\n\nexports.parse = parse;\nexports.serialize = serialize;\n\n/**\n * Module variables.\n * @private\n */\n\nvar __toString = Object.prototype.toString\nvar __hasOwnProperty = Object.prototype.hasOwnProperty\n\n/**\n * RegExp to match cookie-name in RFC 6265 sec 4.1.1\n * This refers out to the obsoleted definition of token in RFC 2616 sec 2.2\n * which has been replaced by the token definition in RFC 7230 appendix B.\n *\n * cookie-name       = token\n * token             = 1*tchar\n * tchar             = \"!\" / \"#\" / \"$\" / \"%\" / \"&\" / \"'\" /\n *                     \"*\" / \"+\" / \"-\" / \".\" / \"^\" / \"_\" /\n *                     \"`\" / \"|\" / \"~\" / DIGIT / ALPHA\n */\n\nvar cookieNameRegExp = /^[!#$%&'*+\\-.^_`|~0-9A-Za-z]+$/;\n\n/**\n * RegExp to match cookie-value in RFC 6265 sec 4.1.1\n *\n * cookie-value      = *cookie-octet / ( DQUOTE *cookie-octet DQUOTE )\n * cookie-octet      = %x21 / %x23-2B / %x2D-3A / %x3C-5B / %x5D-7E\n *                     ; US-ASCII characters excluding CTLs,\n *                     ; whitespace DQUOTE, comma, semicolon,\n *                     ; and backslash\n */\n\nvar cookieValueRegExp = /^(\"?)[\\u0021\\u0023-\\u002B\\u002D-\\u003A\\u003C-\\u005B\\u005D-\\u007E]*\\1$/;\n\n/**\n * RegExp to match domain-value in RFC 6265 sec 4.1.1\n *\n * domain-value      = <subdomain>\n *                     ; defined in [RFC1034], Section 3.5, as\n *                     ; enhanced by [RFC1123], Section 2.1\n * <subdomain>       = <label> | <subdomain> \".\" <label>\n * <label>           = <let-dig> [ [ <ldh-str> ] <let-dig> ]\n *                     Labels must be 63 characters or less.\n *                     'let-dig' not 'letter' in the first char, per RFC1123\n * <ldh-str>         = <let-dig-hyp> | <let-dig-hyp> <ldh-str>\n * <let-dig-hyp>     = <let-dig> | \"-\"\n * <let-dig>         = <letter> | <digit>\n * <letter>          = any one of the 52 alphabetic characters A through Z in\n *                     upper case and a through z in lower case\n * <digit>           = any one of the ten digits 0 through 9\n *\n * Keep support for leading dot: https://github.com/jshttp/cookie/issues/173\n *\n * > (Note that a leading %x2E (\".\"), if present, is ignored even though that\n * character is not permitted, but a trailing %x2E (\".\"), if present, will\n * cause the user agent to ignore the attribute.)\n */\n\nvar domainValueRegExp = /^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i;\n\n/**\n * RegExp to match path-value in RFC 6265 sec 4.1.1\n *\n * path-value        = <any CHAR except CTLs or \";\">\n * CHAR              = %x01-7F\n *                     ; defined in RFC 5234 appendix B.1\n */\n\nvar pathValueRegExp = /^[\\u0020-\\u003A\\u003D-\\u007E]*$/;\n\n/**\n * Parse a cookie header.\n *\n * Parse the given cookie header string into an object\n * The object has the various cookies as keys(names) => values\n *\n * @param {string} str\n * @param {object} [opt]\n * @return {object}\n * @public\n */\n\nfunction parse(str, opt) {\n  if (typeof str !== 'string') {\n    throw new TypeError('argument str must be a string');\n  }\n\n  var obj = {};\n  var len = str.length;\n  // RFC 6265 sec 4.1.1, RFC 2616 2.2 defines a cookie name consists of one char minimum, plus '='.\n  if (len < 2) return obj;\n\n  var dec = (opt && opt.decode) || decode;\n  var index = 0;\n  var eqIdx = 0;\n  var endIdx = 0;\n\n  do {\n    eqIdx = str.indexOf('=', index);\n    if (eqIdx === -1) break; // No more cookie pairs.\n\n    endIdx = str.indexOf(';', index);\n\n    if (endIdx === -1) {\n      endIdx = len;\n    } else if (eqIdx > endIdx) {\n      // backtrack on prior semicolon\n      index = str.lastIndexOf(';', eqIdx - 1) + 1;\n      continue;\n    }\n\n    var keyStartIdx = startIndex(str, index, eqIdx);\n    var keyEndIdx = endIndex(str, eqIdx, keyStartIdx);\n    var key = str.slice(keyStartIdx, keyEndIdx);\n\n    // only assign once\n    if (!__hasOwnProperty.call(obj, key)) {\n      var valStartIdx = startIndex(str, eqIdx + 1, endIdx);\n      var valEndIdx = endIndex(str, endIdx, valStartIdx);\n\n      if (str.charCodeAt(valStartIdx) === 0x22 /* \" */ && str.charCodeAt(valEndIdx - 1) === 0x22 /* \" */) {\n        valStartIdx++;\n        valEndIdx--;\n      }\n\n      var val = str.slice(valStartIdx, valEndIdx);\n      obj[key] = tryDecode(val, dec);\n    }\n\n    index = endIdx + 1\n  } while (index < len);\n\n  return obj;\n}\n\nfunction startIndex(str, index, max) {\n  do {\n    var code = str.charCodeAt(index);\n    if (code !== 0x20 /*   */ && code !== 0x09 /* \\t */) return index;\n  } while (++index < max);\n  return max;\n}\n\nfunction endIndex(str, index, min) {\n  while (index > min) {\n    var code = str.charCodeAt(--index);\n    if (code !== 0x20 /*   */ && code !== 0x09 /* \\t */) return index + 1;\n  }\n  return min;\n}\n\n/**\n * Serialize data into a cookie header.\n *\n * Serialize a name value pair into a cookie string suitable for\n * http headers. An optional options object specifies cookie parameters.\n *\n * serialize('foo', 'bar', { httpOnly: true })\n *   => \"foo=bar; httpOnly\"\n *\n * @param {string} name\n * @param {string} val\n * @param {object} [opt]\n * @return {string}\n * @public\n */\n\nfunction serialize(name, val, opt) {\n  var enc = (opt && opt.encode) || encodeURIComponent;\n\n  if (typeof enc !== 'function') {\n    throw new TypeError('option encode is invalid');\n  }\n\n  if (!cookieNameRegExp.test(name)) {\n    throw new TypeError('argument name is invalid');\n  }\n\n  var value = enc(val);\n\n  if (!cookieValueRegExp.test(value)) {\n    throw new TypeError('argument val is invalid');\n  }\n\n  var str = name + '=' + value;\n  if (!opt) return str;\n\n  if (null != opt.maxAge) {\n    var maxAge = Math.floor(opt.maxAge);\n\n    if (!isFinite(maxAge)) {\n      throw new TypeError('option maxAge is invalid')\n    }\n\n    str += '; Max-Age=' + maxAge;\n  }\n\n  if (opt.domain) {\n    if (!domainValueRegExp.test(opt.domain)) {\n      throw new TypeError('option domain is invalid');\n    }\n\n    str += '; Domain=' + opt.domain;\n  }\n\n  if (opt.path) {\n    if (!pathValueRegExp.test(opt.path)) {\n      throw new TypeError('option path is invalid');\n    }\n\n    str += '; Path=' + opt.path;\n  }\n\n  if (opt.expires) {\n    var expires = opt.expires\n\n    if (!isDate(expires) || isNaN(expires.valueOf())) {\n      throw new TypeError('option expires is invalid');\n    }\n\n    str += '; Expires=' + expires.toUTCString()\n  }\n\n  if (opt.httpOnly) {\n    str += '; HttpOnly';\n  }\n\n  if (opt.secure) {\n    str += '; Secure';\n  }\n\n  if (opt.partitioned) {\n    str += '; Partitioned'\n  }\n\n  if (opt.priority) {\n    var priority = typeof opt.priority === 'string'\n      ? opt.priority.toLowerCase() : opt.priority;\n\n    switch (priority) {\n      case 'low':\n        str += '; Priority=Low'\n        break\n      case 'medium':\n        str += '; Priority=Medium'\n        break\n      case 'high':\n        str += '; Priority=High'\n        break\n      default:\n        throw new TypeError('option priority is invalid')\n    }\n  }\n\n  if (opt.sameSite) {\n    var sameSite = typeof opt.sameSite === 'string'\n      ? opt.sameSite.toLowerCase() : opt.sameSite;\n\n    switch (sameSite) {\n      case true:\n        str += '; SameSite=Strict';\n        break;\n      case 'lax':\n        str += '; SameSite=Lax';\n        break;\n      case 'strict':\n        str += '; SameSite=Strict';\n        break;\n      case 'none':\n        str += '; SameSite=None';\n        break;\n      default:\n        throw new TypeError('option sameSite is invalid');\n    }\n  }\n\n  return str;\n}\n\n/**\n * URL-decode string value. Optimized to skip native call when no %.\n *\n * @param {string} str\n * @returns {string}\n */\n\nfunction decode (str) {\n  return str.indexOf('%') !== -1\n    ? decodeURIComponent(str)\n    : str\n}\n\n/**\n * Determine if value is a Date.\n *\n * @param {*} val\n * @private\n */\n\nfunction isDate (val) {\n  return __toString.call(val) === '[object Date]';\n}\n\n/**\n * Try decoding a string using a decoding function.\n *\n * @param {string} str\n * @param {function} decode\n * @private\n */\n\nfunction tryDecode(str, decode) {\n  try {\n    return decode(str);\n  } catch (e) {\n    return str;\n  }\n}\n", "import Request from './Request'\n\n/**\n * An actual cache key derived from a request per the user's CustomCacheKey specification\n */\nexport default class CacheKey {\n  method?: string\n  pathname: string\n  headers: string[] = []\n  cookies: string[] = []\n  expressions: string | undefined\n  query: { [key: string]: string | string[] | undefined }\n\n  constructor(request: Request) {\n    const { host } = request.headers\n    this.method = request.method?.toLowerCase()\n    this.query = this.excludeEdgioQueryParams(request.query || {})\n    this.pathname = new URL(request.url, `http://${host}`).pathname\n  }\n\n  resetQueryParams(request: Request) {\n    this.query = this.excludeEdgioQueryParams(request.query)\n  }\n\n  /**\n   * We always ignore edgio_* query params when computing the cache key so that things like edgio_prefetch don't cache bust\n   * @param query\n   */\n  excludeEdgioQueryParams(query: { [name: string]: string | string[] | undefined }) {\n    const result: { [name: string]: string | string[] | undefined } = {}\n\n    for (let name in query) {\n      if (!name.startsWith('edgio_')) {\n        result[name] = query[name]\n      }\n    }\n\n    return result\n  }\n\n  /**\n   * Returns an array of values in the object sorted by the key\n   * We sort query params so that different orderings will result in a hit\n   * @param source Any object of key/value pairs, e.g. query, headers, cookies, etc...\n   */\n  toSortedArray(source: { [name: string]: any }) {\n    return Object.keys(source)\n      .sort()\n      .map(key => [key, source[key]])\n  }\n\n  toString() {\n    const res = JSON.stringify({\n      pathname: this.pathname,\n      method: this.method,\n      headers: [...this.headers].sort(),\n      cookies: [...this.cookies].sort(),\n      query: this.toSortedArray(this.query),\n      expressions: this.expressions,\n    })\n\n    return res\n  }\n}\n", "/**\n * If the supplied parameter is an array, returns the first element. Otherwise returns\n * the supplied parameter.\n * @param value\n * @returns\n */\nexport default function first(value: string | string[]) {\n  if (Array.isArray(value)) {\n    return value[0]\n  } else {\n    return value\n  }\n}\n", "import Phase from '../Phase'\nimport RequestContext from '../RequestContext'\n\n/**\n * Base class for all Sailfish modules\n */\nexport default abstract class Mod {\n  protected readonly context: RequestContext\n\n  /**\n   * @param context The context for the current request\n   */\n  constructor(context: RequestContext) {\n    this.context = context\n  }\n\n  /**\n   * Executes a specific phase of the request flow\n   * @param phase\n   */\n  abstract execute(phase: Phase): Promise<void>\n\n  /**\n   * Returns the class name of the module\n   */\n  abstract toString(): string\n}\n", "enum Phase {\n  UriRaw,\n  UriClean,\n  HandleDocRoot,\n  SendRequestContent,\n  HandleResponseHeader,\n  HandleResponseDone,\n  // non-sailfish phase\n  StreamResponse,\n}\n\nexport default Phase\n", "import { parse as parseQueryString } from 'qs'\nimport Request from './Request'\n\n/**\n * Cleans and returns parsed URL.\n * @param url can be absolute or relative\n * @example parseURL('/path//something?query=string') => { url: '/path/something?query=string', path: '/path/something', query: { query: 'string' } }\n * @example parseURL('https://example.com/path//something?query=string') => { url: 'https://example.com/path/something?query=string', path: '/path/something', query: { query: 'string' } }\n */\nexport function parseURL(url: string) {\n  // we need to parse the URL manually, because the URL constructor doesn't preserve the original format\n  const [rest, query] = url.split('?')\n  const splitByProtocol = rest.split('://')\n  const protocol = splitByProtocol.length >= 2 ? `${splitByProtocol.shift()}://` : ''\n  const path = splitByProtocol.pop() || ''\n\n  // remove double slashes from path, as for unknown reasons, the URL constructor doesn't do that\n  const sanitizedURL = `${protocol}${path.replace(/(\\/\\/+)/gm, '/')}${query ? `?${query}` : ''}`\n  const parsed = new URL(sanitizedURL, 'http://host')\n\n  return {\n    url: sanitizedURL,\n    path: parsed.pathname,\n    query: parseQueryString(parsed.search.replace('?', '')),\n  }\n}\n\nexport function setURL(req: Request, url: string) {\n  Object.assign(req, parseURL(url))\n}\n\nexport function setPath(req: Request, newPath: string) {\n  const [_path, query] = req.url.split('?')\n  req.path = newPath\n  req.url = `${newPath}${query && query.length ? `?${query}` : ''}`\n}\n", "/**\n * Unlike decodeURIComponent or decodeURI, this function only decodes\n * defined non-special characters in compliant with RFC 3986 URI normalization.\n *\n * Learn more: https://www.ietf.org/rfc/rfc3986.txt\n * Snippet: For consistency, percent-encoded octets in the ranges of ALPHA\n *    (%41-%5A and %61-%7A), DIGIT (%30-%39), hyphen (%2D), period (%2E),\n *    underscore (%5F), or tilde (%7E) should not be created by URI\n *    producers and, when found in a URI, should be decoded to their\n *    corresponding unreserved characters by URI normalizers.\n *\n * @param input\n * @returns\n */\nexport default function decodeUnreservedURIChars(input: string): string {\n  const symbols = [...'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-._~']\n\n  // This array contains encoded symbols in the same order as symbols array.\n  // It's precalculated for performance reason, and it can be generated by the following code:\n  // const symbolsEncoded = symbols.map(symbol => `%${symbol.charCodeAt(0).toString(16).toUpperCase()}`)\n  // prettier-ignore\n  const symbolsEncoded = [\n    '%61', '%62', '%63', '%64', '%65', '%66',\n    '%67', '%68', '%69', '%6A', '%6B', '%6C',\n    '%6D', '%6E', '%6F', '%70', '%71', '%72',\n    '%73', '%74', '%75', '%76', '%77', '%78',\n    '%79', '%7A', '%41', '%42', '%43', '%44',\n    '%45', '%46', '%47', '%48', '%49', '%4A',\n    '%4B', '%4C', '%4D', '%4E', '%4F', '%50',\n    '%51', '%52', '%53', '%54', '%55', '%56',\n    '%57', '%58', '%59', '%5A', '%30', '%31',\n    '%32', '%33', '%34', '%35', '%36', '%37',\n    '%38', '%39', '%2D', '%2E', '%5F', '%7E'\n  ]\n  return symbolsEncoded.reduce(\n    (output, symbolEncoded, index) => output.replace(symbolEncoded, symbols[index]),\n    input\n  )\n}\n", "import type { IEvaluator } from './Evaluator'\n\n/**\n * Represent group of Evaluators\n * and allow to perform bulk execution of them on certain condition provided as matcher\n */\nexport class EvaluatorGroup implements IEvaluator {\n  protected evaluators: IEvaluator[]\n  protected matcher: RegExp\n\n  /**\n   * @param evaluators initial list of Evaluators or another EvaluatorGroups\n   * @param matcher regex condition which input expression must satisfy\n   */\n  constructor(evaluators: IEvaluator[] = [], matcher: RegExp = /(.*)/) {\n    this.evaluators = [...evaluators]\n    this.matcher = matcher\n  }\n\n  /**\n   * Executes all Evaluators in the group\n   * and return the result of first one which returns the string (OR equivalent)\n   * if the expression satisfies EvaluatorGroup's matcher\n   * @param input expression\n   * @param values object with extracted values from the request\n   * @returns string on success and undefined in other cases\n   */\n  execute(input: string, values: Record<string, string>): string | undefined {\n    if (!this.matcher.test(input)) return undefined\n\n    for (const evaluator of this.evaluators) {\n      const result = evaluator.execute(input, values)\n      if (typeof result === 'string') return result\n    }\n    return undefined\n  }\n\n  /**\n   * Adds the Evaluator or another EvaluatorGroup to the group\n   */\n  add(evaluator: IEvaluator) {\n    this.evaluators.push(evaluator)\n  }\n}\n", "/**\n * Common interface for all Evaluators and EvaluatorGroup\n */\nexport interface IEvaluator {\n  /**\n   * Evaluates the provided input expression\n   * @param input expression\n   * @param values object with extracted values from the request\n   * @returns string on success and undefined in other cases\n   */\n  execute(input: string, values: Record<string, string>): string | undefined\n}\n\nexport type EvaluatorActionParams = {\n  /**\n   * Object with extracted values from the request\n   */\n  values: Record<string, string>\n\n  /**\n   * Parts of the input matched by Evaluator's match regex\n   */\n  matched: string[]\n}\n\n/**\n * Represents the action which is preformed by evaluator when expression is matched\n */\nexport type EvaluatorAction = (params: EvaluatorActionParams) => string | undefined\n\n/**\n * The function which normalizes first matched group in the expression\n * and the key in the values object\n */\nexport type EvaluatorNormalizeKeyFn = (key: string) => string\n\n/**\n * Evaluator represents certain action\n * which is defined by string expression\n *\n * For example: \"%{valueName/seachPattern/replaceValue}\" => \"content of the value with replaceValue\"\n */\nexport class Evaluator implements IEvaluator {\n  protected action: EvaluatorAction\n  protected matcher: RegExp\n  protected normalizeKey: EvaluatorNormalizeKeyFn = key => key\n\n  /**\n   * @param action Action which is performed when input matches the regex matcher\n   * @param matcher Regex condition which input expression must satisfy\n   * @param normalizeKey Function which normalizes both first matched group in the expression and the key in the values object to same format\n   */\n  constructor(\n    action: EvaluatorAction,\n    matcher: RegExp,\n    normalizeKey: EvaluatorNormalizeKeyFn = key => key\n  ) {\n    this.action = action\n    this.matcher = matcher\n    this.normalizeKey = normalizeKey\n  }\n\n  /**\n   * Evaluates the provided string expression and perform provided action\n   * when it satisfies evaluator's matcher format\n   *\n   * @param input expression\n   * @param values object with extracted values from the request\n   * @returns string on success and undefined in other cases\n   */\n  execute(input: string, values: Record<string, string>): string | undefined {\n    const result = this.matcher.exec(input)\n    if (!result) return undefined\n\n    // Normalize all keys in the values object to same format\n    const normalizedValues = Object.fromEntries(\n      Object.entries(values).map(([key, value]) => [this.normalizeKey(key), value])\n    )\n\n    const [_, valueName, ...others] = result.values()\n\n    return this.action({\n      values: normalizedValues,\n      matched: [\n        // Normalize the matched key to same format as the values object\n        this.normalizeKey(valueName),\n        ...others,\n      ],\n    })\n  }\n}\n", "/**\n * Escapes a string to be compatible with a RegExp\n * @param string\n * @returns {String}\n */\nexport default function regExpEscape(string: string): string {\n  return string.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&') // $& means the whole matched string\n}\n\n/**\n * Converts the given string into a RegExp\n * @param string\n * @returns {RegExp}\n */\nexport function toRegExp(string: string): RegExp {\n  return new RegExp(regExpEscape(string))\n}\n", "import regExpEscape from './regExpEscape'\n\n/**\n * Converts a JavaScript Regexp instance to a string compatible with edge.\n * See https://docs.fastly.com/en/guides/vcl-regular-expression-cheat-sheet\n *\n * By default, the slashes arent escaped. For usage with interpolation, please set escapeSlashes param to true.\n * @param regex\n * @param prefix\n * @param escapeSlashes\n */\nexport default function toEdgeRegex(\n  regex: RegExp,\n  prefix: string = '',\n  escapeSlashes?: boolean\n): string {\n  // Forward slashes dont need to be escaped according to docs.\n  // We still allow for escaping them for edge cases, where naked '/' is a control character (interpolation)\n  let source = escapeSlashes ? regex.source : regex.source.replace(/\\\\\\//g, '/')\n\n  if (source.startsWith('^')) {\n    source = `^${regExpEscape(prefix)}${source.slice(1)}`\n  } else {\n    source = `${regExpEscape(prefix)}${source}`\n  }\n\n  return `${regex.ignoreCase ? '(?i)' : ''}${source}`\n}\n\n/**\n * Reverse transformation. Mostly used for unit tests.\n * @param edgeRegex\n */\nexport function fromEdgeRegex(edgeRegex: string): RegExp {\n  const ignoreCase = edgeRegex.indexOf('(?i)') === 0\n\n  if (ignoreCase) {\n    edgeRegex = edgeRegex.slice('(?i)'.length)\n  }\n\n  return new RegExp(edgeRegex.replace(/\\//g, '/'), ignoreCase ? 'i' : '')\n}\n", "/**\n * Performs a substitution of params in destination string.\n * The values are matched and extracted by provided regex from the source string.\n * @param regex\n * @param source\n * @param destination\n * @example substituteParams(/(.+)\\/(.+)/, 'something/else', '/path/$1/$2') => '/path/something/else'\n */\nexport function substituteParams(regex: RegExp, source: string, destination: string) {\n  return bindRegexParams(destination, regex.exec(source) || [])\n}\n\n/**\n * Performs a substitution of provided params in destination string.\n * Escaped $ symbols are ignored.\n * @param destination\n * @param params\n */\nexport function bindRegexParams(destination: string, params: string[]) {\n  // Find all substitution symbols in destination and replace them with extracted values\n  // or empty string when the value does not exist.\n\n  return (\n    destination.match(/(\\\\?)(\\$[0-9]*)/g)?.reduce((output, substitutionParam) => {\n      // Ignore escaped $ symbols\n      if (substitutionParam.startsWith('\\\\')) return output\n\n      const index = parseInt(substitutionParam.substring(1)) // get index from $1, $2, etc.\n      return output.replace(substitutionParam, params[index] || '')\n    }, destination) || destination\n  )\n}\n", "import { Evaluator } from './Evaluator'\nimport { fromEdgeRegex } from '../../utils/toEdgeRegex'\nimport { substituteParams } from '../../utils/regexUtils'\n\n/**\n * Normalizes key to ensure consistency with Sailfish interpolation.\n * @param key\n * @example usage: normalizeKey('http_x-ForWarded-for') => 'http_x_forwarded_for'\n */\nexport const normalizeKey = (key: string) => {\n  // Convert all keys to lower case to ensure consistency.\n  // This is needed because Sailfish interpolation is case-insensitive.\n  key = key.toLowerCase()\n\n  // Replace all dashes in header keys with underscores.\n  // This is needed because Sailfish headers interpolation works with both dashes and underscores (even mixed)\n  // but this is not the case with query params or cookies.\n  // @example \"${http_x-forwarded-for}\" => \"1.1.1.1\"\n  // @example \"${http_x_forwarded_for}\" => \"1.1.1.1\"\n  // @example \"${http_x-forwarded_for}\" => \"1.1.1.1\"\n  if (key.startsWith('http_') || key.startsWith('resp_')) {\n    return key.replace(/-/g, '_')\n  }\n  return key\n}\n\n/**\n * If the value of varname is unset or empty string,\n * string is assigned to varname. The value of varname is then substituted.\n * If the colon is omitted, the operator tests only for existence of varname.\n *\n * Format: %{varname:=stringToAssign} OR %{varname=stringToAssign}\n * Example:\n * Values: { emptyVarname: \"\" }\n * Expression: \"%{varname:=newValue}\" => \"newValue\"\n * Expression: \"%{emptyVarname:=newValue}\" => \"newValue\"\n * Expression: \"%{varname=newValue}\" => \"newValue\"\n * Expression: \"%{emptyVarname=newValue}\" => \"\"\n */\nexport const assignOnNullEvaluator = new Evaluator(\n  params => {\n    const [normalizedKey, colon, newValue] = params.matched\n    // test for unset varname and non-empty string when format with colon is used\n    if (normalizedKey in params.values && (!colon || params.values[normalizedKey].length > 0))\n      return params.values[normalizedKey]\n    params.values[normalizedKey] = newValue\n    return newValue\n  },\n  /^([A-Za-z0-9_-]+)(:?)=(.*)$/,\n  normalizeKey\n)\n\n/**\n * If the value of varname is unset or empty string, nothing is substituted,\n * otherwise string is assigned to varname.\n * If the colon is omitted, the operator tests only for existence of varname.\n *\n * Format: %{varname:+stringToAssign} OR %{varname+stringToAssign}\n * Example:\n * Values: { varname: \"something\", emptyVarname: \"\" }\n * Expression: \"%{varname:+newValue}\" => \"newValue\"\n * Expression: \"%{emptyVarname:+newValue}\" => \"\"\n * Expression: \"%{varname+newValue}\" => \"newValue\"\n * Expression: \"%{emptyVarname+newValue}\" => \"newValue\"\n */\nexport const assignOnNotNullEvaluator = new Evaluator(\n  params => {\n    const [normalizedKey, colon, newValue] = params.matched\n    // test for not unset varname or empty string when format with colon is used\n    if (!(normalizedKey in params.values) || (colon && params.values[normalizedKey].length === 0))\n      return ''\n    params.values[normalizedKey] = newValue\n    return newValue\n  },\n  /^([A-Za-z0-9_-]+)(:?)\\+(.*)$/,\n  normalizeKey\n)\n\n/**\n * If the pattern matches the beginning of the value of varname, then\n * the result is the value of varname with the matching pattern deleted.\n *\n * Format: %{varname#pattern}\n * Example:\n * Values: { varname: \"something\" }\n * Expression: \"%{varname#thing}\" => \"some\"\n */\nexport const removeLeadingEvaluator = new Evaluator(\n  params => {\n    const [normalizedKey, pattern] = params.matched\n    if (!(normalizedKey in params.values)) return undefined\n    return params.values[normalizedKey].replace(new RegExp(`^${pattern}`), '')\n  },\n  /^([A-Za-z0-9_-]+)#(.+)$/,\n  normalizeKey\n)\n\n/**\n * If the pattern matches a trailing portion of the value of varname, then\n * the result is the value of varname with the matching pattern deleted.\n *\n * Format: %{varname%pattern}\n * Example:\n * Values: { varname: \"something\" }\n * Expression: \"%{varname%some}\" => \"thing\"\n */\nexport const removeTrailingEvaluator = new Evaluator(\n  params => {\n    const [normalizedKey, pattern] = params.matched\n    if (!(normalizedKey in params.values)) return undefined\n    return params.values[normalizedKey].replace(new RegExp(`${pattern}$`), '')\n  },\n  /^([A-Za-z0-9_-]+)%(.+)$/,\n  normalizeKey\n)\n\n/**\n * Expands to up to length characters of varname starting at the character\n * specified by offset. If length is omitted, expands to the substring of varname\n * starting at the character specified by offset. length and offset are numberic constants.\n *\n * If offset is a number less than zero, the value is used as an offset from\n * the end of the value of varname. If length evaluates to a number less than zero,\n * it is interpreted as an offset from the end of the value of varname rather than a\n * number of characters, and the expansion is the characters between the two offsets.\n *\n * Format: %{varname:offset:length}\n * Example:\n * Values: { varname: \"something\" }\n * Expression: \"%{varname:1:4}\" => \"omet\"\n */\nexport const substringEvaluator = new Evaluator(\n  params => {\n    const [normalizedKey, offsetString, lengthString] = params.matched\n    if (!(normalizedKey in params.values)) return undefined\n\n    const valueLength = params.values[normalizedKey].length\n    const offset = parseInt(offsetString)\n\n    // Use length of the value if length param is not specified\n    const length = !lengthString ? valueLength : parseInt(lengthString)\n\n    // When offset is negative number but length positive, transform offset to positive index from the end of string\n    const startIndex = offset < 0 && length >= 0 ? valueLength + offset : offset\n\n    // When startIndex is negative, assume that the provided length is index\n    const endIndex = (startIndex < 0 ? 0 : startIndex) + length\n\n    return params.values[normalizedKey].slice(startIndex, endIndex)\n  },\n  /^([A-Za-z0-9_-]+):(-?[0-9]+):(-?[0-9]*)$/,\n  normalizeKey\n)\n\n/**\n * Find and replace values using regular expressions. The match of pattern against its value is replaced with string.\n * If pattern begins with '/', all matches of pattern are replaced with string otherwise only the first match is replaced.\n * If pattern begins with '/=', only replaceString is returned with substituted matched values.\n * Doesn't support L and U flags ($U1, $L1) in regex substitution.\n *\n * Format: %{varname/searchPattern/replaceString} OR %{varname//searchPattern/replaceString} OR %{varname/=searchPattern/replaceString}\n * Example:\n * Values: { varname: \"something something\" }\n * Expression: \"%{varname/meth/NEW}\" => \"soNEWing something\"\n * Expression: \"%{varname//meth/NEW}\" => \"soNEWing soNEWing\"\n * Expression: \"%{varname/=^(.+)thing some(.+)$/$2 $1}\" => \"thing some\"\n *\n * TODO: Add support for L and U flags in regex substitution \u2193\n * Expression: \"%{varname/^(.+)$/$U1}\" => \"SOMETHING SOMETHING\"\n * Expression: \"%{varname/=^(.+)thing some(.+)$/$U2 $L1}\" => \"THING some\"\n */\nexport const findReplaceEvaluator = new Evaluator(\n  params => {\n    const [normalizedKey, delimiter, searchAndReplaceValue] = params.matched\n    if (!(normalizedKey in params.values)) return undefined\n\n    // We must find first unescaped character.\n    // We can't use lookbehind in regex itself, as its not supported in safari / non-v8 browsers.\n    const splitIndex = [...searchAndReplaceValue].findIndex(\n      (val, index) => val === '/' && searchAndReplaceValue?.[index - 1] !== '\\\\'\n    )\n\n    const searchValue = searchAndReplaceValue.substring(0, splitIndex)\n    const replaceValue = searchAndReplaceValue.substring(splitIndex + 1) // we skip around the slash\n\n    // construct regex from edge regex to preserve /i flag\n    const patternRegex = fromEdgeRegex(searchValue)\n\n    // performs only substitution without replacement in source string\n    if (delimiter === '/=')\n      return substituteParams(patternRegex, params.values[normalizedKey], replaceValue)\n\n    return params.values[normalizedKey].replace(\n      new RegExp(\n        patternRegex.source,\n        // add global flag based on used format\n        `${patternRegex.flags}${delimiter === '//' ? 'g' : ''}`\n      ),\n      replaceValue\n    )\n  },\n  /^([A-Za-z0-9_-]+)(\\/\\/?=?)(.+)$/,\n  normalizeKey\n)\n\n/**\n * Converts matching group of variable's value to lowercase.\n * If ',' format is used, only the first match is converted.\n * All matches are converted when ',,' format is used.\n * If no pattern is provided the whole string is converted to lowercase.\n *\n * Format: %{varname,pattern} OR %{varname,,pattern}\n * Example:\n * Values: { varname: \"ThIs Is A mIx Of LoWer-Upper cAse.\" }\n * Expression: \"%{varname,}\" => \"this is a mix of lower-upper case.\"\n * Expression: \"%{varname,is}\" => \"This Is A mIx Of LoWer-Upper cAse.\"\n * Expression: \"%{varname,,is}\" => \"This is A mIx Of LoWer-Upper cAse.\"\n */\nexport const toLowercaseEvaluator = new Evaluator(\n  params => {\n    const [normalizedKey, delimiter, pattern] = params.matched\n    if (!(normalizedKey in params.values)) return undefined\n    const patternRegex = new RegExp(\n      `(${!pattern ? '(.*)' : pattern})`,\n      `i${delimiter === ',,' ? 'g' : ''}`\n    )\n    return params.values[normalizedKey].replace(patternRegex, match => match.toLowerCase())\n  },\n  /^([A-Za-z0-9_-]+)(,,?)(.*)$/,\n  normalizeKey\n)\n\n/**\n * Converts matching group of variable's value to uppercase.\n * If '^' format is used, only the first match is converted.\n * All matches are converted when '^^' format is used.\n * If no pattern is provided the whole string is converted to uppercase.\n *\n * Format: %{varname^pattern} OR %{varname^^pattern}\n * Example:\n * Values: { varname: \"ThIs Is A mIx Of LoWer-Upper cAse.\" }\n * Expression: \"%{varname^}\" => \"THIS IS A MIX OF LOWER-UPPER CASE.\"\n * Expression: \"%{varname^is}\" => \"ThIS Is A mIx Of LoWer-Upper cAse.\"\n * Expression: \"%{varname^^is}\" => \"ThIS IS A mIx Of LoWer-Upper cAse.\"\n */\nexport const toUppercaseEvaluator = new Evaluator(\n  params => {\n    const [normalizedKey, delimiter, pattern] = params.matched\n    if (!(normalizedKey in params.values)) return undefined\n    const patternRegex = new RegExp(\n      `(${!pattern ? '(.*)' : pattern})`,\n      `i${delimiter === '^^' ? 'g' : ''}`\n    )\n    return params.values[normalizedKey].replace(patternRegex, match => match.toUpperCase())\n  },\n  /^([A-Za-z0-9_-]+)(\\^\\^?)(.*)$/,\n  normalizeKey\n)\n\n/**\n * Performs simple interpolation when variables are replaced by values.\n * This Evaluator should be placed to the end of EvaluatorGroup\n * because it returns empty string when certain variables starting with http|resp|arg|cookie don't exist.\n *\n * Format: %{varname}\n * Example:\n * Values: { varname: \"something\" }\n * Expression: \"%{varname}\" => \"something\"\n * Expression: \"%{arg_undefined_varname}\" => \"\"\n * Expression: \"%{undefined_varname}\" => undefined => \"%{undefined_varname}\"\n */\nexport const simpleEvaluator = new Evaluator(\n  params => {\n    const [normalizedKey] = params.matched\n    if (normalizedKey in params.values) return params.values[normalizedKey]\n    return /(http|resp|arg|cookie)_[A-Za-z0-9_-]+/g.test(normalizedKey) ? '' : undefined\n  },\n  /(.+)/,\n  normalizeKey\n)\n", "import RequestContext from './RequestContext'\nimport { CachingStatus, HTTP_HEADERS } from '../constants'\nimport { InterpolationValues } from '../config'\nimport decodeUnreservedURIChars from '../utils/decodeUnreservedURIChars'\nimport path from 'path'\nimport qs from 'qs'\nimport { EvaluatorGroup } from './evaluators/EvaluatorGroup'\nimport {\n  assignOnNullEvaluator,\n  assignOnNotNullEvaluator,\n  removeLeadingEvaluator,\n  removeTrailingEvaluator,\n  substringEvaluator,\n  findReplaceEvaluator,\n  toLowercaseEvaluator,\n  toUppercaseEvaluator,\n  simpleEvaluator,\n} from './evaluators'\n\n/**\n * Replaces variables in the provided value with attributes of the request.\n *\n * For example, %{scheme}://www.example.com/products/%{arg_id} would become\n * https://www.example.com/products/1 for a request to https://www.example.com/products?id=1\n *\n * For more, see https://gitlab.com/limelight-networks/edgecast/mirrors/sailfish/-/blob/master/ecdoc/core-httpvars.rst\n *\n * @param value The value to interpolate\n * @param context The requestContext whose attributes should be used\n * @param values The object with extracted values\n * @returns\n */\nconst interpolate = (\n  value: string,\n  context: RequestContext,\n  values: Record<string, string> = extractInterpolationValues(context)\n) => {\n  const expressionEvaluator = new EvaluatorGroup([\n    assignOnNullEvaluator,\n    assignOnNotNullEvaluator,\n    removeLeadingEvaluator,\n    removeTrailingEvaluator,\n    substringEvaluator,\n    findReplaceEvaluator,\n    toLowercaseEvaluator,\n    toUppercaseEvaluator,\n    simpleEvaluator,\n  ])\n\n  const matches = value.matchAll(/%{(.*?)}/g)\n  for (const match of matches) {\n    const [expressionFull, expression] = match\n    const result = expressionEvaluator.execute(expression, values)\n    if (typeof result !== 'string') continue\n    value = value.replace(expressionFull, result)\n  }\n  return value\n}\n\nexport default interpolate\n\n/**\n * Replaces all values for all keys in an object with interpolated value\n *\n * @param target Object whos keys will be itterated and values changed with interpolate function call\n * @param context\n */\nexport const interpolateObject = (target: Record<string, string>, context: RequestContext) => {\n  // We want to preserve assigned variables inside the object scope\n  const values = extractInterpolationValues(context)\n\n  const newObject = {} as Record<string, string>\n  Object.entries(target).forEach(p => {\n    const [key, value] = p\n    newObject[key] = value !== undefined ? interpolate(value, context, values) : value\n  })\n\n  return newObject\n}\n\nconst defaultInterpolationValues: InterpolationValues = {\n  is_origin_shield: 'N/A',\n  is_subrequest: 'N/A',\n  physical_path: 'N/A',\n  physical_rel_path: 'N/A',\n  physical_doc_root: 'N/A',\n  referring_domain: 'N/A',\n  virt_dst_country: 'N/A',\n  virt_dst_continent: 'N/A',\n  virt_dst_asnum: 'N/A',\n  virt_dst_port: 'N/A',\n  geo_country: 'N/A',\n  geo_city: 'N/A',\n  geo_latitude: 'N/A',\n  geo_longitude: 'N/A',\n  geo_postal_code: 'N/A',\n  virt_ssl_protocol: 'N/A',\n  virt_ssl_cipher: 'N/A',\n  virt_ssl_client_ciphers: 'N/A',\n  virt_ssl_client_cipher_codes: 'N/A',\n  virt_ssl_client_tlsext_ids: 'N/A',\n  virt_http_version: 'N/A',\n  wurfl_vcap_is_smartphone: 'N/A',\n  wurfl_cap_is_tablet: 'N/A',\n  wurfl_vcap_is_full_desktop: 'N/A',\n  wurfl_vcap_is_ios: 'N/A',\n  wurfl_vcap_is_android: 'N/A',\n  wurfl_vcap_is_robot: 'N/A',\n  wurfl_cap_mobile_browser: 'N/A',\n}\n\nexport const extractInterpolationValues = (context: RequestContext) => {\n  // Please check this page to see how mappings to Sailfish is resolved\n  // see https://gitlab.com/limelight-networks/edgecast/mirrors/sailfish/-/blob/master/ecdoc/core-httpvars.rst\n  const { cookies, interpolationValues } = context\n\n  const request = context.getRequest()\n  const response = context.getResponse()\n\n  const host = request.getHeader('host') ?? ''\n  const fullUrl = new URL(`${request.protocol}://${host}${request.url}`)\n\n  const values = {\n    ...defaultInterpolationValues,\n    ...interpolationValues,\n  } as Record<string, string>\n\n  values.host = host as string\n  values.is_args = fullUrl.search !== '' ? '?' : ''\n  values.is_amp = fullUrl.search !== '' ? '&' : ''\n  values.query_string = fullUrl.search.substring(1)\n  values.request_protocol = `HTTP/${request.httpVersion}`\n  values.request_method = request.method.toUpperCase()\n  values.request_uri = request.url\n  values.request_header = request.rawHeaders?.join(', ') ?? '' // What separator to use?\n  values.request = `${values['request_method']} ${values['request_uri']} ${values['request_protocol']}`\n  values.path = request.path\n  values.normalized_path = decodeUnreservedURIChars(path.normalize(values['path']))\n  values.normalized_query = fullUrl.searchParams.toString()\n  values.normalized_uri = `${values.normalized_path}?${values.normalized_query}`\n  values.scheme = request.secure ? 'https' : 'http'\n  values.server_name = host as string\n  values.server_port = request.port\n  values.server_socket_port = request.port // not sure about this one\n  values.status = response.statusCode?.toString() ?? '' // is this right, can we have empty status code\n  values.http_status = values.status\n  values.cache_status = (response.getHeader(HTTP_HEADERS.xEdgeCachingStatus) as CachingStatus) ?? '' // should we translate this to something\n  values.virt_dst_addr = ((request.getHeader('x-forwarded-for') || request.socket.remoteAddress) ??\n    '') as string\n\n  // We need to parse query params from the URL without the decoder to\n  // obtain raw not decoded version of them\n  const undecodedQuery = qs.parse(fullUrl.search, {\n    ignoreQueryPrefix: true,\n    // We need to convert all arg names to lowercase to ensure\n    // that all duplicates will be as one array in final object\n    decoder: (value, defaultEncoder, charset, type) =>\n      type === 'key' ? value.toLowerCase() : value,\n  })\n\n  // Extract all values from provided objects with provided prefix\n  extractValuesFromObject('http_', request.getHeaders() ?? {}, values)\n  extractValuesFromObject('resp_', response.getHeaders() ?? {}, values)\n  extractValuesFromObject('arg_', undecodedQuery ?? {}, values)\n  extractValuesFromObject('cookie_', cookies ?? {}, values)\n  return values\n}\n\n/**\n * Extracts values from source object to destination object with provided key prefix.\n * This function ensures correct appending of existing\n * and new values which can either be string or string[].\n * It also ensures that all keys are converted to lower case.\n *\n * @param prefix prefix to be added in front of all dest keys\n * @param srcObj source object\n * @param destObj destination object\n * @example usage: extractValuesFromObject('http_', request.getHeaders(), values)\n */\nexport const extractValuesFromObject = (\n  prefix: string,\n  srcObj: { [key: string]: unknown },\n  destObj: { [key: string]: string }\n) => {\n  Object.keys(srcObj).forEach(srcKey => {\n    // Convert all keys to lower case to ensure consistency\n    // while merging values from multiple objects with same keys\n    const destKey = `${prefix}${srcKey}`.toLowerCase()\n\n    // Normalize type to array when values are string or array of strings.\n    // This happens when we have multiple headers or query params with same name.\n    const srcValues = !Array.isArray(srcObj[srcKey])\n      ? [srcObj[srcKey]]\n      : (srcObj[srcKey] as string[])\n\n    const destValues = destObj[destKey] ? [[destObj[destKey]]] : []\n\n    // Join existing and new values with comma and space\n    destObj[destKey] = [...destValues, ...srcValues].join(', ')\n  })\n}\n", "/**\n * Tokenizer results.\n */\ninterface LexToken {\n  type:\n    | \"OPEN\"\n    | \"CLOSE\"\n    | \"PATTERN\"\n    | \"NAME\"\n    | \"CHAR\"\n    | \"ESCAPED_CHAR\"\n    | \"MODIFIER\"\n    | \"END\";\n  index: number;\n  value: string;\n}\n\n/**\n * Tokenize input string.\n */\nfunction lexer(str: string): LexToken[] {\n  const tokens: LexToken[] = [];\n  let i = 0;\n\n  while (i < str.length) {\n    const char = str[i];\n\n    if (char === \"*\" || char === \"+\" || char === \"?\") {\n      tokens.push({ type: \"MODIFIER\", index: i, value: str[i++] });\n      continue;\n    }\n\n    if (char === \"\\\\\") {\n      tokens.push({ type: \"ESCAPED_CHAR\", index: i++, value: str[i++] });\n      continue;\n    }\n\n    if (char === \"{\") {\n      tokens.push({ type: \"OPEN\", index: i, value: str[i++] });\n      continue;\n    }\n\n    if (char === \"}\") {\n      tokens.push({ type: \"CLOSE\", index: i, value: str[i++] });\n      continue;\n    }\n\n    if (char === \":\") {\n      let name = \"\";\n      let j = i + 1;\n\n      while (j < str.length) {\n        const code = str.charCodeAt(j);\n\n        if (\n          // `0-9`\n          (code >= 48 && code <= 57) ||\n          // `A-Z`\n          (code >= 65 && code <= 90) ||\n          // `a-z`\n          (code >= 97 && code <= 122) ||\n          // `_`\n          code === 95\n        ) {\n          name += str[j++];\n          continue;\n        }\n\n        break;\n      }\n\n      if (!name) throw new TypeError(`Missing parameter name at ${i}`);\n\n      tokens.push({ type: \"NAME\", index: i, value: name });\n      i = j;\n      continue;\n    }\n\n    if (char === \"(\") {\n      let count = 1;\n      let pattern = \"\";\n      let j = i + 1;\n\n      if (str[j] === \"?\") {\n        throw new TypeError(`Pattern cannot start with \"?\" at ${j}`);\n      }\n\n      while (j < str.length) {\n        if (str[j] === \"\\\\\") {\n          pattern += str[j++] + str[j++];\n          continue;\n        }\n\n        if (str[j] === \")\") {\n          count--;\n          if (count === 0) {\n            j++;\n            break;\n          }\n        } else if (str[j] === \"(\") {\n          count++;\n          if (str[j + 1] !== \"?\") {\n            throw new TypeError(`Capturing groups are not allowed at ${j}`);\n          }\n        }\n\n        pattern += str[j++];\n      }\n\n      if (count) throw new TypeError(`Unbalanced pattern at ${i}`);\n      if (!pattern) throw new TypeError(`Missing pattern at ${i}`);\n\n      tokens.push({ type: \"PATTERN\", index: i, value: pattern });\n      i = j;\n      continue;\n    }\n\n    tokens.push({ type: \"CHAR\", index: i, value: str[i++] });\n  }\n\n  tokens.push({ type: \"END\", index: i, value: \"\" });\n\n  return tokens;\n}\n\nexport interface ParseOptions {\n  /**\n   * Set the default delimiter for repeat parameters. (default: `'/'`)\n   */\n  delimiter?: string;\n  /**\n   * List of characters to automatically consider prefixes when parsing.\n   */\n  prefixes?: string;\n}\n\n/**\n * Parse a string for the raw tokens.\n */\nexport function parse(str: string, options: ParseOptions = {}): Token[] {\n  const tokens = lexer(str);\n  const { prefixes = \"./\" } = options;\n  const defaultPattern = `[^${escapeString(options.delimiter || \"/#?\")}]+?`;\n  const result: Token[] = [];\n  let key = 0;\n  let i = 0;\n  let path = \"\";\n\n  const tryConsume = (type: LexToken[\"type\"]): string | undefined => {\n    if (i < tokens.length && tokens[i].type === type) return tokens[i++].value;\n  };\n\n  const mustConsume = (type: LexToken[\"type\"]): string => {\n    const value = tryConsume(type);\n    if (value !== undefined) return value;\n    const { type: nextType, index } = tokens[i];\n    throw new TypeError(`Unexpected ${nextType} at ${index}, expected ${type}`);\n  };\n\n  const consumeText = (): string => {\n    let result = \"\";\n    let value: string | undefined;\n    while ((value = tryConsume(\"CHAR\") || tryConsume(\"ESCAPED_CHAR\"))) {\n      result += value;\n    }\n    return result;\n  };\n\n  while (i < tokens.length) {\n    const char = tryConsume(\"CHAR\");\n    const name = tryConsume(\"NAME\");\n    const pattern = tryConsume(\"PATTERN\");\n\n    if (name || pattern) {\n      let prefix = char || \"\";\n\n      if (prefixes.indexOf(prefix) === -1) {\n        path += prefix;\n        prefix = \"\";\n      }\n\n      if (path) {\n        result.push(path);\n        path = \"\";\n      }\n\n      result.push({\n        name: name || key++,\n        prefix,\n        suffix: \"\",\n        pattern: pattern || defaultPattern,\n        modifier: tryConsume(\"MODIFIER\") || \"\",\n      });\n      continue;\n    }\n\n    const value = char || tryConsume(\"ESCAPED_CHAR\");\n    if (value) {\n      path += value;\n      continue;\n    }\n\n    if (path) {\n      result.push(path);\n      path = \"\";\n    }\n\n    const open = tryConsume(\"OPEN\");\n    if (open) {\n      const prefix = consumeText();\n      const name = tryConsume(\"NAME\") || \"\";\n      const pattern = tryConsume(\"PATTERN\") || \"\";\n      const suffix = consumeText();\n\n      mustConsume(\"CLOSE\");\n\n      result.push({\n        name: name || (pattern ? key++ : \"\"),\n        pattern: name && !pattern ? defaultPattern : pattern,\n        prefix,\n        suffix,\n        modifier: tryConsume(\"MODIFIER\") || \"\",\n      });\n      continue;\n    }\n\n    mustConsume(\"END\");\n  }\n\n  return result;\n}\n\nexport interface TokensToFunctionOptions {\n  /**\n   * When `true` the regexp will be case sensitive. (default: `false`)\n   */\n  sensitive?: boolean;\n  /**\n   * Function for encoding input strings for output.\n   */\n  encode?: (value: string, token: Key) => string;\n  /**\n   * When `false` the function can produce an invalid (unmatched) path. (default: `true`)\n   */\n  validate?: boolean;\n}\n\n/**\n * Compile a string to a template function for the path.\n */\nexport function compile<P extends object = object>(\n  str: string,\n  options?: ParseOptions & TokensToFunctionOptions\n) {\n  return tokensToFunction<P>(parse(str, options), options);\n}\n\nexport type PathFunction<P extends object = object> = (data?: P) => string;\n\n/**\n * Expose a method for transforming tokens into the path function.\n */\nexport function tokensToFunction<P extends object = object>(\n  tokens: Token[],\n  options: TokensToFunctionOptions = {}\n): PathFunction<P> {\n  const reFlags = flags(options);\n  const { encode = (x: string) => x, validate = true } = options;\n\n  // Compile all the tokens into regexps.\n  const matches = tokens.map((token) => {\n    if (typeof token === \"object\") {\n      return new RegExp(`^(?:${token.pattern})$`, reFlags);\n    }\n  });\n\n  return (data: Record<string, any> | null | undefined) => {\n    let path = \"\";\n\n    for (let i = 0; i < tokens.length; i++) {\n      const token = tokens[i];\n\n      if (typeof token === \"string\") {\n        path += token;\n        continue;\n      }\n\n      const value = data ? data[token.name] : undefined;\n      const optional = token.modifier === \"?\" || token.modifier === \"*\";\n      const repeat = token.modifier === \"*\" || token.modifier === \"+\";\n\n      if (Array.isArray(value)) {\n        if (!repeat) {\n          throw new TypeError(\n            `Expected \"${token.name}\" to not repeat, but got an array`\n          );\n        }\n\n        if (value.length === 0) {\n          if (optional) continue;\n\n          throw new TypeError(`Expected \"${token.name}\" to not be empty`);\n        }\n\n        for (let j = 0; j < value.length; j++) {\n          const segment = encode(value[j], token);\n\n          if (validate && !(matches[i] as RegExp).test(segment)) {\n            throw new TypeError(\n              `Expected all \"${token.name}\" to match \"${token.pattern}\", but got \"${segment}\"`\n            );\n          }\n\n          path += token.prefix + segment + token.suffix;\n        }\n\n        continue;\n      }\n\n      if (typeof value === \"string\" || typeof value === \"number\") {\n        const segment = encode(String(value), token);\n\n        if (validate && !(matches[i] as RegExp).test(segment)) {\n          throw new TypeError(\n            `Expected \"${token.name}\" to match \"${token.pattern}\", but got \"${segment}\"`\n          );\n        }\n\n        path += token.prefix + segment + token.suffix;\n        continue;\n      }\n\n      if (optional) continue;\n\n      const typeOfMessage = repeat ? \"an array\" : \"a string\";\n      throw new TypeError(`Expected \"${token.name}\" to be ${typeOfMessage}`);\n    }\n\n    return path;\n  };\n}\n\nexport interface RegexpToFunctionOptions {\n  /**\n   * Function for decoding strings for params.\n   */\n  decode?: (value: string, token: Key) => string;\n}\n\n/**\n * A match result contains data about the path match.\n */\nexport interface MatchResult<P extends object = object> {\n  path: string;\n  index: number;\n  params: P;\n}\n\n/**\n * A match is either `false` (no match) or a match result.\n */\nexport type Match<P extends object = object> = false | MatchResult<P>;\n\n/**\n * The match function takes a string and returns whether it matched the path.\n */\nexport type MatchFunction<P extends object = object> = (\n  path: string\n) => Match<P>;\n\n/**\n * Create path match function from `path-to-regexp` spec.\n */\nexport function match<P extends object = object>(\n  str: Path,\n  options?: ParseOptions & TokensToRegexpOptions & RegexpToFunctionOptions\n) {\n  const keys: Key[] = [];\n  const re = pathToRegexp(str, keys, options);\n  return regexpToFunction<P>(re, keys, options);\n}\n\n/**\n * Create a path match function from `path-to-regexp` output.\n */\nexport function regexpToFunction<P extends object = object>(\n  re: RegExp,\n  keys: Key[],\n  options: RegexpToFunctionOptions = {}\n): MatchFunction<P> {\n  const { decode = (x: string) => x } = options;\n\n  return function (pathname: string) {\n    const m = re.exec(pathname);\n    if (!m) return false;\n\n    const { 0: path, index } = m;\n    const params = Object.create(null);\n\n    for (let i = 1; i < m.length; i++) {\n      if (m[i] === undefined) continue;\n\n      const key = keys[i - 1];\n\n      if (key.modifier === \"*\" || key.modifier === \"+\") {\n        params[key.name] = m[i].split(key.prefix + key.suffix).map((value) => {\n          return decode(value, key);\n        });\n      } else {\n        params[key.name] = decode(m[i], key);\n      }\n    }\n\n    return { path, index, params };\n  };\n}\n\n/**\n * Escape a regular expression string.\n */\nfunction escapeString(str: string) {\n  return str.replace(/([.+*?=^!:${}()[\\]|/\\\\])/g, \"\\\\$1\");\n}\n\n/**\n * Get the flags for a regexp from the options.\n */\nfunction flags(options?: { sensitive?: boolean }) {\n  return options && options.sensitive ? \"\" : \"i\";\n}\n\n/**\n * Metadata about a key.\n */\nexport interface Key {\n  name: string | number;\n  prefix: string;\n  suffix: string;\n  pattern: string;\n  modifier: string;\n}\n\n/**\n * A token is a string (nothing special) or key metadata (capture group).\n */\nexport type Token = string | Key;\n\n/**\n * Pull out keys from a regexp.\n */\nfunction regexpToRegexp(path: RegExp, keys?: Key[]): RegExp {\n  if (!keys) return path;\n\n  const groupsRegex = /\\((?:\\?<(.*?)>)?(?!\\?)/g;\n\n  let index = 0;\n  let execResult = groupsRegex.exec(path.source);\n  while (execResult) {\n    keys.push({\n      // Use parenthesized substring match if available, index otherwise\n      name: execResult[1] || index++,\n      prefix: \"\",\n      suffix: \"\",\n      modifier: \"\",\n      pattern: \"\",\n    });\n    execResult = groupsRegex.exec(path.source);\n  }\n\n  return path;\n}\n\n/**\n * Transform an array into a regexp.\n */\nfunction arrayToRegexp(\n  paths: Array<string | RegExp>,\n  keys?: Key[],\n  options?: TokensToRegexpOptions & ParseOptions\n): RegExp {\n  const parts = paths.map((path) => pathToRegexp(path, keys, options).source);\n  return new RegExp(`(?:${parts.join(\"|\")})`, flags(options));\n}\n\n/**\n * Create a path regexp from string input.\n */\nfunction stringToRegexp(\n  path: string,\n  keys?: Key[],\n  options?: TokensToRegexpOptions & ParseOptions\n) {\n  return tokensToRegexp(parse(path, options), keys, options);\n}\n\nexport interface TokensToRegexpOptions {\n  /**\n   * When `true` the regexp will be case sensitive. (default: `false`)\n   */\n  sensitive?: boolean;\n  /**\n   * When `true` the regexp won't allow an optional trailing delimiter to match. (default: `false`)\n   */\n  strict?: boolean;\n  /**\n   * When `true` the regexp will match to the end of the string. (default: `true`)\n   */\n  end?: boolean;\n  /**\n   * When `true` the regexp will match from the beginning of the string. (default: `true`)\n   */\n  start?: boolean;\n  /**\n   * Sets the final character for non-ending optimistic matches. (default: `/`)\n   */\n  delimiter?: string;\n  /**\n   * List of characters that can also be \"end\" characters.\n   */\n  endsWith?: string;\n  /**\n   * Encode path tokens for use in the `RegExp`.\n   */\n  encode?: (value: string) => string;\n}\n\n/**\n * Expose a function for taking tokens and returning a RegExp.\n */\nexport function tokensToRegexp(\n  tokens: Token[],\n  keys?: Key[],\n  options: TokensToRegexpOptions = {}\n) {\n  const {\n    strict = false,\n    start = true,\n    end = true,\n    encode = (x: string) => x,\n    delimiter = \"/#?\",\n    endsWith = \"\",\n  } = options;\n  const endsWithRe = `[${escapeString(endsWith)}]|$`;\n  const delimiterRe = `[${escapeString(delimiter)}]`;\n  let route = start ? \"^\" : \"\";\n\n  // Iterate over the tokens and create our regexp string.\n  for (const token of tokens) {\n    if (typeof token === \"string\") {\n      route += escapeString(encode(token));\n    } else {\n      const prefix = escapeString(encode(token.prefix));\n      const suffix = escapeString(encode(token.suffix));\n\n      if (token.pattern) {\n        if (keys) keys.push(token);\n\n        if (prefix || suffix) {\n          if (token.modifier === \"+\" || token.modifier === \"*\") {\n            const mod = token.modifier === \"*\" ? \"?\" : \"\";\n            route += `(?:${prefix}((?:${token.pattern})(?:${suffix}${prefix}(?:${token.pattern}))*)${suffix})${mod}`;\n          } else {\n            route += `(?:${prefix}(${token.pattern})${suffix})${token.modifier}`;\n          }\n        } else {\n          if (token.modifier === \"+\" || token.modifier === \"*\") {\n            route += `((?:${token.pattern})${token.modifier})`;\n          } else {\n            route += `(${token.pattern})${token.modifier}`;\n          }\n        }\n      } else {\n        route += `(?:${prefix}${suffix})${token.modifier}`;\n      }\n    }\n  }\n\n  if (end) {\n    if (!strict) route += `${delimiterRe}?`;\n\n    route += !options.endsWith ? \"$\" : `(?=${endsWithRe})`;\n  } else {\n    const endToken = tokens[tokens.length - 1];\n    const isEndDelimited =\n      typeof endToken === \"string\"\n        ? delimiterRe.indexOf(endToken[endToken.length - 1]) > -1\n        : endToken === undefined;\n\n    if (!strict) {\n      route += `(?:${delimiterRe}(?=${endsWithRe}))?`;\n    }\n\n    if (!isEndDelimited) {\n      route += `(?=${delimiterRe}|${endsWithRe})`;\n    }\n  }\n\n  return new RegExp(route, flags(options));\n}\n\n/**\n * Supported `path-to-regexp` input types.\n */\nexport type Path = string | RegExp | Array<string | RegExp>;\n\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n */\nexport function pathToRegexp(\n  path: Path,\n  keys?: Key[],\n  options?: TokensToRegexpOptions & ParseOptions\n) {\n  if (path instanceof RegExp) return regexpToRegexp(path, keys);\n  if (Array.isArray(path)) return arrayToRegexp(path, keys, options);\n  return stringToRegexp(path, keys, options);\n}\n", "import { bindRegexParams } from './regexUtils'\n\n/**\n * Binds params to path.\n *\n * Example:\n * ```js\n * bindParams('/:foo/:bar*', { foo: 'p1', bar: 'p2/p3' })\n * bindParams('/$1/$2', { '$': [ '/p1/p2/p3', 'p1', 'p2/p3' ] })\n * ```\n * Output: `/p1/p2/p3`\n *\n * @param path The path, with param substitutions in braces `{}`.\n * @param params An object with keys matching the params in braces.\n * @returns A string with the params substituted with their values.\n */\nexport default (path: string, params: any) => {\n  let p = path\n\n  // We allow edge interpolation params which begin with `${` but we no longer\n  // allow old path options that only begin with `{`.\n  if (/(^|[^$]){/.test(path)) {\n    throw new Error(\n      `{variable} syntax in the path option is no longer supported, use :variable instead (${path})`\n    )\n  }\n\n  for (let paramName in params) {\n    let value = params[paramName]\n\n    if (Array.isArray(value)) {\n      value = value.join('/')\n    }\n\n    // Here we decide *not* to use path-to-regexp `compile()` function\n    // as bindParams is used by other string which are not paths.\n    // For example it is used to interpolate setHeader values, which can be a CORS header like\n    // 'https://www.domain.com/:path'. The ':' behind https is not a valid path-to-regexp expression.\n    // p = p.replace(new RegExp(`:${paramName}(\\\\?|\\\\*|\\\\(.*\\\\)[?*]?)?`, 'g'), value)\n    const pattern = new RegExp(`:${paramName}(\\\\([^)]*\\\\))?[?*+]?`, 'g')\n    const replacement = value === undefined ? '' : value\n    p = p.replace(pattern, replacement.replace(/\\$/g, '$$$')) // convert $ to $$ to escape backreferences in the replacement string\n  }\n\n  // For optional matchers (:path* and :path?), path may not be defined in params\n  // after matching a route but should still be replaced by a blank value\n  //\n  // ex: pathToRegexp.match('/public/:param?')('/').params returns {}\n  //     so bindParams('/public/:param?', {}) should return '/public/'\n  //\n  p = p.replace(/:\\w+(\\*|\\+|\\?)?/, '')\n\n  // We un-escape '?' character that needed to be escape from path-to-regexp expression\n  // to *not* be considered as optional parameter matcher\n  p = p.replace('\\\\?', '?')\n\n  p = p\n    .replace(/\\/+/g, '/') // finally dedupe /'s that result from missing optional parameters\n    .replace(/^([^:]+:)\\//gi, '$1//') // but don't replace http://domain with http:/domain\n\n  // Substitute params captured by groups from regular expression path criteria\n  // when the path is a regular expression\n  p = params?.$ ? bindRegexParams(p, params.$) : p\n\n  return p\n}\n", "export default function toRegExp(pattern: string, flags = 'g') {\n  if (pattern.startsWith('(?i)')) {\n    pattern = pattern.substring(4)\n    flags += 'i'\n  }\n\n  return new RegExp(pattern, flags)\n}\n", "import { parse, pathToRegexp } from 'path-to-regexp'\nimport bindParams from '../utils/bindParams'\nimport toEdgeRegex from '../utils/toEdgeRegex'\nimport toRegExp from '../runtime/toRegExp'\n\n/**\n * Converts an express-style path pattern like /products/:id to a regular expression source string\n * suitable for assignment to Router features.\n * @param path\n * @returns\n */\nexport function pathToRegex(path: string): string {\n  let prefix = ''\n  const protocolRegex = /^[a-z]+:\\/\\//i\n  const matches = protocolRegex.exec(path)\n\n  if (matches) {\n    prefix = matches[0]\n  }\n\n  const pathPart = path.substring(prefix.length)\n\n  // @ts-ignore\n  return toEdgeRegex(pathToRegexp(pathPart), prefix)\n}\n\n/**\n * Creates a regex rewrite object based on the specified sourcePath and destPath, both\n * of which accept express-style path strings.\n * @param sourcePath\n * @param destPath\n * @param options Additional options that allow to control the rewrite behavior\n * @returns\n */\nexport function rewritePath(\n  sourcePath: string | undefined,\n  destPath: string,\n  options?: {\n    /**\n     * Set to true to not include optional trailing slash in rewrite destination\n     */\n    skipSlash?: boolean\n    /**\n     * Set to true to not include optional query in rewrite destination\n     */\n    skipQuery?: boolean\n  }\n): {\n  source?: string\n  destination: string\n  syntax?: 'path-to-regexp' | 'regexp'\n} {\n  const { skipQuery = false, skipSlash = false } = options || {}\n\n  if (sourcePath == null) return { destination: destPath }\n  // The regex is matched in mod_rewrite against the whole URL instead of path.\n  // Options allow us to adjust regex to match URL with optional query at the end as well\n  // as optional trailing slash in some cases.\n  return {\n    source: `${sourcePath}:optionalSlash(\\\\/?)?:optionalQuery(\\\\?.*)?`,\n    syntax: 'path-to-regexp',\n    destination: `${destPath}${skipSlash ? '' : ':optionalSlash'}${\n      skipQuery ? '' : ':optionalQuery'\n    }`,\n  }\n}\n\n/**\n * Returns rewritten url based on the specified sourcePath and destPath.\n * The unchanged destination is returned when no sourcePath is provided.\n * The null is returned when url does not match sourcePath.\n * @param url\n * @param source\n * @param destination\n * @param syntax\n * @returns\n */\nexport function mapURL(\n  url: string,\n  source: string | undefined,\n  destination: string,\n  syntax?: 'path-to-regexp' | 'regexp'\n): string | null {\n  let targetSource\n  let targetDest = destination\n\n  // return unchanged dest  when no source is provided\n  if (!source) return targetDest\n\n  // determine source syntax and convert it to regex\n  if (syntax === 'regexp') {\n    targetSource = toRegExp(source, '') // no flags used in order to avoid invalid group mapping\n  } else {\n    // path-to-regexp syntax is used by default\n    targetSource = pathToRegexp(source)\n    // we map references onto the destination string, which is expected to be input in path-to-regexp format also\n    targetDest = bindParams(destination, getBackReferences(source))\n  }\n\n  // return null when url does not match source\n  if (!url.match(targetSource)) return null\n\n  return url.replace(targetSource, targetDest)\n}\n/*\nUncomment when we we support url.path_rewrite\nexport function mapPath(\n  url: string,\n  source: string | undefined,\n  destination: string,\n  syntax?: 'path-to-regexp' | 'regexp'\n) {\n  let targetSource\n  let targetDest = destination\n  const parsed = new URL(url, 'http://localhost')\n\n  if (source) {\n    if (syntax === 'regexp') {\n      targetSource = toRegExp(source, '') // no flags used in order to avoid invalid group mapping\n    } else {\n      // path-to-regexp syntax is used by default\n      targetSource = pathToRegexp(source)\n      // we map references onto the destination string, which is expected to be input in path-to-regexp format also\n      targetDest = bindParams(destination, getBackReferences(source))\n    }\n    return `${parsed.pathname.replace(targetSource, targetDest)}${parsed.search}`\n  } else {\n    return `${targetDest}${parsed.search}`\n  }\n}\n*/\n\nexport function getBackReferences(path: string) {\n  // In case path is an absolute path\n  const absolutePathMatch = path.match(/https?:\\/\\/[^/]+(.*)/)\n  if (absolutePathMatch) {\n    path = `/${absolutePathMatch[1]}`\n  }\n\n  // Back reference counting starts from 1\n  let backReferenceCounter = 1\n  const references: { [key: string]: string } = {}\n\n  parse(path).forEach(token => {\n    if (typeof token !== 'string') {\n      references[token.name] = `$${backReferenceCounter++}` // double $$ escapes backreferences so \"$N\" actually gets inserted into the string\n    }\n  })\n\n  return references\n}\n\n/**\n * Returns a boolean indicating whether the specified url is an absolute url.\n * @param url\n * @returns\n */\nexport function isAbsoluteUrl(url: string) {\n  return url.startsWith('http://') || url.startsWith('https://')\n}\n\n/**\n * Converts named parameters from regex-to-path format to regex substitution format\n * with indexes.\n * @param source\n * @param destination\n * @returns\n */\nexport function nameParamsToIndex(source: string, destination: string) {\n  const backReferences = getBackReferences(source)\n  const matches = [\n    ...destination.matchAll(/:(.[a-z_-]+)[+|*]/g),\n    ...destination.matchAll(/:(.[a-z_-]+)/g),\n  ]\n  matches.forEach(match => {\n    if (!Object.keys(backReferences).includes(match[1])) return\n    const index = Object.keys(backReferences).indexOf(match[1])\n    destination = destination.replace(match[0], `$${index}`)\n  })\n  return destination\n}\n", "import { Features } from '../../types'\nimport Mod from './Mod'\nimport Phase from '../Phase'\nimport { setURL } from '../url'\nimport interpolate from '../interpolate'\nimport { mapURL } from '../../router/path'\nimport logger from '../../log'\n\n/**\n * Emulation of Sailfish's mod_rewrite\n */\nexport default class ModRewrite extends Mod {\n  async execute(phase: Phase) {\n    if (phase === Phase.UriRaw) {\n      this.context.forLastMatchingRule(rule => this.applyFeatures(rule, phase))\n    }\n  }\n\n  private applyFeatures(features: Features, _phase: Phase): boolean {\n    if (features.url?.url_rewrite) {\n      const request = this.context.getRequest()\n\n      for (let { source, destination, syntax } of features.url.url_rewrite) {\n        if (!destination) {\n          throw new Error('url.url_rewrite.destination is required but was not provided.')\n        }\n\n        logger.debug(`Rewriting ${source} to ${destination} using ${syntax}`)\n\n        const updatedURL = mapURL(\n          request.url,\n          source,\n          interpolate(destination, this.context),\n          syntax\n        )\n\n        logger.debug(`Rewritten URL: ${updatedURL}`)\n\n        // When updatedURL is null, it means that the rewrite source didn't match the url.\n        // We want to skip this url_rewrite feature in this case.\n        if (!updatedURL) continue\n\n        setURL(request, updatedURL)\n      }\n      return true\n    }\n\n    /*\n    Uncomment when we support path_rewrite\n    if (features.url?.path_rewrite) {\n      const request = this.context.getRequest()\n\n      for (let { source, destination, syntax } of features.url.path_rewrite) {\n        if (!destination) {\n          throw new Error('url.path_rewrite.destination is required but was not provided.')\n        }\n        setURL(\n          request,\n          mapPath(request.url, source, interpolate(destination, this.context), syntax)\n        )\n      }\n      return true\n    }\n    */\n\n    return false\n  }\n\n  toString() {\n    return 'ModRewrite'\n  }\n}\n", "!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.cacheControl=t():e.cacheControl=t()}(this,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"\",r(r.s=1)}([function(e,t){},function(e,t,r){\"use strict\";function n(e){return(n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw a}}return r}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}()}r.r(t);var a=[\"max-age\",\"s-maxage\",\"stale-while-revalidate\",\"stale-if-error\",\"public\",\"private\",\"no-store\",\"no-cache\",\"must-revalidate\",\"proxy-revalidate\",\"immutable\",\"no-transform\"],i=function(e){var t={},r=e.toLowerCase().split(\",\").map((function(e){return e.trim().split(\"=\").map((function(e){return e.trim()}))})),n=!0,a=!1,i=void 0;try{for(var u,c=r[Symbol.iterator]();!(n=(u=c.next()).done);n=!0){var l=o(u.value,2),f=l[0],s=l[1];switch(f){case\"max-age\":var p=parseInt(s,10);if(isNaN(p))continue;t[\"max-age\"]=p;break;case\"s-maxage\":var b=parseInt(s,10);if(isNaN(b))continue;t[\"s-maxage\"]=b;break;case\"stale-while-revalidate\":var y=parseInt(s,10);if(isNaN(y))continue;t[\"stale-while-revalidate\"]=y;break;case\"stale-if-error\":var m=parseInt(s,10);if(isNaN(m))continue;t[\"stale-if-error\"]=m;break;case\"public\":t.public=!0;break;case\"private\":t.private=!0;break;case\"no-store\":t[\"no-store\"]=!0;break;case\"no-cache\":t[\"no-cache\"]=!0;break;case\"must-revalidate\":t[\"must-revalidate\"]=!0;break;case\"proxy-revalidate\":t[\"proxy-revalidate\"]=!0;break;case\"immutable\":t.immutable=!0;break;case\"no-transform\":t[\"no-transform\"]=!0}}}catch(e){a=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw i}}return t},u=function(e){for(var t=[],r=0,i=Object.entries(e);r<i.length;r++){var u=o(i[r],2),c=u[0],l=u[1];if(a.includes(c))switch(n(l)){case\"boolean\":t.push(\"\".concat(c));break;case\"number\":t.push(\"\".concat(c,\"=\").concat(l))}}return t.join(\", \")},c=r(0);r.d(t,\"parse\",(function(){return i})),r.d(t,\"stringify\",(function(){return u})),r.d(t,\"CacheControl\",(function(){return c.CacheControl}))}])}));", "import { TimeInterval } from '../../types'\nimport { SailfishMaxAge } from './Sailfish.Types'\n\n/**\n * Converts time interval type to total number of seconds.\n * @param timeInterval Regex string defined by Sailfish specification\n */\nconst convertSailfishTimeIntervalToSeconds = (timeInterval: TimeInterval) => {\n  const regex = /^([0-9]+)(s|m|h|d|w|y)$/g\n  const res = regex.exec(timeInterval)\n\n  if (res == null) throw new Error(`Unsupported time interval \"${timeInterval}\".`)\n\n  const value = parseInt(res[1])\n  const timeUnit = res[2]\n\n  switch (timeUnit) {\n    case 's':\n      return value\n    case 'm':\n      return value * 60\n    case 'h':\n      return value * 60 * 60\n    case 'd':\n      return value * 60 * 60 * 24\n    case 'w':\n      return value * 60 * 60 * 24 * 7\n    case 'y':\n      return value * 60 * 60 * 24 * 365\n    default:\n      throw new Error(`Unsupported time unit \"${timeUnit}\".`)\n  }\n}\n\n/**\n * Converts Sailfish max age type to seconds\n */\nexport const toSeconds = (maxAge: SailfishMaxAge, code?: number) => {\n  if (typeof maxAge === 'string') {\n    return convertSailfishTimeIntervalToSeconds(maxAge)\n  } else {\n    return convertSailfishTimeIntervalToSeconds(maxAge[code!])\n  }\n}\n", "/**\n * Converts seconds to the most sensible unit abbreviation - the largest unit that overflows rounded down\n * https://docs.edgecast.com/cdn/Content/Knowledge_Base/X_EC_Debug.htm#TimeUnitAbbrev\n */\nexport const toTimeUnitAbbrev = (seconds: number) => {\n  const hours = 60 * 60\n  const days = hours * 24\n  const months = days * 30.437\n  const years = months * 12\n\n  if (seconds >= years) {\n    return Math.floor(seconds / years) + 'y'\n  } else if (seconds >= months) {\n    return Math.floor(seconds / months) + 'm'\n  } else if (seconds >= days) {\n    return Math.floor(seconds / days) + 'd'\n  } else if (seconds >= hours) {\n    return Math.floor(seconds / hours) + 'h'\n  }\n  return seconds + 's'\n}\n", "import { Features, HeaderTreatment, HttpStatusCode } from '../../types'\nimport Mod from './Mod'\nimport Phase from '../Phase'\nimport toRegExp from '../toRegExp'\nimport log from '../../log'\nimport interpolate from '../interpolate'\nimport {\n  CachingStatus,\n  CACHING_DEBUG_CACHEABLE,\n  CACHING_DEBUG_HEADERS,\n  CACHING_DEBUG_STATUS,\n  CACHING_STATUS,\n  HTTP_HEADERS,\n} from '../../constants'\nimport { CacheControl, parse as parseCacheControl } from 'cache-control-parser'\nimport { toSeconds } from '../../router/converters/toSeconds'\nimport { toTimeUnitAbbrev } from '../../router/converters/toTimeUnitAbbrev'\nimport logger from '../../log'\n\n/**\n * Emulation of Sailfish's mod_cache\n */\nexport default class ModCache extends Mod {\n  private cachingFeatures: Features = { caching: {} }\n\n  async execute(phase: Phase) {\n    /* istanbul ignore else */\n    if (Phase.UriClean === phase) {\n      this.context.forEachMatchingRule(rule => this.applyCacheReadFeatures(rule))\n    } else if (Phase.HandleDocRoot === phase) {\n      this.readCachedResponse()\n    }\n\n    // if we just read from cache, we apply these rules again - we definitely need to apply debug headers, to set whether it was hit or miss,\n    // but also - some of the rules could reload, and so the wanted rules could differ\n    if (\n      Phase.HandleResponseHeader === phase ||\n      (this.context.useCacheFile && Phase.HandleDocRoot === phase)\n    ) {\n      this.context.forEachMatchingRule(rule => this.applyCacheWriteFeatures(rule))\n      this.ensureAge()\n      this.applyResponseCachingHeaders()\n      this.context.forEachMatchingRule(rule => {\n        this.applyDebugHeaderFeatures(rule)\n        this.applyExternalMaxAge(rule)\n      })\n      this.maybeApplyAdditionalCachingHeaders()\n    } else if (Phase.HandleResponseDone === phase) {\n      this.maybeWriteCachedResponse()\n    }\n  }\n\n  private readCachedResponse() {\n    const response = this.context.getResponse()\n\n    if (!this.context.cache) {\n      return\n    }\n\n    if (this.context.bypassCache || this.context.bypassCacheByHonor) {\n      log.info(() => `[pass] ${this.context.summarize()}`)\n      this.setCachingStatus(CACHING_STATUS.bypassed)\n    } else {\n      log.trace(`[ModCache] cache key: ${this.context.cacheKey}`)\n\n      const result = this.context.cache.get(this.context.cacheKey)\n\n      if (result) {\n        response.statusCode = result.response.statusCode\n        response.statusMessage = result.response.statusMessage\n        response.chunks = result.response.chunks\n\n        // Copy over headers from the cached response\n        for (let name in result.response.headers) {\n          const value = result.response.headers[name]\n          response.setHeader(name, value)\n        }\n\n        this.setCachingStatus(CACHING_STATUS.hit)\n\n        // update the age header by adding the time since the response was cached to the responses age header\n        let age = parseInt((response.getHeader('age') as string) || '0')\n        const timeSinceCached = Math.floor((Date.now() - result.response.cachedAt) / 1000)\n\n        response.setHeader('age', (age + timeSinceCached).toString())\n\n        // there's a possibility a chunk is null, signalling the end of stream\n        const contentLength = response.chunks.reduce(\n          (value, chunk) => value + chunk?.byteLength ?? 0,\n          0\n        )\n\n        // we're adding the header as it could be previously removed during reencoding\n        // checking NaN in case we have something else then buffers in there - shouldnt happen tho\n        if (!Number.isNaN(contentLength)) {\n          response.setHeader(HTTP_HEADERS.contentLength, contentLength)\n          // if we have content length, we dont use transfer encoding\n          response.removeHeader(HTTP_HEADERS.transferEncoding)\n        }\n\n        // No need to fetch from the origin in-band\n        this.context.useCacheFile = true\n\n        // ensure that cached responses aren't written back to the cache later\n        this.context.bypassCache = true\n\n        if (result.revalidate && !this.context.cache.isRevalidating(this.context.cacheKey)) {\n          // we set global revalidating status in order to avoid every fetch in the stale time range hit origin\n          this.context.cache.setRevalidating(this.context.cacheKey, true)\n          // revalidate out-of-band if the result is stale and was cached with staleWhileRevalidate\n          this.context.revalidate = true\n        } else {\n          this.context.revalidate = false\n        }\n\n        if (result.revalidate) {\n          log.info(() => `[stale]  ${this.context.summarize()}`)\n        } else {\n          log.info(() => `[hit]  ${this.context.summarize()}`)\n        }\n      } else {\n        log.info(() => `[miss] ${this.context.summarize()}`)\n      }\n    }\n  }\n\n  // applies 'client-side' max-age, further controlled by cache_control_header_treatment and expires_header_treatment\n  // https://docs.edgecast.com/cdn/Content/HRE/F/External-Max-Age.htm\n  private applyExternalMaxAge(features: Features) {\n    if (features.caching?.client_max_age) {\n      const response = this.context.getResponse()\n      const setHeaders = (\n        headerName: string,\n        treatment: HeaderTreatment | undefined,\n        setHeader: Function\n      ) => {\n        switch (treatment) {\n          case 'pass':\n            // should pass origin's header only, therefore skipping - expected to be in the response already\n            break\n          case 'if_missing':\n            !response.getHeader(headerName) && setHeader()\n            break\n          case 'remove':\n            response.removeHeader(headerName)\n            break\n          // by default, 'overwrite' value is used\n          default:\n            setHeader()\n        }\n      }\n      const maxAgeSeconds = toSeconds(features.caching.client_max_age as string)\n\n      setHeaders(\n        HTTP_HEADERS.cacheControl,\n        features.caching?.cache_control_header_treatment as HeaderTreatment,\n        () =>\n          this.context.setResponseHeader({\n            [HTTP_HEADERS.cacheControl]: `max-age=${maxAgeSeconds}`,\n          })\n      )\n\n      setHeaders(\n        HTTP_HEADERS.expires,\n        features.caching?.expires_header_treatment as HeaderTreatment,\n        () => {\n          const cacheState = this.context.cache?.get(this.context.cacheKey) ?? {\n            response: { cachedAt: Date.now() },\n          }\n          this.context.setResponseHeader({\n            [HTTP_HEADERS.expires]: new Date(\n              cacheState.response.cachedAt + maxAgeSeconds * 1000\n            ).toUTCString(),\n          })\n        }\n      )\n    }\n  }\n\n  private applyCacheReadFeatures(features: Features) {\n    const { caching } = features\n    const request = this.context.getRequest()\n\n    if (!caching) {\n      return\n    }\n\n    if (caching.bypass_cache) {\n      this.context.bypassCache = true\n    }\n\n    // Request is checked only for no-cache option.\n    // Learn more: https://docs.edgecast.com/cdn/Content/HRE/F/Honor-No-Cache-Request.htm\n    const reqCacheControl = {\n      // Legacy header for HTTP/1.0\n      ...parseCacheControl(request.getHeader('pragma')?.toString() || ''),\n      // Overrides pragma when both are present\n      ...parseCacheControl(request.getHeader('cache-control')?.toString() || ''),\n    }\n\n    // Allow to bypass the cache and return fresh response by no-cache option of request\n    // only in cases when honor_no_cache_request_header is true to mitigate the impact of many intentional no-cache requests sent to origin.\n    // The TCP_CLIENT_REFRESH_MISS debug status code is returned in cases when the cache was updated due to this feature.\n    // Learn more: https://docs.edgecast.com/cdn/Content/HRE/F/Honor-No-Cache-Request.htm\n    if (reqCacheControl['no-cache'] && caching.honor_no_cache_request_header) {\n      this.context.bypassCacheByHonor = true\n    }\n\n    if (caching.cache_key_rewrite) {\n      // rewrite the pathname based on a regex\n      const { source, destination } = caching.cache_key_rewrite\n      const newDestination = destination ? interpolate(destination!, this.context) : destination!\n\n      if (source && destination) {\n        this.context.cacheKey.pathname = this.context.cacheKey.pathname.replace(\n          toRegExp(source),\n          newDestination\n        )\n      } else if (destination) {\n        this.context.cacheKey.pathname = newDestination\n      }\n    }\n\n    if (caching.cache_key_query_string) {\n      // include or exclude specific query params from the cache key\n      const { include, include_all_except, exclude_all, include_all } =\n        caching.cache_key_query_string\n\n      if (include_all_except) {\n        for (let param of include_all_except) {\n          delete this.context.cacheKey.query[param]\n        }\n      }\n\n      if (include) {\n        const params = new Set(include)\n\n        for (let param in this.context.cacheKey.query) {\n          if (!params.has(param)) {\n            delete this.context.cacheKey.query[param]\n          }\n        }\n      }\n\n      if (exclude_all) {\n        this.context.cacheKey.query = {}\n      }\n\n      if (include_all) {\n        this.context.cacheKey.resetQueryParams(this.context.getRequest())\n      }\n    }\n\n    if (caching.cache_key) {\n      const {\n        exclude_all_query_params,\n        include_all_query_params_except,\n        include_all_query_params,\n        include_cookies,\n        include_expressions,\n        include_headers,\n        include_query_params,\n      } = caching.cache_key\n\n      if (include_headers) {\n        this.context.cacheKey.headers = (include_headers as string[])\n          .map(name => `/header_${name}:%{http_${name}}`)\n          .map(value => interpolate(value, this.context))\n      }\n\n      if (include_cookies) {\n        this.context.cacheKey.cookies = (include_cookies as string[])\n          .map(name => `/cookie_${name}:%{cookie_${name}}`)\n          .map(value => interpolate(value, this.context))\n      }\n\n      if (include_expressions) {\n        const expressions = include_expressions.map(ex => interpolate(ex, this.context)).join(';')\n\n        this.context.cacheKey.expressions = expressions\n      }\n\n      if (include_all_query_params_except) {\n        for (let param of include_all_query_params_except) {\n          delete this.context.cacheKey.query[param]\n        }\n      }\n\n      if (include_query_params) {\n        const params = new Set(include_query_params)\n\n        for (let param in this.context.cacheKey.query) {\n          if (!params.has(param)) {\n            delete this.context.cacheKey.query[param]\n          }\n        }\n      }\n\n      if (include_all_query_params) {\n        this.context.cacheKey.resetQueryParams(this.context.getRequest())\n      }\n\n      if (exclude_all_query_params) {\n        this.context.cacheKey.query = {}\n      }\n    }\n  }\n\n  private applyCacheWriteFeatures(features: Features) {\n    if (features.caching) {\n      const { caching } = this.cachingFeatures\n      // @ts-ignore\n      Object.assign(caching, features.caching)\n    }\n  }\n\n  private applyResponseCachingHeaders() {\n    const request = this.context.getRequest()\n    const response = this.context.getResponse()\n\n    const { caching } = this.cachingFeatures\n\n    if (!caching || !this.context.cache) {\n      return\n    }\n\n    // Don't bother writing the response to the cache if the response came from the cache\n    // or bypass_cache feature is set to true.\n    // The only exception is when the readCachedResponse was skipped with bypassCacheByHonor.\n    // See readCachedResponse above.\n    if (this.context.bypassCache) {\n      return\n    }\n\n    const getMaxAgeFromExpires = () => {\n      const expires = response.getHeader('expires') as string | undefined\n\n      if (expires) {\n        return Math.round((new Date(expires).getTime() - new Date().getTime()) / 1000)\n      }\n\n      return 0\n    }\n\n    // Returned by origin\n    const resCacheControl = {\n      // Legacy header for HTTP/1.0\n      ...parseCacheControl(response.getHeader('pragma')?.toString() || ''),\n      // Overrides pragma when both are present\n      ...parseCacheControl(response.getHeader('cache-control')?.toString() || ''),\n    }\n    const staleWhileRevalidate = this.getStaleWhileRevalidate(resCacheControl)\n    // we clear revalidation status, allow additional requests to be made to origin\n    staleWhileRevalidate && this.context.cache.setRevalidating(this.context.cacheKey, false)\n\n    const noStore = resCacheControl['no-store']\n    const noCache = resCacheControl['no-cache']\n    const method = request.method.toUpperCase() as 'GET' | 'POST' | 'PUT'\n    const {\n      enable_caching_for_methods = [],\n      cacheable_status_codes = [],\n      ignore_origin_no_cache,\n    } = caching\n\n    // Check response cache option\n    // Learn more: https://docs.edgecast.com/cdn/Content/HRE/F/Ignore-Origin-No-Cache.htm\n    if ((resCacheControl.private || noStore || noCache) && !ignore_origin_no_cache) {\n      return this.setCachingStatus(CACHING_STATUS.private)\n    }\n\n    // ignore caching options based on method if this is GET, as GET is always cached\n    if (method !== 'GET' && !enable_caching_for_methods.includes(method)) {\n      return this.setCachingStatus(CACHING_STATUS.method)\n    }\n\n    // ignore caching options based on status code if this is 200, as 200 is always cached\n    if (\n      response.statusCode !== 200 &&\n      !cacheable_status_codes.includes((response.statusCode ?? 0) as HttpStatusCode)\n    ) {\n      return this.setCachingStatus(CACHING_STATUS.code)\n    }\n\n    const ttl = caching.max_age\n      ? toSeconds(caching.max_age, response.statusCode)\n      : resCacheControl['s-maxage'] ?? resCacheControl['max-age'] ?? getMaxAgeFromExpires()\n\n    if (ttl === 0) {\n      return this.setCachingStatus(CACHING_STATUS.noMaxAge)\n    }\n\n    this.setCachingStatus(CACHING_STATUS.cached)\n    this.context.cacheConfig = {\n      ttl,\n      staleWhileRevalidate,\n    }\n  }\n\n  private maybeWriteCachedResponse() {\n    const response = this.context.getResponse()\n\n    if (!response.isCachable()) {\n      // if response is not cachable, client will still think it is -> its ok, as its done only for large payloads we cant hold in memory cache\n      return logger.warn('Response payload is too large - caching skipped.')\n    }\n\n    // we prepared cacheConfig before we sent headers back to the client (in order to avoid parsing everything again)\n    this.context.cacheConfig &&\n      response.isCachable() &&\n      this.context.cache!.put(this.context.cacheKey, response, this.context.cacheConfig)\n  }\n\n  // These headers must be applied AFTER we process upstream headers, therefore its split into different function,\n  // otherwise we would be taking things like private, no-cache into consideration, and we wouldnt cache anything.\n  private maybeApplyAdditionalCachingHeaders() {\n    const { caching } = this.cachingFeatures\n\n    if (caching?.bypass_client_cache) {\n      this.context\n        .getResponse()\n        .setHeader(HTTP_HEADERS.cacheControl, 'private, no-cache, no-store, must-revalidate')\n    }\n\n    if (caching?.service_worker_max_age) {\n      const maxAgeSeconds = toSeconds(caching?.service_worker_max_age)\n      this.context.getResponse().setHeader(HTTP_HEADERS.xSwCacheControl, `max-age=${maxAgeSeconds}`)\n    }\n  }\n\n  // https://docs.edgecast.com/cdn/Content/Knowledge_Base/X_EC_Debug.htm\n  private applyDebugHeaderFeatures(features: Features) {\n    if (features.headers?.debug_header) {\n      const request = this.context.getRequest()\n      const response = this.context.getResponse()\n\n      const debugHeader = request.headers[HTTP_HEADERS.xEcDebug]\n      if (typeof debugHeader === 'string') {\n        const debugChecks = debugHeader\n          .replace(/ /g, '')\n          .split(',')\n          .reduce((prev: { [key: string]: boolean }, cur: string) => {\n            prev[cur] = true\n            return prev\n          }, {})\n        const cachingStatus = response.getHeader(HTTP_HEADERS.xEdgeCachingStatus)\n\n        if (debugChecks[CACHING_DEBUG_HEADERS.cache]) {\n          let statusCode = CACHING_DEBUG_STATUS.uncacheable\n          if (cachingStatus == CACHING_STATUS.hit) statusCode = CACHING_DEBUG_STATUS.tcpHit\n          if (cachingStatus == CACHING_STATUS.cached && !this.context.bypassCacheByHonor)\n            statusCode = CACHING_DEBUG_STATUS.tcpMiss\n          if (cachingStatus == CACHING_STATUS.cached && this.context.bypassCacheByHonor)\n            statusCode = CACHING_DEBUG_STATUS.tcpClientRefreshMiss\n          response.setHeader(CACHING_DEBUG_HEADERS.cache, `${statusCode} from SIMULATOR`)\n        }\n\n        if (debugChecks[CACHING_DEBUG_HEADERS.cacheKey]) {\n          // ideally, we should change the key representation to match the edge one - see docs above\n          response.setHeader(CACHING_DEBUG_HEADERS.cacheKey, this.context.cacheKey.toString())\n        }\n\n        if (debugChecks[CACHING_DEBUG_HEADERS.cacheState]) {\n          const cacheState = this.context.cache?.get(this.context.cacheKey) ?? {\n            // if we are returning debug headers in streamed message (eg. first chunk), we didn't cache yet, so the delta wont be correct\n            response: { cachedAt: Date.now(), ttl: this.context.cacheConfig?.ttl ?? 0 },\n          }\n          const cacheAge = Math.floor((Date.now() - cacheState.response.cachedAt) / 1000)\n          const remainingTtl = Math.floor(cacheState.response.ttl - cacheAge)\n\n          let outputState = `max-age=${cacheState.response.ttl} (${toTimeUnitAbbrev(\n            cacheState.response.ttl\n          )}); `\n          outputState += `cache-ts=${cacheState.response.cachedAt} (${new Date(\n            cacheState.response.cachedAt\n          ).toUTCString()}); `\n          outputState += `cache-age=${cacheAge} (${toTimeUnitAbbrev(cacheAge)}); `\n          outputState += `remaining-ttl=${remainingTtl} (${toTimeUnitAbbrev(remainingTtl)}); `\n          // TODO: expires functionality is implemnted -> use it here -> or is it just \"inverted\" remaining-ttl?\n          outputState += `expires-delta=none;`\n          response.setHeader(CACHING_DEBUG_HEADERS.cacheState, outputState)\n        }\n\n        if (debugChecks[CACHING_DEBUG_HEADERS.checkCacheable]) {\n          response.setHeader(\n            CACHING_DEBUG_HEADERS.checkCacheable,\n            !features.caching || cachingStatus === CACHING_STATUS.noMaxAge\n              ? CACHING_DEBUG_CACHEABLE.no\n              : CACHING_DEBUG_CACHEABLE.yes\n          )\n        }\n      }\n    }\n  }\n\n  private getStaleWhileRevalidate(cacheControl: CacheControl) {\n    const { caching } = this.cachingFeatures\n\n    /* istanbul ignore else */\n    if (caching) {\n      if (caching.stale_while_revalidate) {\n        return toSeconds(caching.stale_while_revalidate)\n      } else if (cacheControl['stale-while-revalidate']) {\n        return cacheControl['stale-while-revalidate']\n      }\n    }\n  }\n\n  private setCachingStatus(status: CachingStatus) {\n    this.context.getResponse().setHeader(HTTP_HEADERS.xEdgeCachingStatus, status)\n  }\n\n  private ensureAge() {\n    const response = this.context.getResponse()\n    response.getHeader('age') || response.setHeader('age', '0')\n  }\n\n  toString() {\n    return 'ModCache'\n  }\n}\n", "export default class EarlyReturn {\n  readonly reason: string\n\n  constructor(reason: string) {\n    this.reason = reason\n  }\n}\n", "import { Features } from '../../types'\nimport Mod from './Mod'\nimport Phase from '../Phase'\nimport EarlyReturn from '../EarlyReturn'\nimport { STATUS_CODES } from 'http'\n\n/**\n * Emulation of Sailfish's mod_access\n */\nexport default class ModAccess extends Mod {\n  async execute(phase: Phase) {\n    this.context.forEachMatchingRule(rule => this.applyFeatures(rule, phase))\n  }\n\n  private applyFeatures(features: Features, _phase: Phase): void {\n    if (features.access?.deny_access) {\n      const response = this.context.getResponse()\n      response.statusCode = 403\n      response.statusMessage = STATUS_CODES[403]\n      throw new EarlyReturn('deny_access')\n    }\n  }\n\n  toString() {\n    return 'ModAccess'\n  }\n}\n", "import { Features, HttpRequestHeader, HttpResponseHeader } from '../../types'\nimport Mod from './Mod'\nimport Phase from '../Phase'\nimport EarlyReturn from '../EarlyReturn'\n\n/**\n * Emulation of Sailfish's mod_set_env\n */\nexport default class ModSetEnv extends Mod {\n  async execute(phase: Phase) {\n    if (Phase.UriClean === phase) {\n      this.context.forEachMatchingRule(rule => {\n        // We need to check for set_done before doing any processing in order to avoid\n        // issues stemming from having set_response_body before set_done.\n        if (rule.response?.set_done) {\n          this.context.returnEarly = true\n        }\n      })\n    }\n\n    if (\n      Phase.UriClean === phase ||\n      Phase.SendRequestContent === phase ||\n      Phase.HandleResponseDone === phase ||\n      Phase.HandleResponseHeader === phase\n    ) {\n      // we need to first run upstream features, as they need to be overwritten by normal features\n      this.context.forEachMatchingRule(rule => this.applyUpstreamFeatures(rule, phase))\n      // we then apply all headers\n      this.context.forEachMatchingRule(rule => this.applyHeaders(rule, phase))\n      // applying body is a little more complex, hence the matching is done inside\n      this.applyBody(phase)\n\n      // if we return early, we need to first apply everything else before throwing the early return error\n      if (this.context.returnEarly && phase !== Phase.HandleResponseHeader) {\n        throw new EarlyReturn('set_done on response is set to true')\n      }\n    }\n  }\n\n  private applyUpstreamFeatures(features: Features, _phase: Phase): void {\n    const response = this.context.getResponse()\n    // remove origin response headers immediately after fetching response from origin\n    if (_phase === Phase.HandleResponseHeader) {\n      // tohle nebude fungovat, protoze musime nejdriv projet removy, a potom pridat ty sety!...udelam timpadem 2 loopy\n      features.headers?.remove_origin_response_headers?.forEach(header =>\n        response.removeHeader(header)\n      )\n    }\n  }\n\n  private applyHeaders(features: Features, _phase: Phase): void {\n    const response = this.context.getResponse()\n\n    // only process request before sending to origin\n    if (_phase === Phase.UriClean) {\n      features.headers?.set_request_headers &&\n        this.context.setRequestHeader(features.headers.set_request_headers as HttpRequestHeader)\n    }\n\n    // only process features if :\n    //    - processing header,\n    //    - not making request because of set_done\n    //    - not making request because of the use of cached file\n    if (\n      _phase === Phase.HandleResponseHeader ||\n      (_phase === Phase.HandleResponseDone && this.context.followRedirects) ||\n      this.context.returnEarly ||\n      this.context.useCacheFile\n    ) {\n      if (features.headers?.set_response_headers)\n        this.context.setResponseHeader(features.headers.set_response_headers as HttpResponseHeader)\n\n      if (features.headers?.add_response_headers)\n        this.context.setResponseHeader(\n          features.headers?.add_response_headers as HttpResponseHeader,\n          true\n        )\n\n      if (features.headers?.remove_response_headers)\n        (features.headers.remove_response_headers as string[]).forEach(header =>\n          response.removeHeader(header)\n        )\n\n      if (features.response?.set_status_code)\n        response.statusCode = features.response.set_status_code as number\n    }\n\n    if (features.set_variables) {\n      Object.entries(features.set_variables).forEach(([name, value]) => {\n        this.context.variables[name as string] = value as string\n      })\n    }\n  }\n\n  private applyBody(_phase: Phase): void {\n    const response = this.context.getResponse()\n\n    // only send response if processing response from origin, or if exiting early through set_done feature\n    if (_phase === Phase.SendRequestContent || this.context.returnEarly) {\n      let responseBody\n      // we first find the potential set_response_body\n      this.context.forEachMatchingRule(features => {\n        if (features.response?.set_response_body) {\n          responseBody = features.response?.set_response_body\n        }\n      })\n\n      if (responseBody) {\n        // we replace chunks to be streamed back after the whole chain completes\n        response.clear()\n        response.body = responseBody\n        response.end()\n      } else if (_phase !== Phase.SendRequestContent) {\n        // if set_response_body isn't set, we still need to end the response to avoid hanging in case of early return\n        response.clear()\n        response.end()\n      }\n    }\n  }\n\n  toString() {\n    return 'ModSetEnv'\n  }\n}\n", "/* istanbul ignore file - For some reason the constructor can't get 100% coverage on the super call */\n/**\n * To be thrown when failing to connect to a backend.\n */\nexport default class BackendFetchError extends Error {\n  readonly cause: Error\n  readonly type = 'BackendFetchError'\n\n  /**\n   * @param cause The root error emitted by http/https.request\n   */\n  constructor(cause: Error) {\n    super(cause.message)\n    this.cause = cause\n  }\n}\n", "/**\n * Returns a random element from the source array\n * @param source\n * @returns\n */\nexport function getRandomElement<TElement, TArray extends Array<TElement>>(source: TArray) {\n  const index = getRandomInt(source.length)\n  return source[index]\n}\n\n/**\n * Returns a random integer between 0 and {max}\n * @param max\n * @returns\n */\nexport function getRandomInt(max: number) {\n  return Math.floor(Math.random() * max)\n}\n", "/**\n * Used to create URL instance with just a path\n */\nconst PLACEHOLDER_HOSTNAME = '__'\n\nexport default function mergeQueryString(requestUrl: string, targetRedirectOrPath: string) {\n  // `https://${PLACEHOLDER_HOSTNAME}` is temporarily inserted to make the `URL` object work\n  // with relative path, but is removed from the returned value right after.\n  const requestSearchParams = new URL(requestUrl, `https://${PLACEHOLDER_HOSTNAME}`).searchParams\n  const targetUrl = new URL(targetRedirectOrPath, `https://${PLACEHOLDER_HOSTNAME}`)\n\n  // Apply query string from request to the target, except if they are already set explicitly on the target\n  requestSearchParams.forEach((value, key) => {\n    if (!targetUrl.searchParams.get(key)) {\n      targetUrl.searchParams.set(key, value)\n    }\n  })\n\n  // Keep the target as initially intended, absolute or relative path\n  return targetUrl.hostname === PLACEHOLDER_HOSTNAME\n    ? `${targetUrl.pathname}${targetUrl.search}`\n    : targetUrl.toString()\n}\n", "export interface EdgioErrorOptions {\n  title: string\n  message: string\n  statusCode: number\n  statusMessage?: string\n  level?: number\n  details?: string\n  stack?: string\n}\n\nexport interface EdgioErrorRenderOptions {\n  type?: 'html' | 'json'\n  requestId?: string\n  includeStack?: boolean\n}\n\nexport class EdgioError extends Error {\n  readonly title: string\n  readonly message: string\n  readonly statusCode: number\n  readonly statusMessage: string\n  readonly level: number\n  readonly details?: string\n  readonly stack?: string\n\n  constructor({\n    title,\n    message,\n    statusCode,\n    statusMessage,\n    level,\n    details,\n    stack,\n  }: EdgioErrorOptions) {\n    super(`${title}: ${message}`)\n    this.statusCode = statusCode\n    this.statusMessage = statusMessage || title\n    this.title = title\n    this.message = message\n    this.level = level || 0\n    this.details = details\n    // The stack trace of the original error\n    // if the error was caught and wrapped,\n    // so we don't lose the context.\n    this.stack = stack || this.details || this.stack\n  }\n\n  public render(options: EdgioErrorRenderOptions = {}): string {\n    let values: Record<string, string | string[] | number | undefined> = {\n      title: this.title,\n      message: this.message,\n      statusCode: this.statusCode,\n      statusMessage: this.statusMessage,\n      level: this.level,\n      details: this.details,\n    }\n\n    if (options?.requestId) values.requestId = options.requestId\n    if (options?.includeStack) values.stack = this.stack?.split('\\n')\n\n    if (options.type === 'json') {\n      return JSON.stringify(values, null, 2)\n    }\n\n    return getEdgioErrorAsHtml(values)\n  }\n\n  getType() {\n    return 'EdgioError'\n  }\n}\n\nexport const isEdgioError = (error: any): error is EdgioError => {\n  return error.getType && error.getType() === 'EdgioError'\n}\n\n/**\n * Returns a string of HTML content for the EdgioError\n * with inserted values.\n * @param values\n * @returns {string}\n */\nexport const getEdgioErrorAsHtml = (\n  values: Record<string, string | string[] | number | undefined>\n): string => `\n<!DOCTYPE html>\n<html>\n<head>\n  <meta charset=\"utf-8\">\n  <meta name=\"viewport\" content=\"width=device-width\">\n  <title>${values.title}</title>\n  <style>\n    html, body, div, span, applet, object, iframe,\n    h1, h2, h3, h4, h5, h6, p, blockquote, pre,\n    a, abbr, acronym, address, big, cite, code,\n    del, dfn, em, img, ins, kbd, q, s, samp,\n    small, strike, strong, sub, sup, tt, var,\n    b, u, i, center,\n    dl, dt, dd, ol, ul, li,\n    fieldset, form, label, legend,\n    table, caption, tbody, tfoot, thead, tr, th, td,\n    article, aside, canvas, details, embed,\n    figure, figcaption, footer, header, hgroup,\n    menu, nav, output, ruby, section, summary,\n    time, mark, audio, video {\n      margin: 0;\n      padding: 0;\n      border: 0;\n      font-size: 100%;\n      font: inherit;\n      vertical-align: baseline;\n    }\n    article, aside, details, figcaption, figure,\n    footer, header, hgroup, menu, nav, section {\n      display: block;\n    }\n    body {\n      line-height: 1;\n    }\n    ol, ul {\n      list-style: none;\n    }\n    blockquote, q {\n      quotes: none;\n    }\n    blockquote:before, blockquote:after,\n    q:before, q:after {\n      content: '';\n      content: none;\n    }\n    table {\n      border-collapse: collapse;\n      border-spacing: 0;\n    }\n    :root {\n      --primary-bg-color: #fff;\n      --primary-fg--color: #000;\n      --primary-path-color: rgba(0,0,0,0.15);\n      --secondary-path-color: rgba(0,0,0,0.08);\n    }\n    @media (prefers-color-scheme: dark) {\n      :root {\n        --primary-bg-color: #202020;\n        --primary-fg--color: #fff;\n        --primary-path-color: rgba(255,255,255,0.15);\n        --secondary-path-color: rgba(255,255,255,0.08);\n      }\n    }\n    body {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      flex-direction: column;\n      font-family: \"Inter\", sans-serif;\n      min-height: 90vh;\n      text-align: center;\n      font-weight: 300;\n      line-height: 1.4;\n      font-size: calc(14px + 0.25vw);\n      overflow-x: hidden;\n      overflow-y: auto;\n      background: var(--primary-bg-color);\n      color: var(--primary-fg--color);\n    }\n    h1 {\n      font-size: 2em;\n      font-weight: 500;\n      margin: 0.75em 0;\n    }\n    p{\n      margin: 0.8em 0;\n    }\n    a {\n        color: #37a2e2;\n        text-decoration: none;\n    }\n    a:hover {\n        text-decoration: underline;\n    }\n    .request-id, .error-details, .details {\n        opacity: 0.7;\n        margin: 0.25em 0 0 0;\n        font-size: 0.9em;\n    }\n    .container{\n      width: 100%;\n      max-width: 45em;\n      padding: 6em 2em 2em 2em;\n      text-align: center;\n      background: var(--primary-bg-color);\n      box-sizing: border-box;\n      position: relative;\n      @media (max-width: 45em) {\n        overflow: hidden;\n      }\n    }\n    .container::before{\n      content:'';\n      left:50%;\n      top:50%;\n      transform: translate(-50%, -50%);\n      position: absolute;\n      display: block;\n      width:100vw;\n      height:0.5em;\n      background: linear-gradient(to left, rgba(0,0,0,0) 0%, var(--primary-path-color) 10%, var(--primary-path-color) 90%, rgba(0,0,0,0) 100%);\n      z-index:-1;\n    }\n    .logo{\n      display: block;\n      margin: 2em auto 0 auto;\n      height: 4.5em;\n    }\n    .sites-logo{\n      display: block;\n      position: sticky;\n      margin: 2em auto 0 auto;\n      height: 1.5em;\n      color: var(--primary-path-color);\n    }\n    .cable svg{\n      width: 6em;\n      height: auto;\n      position: absolute;\n      top:50%;\n      transform: translate(0, -50%);\n      background: var(--primary-bg-color);\n      color: var(--primary-path-color);\n    }\n    .cable .left-plug{\n      left:-6em;\n    }\n    .cable .right-plug{\n      right:-6em;\n    }\n  </style>\n  <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\">\n  <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin>\n  <link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@300;500&display=swap\" rel=\"stylesheet\">\n</head>\n<body>\n  <div class=\"container\">\n    <!--  \n    <svg class=\"sites-logo\" xmlns=\"http://www.w3.org/2000/svg\" width=\"318\" height=\"96\" viewBox=\"0 0 318 96\" fill=\"none\">\n      <g clip-path=\"url(#clip0_842_606)\"><path d=\"M215.333 87.9768L213.268 87.9746C205.172 87.8097 197.92 84.1178 192.96 78.345C192.746 78.0958 192.455 77.6247 192.507 76.9428C192.56 76.261 192.967 75.7465 193.22 75.5461L200.565 69.733C200.81 69.5389 201.334 69.2858 201.86 69.3162C202.416 69.3482 202.974 69.6752 203.175 69.8965C205.824 72.8077 209.568 74.647 213.568 74.647L215.333 74.6435C218.647 74.6435 221.333 71.9572 221.333 68.6435C221.333 65.3298 218.647 62.6435 215.333 62.6435H210.666C200.298 62.2809 192 53.7646 192 43.3102C192 32.6327 200.642 24.0001 211.32 24.0001H211.987C220.083 24.1649 227.464 27.8591 232.424 33.6319C232.638 33.8811 232.929 34.3522 232.876 35.034C232.824 35.7159 232.417 36.2304 232.164 36.4307L224.819 42.2438C224.574 42.4379 224.05 42.691 223.524 42.6607C222.968 42.6287 222.41 42.3017 222.209 42.0804C219.56 39.1691 215.816 37.3299 211.816 37.3299L210.879 37.3272C207.777 37.5593 205.333 40.1493 205.333 43.3102C205.333 46.6239 208.019 49.3102 211.333 49.3102H216C226.369 49.6735 234.666 58.1895 234.666 68.6435C234.666 79.321 226.011 87.9768 215.333 87.9768ZM23.3333 87.9768L21.2686 87.9746C13.1717 87.8097 5.9201 84.1178 0.960054 78.345C0.745895 78.0958 0.455309 77.6247 0.50771 76.9428C0.560111 76.261 0.967351 75.7465 1.22052 75.5461L8.56483 69.733C8.81007 69.5389 9.33408 69.2858 9.86037 69.3162C10.4165 69.3482 10.9743 69.6752 11.1756 69.8965C13.8238 72.8077 17.5682 74.647 21.5681 74.647L23.3333 74.6435C26.647 74.6435 29.3333 71.9572 29.3333 68.6435C29.3333 65.3298 26.647 62.6435 23.3333 62.6435H18.6666C8.2979 62.2809 0 53.7646 0 43.3102C0 32.6327 8.64271 24.0001 19.3202 24.0001H19.9869C28.0837 24.1649 35.4643 27.8591 40.4243 33.6319C40.6385 33.8811 40.929 34.3522 40.8766 35.034C40.8242 35.7159 40.417 36.2304 40.1638 36.4307L32.8195 42.2438C32.5743 42.4379 32.0503 42.691 31.524 42.6607C30.9679 42.6287 30.41 42.3017 30.2087 42.0804C27.5605 39.1691 23.8162 37.3299 19.8162 37.3299L18.879 37.3272C15.7775 37.5593 13.3333 40.1493 13.3333 43.3102C13.3333 46.6239 16.0196 49.3102 19.3333 49.3102H24C34.3694 49.6735 42.6666 58.1895 42.6666 68.6435C42.6666 79.321 34.0108 87.9768 23.3333 87.9768ZM62.1113 21.7501C62.9858 21.0752 64.2417 21.237 64.9166 22.1115C65.1867 22.4615 65.3333 22.8912 65.3333 23.3334V85.3333C65.3333 86.8061 64.1394 88 62.6666 88H54.6666C53.1938 88 51.9999 86.8061 51.9999 85.3333V30.8639C51.9999 30.0375 52.3831 29.2577 53.0374 28.7528L62.1113 21.7501ZM62.6666 2.66676C64.1394 2.66676 65.3333 3.86067 65.3333 5.33342V13.3334C65.3333 14.8062 64.1394 16.0001 62.6666 16.0001H54.6666C53.1938 16.0001 51.9999 14.8062 51.9999 13.3334V5.33342C51.9999 3.86067 53.1938 2.66676 54.6666 2.66676H62.6666ZM152 24.0001C169.673 24.0001 184 38.3269 184 56L183.993 56.6509L184 56.7544V58.935C184 60.2605 182.925 61.335 181.6 61.335L160.442 61.3495L134.384 61.3364C133.6 61.335 133.6 62.135 133.904 62.9684C136.613 70.3853 143.653 74.6667 152 74.6667C153.443 74.6667 154.849 74.5679 156.201 74.3463C160.194 73.5214 163.652 71.4885 166.266 68.6925L166.48 68.457C166.889 68.0624 167.323 67.8534 167.782 67.8299C168.515 67.7923 168.931 68.0926 169.091 68.2077L176.446 73.5072C176.793 73.7574 177.135 74.2112 177.213 74.6667C177.331 75.3496 177.188 75.9277 176.784 76.4009C172.117 82.0583 165.519 86.1355 157.77 87.5019C156.561 87.7149 155.357 87.8565 154.16 87.9296L153.732 87.9539C153.158 87.9845 152.581 88 152 88C134.327 88 120 73.6731 120 56C120 38.3269 134.327 24.0001 152 24.0001ZM91.5832 0.778181C91.8534 1.12823 91.9999 1.55793 91.9999 2.00009V23.9774L119.333 23.9769C119.766 23.9769 120.187 24.1173 120.533 24.3769C121.417 25.0396 121.596 26.2932 120.933 27.1769L115.667 36.6436C115.289 37.1472 114.696 37.4435 114.066 37.4435L91.9999 37.3227V67.9768C91.9999 71.5618 94.8296 74.4859 98.3774 74.6373L98.6666 74.6435H108C109.473 74.6435 110.667 75.8374 110.667 77.3102V85.3102C110.667 86.7829 109.473 87.9768 108 87.9768H98.6666C87.8521 87.9768 79.0424 79.3935 78.6783 68.6677L78.6666 9.5306C78.6666 8.70416 79.0498 7.92442 79.704 7.4195L88.778 0.41677C89.6524 -0.258074 90.9084 -0.096265 91.5832 0.778181ZM152 37.3334C145.383 37.3334 139.588 40.8475 136.377 46.1112L136.158 46.4812C135.315 47.8735 135.885 47.9895 136.572 47.9992H167.427C168.084 47.9899 168.633 47.8837 167.948 46.6626L167.842 46.4805C164.681 41.0125 158.77 37.3334 152 37.3334ZM264 26.6667L264 45.3334C254.732 43.2306 247.437 35.9354 245.333 26.6678L264 26.6667ZM272 26.6667L272 45.3334C281.268 43.2306 288.563 35.9354 290.667 26.6678L272 26.6667ZM264 0.000371257L263.999 18.6667L245.333 18.667C247.436 9.39898 254.732 2.10322 264 0.000371257ZM288 9.72848e-05C289.472 9.72848e-05 290.666 1.194 290.666 2.66676V18.6667H272V9.72848e-05H288Z\" fill=\"currentColor\"/></g><defs><clipPath id=\"clip0_842_606\"><rect width=\"317.091\" height=\"96\" fill=\"currentColor\"/></clipPath></defs>\n    </svg>\n    -->\n    <div class=\"content\">\n      <h1>${values.title}</h1>\n      <p>This website is having some trouble presenting content. Please try again later.</p>\n      <p>${values.message}</p>\n      ${values.details ? `<div class=\"details\">Details: ${values.details}</div>` : ''}\n      ${values.requestId ? `<div class=\"request-id\">Request ID: ${values.requestId}</div>` : ''}\n      <div class=\"error-details\">\n        Error Code: ${values.statusCode} | Error Level: ${values.level}\n      </div>\n      <svg class=\"logo\" version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 1857.6 770.5\" xml:space=\"preserve\" height=\"100\" fill=\"none\">\n        <defs>\n          <linearGradient id=\"gradient\">\n            <stop offset=\"0%\" stop-color=\"#80288e\" />\n            <stop offset=\"50%\" stop-color=\"#128fb2\" />\n            <stop offset=\"100%\" stop-color=\"#00ac75\" />\n          </linearGradient>\n        </defs>\n        <g>\n          <path style=\"fill:url(#gradient)\" d=\"M391.2,122.6l58.5-106.1H0v580.3h384.7l-58.5-106.1H115.6V357.3h202l32.5-106.2H115.6V122.6H391.2z    M670.7,94.8v142.3c-19.8-23.7-45.7-41.4-80.4-48.9c-12.4-2.5-25-3.8-37.7-3.8c-111.1,0-194.4,90.8-194.4,211.4   c0,7.9,0.4,15.7,1.1,23.4c9.9,108.8,89.5,187.9,193.2,187.9c55.1,0,93.7-21.9,120.2-54.7v44.4h105.7V0L670.7,94.8z M572.5,506.5   c-63.4,0-103.6-49.3-103.6-110.7s40.2-110.7,103.6-110.7c61.8,0,103.7,47.3,103.7,110.7S634.3,506.5,572.5,506.5z M1128.5,195.2   v44.8c-27.8-34.4-68-55.5-124.3-55.5c-97.8,0-184.9,81.6-184.9,205.2c0,123.1,87.1,204.7,184.9,204.7c4.1,0,8.1-0.1,12-0.4h13.1   c49.7-2.7,72.7-22.8,98.5-53.8v28.2c0,69.7-47.3,106.5-114.4,106.5c-23,0.1-45.8-3.3-67.8-10.1L871.1,739   c42.5,20.8,95.7,31.5,146.7,31.5c132.6,0,216.8-77.5,216.8-206.8V195.2L1128.5,195.2z M1031.5,494.9   c-61.7,0-101.1-47.3-101.1-105.3c0-58.5,39.4-105.7,101.1-105.7c60.1,0,100.8,45.6,100.8,105.7   C1132.3,449.2,1091.6,494.9,1031.5,494.9L1031.5,494.9z M1280.7,290.4v306.4h108.2V195.2L1280.7,290.4z M1640,184.4   c-124.8,0-216.8,90.4-216.8,211.4s92,211.4,216.8,211.4c125.2,0,217.6-90.4,217.6-211.4S1765.2,184.4,1640,184.4L1640,184.4z    M1640,506.4c-60.9,0-106.6-45.6-106.6-110.7s45.6-110.6,106.6-110.6c61.3,0,106.9,45.6,106.9,110.7S1701.3,506.5,1640,506.4   L1640,506.4z M1388.9,168.6h-108.2V60.5h108.2V168.6z\"/>\n        </g>\n      </svg>\n      <div class=\"cable\">\n        <svg class=\"left-plug\" width=\"75\" height=\"50\" viewBox=\"0 0 75 50\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\">\n          <defs>\n            <clipPath id=\"clip0_1_10\">\n              <rect id=\"svg_1\" fill=\"white\" height=\"49\" width=\"864\"/>\n            </clipPath>\n          </defs>\n          <g>\n            <title>Layer 1</title>\n            <path id=\"svg_3\" fill=\"currentColor\" d=\"m15.48622,35.72007l-10.75293,0c-1.23267,0 -2.41468,-0.5752 -3.28684,-1.5991c-0.87131,-1.0239 -1.361,-2.4126 -1.361,-3.8607l0,-9.6756c0,-0.7889 0.14691,-1.5683 0.4289,-2.2843c0.28115,-0.716 0.69232,-1.3515 1.20396,-1.8623l0,0c0.84007,-0.8436 1.90979,-1.3064 3.01498,-1.3049l10.75293,0l0,20.5869z\"/>\n            <path id=\"svg_4\" fill=\"currentColor\" d=\"m48.01045,46.48487l-25.437,0c-0.934,0 -1.859,-0.1825 -2.722,-0.5372c-0.863,-0.3548 -1.647,-0.8747 -2.308,-1.5301c-0.66,-0.6554 -1.184,-1.4334 -1.542,-2.2897c-0.357,-0.8562 -0.54,-1.7739 -0.54,-2.7006l0,-28.004c0,-0.92653 0.183,-1.84408 0.541,-2.70018c0.357,-0.85611 0.881,-1.63398 1.541,-2.28916c0.661,-0.65518 1.445,-1.17482 2.308,-1.52923c0.863,-0.35442 1.788,-0.53665 2.722,-0.53629l25.437,0l0,42.11646z\"/>\n            <path id=\"svg_5\" fill=\"currentColor\" d=\"m48.01245,2.59915l0,45.63842c0,0.9283 0.759,1.6808 1.695,1.6808l2.213,0c0.936,0 1.694,-0.7525 1.694,-1.6808l0,-45.63842c0,-0.92827 -0.758,-1.68078 -1.694,-1.68078l-2.213,0c-0.936,0 -1.695,0.75251 -1.695,1.68078z\"/>\n            <path id=\"svg_6\" fill=\"currentColor\" d=\"m53.61145,19.09747l0,-7.1876l17.313,0c0.961,0 1.882,0.3786 2.562,1.0526c0.679,0.6739 1.061,1.588 1.061,2.5412l0,0c0,0.9531 -0.382,1.8672 -1.061,2.5412c-0.68,0.6739 -1.601,1.0526 -2.562,1.0526l-17.313,0z\"/>\n            <path id=\"svg_7\" fill=\"currentColor\" d=\"m74.54445,35.33037c0,0.9531 -0.382,1.8672 -1.061,2.5411c-0.679,0.674 -1.601,1.0526 -2.562,1.0526l-17.298,0l0,-7.1875l17.301,0c0.96,0.0007 1.881,0.3796 2.56,1.0535c0.679,0.6739 1.06,1.5876 1.06,2.5403z\"/>\n            <path id=\"svg_8\" fill=\"currentColor\" d=\"m48.01045,46.48487l-25.437,0c-0.934,0 -1.859,-0.1825 -2.722,-0.5372c-0.863,-0.3548 -1.647,-0.8747 -2.308,-1.5301c-0.66,-0.6554 -1.184,-1.4334 -1.542,-2.2897c-0.357,-0.8562 -0.54,-1.7739 -0.54,-2.7006l0,-28.004c0,-0.92653 0.183,-1.84408 0.541,-2.70018c0.357,-0.85611 0.881,-1.63398 1.541,-2.28916c0.661,-0.65518 1.445,-1.17482 2.308,-1.52923c0.863,-0.35442 1.788,-0.53665 2.722,-0.53629c2.118,30.25146 25.437,33.02976 25.437,33.02976l0,9.0867z\"/>\n            <path id=\"svg_9\" fill=\"currentColor\" d=\"m37.25845,46.48487l-14.685,0c-0.934,0 -1.859,-0.1825 -2.722,-0.5372c-0.863,-0.3548 -1.647,-0.8747 -2.308,-1.5301c-0.66,-0.6554 -1.184,-1.4334 -1.542,-2.2897c-0.357,-0.8562 -0.54,-1.7739 -0.54,-2.7006l0,-19.6691c0,19.8626 21.797,26.7267 21.797,26.7267z\"/>\n            <path id=\"svg_10\" fill=\"currentColor\" d=\"m15.46145,35.72007l-9.871,0c-1.46,0 -2.86,-0.5752 -3.893,-1.5991c-1.032,-1.0239 -1.612,-2.4126 -1.612,-3.8607l0,-9.6756c0,-0.7889 0.174,-1.5683 0.508,-2.2843c0.333,-0.716 0.82,-1.3515 1.426,-1.8623l0,0c-1.867,15.0939 13.442,17.3995 13.442,17.3995l0,1.8825z\"/>\n          </g>\n        </svg>\n        <svg class=\"right-plug\" width=\"75\" height=\"50\" viewBox=\"0 0 75 50\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\">\n        <defs>\n          <clipPath id=\"clip0_1_10\">\n            <rect width=\"864\" height=\"49\" fill=\"white\" id=\"svg_1\"/>\n          </clipPath>\n        </defs>\n        <g>\n          <title>Layer 2</title>\n          <path fill=\"currentColor\" d=\"m59.50468,35.73201l10.73944,0c0.60975,0.0004 1.21361,-0.1405 1.77697,-0.4148c0.56337,-0.2742 1.07529,-0.6763 1.5071,-1.1833c0.43096,-0.507 0.77337,-1.109 1.00698,-1.7716c0.23277,-0.6626 0.35337,-1.3728 0.35337,-2.0901l0,-9.6756c-0.00084,-0.7888 -0.14675,-1.5681 -0.42843,-2.284c-0.28168,-0.7159 -0.6924,-1.3514 -1.20264,-1.8626l0,0c-0.83915,-0.8444 -1.90685,-1.3074 -3.01082,-1.3049l-10.73944,0l-0.00253,20.5869z\" id=\"svg_3\"/>\n          <path fill=\"currentColor\" d=\"m26.96155,46.49681l25.439,0c1.887,-0.0007 3.696,-0.7446 5.029,-2.0681c1.334,-1.3235 2.083,-3.1182 2.083,-4.9895l0,-28.004c0,-1.87104 -0.749,-3.66548 -2.083,-4.98853c-1.334,-1.32305 -3.143,-2.06633 -5.029,-2.06633l-25.439,0l0,42.11646z\" id=\"svg_4\"/>\n          <path fill=\"currentColor\" d=\"m21.36255,2.61109l0,45.63842c0,0.9283 0.758,1.6808 1.694,1.6808l2.213,0c0.936,0 1.695,-0.7525 1.695,-1.6808l0,-45.63842c0,-0.92827 -0.759,-1.68077 -1.695,-1.68077l-2.213,0c-0.936,0 -1.694,0.7525 -1.694,1.68077z\" id=\"svg_5\"/>\n          <path fill=\"currentColor\" d=\"m37.71355,46.49681l14.687,0c1.887,-0.0007 3.696,-0.7446 5.029,-2.0681c1.334,-1.3235 2.083,-3.1182 2.083,-4.9895l0,-19.6691c0,19.8626 -21.799,26.7267 -21.799,26.7267z\" id=\"svg_6\"/>\n          <path fill=\"currentColor\" d=\"m59.51255,35.73201l9.869,0c0.723,0.0004 1.439,-0.1405 2.107,-0.4148c0.668,-0.2742 1.275,-0.6763 1.787,-1.1833c0.511,-0.507 0.917,-1.109 1.194,-1.7716c0.276,-0.6626 0.419,-1.3728 0.419,-2.0901l0,-9.6756c-0.001,-0.7888 -0.174,-1.5681 -0.508,-2.284c-0.334,-0.7159 -0.821,-1.3514 -1.426,-1.8626l0,0c1.867,15.0939 -13.439,17.3995 -13.439,17.3995l-0.003,1.8825z\" id=\"svg_7\"/>\n        </g>\n        </svg>\n      </div>\n    </div>\n  </div>\n</body>\n</html>`\n", "export const supportLink = '<a href=\"https://edg.io/contact-support\">support</a>'\nexport const serverLogsLink =\n  '<a href=\"https://docs.edg.io/guides/v7/logs/server_logs\">server logs</a>'\nexport const jsPerformanceProfilingLink =\n  '<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Performance\">JS performance profiling</a>'\nexport const limitsLink = '<a href=\"https://docs.edg.io/guides/v7/performance/limits\">limits</a>'\n", "import { EdgioError } from './EdgioError'\nimport { limitsLink, serverLogsLink } from './edgioErrorLinks'\n\n/*\n  This error is triggered when default Node's value (80KB) for the maximum size of the response headers is exceeded.\n  See https://github.com/nodejs/http-parser/blob/678a9e21f11e5ea93e5e17a2302390f88a6a8c46/http_parser.h#L64\n */\nexport class EdgioHeadersOverflowError extends EdgioError {\n  constructor(details: string = 'HPE_HEADER_OVERFLOW', stack?: string) {\n    super({\n      statusCode: 542,\n      title: 'Edgio Headers Overflow',\n      message: `The project's cloud function returned HTTP response headers with an overall size greater than 80KB or single header with value greater than 32KB. If you are the website administrator, please use ${serverLogsLink} to debug and decrease the response headers size. See: ${limitsLink}`,\n      level: 1,\n      details,\n      stack,\n    })\n  }\n}\n", "import { EdgioError } from './EdgioError'\nimport { supportLink } from './edgioErrorLinks'\n\nexport class EdgioInternalError extends EdgioError {\n  constructor(details?: string, stack?: string, code?: string) {\n    super({\n      statusCode: 530,\n      title: 'Edgio Internal Error',\n      message: `Unexpected error in one of Edgio's cloud function components. If you are the website administrator, please contact the ${supportLink} immediately.`,\n      level: 1,\n      details,\n      stack,\n    })\n  }\n}\n", "import { EdgioError } from './EdgioError'\nimport { serverLogsLink } from './edgioErrorLinks'\n\nexport class EdgioNoResponseError extends EdgioError {\n  constructor(details?: string) {\n    super({\n      statusCode: 536,\n      title: 'Edgio Project No HTTP Response',\n      message: `The project's cloud function returned no response. Common causes are the upstream dropped the connection prematurely, and the upstream took too long to respond. If you are the website administrator, please use ${serverLogsLink} to debug.`,\n      level: 2,\n      details,\n    })\n  }\n}\n", "import { EdgioError } from './EdgioError'\nimport { supportLink } from './edgioErrorLinks'\n\nexport class EdgioNotReadyError extends EdgioError {\n  constructor(details?: string) {\n    super({\n      statusCode: 545,\n      title: 'Edgio Not Ready',\n      message: `One or more Edgio cloud function components are still not ready to receive traffic. Please try it again after a few seconds. If this problem persists, contact the ${supportLink}.`,\n      level: 1,\n      details,\n    })\n  }\n}\n", "import { EdgioError } from './EdgioError'\nimport { serverLogsLink } from './edgioErrorLinks'\n\nexport class EdgioProjectError extends EdgioError {\n  constructor(details?: string, stack?: string) {\n    super({\n      statusCode: 534,\n      title: 'Edgio Project Error',\n      message: `The project's cloud function has failed unexpectedly because of uncaught exception somewhere in the user's code or has issued a malformed response. If you are the website administrator, please use ${serverLogsLink} to debug.`,\n      level: 2,\n      details,\n      stack,\n    })\n  }\n}\n", "import { EdgioError } from './EdgioError'\nimport { serverLogsLink } from './edgioErrorLinks'\n\nexport class EdgioProjectCrashedError extends EdgioError {\n  constructor(details?: string, stack?: string) {\n    super({\n      statusCode: 549,\n      title: 'Edgio Project Crashed',\n      message: `The project's cloud function crashed unexpectedly because of fatal error in project's code or undesired process.exit call somewhere in the third party code. If you are the website administrator, please use ${serverLogsLink} to debug this issue.`,\n      level: 1,\n      details,\n      stack,\n    })\n  }\n}\n", "import { EdgioError } from './EdgioError'\nimport { serverLogsLink } from './edgioErrorLinks'\n\nexport class EdgioOutOfResourcesError extends EdgioError {\n  constructor(details?: string) {\n    super({\n      statusCode: 540,\n      title: 'Edgio Project Out Of Resources',\n      message: `The project's cloud function crashed because of an out-of-memory situation. If you are the website administrator, please use ${serverLogsLink} to debug and lower the resources usage.`,\n      level: 1,\n      details,\n    })\n  }\n}\n", "import { EdgioError } from './EdgioError'\nimport { jsPerformanceProfilingLink, serverLogsLink } from './edgioErrorLinks'\n\nexport class EdgioProjectTimeoutError extends EdgioError {\n  constructor(details?: string) {\n    super({\n      statusCode: 539,\n      title: 'Edgio Project Timeout',\n      message: `The project's cloud function did not respond on time, either due to slow upstreams, loops or badly handled asynchronous requests in code (e.g. missing \"await\" or call to \"callback\"). If you are the website administrator, please use ${serverLogsLink} and ${jsPerformanceProfilingLink} to debug.`,\n      level: 1,\n      details,\n    })\n  }\n}\n", "import { EdgioError } from './EdgioError'\nimport { limitsLink, serverLogsLink } from './edgioErrorLinks'\n\nexport class EdgioResponseTooLargeError extends EdgioError {\n  constructor(details?: string) {\n    super({\n      statusCode: 532,\n      title: 'Edgio Project Response Too Large',\n      message: `The project's cloud function returned a response with body size greater than the allowed 6MB uncompressed. If you are the website administrator, please use ${serverLogsLink} to debug and lower the response size. See: ${limitsLink}`,\n      level: 1,\n      details,\n    })\n  }\n}\n", "import { EdgioError } from './EdgioError'\nimport { serverLogsLink } from './edgioErrorLinks'\n\nexport class EdgioUpstreamOriginTimeoutError extends EdgioError {\n  constructor(details?: string, stack?: string) {\n    super({\n      statusCode: 531,\n      title: 'Edgio Upstream Origin Timeout',\n      message: `The project's cloud function timed out while establishing connection with your upstream origin server. If you are the website administrator, please use ${serverLogsLink} to debug.`,\n      level: 2,\n      details,\n      stack,\n    })\n  }\n}\n", "export * from './EdgioError'\nexport * from './EdgioHeadersOverflowError'\nexport * from './EdgioInternalError'\nexport * from './EdgioNoResponseError'\nexport * from './EdgioNotReadyError'\nexport * from './EdgioProjectError'\nexport * from './EdgioProjectCrashedError'\nexport * from './EdgioOutOfResourcesError'\nexport * from './EdgioProjectTimeoutError'\nexport * from './EdgioResponseTooLargeError'\nexport * from './EdgioUpstreamOriginTimeoutError'\n", "import { parse, UrlWithParsedQuery } from 'url'\nimport http from 'http'\nimport https from 'https'\nimport { RequestOptions, OutgoingHttpHeaders } from 'http'\nimport BackendFetchError from '../errors/BackendFetchError'\nimport Request from './Request'\nimport Response from './Response'\nimport { JS_BACKEND_HOSTNAME, HTTP_HEADERS } from '../constants'\nimport { OriginBackends, Origins } from '../types'\nimport { getRandomElement } from './random'\nimport log from '../log'\nimport bindParams from '../utils/bindParams'\nimport mergeQueryString from '../utils/mergeQueryString'\nimport { isIP } from 'net'\nimport { EdgioHeadersOverflowError } from '../errors'\n\n/**\n * Array of response headers that will not be passed over directly from the proxied resource\n *\n * Notes:\n * - transfer-encoding: as it poisons the response which will be formed\n * based on its own transfer-encoding rather than the one received from the Lambda.\n *\n * - content-length: as the actual constant may be changed by buffer proxy\n * (e.g. on moov_debug=true)\n * @private\n */\nconst IGNORE_RESPONSE_HEADERS = ['transfer-encoding', 'content-length']\n\n/**\n * Options for a single fetch request.\n * All of these options are applied only to the request sent to upstream\n * and don't modify the original request object.\n * @private\n */\nexport interface BackendFetchOptions {\n  /**\n   * Removes the \"=\" from search parameters that have no value. So for example:\n   * \"http://domain.com?foo=&bar=\" becomes \"http://domain.com?foo&bar\"\n   */\n  removeEmptySearchParamValues?: boolean\n\n  /**\n   * Additional headers to send upstream\n   */\n  headers?: { [key: string]: string }\n\n  /**\n   * The path for the URL to request from the upstream site. You can reference variables\n   * captured by the route pattern using `:variable` there.\n   */\n  path?: string | (() => string | undefined)\n\n  /**\n   * Whether or not the parent will create additional requests mapping to same response\n   */\n  followRedirects?: boolean\n}\n\n/**\n * @private\n */\nexport default class Backend {\n  protected config: OriginBackends\n  protected hostHeader?: string\n  protected origin: Origins\n\n  static setImpl(implementation: { new (config: OriginBackends): Backend }) {\n    impl = implementation\n  }\n\n  static create(config: OriginBackends, origin: Origins) {\n    return new impl(config, origin)\n  }\n\n  constructor(config: OriginBackends, origin: Origins) {\n    this.config = config\n    this.origin = origin\n    this.hostHeader = origin.override_host_header\n  }\n\n  /**\n   * Sends a request using the proxy.\n   * @param req The request being sent.\n   * @param res The response for the request.\n   * @param options Options for this fetch request.\n   */\n  async fetch(req: Request, res: Response, options: BackendFetchOptions = {}): Promise<void> {\n    // Create url for proxy with query params added if existing\n    const url = this.getProxyTarget(req)\n    const requestOptions = <RequestOptions>this.getProxyRequestOptions(url, req, options)\n\n    log.debug('[Backend]', 'fetch', requestOptions)\n\n    return new Promise((resolve, reject) => {\n      const lib = url.protocol === 'https:' ? https : http\n\n      let metadataApplied = false\n      const upstreamReq = lib.request(requestOptions, upstreamRes => {\n        const processMetadata = () => {\n          /**\n           * Message can end without any data event, therefore we map in both cases.\n           *\n           * Tried to use 'readable' event for detection of receiving headers,\n           * but 'data' event then stops working, so has to be done through this bool.\n           */\n          if (!metadataApplied) {\n            metadataApplied = true\n            Object.entries(upstreamRes.headers)\n              .filter(([name]) => !IGNORE_RESPONSE_HEADERS.includes(name.toLowerCase()))\n              .forEach(([name, value]) => {\n                try {\n                  res.setHeader(name, value)\n                } catch (e) {\n                  log.warn(\n                    `Could not relay upstream response header ${name} with value ${value}`,\n                    e\n                  )\n                }\n              })\n\n            res.statusCode = upstreamRes.statusCode\n            res.statusMessage = <string>upstreamRes.statusMessage\n\n            log.debug('proxy', `[${res.statusCode} ${res.statusMessage}]`, url)\n          }\n        }\n\n        upstreamRes\n          .on('data', async (chunk: any) => {\n            try {\n              processMetadata()\n              // we need to await writes, as we could do some processing that could be blocking (eg. running some simulator mods)\n              // also, there's a possibility an error can occur during write, therefore we have to catch it to avoid uncaught errors, and simulator continuation\n              await res.write(chunk)\n            } catch (e) {\n              reject(e)\n              upstreamRes.destroy()\n            }\n          })\n          .on('end', async () => {\n            try {\n              if (upstreamRes.complete) {\n                processMetadata()\n                // do not end the response if the status code is 416 (Range Not Satisfiable)\n                await res.end()\n                // we need to wait for flush for cases, where error occurs during res.write\n                await res.waitForFlush()\n                resolve()\n              }\n            } catch (e) {\n              reject(e)\n              upstreamRes.destroy()\n            }\n          })\n          .on(\n            'error',\n            /* istanbul ignore next */ e => {\n              reject(new BackendFetchError(e))\n            }\n          )\n          // Closing the connection before the response is complete\n          // has different behaviours depending on NodeJs version\n          // - node 12: triggers a 'close' event on the Request and Response, and an 'end' event on Response in between\n          // - node 14: triggers a 'close' event on the Request and Response, but no 'end' event on Response anymore\n          // - node 16: triggers a 'close' event on the Request and Response and an \"aborted\" error on Response in between\n          // See playground at https://runkit.com/adrien-k/aborted-res-error\n          //\n          // We take the most compatible approach, although in v16 and above this should be caught by the 'error' event.\n          /* istanbul ignore next */\n          .on(\n            'close',\n            /* istanbul ignore next */ () => {\n              if (!upstreamRes.complete) {\n                reject(\n                  new BackendFetchError(\n                    new Error(\n                      'The connection was terminated while the message was still being sent'\n                    )\n                  )\n                )\n              }\n            }\n          )\n      })\n\n      upstreamReq.on('error', (e: any) => {\n        if (e.code === 'HPE_HEADER_OVERFLOW') {\n          return reject(\n            new EdgioHeadersOverflowError(`Upstream origin '${this.origin.name}' headers overflow`)\n          )\n        }\n        reject(new BackendFetchError(e))\n      })\n      upstreamReq.end(req.rawBody)\n    })\n  }\n\n  /**\n   * Returns proxy configuration for http-proxy\n   * @returns proxy target url\n   */\n  protected getProxyTarget(req: Request) {\n    let location: any\n\n    if (Array.isArray(this.config.location)) {\n      location = getRandomElement(this.config.location)\n    } else {\n      location = this.config.location\n    }\n\n    if (typeof location === 'string') {\n      location = { hostname: location }\n    }\n\n    const { hostname, port } = location\n    const protocol = hostname.match(/^(127.0.0.1|localhost)(:\\d+)?$/) ? 'http' : 'https'\n\n    let scheme = this.config.scheme || 'match'\n    if (!['match', 'http', 'https'].includes(scheme)) {\n      throw new Error(\n        `Fetch failed: request.fetchOrigin.hosts[].scheme must be one of 'match', 'http', 'https'`\n      )\n    }\n    if (scheme === 'match') {\n      scheme = protocol === 'https' ? 'https' : 'http'\n    }\n    const host = `${hostname}${port ? `:${port}` : ''}`\n    const parsed = parse(`${scheme}://${host}${req.url}`, true)\n\n    // Force insecure protocol if header is present\n    if (req.getHeader(HTTP_HEADERS.xEdgeProtocol) === 'http') {\n      parsed.protocol = 'http:'\n    }\n\n    return parsed\n  }\n\n  /**\n   * Returns true if the URL points to the local JS backend, otherwise false.\n   * @param url\n   * @returns\n   */\n  private isLocal(url: UrlWithParsedQuery) {\n    return url.hostname === JS_BACKEND_HOSTNAME\n  }\n\n  /**\n   * Returns proxy configuration object for node-fetch\n   * @param originUrl\n   * @param req\n   * @param options\n   */\n  protected getProxyRequestOptions(\n    originUrl: UrlWithParsedQuery,\n    req: Request,\n    options: BackendFetchOptions = {}\n  ) {\n    let agent = null\n\n    if (this.origin.tls_verify?.allow_self_signed_certs && originUrl.protocol === 'https:') {\n      // For self signed cert fix on local development S3 bucket\n      agent = new https.Agent({ rejectUnauthorized: false })\n    }\n\n    let pathWithQuery = originUrl.path ?? '/'\n    // Update the path and merge the query params\n    // from the old path together with the params from the new path\n    if (options?.path) {\n      const updatedPathWithQuery = bindParams(\n        typeof options.path === 'function' ? options.path() || '' : options.path,\n        req.params\n      )\n      pathWithQuery = mergeQueryString(pathWithQuery ?? '', updatedPathWithQuery)\n    }\n\n    // Remove empty search query param values\n    if (options?.removeEmptySearchParamValues && originUrl.path) {\n      pathWithQuery = pathWithQuery?.replace(/=(?=&|$)/gm, '')\n    }\n\n    const upstreamHeaders: OutgoingHttpHeaders = {\n      ...req.headers,\n      // Add additional request headers\n      ...(options?.headers ?? {}),\n      // In order for TLS verification to work, we should avoid using downstream host header.\n      // We need to try to use the override_host_header property first, then origin hostname from location in case it's domain,\n      // and then fallback to downstream host header.\n      host:\n        this.hostHeader /* origins.override_host_header from edgio.config.js */ ||\n        (!isIP(originUrl.hostname as string)\n          ? originUrl.host\n          : undefined) /* origins.hosts.location from edgio.config.js in case it's domain */ ||\n        (req.headers['host'] as string) /* downstream host header */,\n    }\n\n    if (this.isLocal(originUrl)) {\n      // Some libraries, like [is-https](https://github.com/unjs/is-https#behaviour), rely on x-forwarded-proto\n      // to determine if the source request was made securely. This is notably used by Vue Storefront 2. Before\n      // we added this header, API requests made by Vue Storefront 2 from the cloud would attempt to reenter Edgio\n      // using an http POST, which would be redirected to an https GET, which would cause an infinite loop and soaring lambda costs.\n      // Note that we only add x-forwarded-proto for local requests, which never happen over TLS. For remote requests, TLS is used\n      // when the downstream request used TLS. We've chosen to do this in order to avoid altering the public behavior of Edgio, which\n      // has never sent x-forwarded-proto to origins.\n      upstreamHeaders['x-forwarded-proto'] = req.secure ? 'https' : 'http'\n    }\n\n    // @ts-ignore\n    return <RequestOptions>{\n      ...originUrl,\n      path: pathWithQuery,\n      method: req.method,\n      // first byte timeout should be available here as it is forced by\n      // ajv on routes matchers\n      timeout: (this.config as any).firstByteTimeout || 0,\n      agent,\n      body: req.rawBody,\n      headers: upstreamHeaders,\n    }\n  }\n}\n\nlet impl: { new (config: OriginBackends, origin: Origins): Backend } = Backend\n", "import log from '../log'\nimport Request from './Request'\nimport Response from './Response'\nimport { OriginBackends, Origins } from '../types'\nimport Backend, { BackendFetchOptions } from './Backend'\nimport { getRandomElement } from './random'\n\nexport default class Origin {\n  private config: Origins\n\n  constructor(config: Origins) {\n    this.config = config\n  }\n\n  async fetch(\n    request: Request,\n    response: Response,\n    options: BackendFetchOptions = {}\n  ): Promise<void> {\n    const hostConfig = this.selectHost()\n\n    const host = Backend.create(hostConfig, this.config)\n    return host.fetch(request, response, options)\n  }\n\n  /**\n   * Selects a backend based on the \"balancer\" property\n   */\n  private selectHost(): OriginBackends {\n    const { balancer } = this.config\n\n    if ('static_weighted' === balancer) {\n      return this.config.hosts![0]\n    } else if ('round_robin' === balancer) {\n      // TODO instead of calling a random one, iterate through indexes for each call\n      return getRandomElement(this.config.hosts!)\n    } else {\n      // TODO implement other load balancing strategies, static_weighted\n      if (balancer) {\n        log.warn(\n          `balancer type \"${balancer}\" is not supported during local development, falling back to \"static_weighted\".`\n        )\n      }\n      return this.config.hosts![0]\n    }\n  }\n}\n", "import PropertyContext from './PropertyContext'\nimport Request from '../runtime/Request'\nimport Response from '../runtime/Response'\nimport Origin from './Origin'\nimport { BackendFetchOptions } from './Backend'\nimport { HTTP_HEADERS } from '../constants'\nimport BackendFetchError from '../errors/BackendFetchError'\nimport { EdgioProjectError } from '../errors'\nimport logger from '../log'\n\n/**\n * Options for single fetch request performed by the OriginFetcher.\n * @private\n */\nexport interface FetchOptions extends BackendFetchOptions {\n  /**\n   * When set to true, the OriginFetcher will refetch the whole asset if out of range\n   * @default false\n   */\n  ignoreUnsatisfiableRanges?: boolean\n}\n\n/**\n * Helper class for fetching from origins\n * which allows to follow redirects to different origin.\n *\n * All redirect locations need to be configured in the edgio.config.js with exact hostname in\n * hostnames section otherwise the default origin will be used.\n *\n */\nexport default class OriginFetcher {\n  private propertyContext: PropertyContext\n\n  constructor(propertyContext: PropertyContext) {\n    this.propertyContext = propertyContext\n  }\n\n  /**\n   * Fetches a response from the origin and follows redirects based on provided options.\n   * @param req The request\n   * @param res The response\n   * @param options Additional options for this single fetch request\n   * @param providedOriginName The origin name to be used. If not provided, the origin name will be extracted from the request.\n   */\n  async fetch(\n    req: Request,\n    res: Response,\n    options?: FetchOptions,\n    providedOriginName?: string\n  ): Promise<void> {\n    options = options || {}\n    const originName = providedOriginName || this.propertyContext.getDefaultOrigin(req)\n    const originConfig = this.propertyContext.getOrigin(originName)\n\n    if (!originConfig) {\n      throw new EdgioProjectError(`Upstream origin '${originName}' doesn't exist.`)\n    }\n\n    try {\n      await new Origin(originConfig).fetch(req, res, options)\n    } catch (e) {\n      // BackendFetchErrors are expected errors.\n      // We need to handle them to allow Router.catch retries,\n      // response manipulation in transformResponse, etc.\n      if (e instanceof BackendFetchError) {\n        logger.error(`[OriginFetcher] Upstream origin '${originName}' fetch failed: ${e.message}`)\n        return convertBackendErrorToResponse(e, res)\n      }\n      throw e\n    }\n\n    // if we get 416, we're out of range -> we refetch full asset if ignoreUnsatisfiableRanges\n    if (res.statusCode === 416 && options.ignoreUnsatisfiableRanges) {\n      req.removeHeader(HTTP_HEADERS.range)\n      res.clear()\n      return this.fetch(req, res, options)\n    }\n  }\n\n  /**\n   * Removes sensitive headers from the request.\n   * @param req\n   */\n  removeSensitiveHeaders(req: Request) {\n    req.removeHeader('authorization')\n    req.removeHeader('cookie')\n  }\n}\n\nfunction convertBackendErrorToResponse(e: any, res: Response) {\n  res.clear()\n  res.clearHeaders()\n  res.setHeader(HTTP_HEADERS.xEdgServerlessError, e.message)\n\n  if (e.cause?.code === 'ETIMEDOUT') {\n    res.statusCode = 504\n    res.statusMessage = 'Gateway Timeout'\n    res.body = '504 - Gateway Timeout'\n    return\n  }\n\n  res.statusCode = 502\n  res.statusMessage = 'Bad Gateway'\n  res.body = '502 - Bad Gateway'\n}\n", "import { Origins } from './types'\nimport { EDGIO_ENV_VARIABLES } from './constants'\nimport { isLocal } from './environment'\nimport { assetPort, jsPort, port } from './utils/ports'\n\n/**\n * The id of the origin from which we serve static assets associated with a single deployment\n */\nexport const STATIC_ORIGIN_NAME = 'edgio_static'\n\n/**\n * The id of the origin from which allows edge functions to re-enter the edge.\n */\nexport const SELF_ORIGIN_NAME = 'edgio_self'\n\n/**\n * The id of the origin from which we serve static assets with globally unique filenames (usually based on a hash of the file content)\n * for all deployments.\n */\nexport const PERMANENT_STATIC_ORIGIN_NAME = 'edgio_permanent_static'\n\n/**\n * The id of the origin from which serverless functions are served.\n */\nexport const SERVERLESS_ORIGIN_NAME = 'edgio_serverless'\n\n/**\n * The id of the origin with pre-built @edgio/prefetch assets\n */\nexport const PREFETCH_ORIGIN_NAME = 'edgio_prefetch'\n\nconst internalConfig = process.env[EDGIO_ENV_VARIABLES.internalConfig]\n  ? JSON.parse(process.env[EDGIO_ENV_VARIABLES.internalConfig] || '{}')\n  : {}\n\n// TODO: we need this function to remove path_prefix from the origin config\n// this is currently added so we can do propper url rewriting in the edge,\n// but once this is not needed we should remove it.\n// Without this function, Sailfish validation will fail\nconst getOriginFromConfig = (name: string) => {\n  const origin = internalConfig?.origins?.find((origin: Origins) => origin.name === name)\n\n  if (origin) {\n    for (let host of origin.hosts) {\n      // Enforce https for all origins,\n      // because Function URLs don't support http\n      host.scheme = 'https'\n\n      // Path_prefix is not valid edge_control schema option,\n      // so we need to remove it\n      // @ts-ignore\n      delete host.path_prefix\n    }\n    return {\n      ...origin,\n      // It's important to not set (and remove existing)\n      // sni_hint_and_strict_san_check here, because right now\n      // we don't have way to set two different\n      // sni_hint_and_strict_san_check configs to each origin host\n      // and in production it results in 502 Gateway error on the edge.\n      // See https://jira.atlas.llnw.com/browse/POR-31818 for more details.\n      // TODO: Remove this once POR-31818 is supported\n      tls_verify: {\n        use_sni: true,\n      },\n    }\n  }\n  return origin\n}\n\nexport function getEdgioOrigins(forEdgeControl: boolean = false) {\n  return [\n    createStaticOrigin(),\n    createPermanentStaticOrigin(),\n    createServerlessOrigin(forEdgeControl),\n    // If we are running locally define the edgio_self and edgio_prefetch origins.\n    // If in production, this is defined already.\n    ...(isLocal() ? [createPrefetchOrigin(), createSelfOrigin()] : []),\n  ]\n}\n\nexport function getPathPrefix(origin: string) {\n  return (\n    internalConfig?.origins?.find((o: Origins) => o.name === origin)?.hosts[0]?.path_prefix || ''\n  )\n}\n\n/**\n *  * Creates the origin group for serving static assets associated with a single deployment.\n * @returns\n */\nexport function createStaticOrigin() {\n  return (\n    getOriginFromConfig(STATIC_ORIGIN_NAME) || {\n      name: STATIC_ORIGIN_NAME,\n      hosts: [{ location: `127.0.0.1:${assetPort}` }],\n    }\n  )\n}\n\n/**\n * Creates the origin group for serving static assets with globally unique URLs across all deployments.\n * @returns\n */\nexport function createPermanentStaticOrigin() {\n  return (\n    getOriginFromConfig(PERMANENT_STATIC_ORIGIN_NAME) || {\n      name: PERMANENT_STATIC_ORIGIN_NAME,\n      hosts: [{ location: `127.0.0.1:${assetPort}` }],\n    }\n  )\n}\n\n/**\n * Creates the origin group which allows the edge function to re-enter the edge.\n * @returns\n */\nexport function createSelfOrigin() {\n  return (\n    getOriginFromConfig(SELF_ORIGIN_NAME) || {\n      name: SELF_ORIGIN_NAME,\n      override_host_header: `127.0.0.1`,\n      hosts: [\n        {\n          location: [\n            {\n              hostname: '127.0.0.1',\n              port: port,\n            },\n          ],\n        },\n      ],\n    }\n  )\n}\n\n/**\n * Creates the origin group for serverless functions.\n * When forEdgeControl is false, the serverless origin target is the app. (In simulator and on permalink)\n * When forEdgeControl is true, the serverless origin target is link to permalink.\n * This ensure that the app is not infinitely sending requests to itself.\n * @returns\n */\nexport function createServerlessOrigin(forEdgeControl: boolean = false) {\n  // Return origin from config only in case we are generating config for edge control.\n  // Otherwise keep the localhost origin which is pointing to the app.\n  const originFromConfig = forEdgeControl ? getOriginFromConfig(SERVERLESS_ORIGIN_NAME) : null\n  return (\n    originFromConfig || {\n      name: SERVERLESS_ORIGIN_NAME,\n      hosts: [{ location: `127.0.0.1:${jsPort}` }],\n    }\n  )\n}\n\n/**\n * Creates the origin config for the prefetch origin with pre-built @edgio/prefetch assets.\n * This origin is used just for local simulation.\n * @returns\n */\nexport function createPrefetchOrigin() {\n  return {\n    name: PREFETCH_ORIGIN_NAME,\n    override_host_header: 'edgio-sites-prefetch-default.edgio.link',\n    hosts: [{ location: 'edgio-sites-prefetch-default.edgio.link' }],\n  }\n}\n", "import Mod from './Mod'\nimport Phase from '../Phase'\nimport OriginFetcher from '../OriginFetcher'\nimport { SERVERLESS_ORIGIN_NAME } from '../../origins'\nimport logger from '../../log'\n\n/**\n * Emulation of Sailfish's mod_proxy_core\n */\nexport default class ModProxyCore extends Mod {\n  async execute(phase: Phase) {\n    /* istanbul ignore else */\n    if (Phase.SendRequestContent === phase) {\n      await this.handleSendRequestContent()\n    }\n  }\n\n  private async handleSendRequestContent() {\n    const request = this.context.getRequest()\n    const response = this.context.getResponse()\n    const originName = this.getOriginName()\n\n    try {\n      if (this.context.useCacheFile) {\n        logger.trace(`[ModProxyCore] using cached response`)\n        return\n      } else if (\n        originName === SERVERLESS_ORIGIN_NAME &&\n        (await this.context.executeServerless())\n      ) {\n        logger.trace(`[ModProxyCore] using response from Edgio Cloud Function`)\n        return\n      } else {\n        logger.trace(`[ModProxyCore] fetching response from origin: ${originName}`)\n        const originConfig = this.context.propertyContext.getOrigin(originName)\n\n        if (!originConfig) {\n          throw new Error(`No origin was found with id=${originName}.`)\n        }\n\n        /**\n         * We await the whole response before continuing from this mod, so we can cache it.\n         */\n        await new OriginFetcher(this.context.propertyContext).fetch(\n          request,\n          response,\n          {\n            ignoreUnsatisfiableRanges: this.context.ignoreUnsatisfiableRanges,\n          },\n          // This ensures that the first response will be fetched from this origin.\n          // When OriginFetcher is following absolute redirects, different origin may be selected later.\n          originName\n        )\n      }\n    } finally {\n      // Set the origin response status code on the context so that it can be used when matching response.status_code\n      // and catch() in EdgeJS\n      this.context.originResponseStatus = response.statusCode\n    }\n  }\n\n  /**\n   * Returns the origin name set by latest matched set_origin feature\n   * or origin extracted from the request path in case no set_origin feature was found.\n   */\n  private getOriginName(): string {\n    // Get default origin for the request based on used host header\n    // and configured hostnames.\n    let originName = this.context.propertyContext.getDefaultOrigin(this.context.getRequest())\n    // Allow to override the origin by set_origin feature\n    this.context.forEachMatchingRule(rule => {\n      if (rule?.origin?.set_origin) originName = rule.origin.set_origin\n    })\n    return originName\n  }\n\n  toString() {\n    return 'ModProxyCore'\n  }\n}\n", "import Mod from './Mod'\nimport Phase from '../Phase'\nimport { Features } from '../../types'\n\n/**\n * Emulation of Sailfish's mod_proxy_core follow_redirects\n */\nexport default class ModProxyFeatures extends Mod {\n  async execute(phase: Phase) {\n    this.context.forEachMatchingRule(rule => this.applyFeatures(rule, phase))\n  }\n\n  private applyFeatures(features: Features, _phase: Phase): void {\n    this.context.ignoreUnsatisfiableRanges =\n      features?.caching?.ignore_unsatisfiable_ranges ?? this.context.ignoreUnsatisfiableRanges\n  }\n\n  toString() {\n    return 'ModProxyFeatures'\n  }\n}\n", "import { Features } from '../../types'\nimport Mod from './Mod'\nimport Phase from '../Phase'\nimport EarlyReturn from '../EarlyReturn'\nimport interpolate from '../interpolate'\nimport { mapURL } from '../../router/path'\n\n/**\n * Emulation of Sailfish's mod_redirect\n */\nexport default class ModRedirect extends Mod {\n  async execute(phase: Phase) {\n    this.context.forEachMatchingRule(rule => this.applyFeatures(rule, phase))\n  }\n\n  private applyFeatures(features: Features, phase: Phase): void {\n    const request = this.context.getRequest()\n    const response = this.context.getResponse()\n    const requestUrl = request.url\n\n    // last follow_redirects must be used, but should never be overwritten in cases where it isnt set\n    if (features.url?.follow_redirects !== undefined) {\n      this.context.followRedirects = features.url.follow_redirects\n    }\n\n    if (phase === Phase.UriClean) {\n      if (!features.url || !features.url.url_redirect) {\n        return\n      }\n\n      const { url_redirect } = features.url\n      const { code, source, destination, syntax } = url_redirect\n\n      if (!destination) {\n        throw new Error('url.url_redirect.destination is required but was not provided.')\n      }\n\n      const location = mapURL(requestUrl, source, interpolate(destination, this.context), syntax)\n\n      // When location is null, it means that the redirect source didn't match the url.\n      // We want to skip this url_redirect feature in this case.\n      if (!location) return\n\n      response.statusCode = code || 302\n      response.setHeader('location', location)\n\n      // we end the response in order to not get stuck on stream processing\n      response.end()\n\n      throw new EarlyReturn('redirect')\n    }\n  }\n\n  toString() {\n    return 'ModRedirect'\n  }\n}\n", "/**\n * This class provides an universal worker implementation\n * which works same in NodeJs and browser environment.\n */\nexport class Worker {\n  protected workerInstance: any\n\n  constructor(filename: string) {\n    const WorkerImplementation = getWorkerImplementation()\n    this.workerInstance = new WorkerImplementation(filename)\n  }\n\n  terminate(): void {\n    this.workerInstance.terminate()\n  }\n\n  postMessage(message: any, transfer?: Transferable[]): void {\n    this.workerInstance.postMessage(message, transfer)\n  }\n}\n\n/**\n * Returns the worker implementation based on the environment.\n * The worker_threads for NodeJS and Web Workers for the others.\n */\nexport const getWorkerImplementation = (): any => {\n  try {\n    return require('worker_threads').Worker\n  } catch (e) {\n    return window.Worker\n  }\n}\n\n/**\n * Returns the parent port of the current worker\n * when called in a worker thread.\n */\nexport const getParentPort = (): MessagePort => {\n  try {\n    return require('worker_threads').parentPort\n  } catch (e) {\n    return self as unknown as MessagePort\n  }\n}\n\n/**\n * Returns the parent port of the current worker\n */\nexport const parentPort = getParentPort()\n", "import { Origins } from '../../types'\nimport Request from '../Request'\n\n/// This class is used to pass data from the main thread to the worker thread.\n/// Everything in it must be serializable by v8 so that it can be serialized.\nexport default class EdgeFunctionWorkerParams {\n  readonly request: any\n  readonly path: string\n  readonly sysVars: Map<string, string | Uint8Array>\n  readonly envVars: Map<string, string>\n  readonly usrVars: Map<string, string>\n  readonly httpVars: Map<string, string>\n  readonly origins: Origins[]\n\n  constructor(\n    request: Request,\n    rawBody: Buffer | undefined,\n    path: string,\n    sysVars: Map<string, string | Uint8Array>,\n    envVars: Map<string, string>,\n    usrVars: Map<string, string>,\n    httpVars: Map<string, string>,\n    origins: Origins[]\n  ) {\n    this.request = {\n      httpVersion: request?.httpVersion,\n      method: request?.method,\n      rawBody,\n      rawHeaders: request?.rawHeaders,\n      url: `${request?.protocol}://${request?.headers['host']}${request?.url}`,\n    }\n    this.path = path\n    this.sysVars = sysVars\n    this.envVars = envVars\n    this.usrVars = usrVars\n    this.httpVars = httpVars\n    this.origins = origins\n  }\n}\n", "\"use strict\";\n\nvar conversions = {};\nmodule.exports = conversions;\n\nfunction sign(x) {\n    return x < 0 ? -1 : 1;\n}\n\nfunction evenRound(x) {\n    // Round x to the nearest integer, choosing the even integer if it lies halfway between two.\n    if ((x % 1) === 0.5 && (x & 1) === 0) { // [even number].5; round down (i.e. floor)\n        return Math.floor(x);\n    } else {\n        return Math.round(x);\n    }\n}\n\nfunction createNumberConversion(bitLength, typeOpts) {\n    if (!typeOpts.unsigned) {\n        --bitLength;\n    }\n    const lowerBound = typeOpts.unsigned ? 0 : -Math.pow(2, bitLength);\n    const upperBound = Math.pow(2, bitLength) - 1;\n\n    const moduloVal = typeOpts.moduloBitLength ? Math.pow(2, typeOpts.moduloBitLength) : Math.pow(2, bitLength);\n    const moduloBound = typeOpts.moduloBitLength ? Math.pow(2, typeOpts.moduloBitLength - 1) : Math.pow(2, bitLength - 1);\n\n    return function(V, opts) {\n        if (!opts) opts = {};\n\n        let x = +V;\n\n        if (opts.enforceRange) {\n            if (!Number.isFinite(x)) {\n                throw new TypeError(\"Argument is not a finite number\");\n            }\n\n            x = sign(x) * Math.floor(Math.abs(x));\n            if (x < lowerBound || x > upperBound) {\n                throw new TypeError(\"Argument is not in byte range\");\n            }\n\n            return x;\n        }\n\n        if (!isNaN(x) && opts.clamp) {\n            x = evenRound(x);\n\n            if (x < lowerBound) x = lowerBound;\n            if (x > upperBound) x = upperBound;\n            return x;\n        }\n\n        if (!Number.isFinite(x) || x === 0) {\n            return 0;\n        }\n\n        x = sign(x) * Math.floor(Math.abs(x));\n        x = x % moduloVal;\n\n        if (!typeOpts.unsigned && x >= moduloBound) {\n            return x - moduloVal;\n        } else if (typeOpts.unsigned) {\n            if (x < 0) {\n              x += moduloVal;\n            } else if (x === -0) { // don't return negative zero\n              return 0;\n            }\n        }\n\n        return x;\n    }\n}\n\nconversions[\"void\"] = function () {\n    return undefined;\n};\n\nconversions[\"boolean\"] = function (val) {\n    return !!val;\n};\n\nconversions[\"byte\"] = createNumberConversion(8, { unsigned: false });\nconversions[\"octet\"] = createNumberConversion(8, { unsigned: true });\n\nconversions[\"short\"] = createNumberConversion(16, { unsigned: false });\nconversions[\"unsigned short\"] = createNumberConversion(16, { unsigned: true });\n\nconversions[\"long\"] = createNumberConversion(32, { unsigned: false });\nconversions[\"unsigned long\"] = createNumberConversion(32, { unsigned: true });\n\nconversions[\"long long\"] = createNumberConversion(32, { unsigned: false, moduloBitLength: 64 });\nconversions[\"unsigned long long\"] = createNumberConversion(32, { unsigned: true, moduloBitLength: 64 });\n\nconversions[\"double\"] = function (V) {\n    const x = +V;\n\n    if (!Number.isFinite(x)) {\n        throw new TypeError(\"Argument is not a finite floating-point value\");\n    }\n\n    return x;\n};\n\nconversions[\"unrestricted double\"] = function (V) {\n    const x = +V;\n\n    if (isNaN(x)) {\n        throw new TypeError(\"Argument is NaN\");\n    }\n\n    return x;\n};\n\n// not quite valid, but good enough for JS\nconversions[\"float\"] = conversions[\"double\"];\nconversions[\"unrestricted float\"] = conversions[\"unrestricted double\"];\n\nconversions[\"DOMString\"] = function (V, opts) {\n    if (!opts) opts = {};\n\n    if (opts.treatNullAsEmptyString && V === null) {\n        return \"\";\n    }\n\n    return String(V);\n};\n\nconversions[\"ByteString\"] = function (V, opts) {\n    const x = String(V);\n    let c = undefined;\n    for (let i = 0; (c = x.codePointAt(i)) !== undefined; ++i) {\n        if (c > 255) {\n            throw new TypeError(\"Argument is not a valid bytestring\");\n        }\n    }\n\n    return x;\n};\n\nconversions[\"USVString\"] = function (V) {\n    const S = String(V);\n    const n = S.length;\n    const U = [];\n    for (let i = 0; i < n; ++i) {\n        const c = S.charCodeAt(i);\n        if (c < 0xD800 || c > 0xDFFF) {\n            U.push(String.fromCodePoint(c));\n        } else if (0xDC00 <= c && c <= 0xDFFF) {\n            U.push(String.fromCodePoint(0xFFFD));\n        } else {\n            if (i === n - 1) {\n                U.push(String.fromCodePoint(0xFFFD));\n            } else {\n                const d = S.charCodeAt(i + 1);\n                if (0xDC00 <= d && d <= 0xDFFF) {\n                    const a = c & 0x3FF;\n                    const b = d & 0x3FF;\n                    U.push(String.fromCodePoint((2 << 15) + (2 << 9) * a + b));\n                    ++i;\n                } else {\n                    U.push(String.fromCodePoint(0xFFFD));\n                }\n            }\n        }\n    }\n\n    return U.join('');\n};\n\nconversions[\"Date\"] = function (V, opts) {\n    if (!(V instanceof Date)) {\n        throw new TypeError(\"Argument is not a Date object\");\n    }\n    if (isNaN(V)) {\n        return undefined;\n    }\n\n    return V;\n};\n\nconversions[\"RegExp\"] = function (V, opts) {\n    if (!(V instanceof RegExp)) {\n        V = new RegExp(V);\n    }\n\n    return V;\n};\n", "\"use strict\";\n\nmodule.exports.mixin = function mixin(target, source) {\n  const keys = Object.getOwnPropertyNames(source);\n  for (let i = 0; i < keys.length; ++i) {\n    Object.defineProperty(target, keys[i], Object.getOwnPropertyDescriptor(source, keys[i]));\n  }\n};\n\nmodule.exports.wrapperSymbol = Symbol(\"wrapper\");\nmodule.exports.implSymbol = Symbol(\"impl\");\n\nmodule.exports.wrapperForImpl = function (impl) {\n  return impl[module.exports.wrapperSymbol];\n};\n\nmodule.exports.implForWrapper = function (wrapper) {\n  return wrapper[module.exports.implSymbol];\n};\n\n", "\"use strict\";\n\nvar punycode = require(\"punycode\");\nvar mappingTable = require(\"./lib/mappingTable.json\");\n\nvar PROCESSING_OPTIONS = {\n  TRANSITIONAL: 0,\n  NONTRANSITIONAL: 1\n};\n\nfunction normalize(str) { // fix bug in v8\n  return str.split('\\u0000').map(function (s) { return s.normalize('NFC'); }).join('\\u0000');\n}\n\nfunction findStatus(val) {\n  var start = 0;\n  var end = mappingTable.length - 1;\n\n  while (start <= end) {\n    var mid = Math.floor((start + end) / 2);\n\n    var target = mappingTable[mid];\n    if (target[0][0] <= val && target[0][1] >= val) {\n      return target;\n    } else if (target[0][0] > val) {\n      end = mid - 1;\n    } else {\n      start = mid + 1;\n    }\n  }\n\n  return null;\n}\n\nvar regexAstralSymbols = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g;\n\nfunction countSymbols(string) {\n  return string\n    // replace every surrogate pair with a BMP symbol\n    .replace(regexAstralSymbols, '_')\n    // then get the length\n    .length;\n}\n\nfunction mapChars(domain_name, useSTD3, processing_option) {\n  var hasError = false;\n  var processed = \"\";\n\n  var len = countSymbols(domain_name);\n  for (var i = 0; i < len; ++i) {\n    var codePoint = domain_name.codePointAt(i);\n    var status = findStatus(codePoint);\n\n    switch (status[1]) {\n      case \"disallowed\":\n        hasError = true;\n        processed += String.fromCodePoint(codePoint);\n        break;\n      case \"ignored\":\n        break;\n      case \"mapped\":\n        processed += String.fromCodePoint.apply(String, status[2]);\n        break;\n      case \"deviation\":\n        if (processing_option === PROCESSING_OPTIONS.TRANSITIONAL) {\n          processed += String.fromCodePoint.apply(String, status[2]);\n        } else {\n          processed += String.fromCodePoint(codePoint);\n        }\n        break;\n      case \"valid\":\n        processed += String.fromCodePoint(codePoint);\n        break;\n      case \"disallowed_STD3_mapped\":\n        if (useSTD3) {\n          hasError = true;\n          processed += String.fromCodePoint(codePoint);\n        } else {\n          processed += String.fromCodePoint.apply(String, status[2]);\n        }\n        break;\n      case \"disallowed_STD3_valid\":\n        if (useSTD3) {\n          hasError = true;\n        }\n\n        processed += String.fromCodePoint(codePoint);\n        break;\n    }\n  }\n\n  return {\n    string: processed,\n    error: hasError\n  };\n}\n\nvar combiningMarksRegex = /[\\u0300-\\u036F\\u0483-\\u0489\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u0610-\\u061A\\u064B-\\u065F\\u0670\\u06D6-\\u06DC\\u06DF-\\u06E4\\u06E7\\u06E8\\u06EA-\\u06ED\\u0711\\u0730-\\u074A\\u07A6-\\u07B0\\u07EB-\\u07F3\\u0816-\\u0819\\u081B-\\u0823\\u0825-\\u0827\\u0829-\\u082D\\u0859-\\u085B\\u08E4-\\u0903\\u093A-\\u093C\\u093E-\\u094F\\u0951-\\u0957\\u0962\\u0963\\u0981-\\u0983\\u09BC\\u09BE-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CD\\u09D7\\u09E2\\u09E3\\u0A01-\\u0A03\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A70\\u0A71\\u0A75\\u0A81-\\u0A83\\u0ABC\\u0ABE-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AE2\\u0AE3\\u0B01-\\u0B03\\u0B3C\\u0B3E-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B62\\u0B63\\u0B82\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD7\\u0C00-\\u0C03\\u0C3E-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C62\\u0C63\\u0C81-\\u0C83\\u0CBC\\u0CBE-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CE2\\u0CE3\\u0D01-\\u0D03\\u0D3E-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4D\\u0D57\\u0D62\\u0D63\\u0D82\\u0D83\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DF2\\u0DF3\\u0E31\\u0E34-\\u0E3A\\u0E47-\\u0E4E\\u0EB1\\u0EB4-\\u0EB9\\u0EBB\\u0EBC\\u0EC8-\\u0ECD\\u0F18\\u0F19\\u0F35\\u0F37\\u0F39\\u0F3E\\u0F3F\\u0F71-\\u0F84\\u0F86\\u0F87\\u0F8D-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u102B-\\u103E\\u1056-\\u1059\\u105E-\\u1060\\u1062-\\u1064\\u1067-\\u106D\\u1071-\\u1074\\u1082-\\u108D\\u108F\\u109A-\\u109D\\u135D-\\u135F\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17B4-\\u17D3\\u17DD\\u180B-\\u180D\\u18A9\\u1920-\\u192B\\u1930-\\u193B\\u19B0-\\u19C0\\u19C8\\u19C9\\u1A17-\\u1A1B\\u1A55-\\u1A5E\\u1A60-\\u1A7C\\u1A7F\\u1AB0-\\u1ABE\\u1B00-\\u1B04\\u1B34-\\u1B44\\u1B6B-\\u1B73\\u1B80-\\u1B82\\u1BA1-\\u1BAD\\u1BE6-\\u1BF3\\u1C24-\\u1C37\\u1CD0-\\u1CD2\\u1CD4-\\u1CE8\\u1CED\\u1CF2-\\u1CF4\\u1CF8\\u1CF9\\u1DC0-\\u1DF5\\u1DFC-\\u1DFF\\u20D0-\\u20F0\\u2CEF-\\u2CF1\\u2D7F\\u2DE0-\\u2DFF\\u302A-\\u302F\\u3099\\u309A\\uA66F-\\uA672\\uA674-\\uA67D\\uA69F\\uA6F0\\uA6F1\\uA802\\uA806\\uA80B\\uA823-\\uA827\\uA880\\uA881\\uA8B4-\\uA8C4\\uA8E0-\\uA8F1\\uA926-\\uA92D\\uA947-\\uA953\\uA980-\\uA983\\uA9B3-\\uA9C0\\uA9E5\\uAA29-\\uAA36\\uAA43\\uAA4C\\uAA4D\\uAA7B-\\uAA7D\\uAAB0\\uAAB2-\\uAAB4\\uAAB7\\uAAB8\\uAABE\\uAABF\\uAAC1\\uAAEB-\\uAAEF\\uAAF5\\uAAF6\\uABE3-\\uABEA\\uABEC\\uABED\\uFB1E\\uFE00-\\uFE0F\\uFE20-\\uFE2D]|\\uD800[\\uDDFD\\uDEE0\\uDF76-\\uDF7A]|\\uD802[\\uDE01-\\uDE03\\uDE05\\uDE06\\uDE0C-\\uDE0F\\uDE38-\\uDE3A\\uDE3F\\uDEE5\\uDEE6]|\\uD804[\\uDC00-\\uDC02\\uDC38-\\uDC46\\uDC7F-\\uDC82\\uDCB0-\\uDCBA\\uDD00-\\uDD02\\uDD27-\\uDD34\\uDD73\\uDD80-\\uDD82\\uDDB3-\\uDDC0\\uDE2C-\\uDE37\\uDEDF-\\uDEEA\\uDF01-\\uDF03\\uDF3C\\uDF3E-\\uDF44\\uDF47\\uDF48\\uDF4B-\\uDF4D\\uDF57\\uDF62\\uDF63\\uDF66-\\uDF6C\\uDF70-\\uDF74]|\\uD805[\\uDCB0-\\uDCC3\\uDDAF-\\uDDB5\\uDDB8-\\uDDC0\\uDE30-\\uDE40\\uDEAB-\\uDEB7]|\\uD81A[\\uDEF0-\\uDEF4\\uDF30-\\uDF36]|\\uD81B[\\uDF51-\\uDF7E\\uDF8F-\\uDF92]|\\uD82F[\\uDC9D\\uDC9E]|\\uD834[\\uDD65-\\uDD69\\uDD6D-\\uDD72\\uDD7B-\\uDD82\\uDD85-\\uDD8B\\uDDAA-\\uDDAD\\uDE42-\\uDE44]|\\uD83A[\\uDCD0-\\uDCD6]|\\uDB40[\\uDD00-\\uDDEF]/;\n\nfunction validateLabel(label, processing_option) {\n  if (label.substr(0, 4) === \"xn--\") {\n    label = punycode.toUnicode(label);\n    processing_option = PROCESSING_OPTIONS.NONTRANSITIONAL;\n  }\n\n  var error = false;\n\n  if (normalize(label) !== label ||\n      (label[3] === \"-\" && label[4] === \"-\") ||\n      label[0] === \"-\" || label[label.length - 1] === \"-\" ||\n      label.indexOf(\".\") !== -1 ||\n      label.search(combiningMarksRegex) === 0) {\n    error = true;\n  }\n\n  var len = countSymbols(label);\n  for (var i = 0; i < len; ++i) {\n    var status = findStatus(label.codePointAt(i));\n    if ((processing === PROCESSING_OPTIONS.TRANSITIONAL && status[1] !== \"valid\") ||\n        (processing === PROCESSING_OPTIONS.NONTRANSITIONAL &&\n         status[1] !== \"valid\" && status[1] !== \"deviation\")) {\n      error = true;\n      break;\n    }\n  }\n\n  return {\n    label: label,\n    error: error\n  };\n}\n\nfunction processing(domain_name, useSTD3, processing_option) {\n  var result = mapChars(domain_name, useSTD3, processing_option);\n  result.string = normalize(result.string);\n\n  var labels = result.string.split(\".\");\n  for (var i = 0; i < labels.length; ++i) {\n    try {\n      var validation = validateLabel(labels[i]);\n      labels[i] = validation.label;\n      result.error = result.error || validation.error;\n    } catch(e) {\n      result.error = true;\n    }\n  }\n\n  return {\n    string: labels.join(\".\"),\n    error: result.error\n  };\n}\n\nmodule.exports.toASCII = function(domain_name, useSTD3, processing_option, verifyDnsLength) {\n  var result = processing(domain_name, useSTD3, processing_option);\n  var labels = result.string.split(\".\");\n  labels = labels.map(function(l) {\n    try {\n      return punycode.toASCII(l);\n    } catch(e) {\n      result.error = true;\n      return l;\n    }\n  });\n\n  if (verifyDnsLength) {\n    var total = labels.slice(0, labels.length - 1).join(\".\").length;\n    if (total.length > 253 || total.length === 0) {\n      result.error = true;\n    }\n\n    for (var i=0; i < labels.length; ++i) {\n      if (labels.length > 63 || labels.length === 0) {\n        result.error = true;\n        break;\n      }\n    }\n  }\n\n  if (result.error) return null;\n  return labels.join(\".\");\n};\n\nmodule.exports.toUnicode = function(domain_name, useSTD3) {\n  var result = processing(domain_name, useSTD3, PROCESSING_OPTIONS.NONTRANSITIONAL);\n\n  return {\n    domain: result.string,\n    error: result.error\n  };\n};\n\nmodule.exports.PROCESSING_OPTIONS = PROCESSING_OPTIONS;\n", "\"use strict\";\r\nconst punycode = require(\"punycode\");\r\nconst tr46 = require(\"tr46\");\r\n\r\nconst specialSchemes = {\r\n  ftp: 21,\r\n  file: null,\r\n  gopher: 70,\r\n  http: 80,\r\n  https: 443,\r\n  ws: 80,\r\n  wss: 443\r\n};\r\n\r\nconst failure = Symbol(\"failure\");\r\n\r\nfunction countSymbols(str) {\r\n  return punycode.ucs2.decode(str).length;\r\n}\r\n\r\nfunction at(input, idx) {\r\n  const c = input[idx];\r\n  return isNaN(c) ? undefined : String.fromCodePoint(c);\r\n}\r\n\r\nfunction isASCIIDigit(c) {\r\n  return c >= 0x30 && c <= 0x39;\r\n}\r\n\r\nfunction isASCIIAlpha(c) {\r\n  return (c >= 0x41 && c <= 0x5A) || (c >= 0x61 && c <= 0x7A);\r\n}\r\n\r\nfunction isASCIIAlphanumeric(c) {\r\n  return isASCIIAlpha(c) || isASCIIDigit(c);\r\n}\r\n\r\nfunction isASCIIHex(c) {\r\n  return isASCIIDigit(c) || (c >= 0x41 && c <= 0x46) || (c >= 0x61 && c <= 0x66);\r\n}\r\n\r\nfunction isSingleDot(buffer) {\r\n  return buffer === \".\" || buffer.toLowerCase() === \"%2e\";\r\n}\r\n\r\nfunction isDoubleDot(buffer) {\r\n  buffer = buffer.toLowerCase();\r\n  return buffer === \"..\" || buffer === \"%2e.\" || buffer === \".%2e\" || buffer === \"%2e%2e\";\r\n}\r\n\r\nfunction isWindowsDriveLetterCodePoints(cp1, cp2) {\r\n  return isASCIIAlpha(cp1) && (cp2 === 58 || cp2 === 124);\r\n}\r\n\r\nfunction isWindowsDriveLetterString(string) {\r\n  return string.length === 2 && isASCIIAlpha(string.codePointAt(0)) && (string[1] === \":\" || string[1] === \"|\");\r\n}\r\n\r\nfunction isNormalizedWindowsDriveLetterString(string) {\r\n  return string.length === 2 && isASCIIAlpha(string.codePointAt(0)) && string[1] === \":\";\r\n}\r\n\r\nfunction containsForbiddenHostCodePoint(string) {\r\n  return string.search(/\\u0000|\\u0009|\\u000A|\\u000D|\\u0020|#|%|\\/|:|\\?|@|\\[|\\\\|\\]/) !== -1;\r\n}\r\n\r\nfunction containsForbiddenHostCodePointExcludingPercent(string) {\r\n  return string.search(/\\u0000|\\u0009|\\u000A|\\u000D|\\u0020|#|\\/|:|\\?|@|\\[|\\\\|\\]/) !== -1;\r\n}\r\n\r\nfunction isSpecialScheme(scheme) {\r\n  return specialSchemes[scheme] !== undefined;\r\n}\r\n\r\nfunction isSpecial(url) {\r\n  return isSpecialScheme(url.scheme);\r\n}\r\n\r\nfunction defaultPort(scheme) {\r\n  return specialSchemes[scheme];\r\n}\r\n\r\nfunction percentEncode(c) {\r\n  let hex = c.toString(16).toUpperCase();\r\n  if (hex.length === 1) {\r\n    hex = \"0\" + hex;\r\n  }\r\n\r\n  return \"%\" + hex;\r\n}\r\n\r\nfunction utf8PercentEncode(c) {\r\n  const buf = new Buffer(c);\r\n\r\n  let str = \"\";\r\n\r\n  for (let i = 0; i < buf.length; ++i) {\r\n    str += percentEncode(buf[i]);\r\n  }\r\n\r\n  return str;\r\n}\r\n\r\nfunction utf8PercentDecode(str) {\r\n  const input = new Buffer(str);\r\n  const output = [];\r\n  for (let i = 0; i < input.length; ++i) {\r\n    if (input[i] !== 37) {\r\n      output.push(input[i]);\r\n    } else if (input[i] === 37 && isASCIIHex(input[i + 1]) && isASCIIHex(input[i + 2])) {\r\n      output.push(parseInt(input.slice(i + 1, i + 3).toString(), 16));\r\n      i += 2;\r\n    } else {\r\n      output.push(input[i]);\r\n    }\r\n  }\r\n  return new Buffer(output).toString();\r\n}\r\n\r\nfunction isC0ControlPercentEncode(c) {\r\n  return c <= 0x1F || c > 0x7E;\r\n}\r\n\r\nconst extraPathPercentEncodeSet = new Set([32, 34, 35, 60, 62, 63, 96, 123, 125]);\r\nfunction isPathPercentEncode(c) {\r\n  return isC0ControlPercentEncode(c) || extraPathPercentEncodeSet.has(c);\r\n}\r\n\r\nconst extraUserinfoPercentEncodeSet =\r\n  new Set([47, 58, 59, 61, 64, 91, 92, 93, 94, 124]);\r\nfunction isUserinfoPercentEncode(c) {\r\n  return isPathPercentEncode(c) || extraUserinfoPercentEncodeSet.has(c);\r\n}\r\n\r\nfunction percentEncodeChar(c, encodeSetPredicate) {\r\n  const cStr = String.fromCodePoint(c);\r\n\r\n  if (encodeSetPredicate(c)) {\r\n    return utf8PercentEncode(cStr);\r\n  }\r\n\r\n  return cStr;\r\n}\r\n\r\nfunction parseIPv4Number(input) {\r\n  let R = 10;\r\n\r\n  if (input.length >= 2 && input.charAt(0) === \"0\" && input.charAt(1).toLowerCase() === \"x\") {\r\n    input = input.substring(2);\r\n    R = 16;\r\n  } else if (input.length >= 2 && input.charAt(0) === \"0\") {\r\n    input = input.substring(1);\r\n    R = 8;\r\n  }\r\n\r\n  if (input === \"\") {\r\n    return 0;\r\n  }\r\n\r\n  const regex = R === 10 ? /[^0-9]/ : (R === 16 ? /[^0-9A-Fa-f]/ : /[^0-7]/);\r\n  if (regex.test(input)) {\r\n    return failure;\r\n  }\r\n\r\n  return parseInt(input, R);\r\n}\r\n\r\nfunction parseIPv4(input) {\r\n  const parts = input.split(\".\");\r\n  if (parts[parts.length - 1] === \"\") {\r\n    if (parts.length > 1) {\r\n      parts.pop();\r\n    }\r\n  }\r\n\r\n  if (parts.length > 4) {\r\n    return input;\r\n  }\r\n\r\n  const numbers = [];\r\n  for (const part of parts) {\r\n    if (part === \"\") {\r\n      return input;\r\n    }\r\n    const n = parseIPv4Number(part);\r\n    if (n === failure) {\r\n      return input;\r\n    }\r\n\r\n    numbers.push(n);\r\n  }\r\n\r\n  for (let i = 0; i < numbers.length - 1; ++i) {\r\n    if (numbers[i] > 255) {\r\n      return failure;\r\n    }\r\n  }\r\n  if (numbers[numbers.length - 1] >= Math.pow(256, 5 - numbers.length)) {\r\n    return failure;\r\n  }\r\n\r\n  let ipv4 = numbers.pop();\r\n  let counter = 0;\r\n\r\n  for (const n of numbers) {\r\n    ipv4 += n * Math.pow(256, 3 - counter);\r\n    ++counter;\r\n  }\r\n\r\n  return ipv4;\r\n}\r\n\r\nfunction serializeIPv4(address) {\r\n  let output = \"\";\r\n  let n = address;\r\n\r\n  for (let i = 1; i <= 4; ++i) {\r\n    output = String(n % 256) + output;\r\n    if (i !== 4) {\r\n      output = \".\" + output;\r\n    }\r\n    n = Math.floor(n / 256);\r\n  }\r\n\r\n  return output;\r\n}\r\n\r\nfunction parseIPv6(input) {\r\n  const address = [0, 0, 0, 0, 0, 0, 0, 0];\r\n  let pieceIndex = 0;\r\n  let compress = null;\r\n  let pointer = 0;\r\n\r\n  input = punycode.ucs2.decode(input);\r\n\r\n  if (input[pointer] === 58) {\r\n    if (input[pointer + 1] !== 58) {\r\n      return failure;\r\n    }\r\n\r\n    pointer += 2;\r\n    ++pieceIndex;\r\n    compress = pieceIndex;\r\n  }\r\n\r\n  while (pointer < input.length) {\r\n    if (pieceIndex === 8) {\r\n      return failure;\r\n    }\r\n\r\n    if (input[pointer] === 58) {\r\n      if (compress !== null) {\r\n        return failure;\r\n      }\r\n      ++pointer;\r\n      ++pieceIndex;\r\n      compress = pieceIndex;\r\n      continue;\r\n    }\r\n\r\n    let value = 0;\r\n    let length = 0;\r\n\r\n    while (length < 4 && isASCIIHex(input[pointer])) {\r\n      value = value * 0x10 + parseInt(at(input, pointer), 16);\r\n      ++pointer;\r\n      ++length;\r\n    }\r\n\r\n    if (input[pointer] === 46) {\r\n      if (length === 0) {\r\n        return failure;\r\n      }\r\n\r\n      pointer -= length;\r\n\r\n      if (pieceIndex > 6) {\r\n        return failure;\r\n      }\r\n\r\n      let numbersSeen = 0;\r\n\r\n      while (input[pointer] !== undefined) {\r\n        let ipv4Piece = null;\r\n\r\n        if (numbersSeen > 0) {\r\n          if (input[pointer] === 46 && numbersSeen < 4) {\r\n            ++pointer;\r\n          } else {\r\n            return failure;\r\n          }\r\n        }\r\n\r\n        if (!isASCIIDigit(input[pointer])) {\r\n          return failure;\r\n        }\r\n\r\n        while (isASCIIDigit(input[pointer])) {\r\n          const number = parseInt(at(input, pointer));\r\n          if (ipv4Piece === null) {\r\n            ipv4Piece = number;\r\n          } else if (ipv4Piece === 0) {\r\n            return failure;\r\n          } else {\r\n            ipv4Piece = ipv4Piece * 10 + number;\r\n          }\r\n          if (ipv4Piece > 255) {\r\n            return failure;\r\n          }\r\n          ++pointer;\r\n        }\r\n\r\n        address[pieceIndex] = address[pieceIndex] * 0x100 + ipv4Piece;\r\n\r\n        ++numbersSeen;\r\n\r\n        if (numbersSeen === 2 || numbersSeen === 4) {\r\n          ++pieceIndex;\r\n        }\r\n      }\r\n\r\n      if (numbersSeen !== 4) {\r\n        return failure;\r\n      }\r\n\r\n      break;\r\n    } else if (input[pointer] === 58) {\r\n      ++pointer;\r\n      if (input[pointer] === undefined) {\r\n        return failure;\r\n      }\r\n    } else if (input[pointer] !== undefined) {\r\n      return failure;\r\n    }\r\n\r\n    address[pieceIndex] = value;\r\n    ++pieceIndex;\r\n  }\r\n\r\n  if (compress !== null) {\r\n    let swaps = pieceIndex - compress;\r\n    pieceIndex = 7;\r\n    while (pieceIndex !== 0 && swaps > 0) {\r\n      const temp = address[compress + swaps - 1];\r\n      address[compress + swaps - 1] = address[pieceIndex];\r\n      address[pieceIndex] = temp;\r\n      --pieceIndex;\r\n      --swaps;\r\n    }\r\n  } else if (compress === null && pieceIndex !== 8) {\r\n    return failure;\r\n  }\r\n\r\n  return address;\r\n}\r\n\r\nfunction serializeIPv6(address) {\r\n  let output = \"\";\r\n  const seqResult = findLongestZeroSequence(address);\r\n  const compress = seqResult.idx;\r\n  let ignore0 = false;\r\n\r\n  for (let pieceIndex = 0; pieceIndex <= 7; ++pieceIndex) {\r\n    if (ignore0 && address[pieceIndex] === 0) {\r\n      continue;\r\n    } else if (ignore0) {\r\n      ignore0 = false;\r\n    }\r\n\r\n    if (compress === pieceIndex) {\r\n      const separator = pieceIndex === 0 ? \"::\" : \":\";\r\n      output += separator;\r\n      ignore0 = true;\r\n      continue;\r\n    }\r\n\r\n    output += address[pieceIndex].toString(16);\r\n\r\n    if (pieceIndex !== 7) {\r\n      output += \":\";\r\n    }\r\n  }\r\n\r\n  return output;\r\n}\r\n\r\nfunction parseHost(input, isSpecialArg) {\r\n  if (input[0] === \"[\") {\r\n    if (input[input.length - 1] !== \"]\") {\r\n      return failure;\r\n    }\r\n\r\n    return parseIPv6(input.substring(1, input.length - 1));\r\n  }\r\n\r\n  if (!isSpecialArg) {\r\n    return parseOpaqueHost(input);\r\n  }\r\n\r\n  const domain = utf8PercentDecode(input);\r\n  const asciiDomain = tr46.toASCII(domain, false, tr46.PROCESSING_OPTIONS.NONTRANSITIONAL, false);\r\n  if (asciiDomain === null) {\r\n    return failure;\r\n  }\r\n\r\n  if (containsForbiddenHostCodePoint(asciiDomain)) {\r\n    return failure;\r\n  }\r\n\r\n  const ipv4Host = parseIPv4(asciiDomain);\r\n  if (typeof ipv4Host === \"number\" || ipv4Host === failure) {\r\n    return ipv4Host;\r\n  }\r\n\r\n  return asciiDomain;\r\n}\r\n\r\nfunction parseOpaqueHost(input) {\r\n  if (containsForbiddenHostCodePointExcludingPercent(input)) {\r\n    return failure;\r\n  }\r\n\r\n  let output = \"\";\r\n  const decoded = punycode.ucs2.decode(input);\r\n  for (let i = 0; i < decoded.length; ++i) {\r\n    output += percentEncodeChar(decoded[i], isC0ControlPercentEncode);\r\n  }\r\n  return output;\r\n}\r\n\r\nfunction findLongestZeroSequence(arr) {\r\n  let maxIdx = null;\r\n  let maxLen = 1; // only find elements > 1\r\n  let currStart = null;\r\n  let currLen = 0;\r\n\r\n  for (let i = 0; i < arr.length; ++i) {\r\n    if (arr[i] !== 0) {\r\n      if (currLen > maxLen) {\r\n        maxIdx = currStart;\r\n        maxLen = currLen;\r\n      }\r\n\r\n      currStart = null;\r\n      currLen = 0;\r\n    } else {\r\n      if (currStart === null) {\r\n        currStart = i;\r\n      }\r\n      ++currLen;\r\n    }\r\n  }\r\n\r\n  // if trailing zeros\r\n  if (currLen > maxLen) {\r\n    maxIdx = currStart;\r\n    maxLen = currLen;\r\n  }\r\n\r\n  return {\r\n    idx: maxIdx,\r\n    len: maxLen\r\n  };\r\n}\r\n\r\nfunction serializeHost(host) {\r\n  if (typeof host === \"number\") {\r\n    return serializeIPv4(host);\r\n  }\r\n\r\n  // IPv6 serializer\r\n  if (host instanceof Array) {\r\n    return \"[\" + serializeIPv6(host) + \"]\";\r\n  }\r\n\r\n  return host;\r\n}\r\n\r\nfunction trimControlChars(url) {\r\n  return url.replace(/^[\\u0000-\\u001F\\u0020]+|[\\u0000-\\u001F\\u0020]+$/g, \"\");\r\n}\r\n\r\nfunction trimTabAndNewline(url) {\r\n  return url.replace(/\\u0009|\\u000A|\\u000D/g, \"\");\r\n}\r\n\r\nfunction shortenPath(url) {\r\n  const path = url.path;\r\n  if (path.length === 0) {\r\n    return;\r\n  }\r\n  if (url.scheme === \"file\" && path.length === 1 && isNormalizedWindowsDriveLetter(path[0])) {\r\n    return;\r\n  }\r\n\r\n  path.pop();\r\n}\r\n\r\nfunction includesCredentials(url) {\r\n  return url.username !== \"\" || url.password !== \"\";\r\n}\r\n\r\nfunction cannotHaveAUsernamePasswordPort(url) {\r\n  return url.host === null || url.host === \"\" || url.cannotBeABaseURL || url.scheme === \"file\";\r\n}\r\n\r\nfunction isNormalizedWindowsDriveLetter(string) {\r\n  return /^[A-Za-z]:$/.test(string);\r\n}\r\n\r\nfunction URLStateMachine(input, base, encodingOverride, url, stateOverride) {\r\n  this.pointer = 0;\r\n  this.input = input;\r\n  this.base = base || null;\r\n  this.encodingOverride = encodingOverride || \"utf-8\";\r\n  this.stateOverride = stateOverride;\r\n  this.url = url;\r\n  this.failure = false;\r\n  this.parseError = false;\r\n\r\n  if (!this.url) {\r\n    this.url = {\r\n      scheme: \"\",\r\n      username: \"\",\r\n      password: \"\",\r\n      host: null,\r\n      port: null,\r\n      path: [],\r\n      query: null,\r\n      fragment: null,\r\n\r\n      cannotBeABaseURL: false\r\n    };\r\n\r\n    const res = trimControlChars(this.input);\r\n    if (res !== this.input) {\r\n      this.parseError = true;\r\n    }\r\n    this.input = res;\r\n  }\r\n\r\n  const res = trimTabAndNewline(this.input);\r\n  if (res !== this.input) {\r\n    this.parseError = true;\r\n  }\r\n  this.input = res;\r\n\r\n  this.state = stateOverride || \"scheme start\";\r\n\r\n  this.buffer = \"\";\r\n  this.atFlag = false;\r\n  this.arrFlag = false;\r\n  this.passwordTokenSeenFlag = false;\r\n\r\n  this.input = punycode.ucs2.decode(this.input);\r\n\r\n  for (; this.pointer <= this.input.length; ++this.pointer) {\r\n    const c = this.input[this.pointer];\r\n    const cStr = isNaN(c) ? undefined : String.fromCodePoint(c);\r\n\r\n    // exec state machine\r\n    const ret = this[\"parse \" + this.state](c, cStr);\r\n    if (!ret) {\r\n      break; // terminate algorithm\r\n    } else if (ret === failure) {\r\n      this.failure = true;\r\n      break;\r\n    }\r\n  }\r\n}\r\n\r\nURLStateMachine.prototype[\"parse scheme start\"] = function parseSchemeStart(c, cStr) {\r\n  if (isASCIIAlpha(c)) {\r\n    this.buffer += cStr.toLowerCase();\r\n    this.state = \"scheme\";\r\n  } else if (!this.stateOverride) {\r\n    this.state = \"no scheme\";\r\n    --this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n    return failure;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse scheme\"] = function parseScheme(c, cStr) {\r\n  if (isASCIIAlphanumeric(c) || c === 43 || c === 45 || c === 46) {\r\n    this.buffer += cStr.toLowerCase();\r\n  } else if (c === 58) {\r\n    if (this.stateOverride) {\r\n      if (isSpecial(this.url) && !isSpecialScheme(this.buffer)) {\r\n        return false;\r\n      }\r\n\r\n      if (!isSpecial(this.url) && isSpecialScheme(this.buffer)) {\r\n        return false;\r\n      }\r\n\r\n      if ((includesCredentials(this.url) || this.url.port !== null) && this.buffer === \"file\") {\r\n        return false;\r\n      }\r\n\r\n      if (this.url.scheme === \"file\" && (this.url.host === \"\" || this.url.host === null)) {\r\n        return false;\r\n      }\r\n    }\r\n    this.url.scheme = this.buffer;\r\n    this.buffer = \"\";\r\n    if (this.stateOverride) {\r\n      return false;\r\n    }\r\n    if (this.url.scheme === \"file\") {\r\n      if (this.input[this.pointer + 1] !== 47 || this.input[this.pointer + 2] !== 47) {\r\n        this.parseError = true;\r\n      }\r\n      this.state = \"file\";\r\n    } else if (isSpecial(this.url) && this.base !== null && this.base.scheme === this.url.scheme) {\r\n      this.state = \"special relative or authority\";\r\n    } else if (isSpecial(this.url)) {\r\n      this.state = \"special authority slashes\";\r\n    } else if (this.input[this.pointer + 1] === 47) {\r\n      this.state = \"path or authority\";\r\n      ++this.pointer;\r\n    } else {\r\n      this.url.cannotBeABaseURL = true;\r\n      this.url.path.push(\"\");\r\n      this.state = \"cannot-be-a-base-URL path\";\r\n    }\r\n  } else if (!this.stateOverride) {\r\n    this.buffer = \"\";\r\n    this.state = \"no scheme\";\r\n    this.pointer = -1;\r\n  } else {\r\n    this.parseError = true;\r\n    return failure;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse no scheme\"] = function parseNoScheme(c) {\r\n  if (this.base === null || (this.base.cannotBeABaseURL && c !== 35)) {\r\n    return failure;\r\n  } else if (this.base.cannotBeABaseURL && c === 35) {\r\n    this.url.scheme = this.base.scheme;\r\n    this.url.path = this.base.path.slice();\r\n    this.url.query = this.base.query;\r\n    this.url.fragment = \"\";\r\n    this.url.cannotBeABaseURL = true;\r\n    this.state = \"fragment\";\r\n  } else if (this.base.scheme === \"file\") {\r\n    this.state = \"file\";\r\n    --this.pointer;\r\n  } else {\r\n    this.state = \"relative\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse special relative or authority\"] = function parseSpecialRelativeOrAuthority(c) {\r\n  if (c === 47 && this.input[this.pointer + 1] === 47) {\r\n    this.state = \"special authority ignore slashes\";\r\n    ++this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n    this.state = \"relative\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse path or authority\"] = function parsePathOrAuthority(c) {\r\n  if (c === 47) {\r\n    this.state = \"authority\";\r\n  } else {\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse relative\"] = function parseRelative(c) {\r\n  this.url.scheme = this.base.scheme;\r\n  if (isNaN(c)) {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.url.path = this.base.path.slice();\r\n    this.url.query = this.base.query;\r\n  } else if (c === 47) {\r\n    this.state = \"relative slash\";\r\n  } else if (c === 63) {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.url.path = this.base.path.slice();\r\n    this.url.query = \"\";\r\n    this.state = \"query\";\r\n  } else if (c === 35) {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.url.path = this.base.path.slice();\r\n    this.url.query = this.base.query;\r\n    this.url.fragment = \"\";\r\n    this.state = \"fragment\";\r\n  } else if (isSpecial(this.url) && c === 92) {\r\n    this.parseError = true;\r\n    this.state = \"relative slash\";\r\n  } else {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.url.path = this.base.path.slice(0, this.base.path.length - 1);\r\n\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse relative slash\"] = function parseRelativeSlash(c) {\r\n  if (isSpecial(this.url) && (c === 47 || c === 92)) {\r\n    if (c === 92) {\r\n      this.parseError = true;\r\n    }\r\n    this.state = \"special authority ignore slashes\";\r\n  } else if (c === 47) {\r\n    this.state = \"authority\";\r\n  } else {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse special authority slashes\"] = function parseSpecialAuthoritySlashes(c) {\r\n  if (c === 47 && this.input[this.pointer + 1] === 47) {\r\n    this.state = \"special authority ignore slashes\";\r\n    ++this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n    this.state = \"special authority ignore slashes\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse special authority ignore slashes\"] = function parseSpecialAuthorityIgnoreSlashes(c) {\r\n  if (c !== 47 && c !== 92) {\r\n    this.state = \"authority\";\r\n    --this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse authority\"] = function parseAuthority(c, cStr) {\r\n  if (c === 64) {\r\n    this.parseError = true;\r\n    if (this.atFlag) {\r\n      this.buffer = \"%40\" + this.buffer;\r\n    }\r\n    this.atFlag = true;\r\n\r\n    // careful, this is based on buffer and has its own pointer (this.pointer != pointer) and inner chars\r\n    const len = countSymbols(this.buffer);\r\n    for (let pointer = 0; pointer < len; ++pointer) {\r\n      const codePoint = this.buffer.codePointAt(pointer);\r\n\r\n      if (codePoint === 58 && !this.passwordTokenSeenFlag) {\r\n        this.passwordTokenSeenFlag = true;\r\n        continue;\r\n      }\r\n      const encodedCodePoints = percentEncodeChar(codePoint, isUserinfoPercentEncode);\r\n      if (this.passwordTokenSeenFlag) {\r\n        this.url.password += encodedCodePoints;\r\n      } else {\r\n        this.url.username += encodedCodePoints;\r\n      }\r\n    }\r\n    this.buffer = \"\";\r\n  } else if (isNaN(c) || c === 47 || c === 63 || c === 35 ||\r\n             (isSpecial(this.url) && c === 92)) {\r\n    if (this.atFlag && this.buffer === \"\") {\r\n      this.parseError = true;\r\n      return failure;\r\n    }\r\n    this.pointer -= countSymbols(this.buffer) + 1;\r\n    this.buffer = \"\";\r\n    this.state = \"host\";\r\n  } else {\r\n    this.buffer += cStr;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse hostname\"] =\r\nURLStateMachine.prototype[\"parse host\"] = function parseHostName(c, cStr) {\r\n  if (this.stateOverride && this.url.scheme === \"file\") {\r\n    --this.pointer;\r\n    this.state = \"file host\";\r\n  } else if (c === 58 && !this.arrFlag) {\r\n    if (this.buffer === \"\") {\r\n      this.parseError = true;\r\n      return failure;\r\n    }\r\n\r\n    const host = parseHost(this.buffer, isSpecial(this.url));\r\n    if (host === failure) {\r\n      return failure;\r\n    }\r\n\r\n    this.url.host = host;\r\n    this.buffer = \"\";\r\n    this.state = \"port\";\r\n    if (this.stateOverride === \"hostname\") {\r\n      return false;\r\n    }\r\n  } else if (isNaN(c) || c === 47 || c === 63 || c === 35 ||\r\n             (isSpecial(this.url) && c === 92)) {\r\n    --this.pointer;\r\n    if (isSpecial(this.url) && this.buffer === \"\") {\r\n      this.parseError = true;\r\n      return failure;\r\n    } else if (this.stateOverride && this.buffer === \"\" &&\r\n               (includesCredentials(this.url) || this.url.port !== null)) {\r\n      this.parseError = true;\r\n      return false;\r\n    }\r\n\r\n    const host = parseHost(this.buffer, isSpecial(this.url));\r\n    if (host === failure) {\r\n      return failure;\r\n    }\r\n\r\n    this.url.host = host;\r\n    this.buffer = \"\";\r\n    this.state = \"path start\";\r\n    if (this.stateOverride) {\r\n      return false;\r\n    }\r\n  } else {\r\n    if (c === 91) {\r\n      this.arrFlag = true;\r\n    } else if (c === 93) {\r\n      this.arrFlag = false;\r\n    }\r\n    this.buffer += cStr;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse port\"] = function parsePort(c, cStr) {\r\n  if (isASCIIDigit(c)) {\r\n    this.buffer += cStr;\r\n  } else if (isNaN(c) || c === 47 || c === 63 || c === 35 ||\r\n             (isSpecial(this.url) && c === 92) ||\r\n             this.stateOverride) {\r\n    if (this.buffer !== \"\") {\r\n      const port = parseInt(this.buffer);\r\n      if (port > Math.pow(2, 16) - 1) {\r\n        this.parseError = true;\r\n        return failure;\r\n      }\r\n      this.url.port = port === defaultPort(this.url.scheme) ? null : port;\r\n      this.buffer = \"\";\r\n    }\r\n    if (this.stateOverride) {\r\n      return false;\r\n    }\r\n    this.state = \"path start\";\r\n    --this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n    return failure;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nconst fileOtherwiseCodePoints = new Set([47, 92, 63, 35]);\r\n\r\nURLStateMachine.prototype[\"parse file\"] = function parseFile(c) {\r\n  this.url.scheme = \"file\";\r\n\r\n  if (c === 47 || c === 92) {\r\n    if (c === 92) {\r\n      this.parseError = true;\r\n    }\r\n    this.state = \"file slash\";\r\n  } else if (this.base !== null && this.base.scheme === \"file\") {\r\n    if (isNaN(c)) {\r\n      this.url.host = this.base.host;\r\n      this.url.path = this.base.path.slice();\r\n      this.url.query = this.base.query;\r\n    } else if (c === 63) {\r\n      this.url.host = this.base.host;\r\n      this.url.path = this.base.path.slice();\r\n      this.url.query = \"\";\r\n      this.state = \"query\";\r\n    } else if (c === 35) {\r\n      this.url.host = this.base.host;\r\n      this.url.path = this.base.path.slice();\r\n      this.url.query = this.base.query;\r\n      this.url.fragment = \"\";\r\n      this.state = \"fragment\";\r\n    } else {\r\n      if (this.input.length - this.pointer - 1 === 0 || // remaining consists of 0 code points\r\n          !isWindowsDriveLetterCodePoints(c, this.input[this.pointer + 1]) ||\r\n          (this.input.length - this.pointer - 1 >= 2 && // remaining has at least 2 code points\r\n           !fileOtherwiseCodePoints.has(this.input[this.pointer + 2]))) {\r\n        this.url.host = this.base.host;\r\n        this.url.path = this.base.path.slice();\r\n        shortenPath(this.url);\r\n      } else {\r\n        this.parseError = true;\r\n      }\r\n\r\n      this.state = \"path\";\r\n      --this.pointer;\r\n    }\r\n  } else {\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse file slash\"] = function parseFileSlash(c) {\r\n  if (c === 47 || c === 92) {\r\n    if (c === 92) {\r\n      this.parseError = true;\r\n    }\r\n    this.state = \"file host\";\r\n  } else {\r\n    if (this.base !== null && this.base.scheme === \"file\") {\r\n      if (isNormalizedWindowsDriveLetterString(this.base.path[0])) {\r\n        this.url.path.push(this.base.path[0]);\r\n      } else {\r\n        this.url.host = this.base.host;\r\n      }\r\n    }\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse file host\"] = function parseFileHost(c, cStr) {\r\n  if (isNaN(c) || c === 47 || c === 92 || c === 63 || c === 35) {\r\n    --this.pointer;\r\n    if (!this.stateOverride && isWindowsDriveLetterString(this.buffer)) {\r\n      this.parseError = true;\r\n      this.state = \"path\";\r\n    } else if (this.buffer === \"\") {\r\n      this.url.host = \"\";\r\n      if (this.stateOverride) {\r\n        return false;\r\n      }\r\n      this.state = \"path start\";\r\n    } else {\r\n      let host = parseHost(this.buffer, isSpecial(this.url));\r\n      if (host === failure) {\r\n        return failure;\r\n      }\r\n      if (host === \"localhost\") {\r\n        host = \"\";\r\n      }\r\n      this.url.host = host;\r\n\r\n      if (this.stateOverride) {\r\n        return false;\r\n      }\r\n\r\n      this.buffer = \"\";\r\n      this.state = \"path start\";\r\n    }\r\n  } else {\r\n    this.buffer += cStr;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse path start\"] = function parsePathStart(c) {\r\n  if (isSpecial(this.url)) {\r\n    if (c === 92) {\r\n      this.parseError = true;\r\n    }\r\n    this.state = \"path\";\r\n\r\n    if (c !== 47 && c !== 92) {\r\n      --this.pointer;\r\n    }\r\n  } else if (!this.stateOverride && c === 63) {\r\n    this.url.query = \"\";\r\n    this.state = \"query\";\r\n  } else if (!this.stateOverride && c === 35) {\r\n    this.url.fragment = \"\";\r\n    this.state = \"fragment\";\r\n  } else if (c !== undefined) {\r\n    this.state = \"path\";\r\n    if (c !== 47) {\r\n      --this.pointer;\r\n    }\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse path\"] = function parsePath(c) {\r\n  if (isNaN(c) || c === 47 || (isSpecial(this.url) && c === 92) ||\r\n      (!this.stateOverride && (c === 63 || c === 35))) {\r\n    if (isSpecial(this.url) && c === 92) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    if (isDoubleDot(this.buffer)) {\r\n      shortenPath(this.url);\r\n      if (c !== 47 && !(isSpecial(this.url) && c === 92)) {\r\n        this.url.path.push(\"\");\r\n      }\r\n    } else if (isSingleDot(this.buffer) && c !== 47 &&\r\n               !(isSpecial(this.url) && c === 92)) {\r\n      this.url.path.push(\"\");\r\n    } else if (!isSingleDot(this.buffer)) {\r\n      if (this.url.scheme === \"file\" && this.url.path.length === 0 && isWindowsDriveLetterString(this.buffer)) {\r\n        if (this.url.host !== \"\" && this.url.host !== null) {\r\n          this.parseError = true;\r\n          this.url.host = \"\";\r\n        }\r\n        this.buffer = this.buffer[0] + \":\";\r\n      }\r\n      this.url.path.push(this.buffer);\r\n    }\r\n    this.buffer = \"\";\r\n    if (this.url.scheme === \"file\" && (c === undefined || c === 63 || c === 35)) {\r\n      while (this.url.path.length > 1 && this.url.path[0] === \"\") {\r\n        this.parseError = true;\r\n        this.url.path.shift();\r\n      }\r\n    }\r\n    if (c === 63) {\r\n      this.url.query = \"\";\r\n      this.state = \"query\";\r\n    }\r\n    if (c === 35) {\r\n      this.url.fragment = \"\";\r\n      this.state = \"fragment\";\r\n    }\r\n  } else {\r\n    // TODO: If c is not a URL code point and not \"%\", parse error.\r\n\r\n    if (c === 37 &&\r\n      (!isASCIIHex(this.input[this.pointer + 1]) ||\r\n        !isASCIIHex(this.input[this.pointer + 2]))) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    this.buffer += percentEncodeChar(c, isPathPercentEncode);\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse cannot-be-a-base-URL path\"] = function parseCannotBeABaseURLPath(c) {\r\n  if (c === 63) {\r\n    this.url.query = \"\";\r\n    this.state = \"query\";\r\n  } else if (c === 35) {\r\n    this.url.fragment = \"\";\r\n    this.state = \"fragment\";\r\n  } else {\r\n    // TODO: Add: not a URL code point\r\n    if (!isNaN(c) && c !== 37) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    if (c === 37 &&\r\n        (!isASCIIHex(this.input[this.pointer + 1]) ||\r\n         !isASCIIHex(this.input[this.pointer + 2]))) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    if (!isNaN(c)) {\r\n      this.url.path[0] = this.url.path[0] + percentEncodeChar(c, isC0ControlPercentEncode);\r\n    }\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse query\"] = function parseQuery(c, cStr) {\r\n  if (isNaN(c) || (!this.stateOverride && c === 35)) {\r\n    if (!isSpecial(this.url) || this.url.scheme === \"ws\" || this.url.scheme === \"wss\") {\r\n      this.encodingOverride = \"utf-8\";\r\n    }\r\n\r\n    const buffer = new Buffer(this.buffer); // TODO: Use encoding override instead\r\n    for (let i = 0; i < buffer.length; ++i) {\r\n      if (buffer[i] < 0x21 || buffer[i] > 0x7E || buffer[i] === 0x22 || buffer[i] === 0x23 ||\r\n          buffer[i] === 0x3C || buffer[i] === 0x3E) {\r\n        this.url.query += percentEncode(buffer[i]);\r\n      } else {\r\n        this.url.query += String.fromCodePoint(buffer[i]);\r\n      }\r\n    }\r\n\r\n    this.buffer = \"\";\r\n    if (c === 35) {\r\n      this.url.fragment = \"\";\r\n      this.state = \"fragment\";\r\n    }\r\n  } else {\r\n    // TODO: If c is not a URL code point and not \"%\", parse error.\r\n    if (c === 37 &&\r\n      (!isASCIIHex(this.input[this.pointer + 1]) ||\r\n        !isASCIIHex(this.input[this.pointer + 2]))) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    this.buffer += cStr;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse fragment\"] = function parseFragment(c) {\r\n  if (isNaN(c)) { // do nothing\r\n  } else if (c === 0x0) {\r\n    this.parseError = true;\r\n  } else {\r\n    // TODO: If c is not a URL code point and not \"%\", parse error.\r\n    if (c === 37 &&\r\n      (!isASCIIHex(this.input[this.pointer + 1]) ||\r\n        !isASCIIHex(this.input[this.pointer + 2]))) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    this.url.fragment += percentEncodeChar(c, isC0ControlPercentEncode);\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nfunction serializeURL(url, excludeFragment) {\r\n  let output = url.scheme + \":\";\r\n  if (url.host !== null) {\r\n    output += \"//\";\r\n\r\n    if (url.username !== \"\" || url.password !== \"\") {\r\n      output += url.username;\r\n      if (url.password !== \"\") {\r\n        output += \":\" + url.password;\r\n      }\r\n      output += \"@\";\r\n    }\r\n\r\n    output += serializeHost(url.host);\r\n\r\n    if (url.port !== null) {\r\n      output += \":\" + url.port;\r\n    }\r\n  } else if (url.host === null && url.scheme === \"file\") {\r\n    output += \"//\";\r\n  }\r\n\r\n  if (url.cannotBeABaseURL) {\r\n    output += url.path[0];\r\n  } else {\r\n    for (const string of url.path) {\r\n      output += \"/\" + string;\r\n    }\r\n  }\r\n\r\n  if (url.query !== null) {\r\n    output += \"?\" + url.query;\r\n  }\r\n\r\n  if (!excludeFragment && url.fragment !== null) {\r\n    output += \"#\" + url.fragment;\r\n  }\r\n\r\n  return output;\r\n}\r\n\r\nfunction serializeOrigin(tuple) {\r\n  let result = tuple.scheme + \"://\";\r\n  result += serializeHost(tuple.host);\r\n\r\n  if (tuple.port !== null) {\r\n    result += \":\" + tuple.port;\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\nmodule.exports.serializeURL = serializeURL;\r\n\r\nmodule.exports.serializeURLOrigin = function (url) {\r\n  // https://url.spec.whatwg.org/#concept-url-origin\r\n  switch (url.scheme) {\r\n    case \"blob\":\r\n      try {\r\n        return module.exports.serializeURLOrigin(module.exports.parseURL(url.path[0]));\r\n      } catch (e) {\r\n        // serializing an opaque origin returns \"null\"\r\n        return \"null\";\r\n      }\r\n    case \"ftp\":\r\n    case \"gopher\":\r\n    case \"http\":\r\n    case \"https\":\r\n    case \"ws\":\r\n    case \"wss\":\r\n      return serializeOrigin({\r\n        scheme: url.scheme,\r\n        host: url.host,\r\n        port: url.port\r\n      });\r\n    case \"file\":\r\n      // spec says \"exercise to the reader\", chrome says \"file://\"\r\n      return \"file://\";\r\n    default:\r\n      // serializing an opaque origin returns \"null\"\r\n      return \"null\";\r\n  }\r\n};\r\n\r\nmodule.exports.basicURLParse = function (input, options) {\r\n  if (options === undefined) {\r\n    options = {};\r\n  }\r\n\r\n  const usm = new URLStateMachine(input, options.baseURL, options.encodingOverride, options.url, options.stateOverride);\r\n  if (usm.failure) {\r\n    return \"failure\";\r\n  }\r\n\r\n  return usm.url;\r\n};\r\n\r\nmodule.exports.setTheUsername = function (url, username) {\r\n  url.username = \"\";\r\n  const decoded = punycode.ucs2.decode(username);\r\n  for (let i = 0; i < decoded.length; ++i) {\r\n    url.username += percentEncodeChar(decoded[i], isUserinfoPercentEncode);\r\n  }\r\n};\r\n\r\nmodule.exports.setThePassword = function (url, password) {\r\n  url.password = \"\";\r\n  const decoded = punycode.ucs2.decode(password);\r\n  for (let i = 0; i < decoded.length; ++i) {\r\n    url.password += percentEncodeChar(decoded[i], isUserinfoPercentEncode);\r\n  }\r\n};\r\n\r\nmodule.exports.serializeHost = serializeHost;\r\n\r\nmodule.exports.cannotHaveAUsernamePasswordPort = cannotHaveAUsernamePasswordPort;\r\n\r\nmodule.exports.serializeInteger = function (integer) {\r\n  return String(integer);\r\n};\r\n\r\nmodule.exports.parseURL = function (input, options) {\r\n  if (options === undefined) {\r\n    options = {};\r\n  }\r\n\r\n  // We don't handle blobs, so this just delegates:\r\n  return module.exports.basicURLParse(input, { baseURL: options.baseURL, encodingOverride: options.encodingOverride });\r\n};\r\n", "\"use strict\";\nconst usm = require(\"./url-state-machine\");\n\nexports.implementation = class URLImpl {\n  constructor(constructorArgs) {\n    const url = constructorArgs[0];\n    const base = constructorArgs[1];\n\n    let parsedBase = null;\n    if (base !== undefined) {\n      parsedBase = usm.basicURLParse(base);\n      if (parsedBase === \"failure\") {\n        throw new TypeError(\"Invalid base URL\");\n      }\n    }\n\n    const parsedURL = usm.basicURLParse(url, { baseURL: parsedBase });\n    if (parsedURL === \"failure\") {\n      throw new TypeError(\"Invalid URL\");\n    }\n\n    this._url = parsedURL;\n\n    // TODO: query stuff\n  }\n\n  get href() {\n    return usm.serializeURL(this._url);\n  }\n\n  set href(v) {\n    const parsedURL = usm.basicURLParse(v);\n    if (parsedURL === \"failure\") {\n      throw new TypeError(\"Invalid URL\");\n    }\n\n    this._url = parsedURL;\n  }\n\n  get origin() {\n    return usm.serializeURLOrigin(this._url);\n  }\n\n  get protocol() {\n    return this._url.scheme + \":\";\n  }\n\n  set protocol(v) {\n    usm.basicURLParse(v + \":\", { url: this._url, stateOverride: \"scheme start\" });\n  }\n\n  get username() {\n    return this._url.username;\n  }\n\n  set username(v) {\n    if (usm.cannotHaveAUsernamePasswordPort(this._url)) {\n      return;\n    }\n\n    usm.setTheUsername(this._url, v);\n  }\n\n  get password() {\n    return this._url.password;\n  }\n\n  set password(v) {\n    if (usm.cannotHaveAUsernamePasswordPort(this._url)) {\n      return;\n    }\n\n    usm.setThePassword(this._url, v);\n  }\n\n  get host() {\n    const url = this._url;\n\n    if (url.host === null) {\n      return \"\";\n    }\n\n    if (url.port === null) {\n      return usm.serializeHost(url.host);\n    }\n\n    return usm.serializeHost(url.host) + \":\" + usm.serializeInteger(url.port);\n  }\n\n  set host(v) {\n    if (this._url.cannotBeABaseURL) {\n      return;\n    }\n\n    usm.basicURLParse(v, { url: this._url, stateOverride: \"host\" });\n  }\n\n  get hostname() {\n    if (this._url.host === null) {\n      return \"\";\n    }\n\n    return usm.serializeHost(this._url.host);\n  }\n\n  set hostname(v) {\n    if (this._url.cannotBeABaseURL) {\n      return;\n    }\n\n    usm.basicURLParse(v, { url: this._url, stateOverride: \"hostname\" });\n  }\n\n  get port() {\n    if (this._url.port === null) {\n      return \"\";\n    }\n\n    return usm.serializeInteger(this._url.port);\n  }\n\n  set port(v) {\n    if (usm.cannotHaveAUsernamePasswordPort(this._url)) {\n      return;\n    }\n\n    if (v === \"\") {\n      this._url.port = null;\n    } else {\n      usm.basicURLParse(v, { url: this._url, stateOverride: \"port\" });\n    }\n  }\n\n  get pathname() {\n    if (this._url.cannotBeABaseURL) {\n      return this._url.path[0];\n    }\n\n    if (this._url.path.length === 0) {\n      return \"\";\n    }\n\n    return \"/\" + this._url.path.join(\"/\");\n  }\n\n  set pathname(v) {\n    if (this._url.cannotBeABaseURL) {\n      return;\n    }\n\n    this._url.path = [];\n    usm.basicURLParse(v, { url: this._url, stateOverride: \"path start\" });\n  }\n\n  get search() {\n    if (this._url.query === null || this._url.query === \"\") {\n      return \"\";\n    }\n\n    return \"?\" + this._url.query;\n  }\n\n  set search(v) {\n    // TODO: query stuff\n\n    const url = this._url;\n\n    if (v === \"\") {\n      url.query = null;\n      return;\n    }\n\n    const input = v[0] === \"?\" ? v.substring(1) : v;\n    url.query = \"\";\n    usm.basicURLParse(input, { url, stateOverride: \"query\" });\n  }\n\n  get hash() {\n    if (this._url.fragment === null || this._url.fragment === \"\") {\n      return \"\";\n    }\n\n    return \"#\" + this._url.fragment;\n  }\n\n  set hash(v) {\n    if (v === \"\") {\n      this._url.fragment = null;\n      return;\n    }\n\n    const input = v[0] === \"#\" ? v.substring(1) : v;\n    this._url.fragment = \"\";\n    usm.basicURLParse(input, { url: this._url, stateOverride: \"fragment\" });\n  }\n\n  toJSON() {\n    return this.href;\n  }\n};\n", "\"use strict\";\n\nconst conversions = require(\"webidl-conversions\");\nconst utils = require(\"./utils.js\");\nconst Impl = require(\".//URL-impl.js\");\n\nconst impl = utils.implSymbol;\n\nfunction URL(url) {\n  if (!this || this[impl] || !(this instanceof URL)) {\n    throw new TypeError(\"Failed to construct 'URL': Please use the 'new' operator, this DOM object constructor cannot be called as a function.\");\n  }\n  if (arguments.length < 1) {\n    throw new TypeError(\"Failed to construct 'URL': 1 argument required, but only \" + arguments.length + \" present.\");\n  }\n  const args = [];\n  for (let i = 0; i < arguments.length && i < 2; ++i) {\n    args[i] = arguments[i];\n  }\n  args[0] = conversions[\"USVString\"](args[0]);\n  if (args[1] !== undefined) {\n  args[1] = conversions[\"USVString\"](args[1]);\n  }\n\n  module.exports.setup(this, args);\n}\n\nURL.prototype.toJSON = function toJSON() {\n  if (!this || !module.exports.is(this)) {\n    throw new TypeError(\"Illegal invocation\");\n  }\n  const args = [];\n  for (let i = 0; i < arguments.length && i < 0; ++i) {\n    args[i] = arguments[i];\n  }\n  return this[impl].toJSON.apply(this[impl], args);\n};\nObject.defineProperty(URL.prototype, \"href\", {\n  get() {\n    return this[impl].href;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].href = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nURL.prototype.toString = function () {\n  if (!this || !module.exports.is(this)) {\n    throw new TypeError(\"Illegal invocation\");\n  }\n  return this.href;\n};\n\nObject.defineProperty(URL.prototype, \"origin\", {\n  get() {\n    return this[impl].origin;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"protocol\", {\n  get() {\n    return this[impl].protocol;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].protocol = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"username\", {\n  get() {\n    return this[impl].username;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].username = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"password\", {\n  get() {\n    return this[impl].password;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].password = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"host\", {\n  get() {\n    return this[impl].host;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].host = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"hostname\", {\n  get() {\n    return this[impl].hostname;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].hostname = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"port\", {\n  get() {\n    return this[impl].port;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].port = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"pathname\", {\n  get() {\n    return this[impl].pathname;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].pathname = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"search\", {\n  get() {\n    return this[impl].search;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].search = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"hash\", {\n  get() {\n    return this[impl].hash;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].hash = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\n\nmodule.exports = {\n  is(obj) {\n    return !!obj && obj[impl] instanceof Impl.implementation;\n  },\n  create(constructorArgs, privateData) {\n    let obj = Object.create(URL.prototype);\n    this.setup(obj, constructorArgs, privateData);\n    return obj;\n  },\n  setup(obj, constructorArgs, privateData) {\n    if (!privateData) privateData = {};\n    privateData.wrapper = obj;\n\n    obj[impl] = new Impl.implementation(constructorArgs, privateData);\n    obj[impl][utils.wrapperSymbol] = obj;\n  },\n  interface: URL,\n  expose: {\n    Window: { URL: URL },\n    Worker: { URL: URL }\n  }\n};\n\n", "\"use strict\";\n\nexports.URL = require(\"./URL\").interface;\nexports.serializeURL = require(\"./url-state-machine\").serializeURL;\nexports.serializeURLOrigin = require(\"./url-state-machine\").serializeURLOrigin;\nexports.basicURLParse = require(\"./url-state-machine\").basicURLParse;\nexports.setTheUsername = require(\"./url-state-machine\").setTheUsername;\nexports.setThePassword = require(\"./url-state-machine\").setThePassword;\nexports.serializeHost = require(\"./url-state-machine\").serializeHost;\nexports.serializeInteger = require(\"./url-state-machine\").serializeInteger;\nexports.parseURL = require(\"./url-state-machine\").parseURL;\n", "/* eslint-disable node/no-deprecated-api */\n\n'use strict'\n\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\nvar safer = {}\n\nvar key\n\nfor (key in buffer) {\n  if (!buffer.hasOwnProperty(key)) continue\n  if (key === 'SlowBuffer' || key === 'Buffer') continue\n  safer[key] = buffer[key]\n}\n\nvar Safer = safer.Buffer = {}\nfor (key in Buffer) {\n  if (!Buffer.hasOwnProperty(key)) continue\n  if (key === 'allocUnsafe' || key === 'allocUnsafeSlow') continue\n  Safer[key] = Buffer[key]\n}\n\nsafer.Buffer.prototype = Buffer.prototype\n\nif (!Safer.from || Safer.from === Uint8Array.from) {\n  Safer.from = function (value, encodingOrOffset, length) {\n    if (typeof value === 'number') {\n      throw new TypeError('The \"value\" argument must not be of type number. Received type ' + typeof value)\n    }\n    if (value && typeof value.length === 'undefined') {\n      throw new TypeError('The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type ' + typeof value)\n    }\n    return Buffer(value, encodingOrOffset, length)\n  }\n}\n\nif (!Safer.alloc) {\n  Safer.alloc = function (size, fill, encoding) {\n    if (typeof size !== 'number') {\n      throw new TypeError('The \"size\" argument must be of type number. Received type ' + typeof size)\n    }\n    if (size < 0 || size >= 2 * (1 << 30)) {\n      throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n    }\n    var buf = Buffer(size)\n    if (!fill || fill.length === 0) {\n      buf.fill(0)\n    } else if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n    return buf\n  }\n}\n\nif (!safer.kStringMaxLength) {\n  try {\n    safer.kStringMaxLength = process.binding('buffer').kStringMaxLength\n  } catch (e) {\n    // we can't determine kStringMaxLength in environments where process.binding\n    // is unsupported, so let's not set it\n  }\n}\n\nif (!safer.constants) {\n  safer.constants = {\n    MAX_LENGTH: safer.kMaxLength\n  }\n  if (safer.kStringMaxLength) {\n    safer.constants.MAX_STRING_LENGTH = safer.kStringMaxLength\n  }\n}\n\nmodule.exports = safer\n", "\"use strict\";\n\nvar BOMChar = '\\uFEFF';\n\nexports.PrependBOM = PrependBOMWrapper\nfunction PrependBOMWrapper(encoder, options) {\n    this.encoder = encoder;\n    this.addBOM = true;\n}\n\nPrependBOMWrapper.prototype.write = function(str) {\n    if (this.addBOM) {\n        str = BOMChar + str;\n        this.addBOM = false;\n    }\n\n    return this.encoder.write(str);\n}\n\nPrependBOMWrapper.prototype.end = function() {\n    return this.encoder.end();\n}\n\n\n//------------------------------------------------------------------------------\n\nexports.StripBOM = StripBOMWrapper;\nfunction StripBOMWrapper(decoder, options) {\n    this.decoder = decoder;\n    this.pass = false;\n    this.options = options || {};\n}\n\nStripBOMWrapper.prototype.write = function(buf) {\n    var res = this.decoder.write(buf);\n    if (this.pass || !res)\n        return res;\n\n    if (res[0] === BOMChar) {\n        res = res.slice(1);\n        if (typeof this.options.stripBOM === 'function')\n            this.options.stripBOM();\n    }\n\n    this.pass = true;\n    return res;\n}\n\nStripBOMWrapper.prototype.end = function() {\n    return this.decoder.end();\n}\n\n", "\"use strict\";\nvar Buffer = require(\"safer-buffer\").Buffer;\n\n// Export Node.js internal encodings.\n\nmodule.exports = {\n    // Encodings\n    utf8:   { type: \"_internal\", bomAware: true},\n    cesu8:  { type: \"_internal\", bomAware: true},\n    unicode11utf8: \"utf8\",\n\n    ucs2:   { type: \"_internal\", bomAware: true},\n    utf16le: \"ucs2\",\n\n    binary: { type: \"_internal\" },\n    base64: { type: \"_internal\" },\n    hex:    { type: \"_internal\" },\n\n    // Codec.\n    _internal: InternalCodec,\n};\n\n//------------------------------------------------------------------------------\n\nfunction InternalCodec(codecOptions, iconv) {\n    this.enc = codecOptions.encodingName;\n    this.bomAware = codecOptions.bomAware;\n\n    if (this.enc === \"base64\")\n        this.encoder = InternalEncoderBase64;\n    else if (this.enc === \"cesu8\") {\n        this.enc = \"utf8\"; // Use utf8 for decoding.\n        this.encoder = InternalEncoderCesu8;\n\n        // Add decoder for versions of Node not supporting CESU-8\n        if (Buffer.from('eda0bdedb2a9', 'hex').toString() !== '\uD83D\uDCA9') {\n            this.decoder = InternalDecoderCesu8;\n            this.defaultCharUnicode = iconv.defaultCharUnicode;\n        }\n    }\n}\n\nInternalCodec.prototype.encoder = InternalEncoder;\nInternalCodec.prototype.decoder = InternalDecoder;\n\n//------------------------------------------------------------------------------\n\n// We use node.js internal decoder. Its signature is the same as ours.\nvar StringDecoder = require('string_decoder').StringDecoder;\n\nif (!StringDecoder.prototype.end) // Node v0.8 doesn't have this method.\n    StringDecoder.prototype.end = function() {};\n\n\nfunction InternalDecoder(options, codec) {\n    this.decoder = new StringDecoder(codec.enc);\n}\n\nInternalDecoder.prototype.write = function(buf) {\n    if (!Buffer.isBuffer(buf)) {\n        buf = Buffer.from(buf);\n    }\n\n    return this.decoder.write(buf);\n}\n\nInternalDecoder.prototype.end = function() {\n    return this.decoder.end();\n}\n\n\n//------------------------------------------------------------------------------\n// Encoder is mostly trivial\n\nfunction InternalEncoder(options, codec) {\n    this.enc = codec.enc;\n}\n\nInternalEncoder.prototype.write = function(str) {\n    return Buffer.from(str, this.enc);\n}\n\nInternalEncoder.prototype.end = function() {\n}\n\n\n//------------------------------------------------------------------------------\n// Except base64 encoder, which must keep its state.\n\nfunction InternalEncoderBase64(options, codec) {\n    this.prevStr = '';\n}\n\nInternalEncoderBase64.prototype.write = function(str) {\n    str = this.prevStr + str;\n    var completeQuads = str.length - (str.length % 4);\n    this.prevStr = str.slice(completeQuads);\n    str = str.slice(0, completeQuads);\n\n    return Buffer.from(str, \"base64\");\n}\n\nInternalEncoderBase64.prototype.end = function() {\n    return Buffer.from(this.prevStr, \"base64\");\n}\n\n\n//------------------------------------------------------------------------------\n// CESU-8 encoder is also special.\n\nfunction InternalEncoderCesu8(options, codec) {\n}\n\nInternalEncoderCesu8.prototype.write = function(str) {\n    var buf = Buffer.alloc(str.length * 3), bufIdx = 0;\n    for (var i = 0; i < str.length; i++) {\n        var charCode = str.charCodeAt(i);\n        // Naive implementation, but it works because CESU-8 is especially easy\n        // to convert from UTF-16 (which all JS strings are encoded in).\n        if (charCode < 0x80)\n            buf[bufIdx++] = charCode;\n        else if (charCode < 0x800) {\n            buf[bufIdx++] = 0xC0 + (charCode >>> 6);\n            buf[bufIdx++] = 0x80 + (charCode & 0x3f);\n        }\n        else { // charCode will always be < 0x10000 in javascript.\n            buf[bufIdx++] = 0xE0 + (charCode >>> 12);\n            buf[bufIdx++] = 0x80 + ((charCode >>> 6) & 0x3f);\n            buf[bufIdx++] = 0x80 + (charCode & 0x3f);\n        }\n    }\n    return buf.slice(0, bufIdx);\n}\n\nInternalEncoderCesu8.prototype.end = function() {\n}\n\n//------------------------------------------------------------------------------\n// CESU-8 decoder is not implemented in Node v4.0+\n\nfunction InternalDecoderCesu8(options, codec) {\n    this.acc = 0;\n    this.contBytes = 0;\n    this.accBytes = 0;\n    this.defaultCharUnicode = codec.defaultCharUnicode;\n}\n\nInternalDecoderCesu8.prototype.write = function(buf) {\n    var acc = this.acc, contBytes = this.contBytes, accBytes = this.accBytes, \n        res = '';\n    for (var i = 0; i < buf.length; i++) {\n        var curByte = buf[i];\n        if ((curByte & 0xC0) !== 0x80) { // Leading byte\n            if (contBytes > 0) { // Previous code is invalid\n                res += this.defaultCharUnicode;\n                contBytes = 0;\n            }\n\n            if (curByte < 0x80) { // Single-byte code\n                res += String.fromCharCode(curByte);\n            } else if (curByte < 0xE0) { // Two-byte code\n                acc = curByte & 0x1F;\n                contBytes = 1; accBytes = 1;\n            } else if (curByte < 0xF0) { // Three-byte code\n                acc = curByte & 0x0F;\n                contBytes = 2; accBytes = 1;\n            } else { // Four or more are not supported for CESU-8.\n                res += this.defaultCharUnicode;\n            }\n        } else { // Continuation byte\n            if (contBytes > 0) { // We're waiting for it.\n                acc = (acc << 6) | (curByte & 0x3f);\n                contBytes--; accBytes++;\n                if (contBytes === 0) {\n                    // Check for overlong encoding, but support Modified UTF-8 (encoding NULL as C0 80)\n                    if (accBytes === 2 && acc < 0x80 && acc > 0)\n                        res += this.defaultCharUnicode;\n                    else if (accBytes === 3 && acc < 0x800)\n                        res += this.defaultCharUnicode;\n                    else\n                        // Actually add character.\n                        res += String.fromCharCode(acc);\n                }\n            } else { // Unexpected continuation byte\n                res += this.defaultCharUnicode;\n            }\n        }\n    }\n    this.acc = acc; this.contBytes = contBytes; this.accBytes = accBytes;\n    return res;\n}\n\nInternalDecoderCesu8.prototype.end = function() {\n    var res = 0;\n    if (this.contBytes > 0)\n        res += this.defaultCharUnicode;\n    return res;\n}\n", "'use strict';\n\nvar Buffer = require('safer-buffer').Buffer;\n\n// == UTF32-LE/BE codec. ==========================================================\n\nexports._utf32 = Utf32Codec;\n\nfunction Utf32Codec(codecOptions, iconv) {\n    this.iconv = iconv;\n    this.bomAware = true;\n    this.isLE = codecOptions.isLE;\n}\n\nexports.utf32le = { type: '_utf32', isLE: true };\nexports.utf32be = { type: '_utf32', isLE: false };\n\n// Aliases\nexports.ucs4le = 'utf32le';\nexports.ucs4be = 'utf32be';\n\nUtf32Codec.prototype.encoder = Utf32Encoder;\nUtf32Codec.prototype.decoder = Utf32Decoder;\n\n// -- Encoding\n\nfunction Utf32Encoder(options, codec) {\n    this.isLE = codec.isLE;\n    this.highSurrogate = 0;\n}\n\nUtf32Encoder.prototype.write = function(str) {\n    var src = Buffer.from(str, 'ucs2');\n    var dst = Buffer.alloc(src.length * 2);\n    var write32 = this.isLE ? dst.writeUInt32LE : dst.writeUInt32BE;\n    var offset = 0;\n\n    for (var i = 0; i < src.length; i += 2) {\n        var code = src.readUInt16LE(i);\n        var isHighSurrogate = (0xD800 <= code && code < 0xDC00);\n        var isLowSurrogate = (0xDC00 <= code && code < 0xE000);\n\n        if (this.highSurrogate) {\n            if (isHighSurrogate || !isLowSurrogate) {\n                // There shouldn't be two high surrogates in a row, nor a high surrogate which isn't followed by a low\n                // surrogate. If this happens, keep the pending high surrogate as a stand-alone semi-invalid character\n                // (technically wrong, but expected by some applications, like Windows file names).\n                write32.call(dst, this.highSurrogate, offset);\n                offset += 4;\n            }\n            else {\n                // Create 32-bit value from high and low surrogates;\n                var codepoint = (((this.highSurrogate - 0xD800) << 10) | (code - 0xDC00)) + 0x10000;\n\n                write32.call(dst, codepoint, offset);\n                offset += 4;\n                this.highSurrogate = 0;\n\n                continue;\n            }\n        }\n\n        if (isHighSurrogate)\n            this.highSurrogate = code;\n        else {\n            // Even if the current character is a low surrogate, with no previous high surrogate, we'll\n            // encode it as a semi-invalid stand-alone character for the same reasons expressed above for\n            // unpaired high surrogates.\n            write32.call(dst, code, offset);\n            offset += 4;\n            this.highSurrogate = 0;\n        }\n    }\n\n    if (offset < dst.length)\n        dst = dst.slice(0, offset);\n\n    return dst;\n};\n\nUtf32Encoder.prototype.end = function() {\n    // Treat any leftover high surrogate as a semi-valid independent character.\n    if (!this.highSurrogate)\n        return;\n\n    var buf = Buffer.alloc(4);\n\n    if (this.isLE)\n        buf.writeUInt32LE(this.highSurrogate, 0);\n    else\n        buf.writeUInt32BE(this.highSurrogate, 0);\n\n    this.highSurrogate = 0;\n\n    return buf;\n};\n\n// -- Decoding\n\nfunction Utf32Decoder(options, codec) {\n    this.isLE = codec.isLE;\n    this.badChar = codec.iconv.defaultCharUnicode.charCodeAt(0);\n    this.overflow = [];\n}\n\nUtf32Decoder.prototype.write = function(src) {\n    if (src.length === 0)\n        return '';\n\n    var i = 0;\n    var codepoint = 0;\n    var dst = Buffer.alloc(src.length + 4);\n    var offset = 0;\n    var isLE = this.isLE;\n    var overflow = this.overflow;\n    var badChar = this.badChar;\n\n    if (overflow.length > 0) {\n        for (; i < src.length && overflow.length < 4; i++)\n            overflow.push(src[i]);\n        \n        if (overflow.length === 4) {\n            // NOTE: codepoint is a signed int32 and can be negative.\n            // NOTE: We copied this block from below to help V8 optimize it (it works with array, not buffer).\n            if (isLE) {\n                codepoint = overflow[i] | (overflow[i+1] << 8) | (overflow[i+2] << 16) | (overflow[i+3] << 24);\n            } else {\n                codepoint = overflow[i+3] | (overflow[i+2] << 8) | (overflow[i+1] << 16) | (overflow[i] << 24);\n            }\n            overflow.length = 0;\n\n            offset = _writeCodepoint(dst, offset, codepoint, badChar);\n        }\n    }\n\n    // Main loop. Should be as optimized as possible.\n    for (; i < src.length - 3; i += 4) {\n        // NOTE: codepoint is a signed int32 and can be negative.\n        if (isLE) {\n            codepoint = src[i] | (src[i+1] << 8) | (src[i+2] << 16) | (src[i+3] << 24);\n        } else {\n            codepoint = src[i+3] | (src[i+2] << 8) | (src[i+1] << 16) | (src[i] << 24);\n        }\n        offset = _writeCodepoint(dst, offset, codepoint, badChar);\n    }\n\n    // Keep overflowing bytes.\n    for (; i < src.length; i++) {\n        overflow.push(src[i]);\n    }\n\n    return dst.slice(0, offset).toString('ucs2');\n};\n\nfunction _writeCodepoint(dst, offset, codepoint, badChar) {\n    // NOTE: codepoint is signed int32 and can be negative. We keep it that way to help V8 with optimizations.\n    if (codepoint < 0 || codepoint > 0x10FFFF) {\n        // Not a valid Unicode codepoint\n        codepoint = badChar;\n    } \n\n    // Ephemeral Planes: Write high surrogate.\n    if (codepoint >= 0x10000) {\n        codepoint -= 0x10000;\n\n        var high = 0xD800 | (codepoint >> 10);\n        dst[offset++] = high & 0xff;\n        dst[offset++] = high >> 8;\n\n        // Low surrogate is written below.\n        var codepoint = 0xDC00 | (codepoint & 0x3FF);\n    }\n\n    // Write BMP char or low surrogate.\n    dst[offset++] = codepoint & 0xff;\n    dst[offset++] = codepoint >> 8;\n\n    return offset;\n};\n\nUtf32Decoder.prototype.end = function() {\n    this.overflow.length = 0;\n};\n\n// == UTF-32 Auto codec =============================================================\n// Decoder chooses automatically from UTF-32LE and UTF-32BE using BOM and space-based heuristic.\n// Defaults to UTF-32LE. http://en.wikipedia.org/wiki/UTF-32\n// Encoder/decoder default can be changed: iconv.decode(buf, 'utf32', {defaultEncoding: 'utf-32be'});\n\n// Encoder prepends BOM (which can be overridden with (addBOM: false}).\n\nexports.utf32 = Utf32AutoCodec;\nexports.ucs4 = 'utf32';\n\nfunction Utf32AutoCodec(options, iconv) {\n    this.iconv = iconv;\n}\n\nUtf32AutoCodec.prototype.encoder = Utf32AutoEncoder;\nUtf32AutoCodec.prototype.decoder = Utf32AutoDecoder;\n\n// -- Encoding\n\nfunction Utf32AutoEncoder(options, codec) {\n    options = options || {};\n\n    if (options.addBOM === undefined)\n        options.addBOM = true;\n\n    this.encoder = codec.iconv.getEncoder(options.defaultEncoding || 'utf-32le', options);\n}\n\nUtf32AutoEncoder.prototype.write = function(str) {\n    return this.encoder.write(str);\n};\n\nUtf32AutoEncoder.prototype.end = function() {\n    return this.encoder.end();\n};\n\n// -- Decoding\n\nfunction Utf32AutoDecoder(options, codec) {\n    this.decoder = null;\n    this.initialBufs = [];\n    this.initialBufsLen = 0;\n    this.options = options || {};\n    this.iconv = codec.iconv;\n}\n\nUtf32AutoDecoder.prototype.write = function(buf) {\n    if (!this.decoder) { \n        // Codec is not chosen yet. Accumulate initial bytes.\n        this.initialBufs.push(buf);\n        this.initialBufsLen += buf.length;\n\n        if (this.initialBufsLen < 32) // We need more bytes to use space heuristic (see below)\n            return '';\n\n        // We have enough bytes -> detect endianness.\n        var encoding = detectEncoding(this.initialBufs, this.options.defaultEncoding);\n        this.decoder = this.iconv.getDecoder(encoding, this.options);\n\n        var resStr = '';\n        for (var i = 0; i < this.initialBufs.length; i++)\n            resStr += this.decoder.write(this.initialBufs[i]);\n\n        this.initialBufs.length = this.initialBufsLen = 0;\n        return resStr;\n    }\n\n    return this.decoder.write(buf);\n};\n\nUtf32AutoDecoder.prototype.end = function() {\n    if (!this.decoder) {\n        var encoding = detectEncoding(this.initialBufs, this.options.defaultEncoding);\n        this.decoder = this.iconv.getDecoder(encoding, this.options);\n\n        var resStr = '';\n        for (var i = 0; i < this.initialBufs.length; i++)\n            resStr += this.decoder.write(this.initialBufs[i]);\n\n        var trail = this.decoder.end();\n        if (trail)\n            resStr += trail;\n\n        this.initialBufs.length = this.initialBufsLen = 0;\n        return resStr;\n    }\n\n    return this.decoder.end();\n};\n\nfunction detectEncoding(bufs, defaultEncoding) {\n    var b = [];\n    var charsProcessed = 0;\n    var invalidLE = 0, invalidBE = 0;   // Number of invalid chars when decoded as LE or BE.\n    var bmpCharsLE = 0, bmpCharsBE = 0; // Number of BMP chars when decoded as LE or BE.\n\n    outer_loop:\n    for (var i = 0; i < bufs.length; i++) {\n        var buf = bufs[i];\n        for (var j = 0; j < buf.length; j++) {\n            b.push(buf[j]);\n            if (b.length === 4) {\n                if (charsProcessed === 0) {\n                    // Check BOM first.\n                    if (b[0] === 0xFF && b[1] === 0xFE && b[2] === 0 && b[3] === 0) {\n                        return 'utf-32le';\n                    }\n                    if (b[0] === 0 && b[1] === 0 && b[2] === 0xFE && b[3] === 0xFF) {\n                        return 'utf-32be';\n                    }\n                }\n\n                if (b[0] !== 0 || b[1] > 0x10) invalidBE++;\n                if (b[3] !== 0 || b[2] > 0x10) invalidLE++;\n\n                if (b[0] === 0 && b[1] === 0 && (b[2] !== 0 || b[3] !== 0)) bmpCharsBE++;\n                if ((b[0] !== 0 || b[1] !== 0) && b[2] === 0 && b[3] === 0) bmpCharsLE++;\n\n                b.length = 0;\n                charsProcessed++;\n\n                if (charsProcessed >= 100) {\n                    break outer_loop;\n                }\n            }\n        }\n    }\n\n    // Make decisions.\n    if (bmpCharsBE - invalidBE > bmpCharsLE - invalidLE)  return 'utf-32be';\n    if (bmpCharsBE - invalidBE < bmpCharsLE - invalidLE)  return 'utf-32le';\n\n    // Couldn't decide (likely all zeros or not enough data).\n    return defaultEncoding || 'utf-32le';\n}\n", "\"use strict\";\nvar Buffer = require(\"safer-buffer\").Buffer;\n\n// Note: UTF16-LE (or UCS2) codec is Node.js native. See encodings/internal.js\n\n// == UTF16-BE codec. ==========================================================\n\nexports.utf16be = Utf16BECodec;\nfunction Utf16BECodec() {\n}\n\nUtf16BECodec.prototype.encoder = Utf16BEEncoder;\nUtf16BECodec.prototype.decoder = Utf16BEDecoder;\nUtf16BECodec.prototype.bomAware = true;\n\n\n// -- Encoding\n\nfunction Utf16BEEncoder() {\n}\n\nUtf16BEEncoder.prototype.write = function(str) {\n    var buf = Buffer.from(str, 'ucs2');\n    for (var i = 0; i < buf.length; i += 2) {\n        var tmp = buf[i]; buf[i] = buf[i+1]; buf[i+1] = tmp;\n    }\n    return buf;\n}\n\nUtf16BEEncoder.prototype.end = function() {\n}\n\n\n// -- Decoding\n\nfunction Utf16BEDecoder() {\n    this.overflowByte = -1;\n}\n\nUtf16BEDecoder.prototype.write = function(buf) {\n    if (buf.length == 0)\n        return '';\n\n    var buf2 = Buffer.alloc(buf.length + 1),\n        i = 0, j = 0;\n\n    if (this.overflowByte !== -1) {\n        buf2[0] = buf[0];\n        buf2[1] = this.overflowByte;\n        i = 1; j = 2;\n    }\n\n    for (; i < buf.length-1; i += 2, j+= 2) {\n        buf2[j] = buf[i+1];\n        buf2[j+1] = buf[i];\n    }\n\n    this.overflowByte = (i == buf.length-1) ? buf[buf.length-1] : -1;\n\n    return buf2.slice(0, j).toString('ucs2');\n}\n\nUtf16BEDecoder.prototype.end = function() {\n    this.overflowByte = -1;\n}\n\n\n// == UTF-16 codec =============================================================\n// Decoder chooses automatically from UTF-16LE and UTF-16BE using BOM and space-based heuristic.\n// Defaults to UTF-16LE, as it's prevalent and default in Node.\n// http://en.wikipedia.org/wiki/UTF-16 and http://encoding.spec.whatwg.org/#utf-16le\n// Decoder default can be changed: iconv.decode(buf, 'utf16', {defaultEncoding: 'utf-16be'});\n\n// Encoder uses UTF-16LE and prepends BOM (which can be overridden with addBOM: false).\n\nexports.utf16 = Utf16Codec;\nfunction Utf16Codec(codecOptions, iconv) {\n    this.iconv = iconv;\n}\n\nUtf16Codec.prototype.encoder = Utf16Encoder;\nUtf16Codec.prototype.decoder = Utf16Decoder;\n\n\n// -- Encoding (pass-through)\n\nfunction Utf16Encoder(options, codec) {\n    options = options || {};\n    if (options.addBOM === undefined)\n        options.addBOM = true;\n    this.encoder = codec.iconv.getEncoder('utf-16le', options);\n}\n\nUtf16Encoder.prototype.write = function(str) {\n    return this.encoder.write(str);\n}\n\nUtf16Encoder.prototype.end = function() {\n    return this.encoder.end();\n}\n\n\n// -- Decoding\n\nfunction Utf16Decoder(options, codec) {\n    this.decoder = null;\n    this.initialBufs = [];\n    this.initialBufsLen = 0;\n\n    this.options = options || {};\n    this.iconv = codec.iconv;\n}\n\nUtf16Decoder.prototype.write = function(buf) {\n    if (!this.decoder) {\n        // Codec is not chosen yet. Accumulate initial bytes.\n        this.initialBufs.push(buf);\n        this.initialBufsLen += buf.length;\n        \n        if (this.initialBufsLen < 16) // We need more bytes to use space heuristic (see below)\n            return '';\n\n        // We have enough bytes -> detect endianness.\n        var encoding = detectEncoding(this.initialBufs, this.options.defaultEncoding);\n        this.decoder = this.iconv.getDecoder(encoding, this.options);\n\n        var resStr = '';\n        for (var i = 0; i < this.initialBufs.length; i++)\n            resStr += this.decoder.write(this.initialBufs[i]);\n\n        this.initialBufs.length = this.initialBufsLen = 0;\n        return resStr;\n    }\n\n    return this.decoder.write(buf);\n}\n\nUtf16Decoder.prototype.end = function() {\n    if (!this.decoder) {\n        var encoding = detectEncoding(this.initialBufs, this.options.defaultEncoding);\n        this.decoder = this.iconv.getDecoder(encoding, this.options);\n\n        var resStr = '';\n        for (var i = 0; i < this.initialBufs.length; i++)\n            resStr += this.decoder.write(this.initialBufs[i]);\n\n        var trail = this.decoder.end();\n        if (trail)\n            resStr += trail;\n\n        this.initialBufs.length = this.initialBufsLen = 0;\n        return resStr;\n    }\n    return this.decoder.end();\n}\n\nfunction detectEncoding(bufs, defaultEncoding) {\n    var b = [];\n    var charsProcessed = 0;\n    var asciiCharsLE = 0, asciiCharsBE = 0; // Number of ASCII chars when decoded as LE or BE.\n\n    outer_loop:\n    for (var i = 0; i < bufs.length; i++) {\n        var buf = bufs[i];\n        for (var j = 0; j < buf.length; j++) {\n            b.push(buf[j]);\n            if (b.length === 2) {\n                if (charsProcessed === 0) {\n                    // Check BOM first.\n                    if (b[0] === 0xFF && b[1] === 0xFE) return 'utf-16le';\n                    if (b[0] === 0xFE && b[1] === 0xFF) return 'utf-16be';\n                }\n\n                if (b[0] === 0 && b[1] !== 0) asciiCharsBE++;\n                if (b[0] !== 0 && b[1] === 0) asciiCharsLE++;\n\n                b.length = 0;\n                charsProcessed++;\n\n                if (charsProcessed >= 100) {\n                    break outer_loop;\n                }\n            }\n        }\n    }\n\n    // Make decisions.\n    // Most of the time, the content has ASCII chars (U+00**), but the opposite (U+**00) is uncommon.\n    // So, we count ASCII as if it was LE or BE, and decide from that.\n    if (asciiCharsBE > asciiCharsLE) return 'utf-16be';\n    if (asciiCharsBE < asciiCharsLE) return 'utf-16le';\n\n    // Couldn't decide (likely all zeros or not enough data).\n    return defaultEncoding || 'utf-16le';\n}\n\n\n", "\"use strict\";\nvar Buffer = require(\"safer-buffer\").Buffer;\n\n// UTF-7 codec, according to https://tools.ietf.org/html/rfc2152\n// See also below a UTF-7-IMAP codec, according to http://tools.ietf.org/html/rfc3501#section-5.1.3\n\nexports.utf7 = Utf7Codec;\nexports.unicode11utf7 = 'utf7'; // Alias UNICODE-1-1-UTF-7\nfunction Utf7Codec(codecOptions, iconv) {\n    this.iconv = iconv;\n};\n\nUtf7Codec.prototype.encoder = Utf7Encoder;\nUtf7Codec.prototype.decoder = Utf7Decoder;\nUtf7Codec.prototype.bomAware = true;\n\n\n// -- Encoding\n\nvar nonDirectChars = /[^A-Za-z0-9'\\(\\),-\\.\\/:\\? \\n\\r\\t]+/g;\n\nfunction Utf7Encoder(options, codec) {\n    this.iconv = codec.iconv;\n}\n\nUtf7Encoder.prototype.write = function(str) {\n    // Naive implementation.\n    // Non-direct chars are encoded as \"+<base64>-\"; single \"+\" char is encoded as \"+-\".\n    return Buffer.from(str.replace(nonDirectChars, function(chunk) {\n        return \"+\" + (chunk === '+' ? '' : \n            this.iconv.encode(chunk, 'utf16-be').toString('base64').replace(/=+$/, '')) \n            + \"-\";\n    }.bind(this)));\n}\n\nUtf7Encoder.prototype.end = function() {\n}\n\n\n// -- Decoding\n\nfunction Utf7Decoder(options, codec) {\n    this.iconv = codec.iconv;\n    this.inBase64 = false;\n    this.base64Accum = '';\n}\n\nvar base64Regex = /[A-Za-z0-9\\/+]/;\nvar base64Chars = [];\nfor (var i = 0; i < 256; i++)\n    base64Chars[i] = base64Regex.test(String.fromCharCode(i));\n\nvar plusChar = '+'.charCodeAt(0), \n    minusChar = '-'.charCodeAt(0),\n    andChar = '&'.charCodeAt(0);\n\nUtf7Decoder.prototype.write = function(buf) {\n    var res = \"\", lastI = 0,\n        inBase64 = this.inBase64,\n        base64Accum = this.base64Accum;\n\n    // The decoder is more involved as we must handle chunks in stream.\n\n    for (var i = 0; i < buf.length; i++) {\n        if (!inBase64) { // We're in direct mode.\n            // Write direct chars until '+'\n            if (buf[i] == plusChar) {\n                res += this.iconv.decode(buf.slice(lastI, i), \"ascii\"); // Write direct chars.\n                lastI = i+1;\n                inBase64 = true;\n            }\n        } else { // We decode base64.\n            if (!base64Chars[buf[i]]) { // Base64 ended.\n                if (i == lastI && buf[i] == minusChar) {// \"+-\" -> \"+\"\n                    res += \"+\";\n                } else {\n                    var b64str = base64Accum + this.iconv.decode(buf.slice(lastI, i), \"ascii\");\n                    res += this.iconv.decode(Buffer.from(b64str, 'base64'), \"utf16-be\");\n                }\n\n                if (buf[i] != minusChar) // Minus is absorbed after base64.\n                    i--;\n\n                lastI = i+1;\n                inBase64 = false;\n                base64Accum = '';\n            }\n        }\n    }\n\n    if (!inBase64) {\n        res += this.iconv.decode(buf.slice(lastI), \"ascii\"); // Write direct chars.\n    } else {\n        var b64str = base64Accum + this.iconv.decode(buf.slice(lastI), \"ascii\");\n\n        var canBeDecoded = b64str.length - (b64str.length % 8); // Minimal chunk: 2 quads -> 2x3 bytes -> 3 chars.\n        base64Accum = b64str.slice(canBeDecoded); // The rest will be decoded in future.\n        b64str = b64str.slice(0, canBeDecoded);\n\n        res += this.iconv.decode(Buffer.from(b64str, 'base64'), \"utf16-be\");\n    }\n\n    this.inBase64 = inBase64;\n    this.base64Accum = base64Accum;\n\n    return res;\n}\n\nUtf7Decoder.prototype.end = function() {\n    var res = \"\";\n    if (this.inBase64 && this.base64Accum.length > 0)\n        res = this.iconv.decode(Buffer.from(this.base64Accum, 'base64'), \"utf16-be\");\n\n    this.inBase64 = false;\n    this.base64Accum = '';\n    return res;\n}\n\n\n// UTF-7-IMAP codec.\n// RFC3501 Sec. 5.1.3 Modified UTF-7 (http://tools.ietf.org/html/rfc3501#section-5.1.3)\n// Differences:\n//  * Base64 part is started by \"&\" instead of \"+\"\n//  * Direct characters are 0x20-0x7E, except \"&\" (0x26)\n//  * In Base64, \",\" is used instead of \"/\"\n//  * Base64 must not be used to represent direct characters.\n//  * No implicit shift back from Base64 (should always end with '-')\n//  * String must end in non-shifted position.\n//  * \"-&\" while in base64 is not allowed.\n\n\nexports.utf7imap = Utf7IMAPCodec;\nfunction Utf7IMAPCodec(codecOptions, iconv) {\n    this.iconv = iconv;\n};\n\nUtf7IMAPCodec.prototype.encoder = Utf7IMAPEncoder;\nUtf7IMAPCodec.prototype.decoder = Utf7IMAPDecoder;\nUtf7IMAPCodec.prototype.bomAware = true;\n\n\n// -- Encoding\n\nfunction Utf7IMAPEncoder(options, codec) {\n    this.iconv = codec.iconv;\n    this.inBase64 = false;\n    this.base64Accum = Buffer.alloc(6);\n    this.base64AccumIdx = 0;\n}\n\nUtf7IMAPEncoder.prototype.write = function(str) {\n    var inBase64 = this.inBase64,\n        base64Accum = this.base64Accum,\n        base64AccumIdx = this.base64AccumIdx,\n        buf = Buffer.alloc(str.length*5 + 10), bufIdx = 0;\n\n    for (var i = 0; i < str.length; i++) {\n        var uChar = str.charCodeAt(i);\n        if (0x20 <= uChar && uChar <= 0x7E) { // Direct character or '&'.\n            if (inBase64) {\n                if (base64AccumIdx > 0) {\n                    bufIdx += buf.write(base64Accum.slice(0, base64AccumIdx).toString('base64').replace(/\\//g, ',').replace(/=+$/, ''), bufIdx);\n                    base64AccumIdx = 0;\n                }\n\n                buf[bufIdx++] = minusChar; // Write '-', then go to direct mode.\n                inBase64 = false;\n            }\n\n            if (!inBase64) {\n                buf[bufIdx++] = uChar; // Write direct character\n\n                if (uChar === andChar)  // Ampersand -> '&-'\n                    buf[bufIdx++] = minusChar;\n            }\n\n        } else { // Non-direct character\n            if (!inBase64) {\n                buf[bufIdx++] = andChar; // Write '&', then go to base64 mode.\n                inBase64 = true;\n            }\n            if (inBase64) {\n                base64Accum[base64AccumIdx++] = uChar >> 8;\n                base64Accum[base64AccumIdx++] = uChar & 0xFF;\n\n                if (base64AccumIdx == base64Accum.length) {\n                    bufIdx += buf.write(base64Accum.toString('base64').replace(/\\//g, ','), bufIdx);\n                    base64AccumIdx = 0;\n                }\n            }\n        }\n    }\n\n    this.inBase64 = inBase64;\n    this.base64AccumIdx = base64AccumIdx;\n\n    return buf.slice(0, bufIdx);\n}\n\nUtf7IMAPEncoder.prototype.end = function() {\n    var buf = Buffer.alloc(10), bufIdx = 0;\n    if (this.inBase64) {\n        if (this.base64AccumIdx > 0) {\n            bufIdx += buf.write(this.base64Accum.slice(0, this.base64AccumIdx).toString('base64').replace(/\\//g, ',').replace(/=+$/, ''), bufIdx);\n            this.base64AccumIdx = 0;\n        }\n\n        buf[bufIdx++] = minusChar; // Write '-', then go to direct mode.\n        this.inBase64 = false;\n    }\n\n    return buf.slice(0, bufIdx);\n}\n\n\n// -- Decoding\n\nfunction Utf7IMAPDecoder(options, codec) {\n    this.iconv = codec.iconv;\n    this.inBase64 = false;\n    this.base64Accum = '';\n}\n\nvar base64IMAPChars = base64Chars.slice();\nbase64IMAPChars[','.charCodeAt(0)] = true;\n\nUtf7IMAPDecoder.prototype.write = function(buf) {\n    var res = \"\", lastI = 0,\n        inBase64 = this.inBase64,\n        base64Accum = this.base64Accum;\n\n    // The decoder is more involved as we must handle chunks in stream.\n    // It is forgiving, closer to standard UTF-7 (for example, '-' is optional at the end).\n\n    for (var i = 0; i < buf.length; i++) {\n        if (!inBase64) { // We're in direct mode.\n            // Write direct chars until '&'\n            if (buf[i] == andChar) {\n                res += this.iconv.decode(buf.slice(lastI, i), \"ascii\"); // Write direct chars.\n                lastI = i+1;\n                inBase64 = true;\n            }\n        } else { // We decode base64.\n            if (!base64IMAPChars[buf[i]]) { // Base64 ended.\n                if (i == lastI && buf[i] == minusChar) { // \"&-\" -> \"&\"\n                    res += \"&\";\n                } else {\n                    var b64str = base64Accum + this.iconv.decode(buf.slice(lastI, i), \"ascii\").replace(/,/g, '/');\n                    res += this.iconv.decode(Buffer.from(b64str, 'base64'), \"utf16-be\");\n                }\n\n                if (buf[i] != minusChar) // Minus may be absorbed after base64.\n                    i--;\n\n                lastI = i+1;\n                inBase64 = false;\n                base64Accum = '';\n            }\n        }\n    }\n\n    if (!inBase64) {\n        res += this.iconv.decode(buf.slice(lastI), \"ascii\"); // Write direct chars.\n    } else {\n        var b64str = base64Accum + this.iconv.decode(buf.slice(lastI), \"ascii\").replace(/,/g, '/');\n\n        var canBeDecoded = b64str.length - (b64str.length % 8); // Minimal chunk: 2 quads -> 2x3 bytes -> 3 chars.\n        base64Accum = b64str.slice(canBeDecoded); // The rest will be decoded in future.\n        b64str = b64str.slice(0, canBeDecoded);\n\n        res += this.iconv.decode(Buffer.from(b64str, 'base64'), \"utf16-be\");\n    }\n\n    this.inBase64 = inBase64;\n    this.base64Accum = base64Accum;\n\n    return res;\n}\n\nUtf7IMAPDecoder.prototype.end = function() {\n    var res = \"\";\n    if (this.inBase64 && this.base64Accum.length > 0)\n        res = this.iconv.decode(Buffer.from(this.base64Accum, 'base64'), \"utf16-be\");\n\n    this.inBase64 = false;\n    this.base64Accum = '';\n    return res;\n}\n\n\n", "\"use strict\";\nvar Buffer = require(\"safer-buffer\").Buffer;\n\n// Single-byte codec. Needs a 'chars' string parameter that contains 256 or 128 chars that\n// correspond to encoded bytes (if 128 - then lower half is ASCII). \n\nexports._sbcs = SBCSCodec;\nfunction SBCSCodec(codecOptions, iconv) {\n    if (!codecOptions)\n        throw new Error(\"SBCS codec is called without the data.\")\n    \n    // Prepare char buffer for decoding.\n    if (!codecOptions.chars || (codecOptions.chars.length !== 128 && codecOptions.chars.length !== 256))\n        throw new Error(\"Encoding '\"+codecOptions.type+\"' has incorrect 'chars' (must be of len 128 or 256)\");\n    \n    if (codecOptions.chars.length === 128) {\n        var asciiString = \"\";\n        for (var i = 0; i < 128; i++)\n            asciiString += String.fromCharCode(i);\n        codecOptions.chars = asciiString + codecOptions.chars;\n    }\n\n    this.decodeBuf = Buffer.from(codecOptions.chars, 'ucs2');\n    \n    // Encoding buffer.\n    var encodeBuf = Buffer.alloc(65536, iconv.defaultCharSingleByte.charCodeAt(0));\n\n    for (var i = 0; i < codecOptions.chars.length; i++)\n        encodeBuf[codecOptions.chars.charCodeAt(i)] = i;\n\n    this.encodeBuf = encodeBuf;\n}\n\nSBCSCodec.prototype.encoder = SBCSEncoder;\nSBCSCodec.prototype.decoder = SBCSDecoder;\n\n\nfunction SBCSEncoder(options, codec) {\n    this.encodeBuf = codec.encodeBuf;\n}\n\nSBCSEncoder.prototype.write = function(str) {\n    var buf = Buffer.alloc(str.length);\n    for (var i = 0; i < str.length; i++)\n        buf[i] = this.encodeBuf[str.charCodeAt(i)];\n    \n    return buf;\n}\n\nSBCSEncoder.prototype.end = function() {\n}\n\n\nfunction SBCSDecoder(options, codec) {\n    this.decodeBuf = codec.decodeBuf;\n}\n\nSBCSDecoder.prototype.write = function(buf) {\n    // Strings are immutable in JS -> we use ucs2 buffer to speed up computations.\n    var decodeBuf = this.decodeBuf;\n    var newBuf = Buffer.alloc(buf.length*2);\n    var idx1 = 0, idx2 = 0;\n    for (var i = 0; i < buf.length; i++) {\n        idx1 = buf[i]*2; idx2 = i*2;\n        newBuf[idx2] = decodeBuf[idx1];\n        newBuf[idx2+1] = decodeBuf[idx1+1];\n    }\n    return newBuf.toString('ucs2');\n}\n\nSBCSDecoder.prototype.end = function() {\n}\n", "\"use strict\";\n\n// Manually added data to be used by sbcs codec in addition to generated one.\n\nmodule.exports = {\n    // Not supported by iconv, not sure why.\n    \"10029\": \"maccenteuro\",\n    \"maccenteuro\": {\n        \"type\": \"_sbcs\",\n        \"chars\": \"\u00C4\u0100\u0101\u00C9\u0104\u00D6\u00DC\u00E1\u0105\u010C\u00E4\u010D\u0106\u0107\u00E9\u0179\u017A\u010E\u00ED\u010F\u0112\u0113\u0116\u00F3\u0117\u00F4\u00F6\u00F5\u00FA\u011A\u011B\u00FC\u2020\u00B0\u0118\u00A3\u00A7\u2022\u00B6\u00DF\u00AE\u00A9\u2122\u0119\u00A8\u2260\u0123\u012E\u012F\u012A\u2264\u2265\u012B\u0136\u2202\u2211\u0142\u013B\u013C\u013D\u013E\u0139\u013A\u0145\u0146\u0143\u00AC\u221A\u0144\u0147\u2206\u00AB\u00BB\u2026\u00A0\u0148\u0150\u00D5\u0151\u014C\u2013\u2014\u201C\u201D\u2018\u2019\u00F7\u25CA\u014D\u0154\u0155\u0158\u2039\u203A\u0159\u0156\u0157\u0160\u201A\u201E\u0161\u015A\u015B\u00C1\u0164\u0165\u00CD\u017D\u017E\u016A\u00D3\u00D4\u016B\u016E\u00DA\u016F\u0170\u0171\u0172\u0173\u00DD\u00FD\u0137\u017B\u0141\u017C\u0122\u02C7\"\n    },\n\n    \"808\": \"cp808\",\n    \"ibm808\": \"cp808\",\n    \"cp808\": {\n        \"type\": \"_sbcs\",\n        \"chars\": \"\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041A\u041B\u041C\u041D\u041E\u041F\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042A\u042B\u042C\u042D\u042E\u042F\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043A\u043B\u043C\u043D\u043E\u043F\u2591\u2592\u2593\u2502\u2524\u2561\u2562\u2556\u2555\u2563\u2551\u2557\u255D\u255C\u255B\u2510\u2514\u2534\u252C\u251C\u2500\u253C\u255E\u255F\u255A\u2554\u2569\u2566\u2560\u2550\u256C\u2567\u2568\u2564\u2565\u2559\u2558\u2552\u2553\u256B\u256A\u2518\u250C\u2588\u2584\u258C\u2590\u2580\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044A\u044B\u044C\u044D\u044E\u044F\u0401\u0451\u0404\u0454\u0407\u0457\u040E\u045E\u00B0\u2219\u00B7\u221A\u2116\u20AC\u25A0\u00A0\"\n    },\n\n    \"mik\": {\n        \"type\": \"_sbcs\",\n        \"chars\": \"\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041A\u041B\u041C\u041D\u041E\u041F\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042A\u042B\u042C\u042D\u042E\u042F\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043A\u043B\u043C\u043D\u043E\u043F\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044A\u044B\u044C\u044D\u044E\u044F\u2514\u2534\u252C\u251C\u2500\u253C\u2563\u2551\u255A\u2554\u2569\u2566\u2560\u2550\u256C\u2510\u2591\u2592\u2593\u2502\u2524\u2116\u00A7\u2557\u255D\u2518\u250C\u2588\u2584\u258C\u2590\u2580\u03B1\u00DF\u0393\u03C0\u03A3\u03C3\u00B5\u03C4\u03A6\u0398\u03A9\u03B4\u221E\u03C6\u03B5\u2229\u2261\u00B1\u2265\u2264\u2320\u2321\u00F7\u2248\u00B0\u2219\u00B7\u221A\u207F\u00B2\u25A0\u00A0\"\n    },\n\n    \"cp720\": {\n        \"type\": \"_sbcs\",\n        \"chars\": \"\\x80\\x81\u00E9\u00E2\\x84\u00E0\\x86\u00E7\u00EA\u00EB\u00E8\u00EF\u00EE\\x8d\\x8e\\x8f\\x90\\u0651\\u0652\u00F4\u00A4\u0640\u00FB\u00F9\u0621\u0622\u0623\u0624\u00A3\u0625\u0626\u0627\u0628\u0629\u062A\u062B\u062C\u062D\u062E\u062F\u0630\u0631\u0632\u0633\u0634\u0635\u00AB\u00BB\u2591\u2592\u2593\u2502\u2524\u2561\u2562\u2556\u2555\u2563\u2551\u2557\u255D\u255C\u255B\u2510\u2514\u2534\u252C\u251C\u2500\u253C\u255E\u255F\u255A\u2554\u2569\u2566\u2560\u2550\u256C\u2567\u2568\u2564\u2565\u2559\u2558\u2552\u2553\u256B\u256A\u2518\u250C\u2588\u2584\u258C\u2590\u2580\u0636\u0637\u0638\u0639\u063A\u0641\u00B5\u0642\u0643\u0644\u0645\u0646\u0647\u0648\u0649\u064A\u2261\\u064b\\u064c\\u064d\\u064e\\u064f\\u0650\u2248\u00B0\u2219\u00B7\u221A\u207F\u00B2\u25A0\\u00a0\"\n    },\n\n    // Aliases of generated encodings.\n    \"ascii8bit\": \"ascii\",\n    \"usascii\": \"ascii\",\n    \"ansix34\": \"ascii\",\n    \"ansix341968\": \"ascii\",\n    \"ansix341986\": \"ascii\",\n    \"csascii\": \"ascii\",\n    \"cp367\": \"ascii\",\n    \"ibm367\": \"ascii\",\n    \"isoir6\": \"ascii\",\n    \"iso646us\": \"ascii\",\n    \"iso646irv\": \"ascii\",\n    \"us\": \"ascii\",\n\n    \"latin1\": \"iso88591\",\n    \"latin2\": \"iso88592\",\n    \"latin3\": \"iso88593\",\n    \"latin4\": \"iso88594\",\n    \"latin5\": \"iso88599\",\n    \"latin6\": \"iso885910\",\n    \"latin7\": \"iso885913\",\n    \"latin8\": \"iso885914\",\n    \"latin9\": \"iso885915\",\n    \"latin10\": \"iso885916\",\n\n    \"csisolatin1\": \"iso88591\",\n    \"csisolatin2\": \"iso88592\",\n    \"csisolatin3\": \"iso88593\",\n    \"csisolatin4\": \"iso88594\",\n    \"csisolatincyrillic\": \"iso88595\",\n    \"csisolatinarabic\": \"iso88596\",\n    \"csisolatingreek\" : \"iso88597\",\n    \"csisolatinhebrew\": \"iso88598\",\n    \"csisolatin5\": \"iso88599\",\n    \"csisolatin6\": \"iso885910\",\n\n    \"l1\": \"iso88591\",\n    \"l2\": \"iso88592\",\n    \"l3\": \"iso88593\",\n    \"l4\": \"iso88594\",\n    \"l5\": \"iso88599\",\n    \"l6\": \"iso885910\",\n    \"l7\": \"iso885913\",\n    \"l8\": \"iso885914\",\n    \"l9\": \"iso885915\",\n    \"l10\": \"iso885916\",\n\n    \"isoir14\": \"iso646jp\",\n    \"isoir57\": \"iso646cn\",\n    \"isoir100\": \"iso88591\",\n    \"isoir101\": \"iso88592\",\n    \"isoir109\": \"iso88593\",\n    \"isoir110\": \"iso88594\",\n    \"isoir144\": \"iso88595\",\n    \"isoir127\": \"iso88596\",\n    \"isoir126\": \"iso88597\",\n    \"isoir138\": \"iso88598\",\n    \"isoir148\": \"iso88599\",\n    \"isoir157\": \"iso885910\",\n    \"isoir166\": \"tis620\",\n    \"isoir179\": \"iso885913\",\n    \"isoir199\": \"iso885914\",\n    \"isoir203\": \"iso885915\",\n    \"isoir226\": \"iso885916\",\n\n    \"cp819\": \"iso88591\",\n    \"ibm819\": \"iso88591\",\n\n    \"cyrillic\": \"iso88595\",\n\n    \"arabic\": \"iso88596\",\n    \"arabic8\": \"iso88596\",\n    \"ecma114\": \"iso88596\",\n    \"asmo708\": \"iso88596\",\n\n    \"greek\" : \"iso88597\",\n    \"greek8\" : \"iso88597\",\n    \"ecma118\" : \"iso88597\",\n    \"elot928\" : \"iso88597\",\n\n    \"hebrew\": \"iso88598\",\n    \"hebrew8\": \"iso88598\",\n\n    \"turkish\": \"iso88599\",\n    \"turkish8\": \"iso88599\",\n\n    \"thai\": \"iso885911\",\n    \"thai8\": \"iso885911\",\n\n    \"celtic\": \"iso885914\",\n    \"celtic8\": \"iso885914\",\n    \"isoceltic\": \"iso885914\",\n\n    \"tis6200\": \"tis620\",\n    \"tis62025291\": \"tis620\",\n    \"tis62025330\": \"tis620\",\n\n    \"10000\": \"macroman\",\n    \"10006\": \"macgreek\",\n    \"10007\": \"maccyrillic\",\n    \"10079\": \"maciceland\",\n    \"10081\": \"macturkish\",\n\n    \"cspc8codepage437\": \"cp437\",\n    \"cspc775baltic\": \"cp775\",\n    \"cspc850multilingual\": \"cp850\",\n    \"cspcp852\": \"cp852\",\n    \"cspc862latinhebrew\": \"cp862\",\n    \"cpgr\": \"cp869\",\n\n    \"msee\": \"cp1250\",\n    \"mscyrl\": \"cp1251\",\n    \"msansi\": \"cp1252\",\n    \"msgreek\": \"cp1253\",\n    \"msturk\": \"cp1254\",\n    \"mshebr\": \"cp1255\",\n    \"msarab\": \"cp1256\",\n    \"winbaltrim\": \"cp1257\",\n\n    \"cp20866\": \"koi8r\",\n    \"20866\": \"koi8r\",\n    \"ibm878\": \"koi8r\",\n    \"cskoi8r\": \"koi8r\",\n\n    \"cp21866\": \"koi8u\",\n    \"21866\": \"koi8u\",\n    \"ibm1168\": \"koi8u\",\n\n    \"strk10482002\": \"rk1048\",\n\n    \"tcvn5712\": \"tcvn\",\n    \"tcvn57121\": \"tcvn\",\n\n    \"gb198880\": \"iso646cn\",\n    \"cn\": \"iso646cn\",\n\n    \"csiso14jisc6220ro\": \"iso646jp\",\n    \"jisc62201969ro\": \"iso646jp\",\n    \"jp\": \"iso646jp\",\n\n    \"cshproman8\": \"hproman8\",\n    \"r8\": \"hproman8\",\n    \"roman8\": \"hproman8\",\n    \"xroman8\": \"hproman8\",\n    \"ibm1051\": \"hproman8\",\n\n    \"mac\": \"macintosh\",\n    \"csmacintosh\": \"macintosh\",\n};\n\n", "\"use strict\";\n\n// Generated data for sbcs codec. Don't edit manually. Regenerate using generation/gen-sbcs.js script.\nmodule.exports = {\n  \"437\": \"cp437\",\n  \"737\": \"cp737\",\n  \"775\": \"cp775\",\n  \"850\": \"cp850\",\n  \"852\": \"cp852\",\n  \"855\": \"cp855\",\n  \"856\": \"cp856\",\n  \"857\": \"cp857\",\n  \"858\": \"cp858\",\n  \"860\": \"cp860\",\n  \"861\": \"cp861\",\n  \"862\": \"cp862\",\n  \"863\": \"cp863\",\n  \"864\": \"cp864\",\n  \"865\": \"cp865\",\n  \"866\": \"cp866\",\n  \"869\": \"cp869\",\n  \"874\": \"windows874\",\n  \"922\": \"cp922\",\n  \"1046\": \"cp1046\",\n  \"1124\": \"cp1124\",\n  \"1125\": \"cp1125\",\n  \"1129\": \"cp1129\",\n  \"1133\": \"cp1133\",\n  \"1161\": \"cp1161\",\n  \"1162\": \"cp1162\",\n  \"1163\": \"cp1163\",\n  \"1250\": \"windows1250\",\n  \"1251\": \"windows1251\",\n  \"1252\": \"windows1252\",\n  \"1253\": \"windows1253\",\n  \"1254\": \"windows1254\",\n  \"1255\": \"windows1255\",\n  \"1256\": \"windows1256\",\n  \"1257\": \"windows1257\",\n  \"1258\": \"windows1258\",\n  \"28591\": \"iso88591\",\n  \"28592\": \"iso88592\",\n  \"28593\": \"iso88593\",\n  \"28594\": \"iso88594\",\n  \"28595\": \"iso88595\",\n  \"28596\": \"iso88596\",\n  \"28597\": \"iso88597\",\n  \"28598\": \"iso88598\",\n  \"28599\": \"iso88599\",\n  \"28600\": \"iso885910\",\n  \"28601\": \"iso885911\",\n  \"28603\": \"iso885913\",\n  \"28604\": \"iso885914\",\n  \"28605\": \"iso885915\",\n  \"28606\": \"iso885916\",\n  \"windows874\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u20AC\uFFFD\uFFFD\uFFFD\uFFFD\u2026\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\u2018\u2019\u201C\u201D\u2022\u2013\u2014\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\u00A0\u0E01\u0E02\u0E03\u0E04\u0E05\u0E06\u0E07\u0E08\u0E09\u0E0A\u0E0B\u0E0C\u0E0D\u0E0E\u0E0F\u0E10\u0E11\u0E12\u0E13\u0E14\u0E15\u0E16\u0E17\u0E18\u0E19\u0E1A\u0E1B\u0E1C\u0E1D\u0E1E\u0E1F\u0E20\u0E21\u0E22\u0E23\u0E24\u0E25\u0E26\u0E27\u0E28\u0E29\u0E2A\u0E2B\u0E2C\u0E2D\u0E2E\u0E2F\u0E30\u0E31\u0E32\u0E33\u0E34\u0E35\u0E36\u0E37\u0E38\u0E39\u0E3A\uFFFD\uFFFD\uFFFD\uFFFD\u0E3F\u0E40\u0E41\u0E42\u0E43\u0E44\u0E45\u0E46\u0E47\u0E48\u0E49\u0E4A\u0E4B\u0E4C\u0E4D\u0E4E\u0E4F\u0E50\u0E51\u0E52\u0E53\u0E54\u0E55\u0E56\u0E57\u0E58\u0E59\u0E5A\u0E5B\uFFFD\uFFFD\uFFFD\uFFFD\"\n  },\n  \"win874\": \"windows874\",\n  \"cp874\": \"windows874\",\n  \"windows1250\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u20AC\uFFFD\u201A\uFFFD\u201E\u2026\u2020\u2021\uFFFD\u2030\u0160\u2039\u015A\u0164\u017D\u0179\uFFFD\u2018\u2019\u201C\u201D\u2022\u2013\u2014\uFFFD\u2122\u0161\u203A\u015B\u0165\u017E\u017A\u00A0\u02C7\u02D8\u0141\u00A4\u0104\u00A6\u00A7\u00A8\u00A9\u015E\u00AB\u00AC\u00AD\u00AE\u017B\u00B0\u00B1\u02DB\u0142\u00B4\u00B5\u00B6\u00B7\u00B8\u0105\u015F\u00BB\u013D\u02DD\u013E\u017C\u0154\u00C1\u00C2\u0102\u00C4\u0139\u0106\u00C7\u010C\u00C9\u0118\u00CB\u011A\u00CD\u00CE\u010E\u0110\u0143\u0147\u00D3\u00D4\u0150\u00D6\u00D7\u0158\u016E\u00DA\u0170\u00DC\u00DD\u0162\u00DF\u0155\u00E1\u00E2\u0103\u00E4\u013A\u0107\u00E7\u010D\u00E9\u0119\u00EB\u011B\u00ED\u00EE\u010F\u0111\u0144\u0148\u00F3\u00F4\u0151\u00F6\u00F7\u0159\u016F\u00FA\u0171\u00FC\u00FD\u0163\u02D9\"\n  },\n  \"win1250\": \"windows1250\",\n  \"cp1250\": \"windows1250\",\n  \"windows1251\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u0402\u0403\u201A\u0453\u201E\u2026\u2020\u2021\u20AC\u2030\u0409\u2039\u040A\u040C\u040B\u040F\u0452\u2018\u2019\u201C\u201D\u2022\u2013\u2014\uFFFD\u2122\u0459\u203A\u045A\u045C\u045B\u045F\u00A0\u040E\u045E\u0408\u00A4\u0490\u00A6\u00A7\u0401\u00A9\u0404\u00AB\u00AC\u00AD\u00AE\u0407\u00B0\u00B1\u0406\u0456\u0491\u00B5\u00B6\u00B7\u0451\u2116\u0454\u00BB\u0458\u0405\u0455\u0457\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041A\u041B\u041C\u041D\u041E\u041F\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042A\u042B\u042C\u042D\u042E\u042F\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043A\u043B\u043C\u043D\u043E\u043F\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044A\u044B\u044C\u044D\u044E\u044F\"\n  },\n  \"win1251\": \"windows1251\",\n  \"cp1251\": \"windows1251\",\n  \"windows1252\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u20AC\uFFFD\u201A\u0192\u201E\u2026\u2020\u2021\u02C6\u2030\u0160\u2039\u0152\uFFFD\u017D\uFFFD\uFFFD\u2018\u2019\u201C\u201D\u2022\u2013\u2014\u02DC\u2122\u0161\u203A\u0153\uFFFD\u017E\u0178\u00A0\u00A1\u00A2\u00A3\u00A4\u00A5\u00A6\u00A7\u00A8\u00A9\u00AA\u00AB\u00AC\u00AD\u00AE\u00AF\u00B0\u00B1\u00B2\u00B3\u00B4\u00B5\u00B6\u00B7\u00B8\u00B9\u00BA\u00BB\u00BC\u00BD\u00BE\u00BF\u00C0\u00C1\u00C2\u00C3\u00C4\u00C5\u00C6\u00C7\u00C8\u00C9\u00CA\u00CB\u00CC\u00CD\u00CE\u00CF\u00D0\u00D1\u00D2\u00D3\u00D4\u00D5\u00D6\u00D7\u00D8\u00D9\u00DA\u00DB\u00DC\u00DD\u00DE\u00DF\u00E0\u00E1\u00E2\u00E3\u00E4\u00E5\u00E6\u00E7\u00E8\u00E9\u00EA\u00EB\u00EC\u00ED\u00EE\u00EF\u00F0\u00F1\u00F2\u00F3\u00F4\u00F5\u00F6\u00F7\u00F8\u00F9\u00FA\u00FB\u00FC\u00FD\u00FE\u00FF\"\n  },\n  \"win1252\": \"windows1252\",\n  \"cp1252\": \"windows1252\",\n  \"windows1253\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u20AC\uFFFD\u201A\u0192\u201E\u2026\u2020\u2021\uFFFD\u2030\uFFFD\u2039\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\u2018\u2019\u201C\u201D\u2022\u2013\u2014\uFFFD\u2122\uFFFD\u203A\uFFFD\uFFFD\uFFFD\uFFFD\u00A0\u0385\u0386\u00A3\u00A4\u00A5\u00A6\u00A7\u00A8\u00A9\uFFFD\u00AB\u00AC\u00AD\u00AE\u2015\u00B0\u00B1\u00B2\u00B3\u0384\u00B5\u00B6\u00B7\u0388\u0389\u038A\u00BB\u038C\u00BD\u038E\u038F\u0390\u0391\u0392\u0393\u0394\u0395\u0396\u0397\u0398\u0399\u039A\u039B\u039C\u039D\u039E\u039F\u03A0\u03A1\uFFFD\u03A3\u03A4\u03A5\u03A6\u03A7\u03A8\u03A9\u03AA\u03AB\u03AC\u03AD\u03AE\u03AF\u03B0\u03B1\u03B2\u03B3\u03B4\u03B5\u03B6\u03B7\u03B8\u03B9\u03BA\u03BB\u03BC\u03BD\u03BE\u03BF\u03C0\u03C1\u03C2\u03C3\u03C4\u03C5\u03C6\u03C7\u03C8\u03C9\u03CA\u03CB\u03CC\u03CD\u03CE\uFFFD\"\n  },\n  \"win1253\": \"windows1253\",\n  \"cp1253\": \"windows1253\",\n  \"windows1254\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u20AC\uFFFD\u201A\u0192\u201E\u2026\u2020\u2021\u02C6\u2030\u0160\u2039\u0152\uFFFD\uFFFD\uFFFD\uFFFD\u2018\u2019\u201C\u201D\u2022\u2013\u2014\u02DC\u2122\u0161\u203A\u0153\uFFFD\uFFFD\u0178\u00A0\u00A1\u00A2\u00A3\u00A4\u00A5\u00A6\u00A7\u00A8\u00A9\u00AA\u00AB\u00AC\u00AD\u00AE\u00AF\u00B0\u00B1\u00B2\u00B3\u00B4\u00B5\u00B6\u00B7\u00B8\u00B9\u00BA\u00BB\u00BC\u00BD\u00BE\u00BF\u00C0\u00C1\u00C2\u00C3\u00C4\u00C5\u00C6\u00C7\u00C8\u00C9\u00CA\u00CB\u00CC\u00CD\u00CE\u00CF\u011E\u00D1\u00D2\u00D3\u00D4\u00D5\u00D6\u00D7\u00D8\u00D9\u00DA\u00DB\u00DC\u0130\u015E\u00DF\u00E0\u00E1\u00E2\u00E3\u00E4\u00E5\u00E6\u00E7\u00E8\u00E9\u00EA\u00EB\u00EC\u00ED\u00EE\u00EF\u011F\u00F1\u00F2\u00F3\u00F4\u00F5\u00F6\u00F7\u00F8\u00F9\u00FA\u00FB\u00FC\u0131\u015F\u00FF\"\n  },\n  \"win1254\": \"windows1254\",\n  \"cp1254\": \"windows1254\",\n  \"windows1255\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u20AC\uFFFD\u201A\u0192\u201E\u2026\u2020\u2021\u02C6\u2030\uFFFD\u2039\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\u2018\u2019\u201C\u201D\u2022\u2013\u2014\u02DC\u2122\uFFFD\u203A\uFFFD\uFFFD\uFFFD\uFFFD\u00A0\u00A1\u00A2\u00A3\u20AA\u00A5\u00A6\u00A7\u00A8\u00A9\u00D7\u00AB\u00AC\u00AD\u00AE\u00AF\u00B0\u00B1\u00B2\u00B3\u00B4\u00B5\u00B6\u00B7\u00B8\u00B9\u00F7\u00BB\u00BC\u00BD\u00BE\u00BF\u05B0\u05B1\u05B2\u05B3\u05B4\u05B5\u05B6\u05B7\u05B8\u05B9\u05BA\u05BB\u05BC\u05BD\u05BE\u05BF\u05C0\u05C1\u05C2\u05C3\u05F0\u05F1\u05F2\u05F3\u05F4\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\u05D0\u05D1\u05D2\u05D3\u05D4\u05D5\u05D6\u05D7\u05D8\u05D9\u05DA\u05DB\u05DC\u05DD\u05DE\u05DF\u05E0\u05E1\u05E2\u05E3\u05E4\u05E5\u05E6\u05E7\u05E8\u05E9\u05EA\uFFFD\uFFFD\u200E\u200F\uFFFD\"\n  },\n  \"win1255\": \"windows1255\",\n  \"cp1255\": \"windows1255\",\n  \"windows1256\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u20AC\u067E\u201A\u0192\u201E\u2026\u2020\u2021\u02C6\u2030\u0679\u2039\u0152\u0686\u0698\u0688\u06AF\u2018\u2019\u201C\u201D\u2022\u2013\u2014\u06A9\u2122\u0691\u203A\u0153\u200C\u200D\u06BA\u00A0\u060C\u00A2\u00A3\u00A4\u00A5\u00A6\u00A7\u00A8\u00A9\u06BE\u00AB\u00AC\u00AD\u00AE\u00AF\u00B0\u00B1\u00B2\u00B3\u00B4\u00B5\u00B6\u00B7\u00B8\u00B9\u061B\u00BB\u00BC\u00BD\u00BE\u061F\u06C1\u0621\u0622\u0623\u0624\u0625\u0626\u0627\u0628\u0629\u062A\u062B\u062C\u062D\u062E\u062F\u0630\u0631\u0632\u0633\u0634\u0635\u0636\u00D7\u0637\u0638\u0639\u063A\u0640\u0641\u0642\u0643\u00E0\u0644\u00E2\u0645\u0646\u0647\u0648\u00E7\u00E8\u00E9\u00EA\u00EB\u0649\u064A\u00EE\u00EF\u064B\u064C\u064D\u064E\u00F4\u064F\u0650\u00F7\u0651\u00F9\u0652\u00FB\u00FC\u200E\u200F\u06D2\"\n  },\n  \"win1256\": \"windows1256\",\n  \"cp1256\": \"windows1256\",\n  \"windows1257\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u20AC\uFFFD\u201A\uFFFD\u201E\u2026\u2020\u2021\uFFFD\u2030\uFFFD\u2039\uFFFD\u00A8\u02C7\u00B8\uFFFD\u2018\u2019\u201C\u201D\u2022\u2013\u2014\uFFFD\u2122\uFFFD\u203A\uFFFD\u00AF\u02DB\uFFFD\u00A0\uFFFD\u00A2\u00A3\u00A4\uFFFD\u00A6\u00A7\u00D8\u00A9\u0156\u00AB\u00AC\u00AD\u00AE\u00C6\u00B0\u00B1\u00B2\u00B3\u00B4\u00B5\u00B6\u00B7\u00F8\u00B9\u0157\u00BB\u00BC\u00BD\u00BE\u00E6\u0104\u012E\u0100\u0106\u00C4\u00C5\u0118\u0112\u010C\u00C9\u0179\u0116\u0122\u0136\u012A\u013B\u0160\u0143\u0145\u00D3\u014C\u00D5\u00D6\u00D7\u0172\u0141\u015A\u016A\u00DC\u017B\u017D\u00DF\u0105\u012F\u0101\u0107\u00E4\u00E5\u0119\u0113\u010D\u00E9\u017A\u0117\u0123\u0137\u012B\u013C\u0161\u0144\u0146\u00F3\u014D\u00F5\u00F6\u00F7\u0173\u0142\u015B\u016B\u00FC\u017C\u017E\u02D9\"\n  },\n  \"win1257\": \"windows1257\",\n  \"cp1257\": \"windows1257\",\n  \"windows1258\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u20AC\uFFFD\u201A\u0192\u201E\u2026\u2020\u2021\u02C6\u2030\uFFFD\u2039\u0152\uFFFD\uFFFD\uFFFD\uFFFD\u2018\u2019\u201C\u201D\u2022\u2013\u2014\u02DC\u2122\uFFFD\u203A\u0153\uFFFD\uFFFD\u0178\u00A0\u00A1\u00A2\u00A3\u00A4\u00A5\u00A6\u00A7\u00A8\u00A9\u00AA\u00AB\u00AC\u00AD\u00AE\u00AF\u00B0\u00B1\u00B2\u00B3\u00B4\u00B5\u00B6\u00B7\u00B8\u00B9\u00BA\u00BB\u00BC\u00BD\u00BE\u00BF\u00C0\u00C1\u00C2\u0102\u00C4\u00C5\u00C6\u00C7\u00C8\u00C9\u00CA\u00CB\u0300\u00CD\u00CE\u00CF\u0110\u00D1\u0309\u00D3\u00D4\u01A0\u00D6\u00D7\u00D8\u00D9\u00DA\u00DB\u00DC\u01AF\u0303\u00DF\u00E0\u00E1\u00E2\u0103\u00E4\u00E5\u00E6\u00E7\u00E8\u00E9\u00EA\u00EB\u0301\u00ED\u00EE\u00EF\u0111\u00F1\u0323\u00F3\u00F4\u01A1\u00F6\u00F7\u00F8\u00F9\u00FA\u00FB\u00FC\u01B0\u20AB\u00FF\"\n  },\n  \"win1258\": \"windows1258\",\n  \"cp1258\": \"windows1258\",\n  \"iso88591\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u0080\u0081\u0082\u0083\u0084\u0085\u0086\u0087\u0088\u0089\u008A\u008B\u008C\u008D\u008E\u008F\u0090\u0091\u0092\u0093\u0094\u0095\u0096\u0097\u0098\u0099\u009A\u009B\u009C\u009D\u009E\u009F\u00A0\u00A1\u00A2\u00A3\u00A4\u00A5\u00A6\u00A7\u00A8\u00A9\u00AA\u00AB\u00AC\u00AD\u00AE\u00AF\u00B0\u00B1\u00B2\u00B3\u00B4\u00B5\u00B6\u00B7\u00B8\u00B9\u00BA\u00BB\u00BC\u00BD\u00BE\u00BF\u00C0\u00C1\u00C2\u00C3\u00C4\u00C5\u00C6\u00C7\u00C8\u00C9\u00CA\u00CB\u00CC\u00CD\u00CE\u00CF\u00D0\u00D1\u00D2\u00D3\u00D4\u00D5\u00D6\u00D7\u00D8\u00D9\u00DA\u00DB\u00DC\u00DD\u00DE\u00DF\u00E0\u00E1\u00E2\u00E3\u00E4\u00E5\u00E6\u00E7\u00E8\u00E9\u00EA\u00EB\u00EC\u00ED\u00EE\u00EF\u00F0\u00F1\u00F2\u00F3\u00F4\u00F5\u00F6\u00F7\u00F8\u00F9\u00FA\u00FB\u00FC\u00FD\u00FE\u00FF\"\n  },\n  \"cp28591\": \"iso88591\",\n  \"iso88592\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u0080\u0081\u0082\u0083\u0084\u0085\u0086\u0087\u0088\u0089\u008A\u008B\u008C\u008D\u008E\u008F\u0090\u0091\u0092\u0093\u0094\u0095\u0096\u0097\u0098\u0099\u009A\u009B\u009C\u009D\u009E\u009F\u00A0\u0104\u02D8\u0141\u00A4\u013D\u015A\u00A7\u00A8\u0160\u015E\u0164\u0179\u00AD\u017D\u017B\u00B0\u0105\u02DB\u0142\u00B4\u013E\u015B\u02C7\u00B8\u0161\u015F\u0165\u017A\u02DD\u017E\u017C\u0154\u00C1\u00C2\u0102\u00C4\u0139\u0106\u00C7\u010C\u00C9\u0118\u00CB\u011A\u00CD\u00CE\u010E\u0110\u0143\u0147\u00D3\u00D4\u0150\u00D6\u00D7\u0158\u016E\u00DA\u0170\u00DC\u00DD\u0162\u00DF\u0155\u00E1\u00E2\u0103\u00E4\u013A\u0107\u00E7\u010D\u00E9\u0119\u00EB\u011B\u00ED\u00EE\u010F\u0111\u0144\u0148\u00F3\u00F4\u0151\u00F6\u00F7\u0159\u016F\u00FA\u0171\u00FC\u00FD\u0163\u02D9\"\n  },\n  \"cp28592\": \"iso88592\",\n  \"iso88593\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u0080\u0081\u0082\u0083\u0084\u0085\u0086\u0087\u0088\u0089\u008A\u008B\u008C\u008D\u008E\u008F\u0090\u0091\u0092\u0093\u0094\u0095\u0096\u0097\u0098\u0099\u009A\u009B\u009C\u009D\u009E\u009F\u00A0\u0126\u02D8\u00A3\u00A4\uFFFD\u0124\u00A7\u00A8\u0130\u015E\u011E\u0134\u00AD\uFFFD\u017B\u00B0\u0127\u00B2\u00B3\u00B4\u00B5\u0125\u00B7\u00B8\u0131\u015F\u011F\u0135\u00BD\uFFFD\u017C\u00C0\u00C1\u00C2\uFFFD\u00C4\u010A\u0108\u00C7\u00C8\u00C9\u00CA\u00CB\u00CC\u00CD\u00CE\u00CF\uFFFD\u00D1\u00D2\u00D3\u00D4\u0120\u00D6\u00D7\u011C\u00D9\u00DA\u00DB\u00DC\u016C\u015C\u00DF\u00E0\u00E1\u00E2\uFFFD\u00E4\u010B\u0109\u00E7\u00E8\u00E9\u00EA\u00EB\u00EC\u00ED\u00EE\u00EF\uFFFD\u00F1\u00F2\u00F3\u00F4\u0121\u00F6\u00F7\u011D\u00F9\u00FA\u00FB\u00FC\u016D\u015D\u02D9\"\n  },\n  \"cp28593\": \"iso88593\",\n  \"iso88594\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u0080\u0081\u0082\u0083\u0084\u0085\u0086\u0087\u0088\u0089\u008A\u008B\u008C\u008D\u008E\u008F\u0090\u0091\u0092\u0093\u0094\u0095\u0096\u0097\u0098\u0099\u009A\u009B\u009C\u009D\u009E\u009F\u00A0\u0104\u0138\u0156\u00A4\u0128\u013B\u00A7\u00A8\u0160\u0112\u0122\u0166\u00AD\u017D\u00AF\u00B0\u0105\u02DB\u0157\u00B4\u0129\u013C\u02C7\u00B8\u0161\u0113\u0123\u0167\u014A\u017E\u014B\u0100\u00C1\u00C2\u00C3\u00C4\u00C5\u00C6\u012E\u010C\u00C9\u0118\u00CB\u0116\u00CD\u00CE\u012A\u0110\u0145\u014C\u0136\u00D4\u00D5\u00D6\u00D7\u00D8\u0172\u00DA\u00DB\u00DC\u0168\u016A\u00DF\u0101\u00E1\u00E2\u00E3\u00E4\u00E5\u00E6\u012F\u010D\u00E9\u0119\u00EB\u0117\u00ED\u00EE\u012B\u0111\u0146\u014D\u0137\u00F4\u00F5\u00F6\u00F7\u00F8\u0173\u00FA\u00FB\u00FC\u0169\u016B\u02D9\"\n  },\n  \"cp28594\": \"iso88594\",\n  \"iso88595\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u0080\u0081\u0082\u0083\u0084\u0085\u0086\u0087\u0088\u0089\u008A\u008B\u008C\u008D\u008E\u008F\u0090\u0091\u0092\u0093\u0094\u0095\u0096\u0097\u0098\u0099\u009A\u009B\u009C\u009D\u009E\u009F\u00A0\u0401\u0402\u0403\u0404\u0405\u0406\u0407\u0408\u0409\u040A\u040B\u040C\u00AD\u040E\u040F\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041A\u041B\u041C\u041D\u041E\u041F\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042A\u042B\u042C\u042D\u042E\u042F\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043A\u043B\u043C\u043D\u043E\u043F\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044A\u044B\u044C\u044D\u044E\u044F\u2116\u0451\u0452\u0453\u0454\u0455\u0456\u0457\u0458\u0459\u045A\u045B\u045C\u00A7\u045E\u045F\"\n  },\n  \"cp28595\": \"iso88595\",\n  \"iso88596\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u0080\u0081\u0082\u0083\u0084\u0085\u0086\u0087\u0088\u0089\u008A\u008B\u008C\u008D\u008E\u008F\u0090\u0091\u0092\u0093\u0094\u0095\u0096\u0097\u0098\u0099\u009A\u009B\u009C\u009D\u009E\u009F\u00A0\uFFFD\uFFFD\uFFFD\u00A4\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\u060C\u00AD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\u061B\uFFFD\uFFFD\uFFFD\u061F\uFFFD\u0621\u0622\u0623\u0624\u0625\u0626\u0627\u0628\u0629\u062A\u062B\u062C\u062D\u062E\u062F\u0630\u0631\u0632\u0633\u0634\u0635\u0636\u0637\u0638\u0639\u063A\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\u0640\u0641\u0642\u0643\u0644\u0645\u0646\u0647\u0648\u0649\u064A\u064B\u064C\u064D\u064E\u064F\u0650\u0651\u0652\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\"\n  },\n  \"cp28596\": \"iso88596\",\n  \"iso88597\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u0080\u0081\u0082\u0083\u0084\u0085\u0086\u0087\u0088\u0089\u008A\u008B\u008C\u008D\u008E\u008F\u0090\u0091\u0092\u0093\u0094\u0095\u0096\u0097\u0098\u0099\u009A\u009B\u009C\u009D\u009E\u009F\u00A0\u2018\u2019\u00A3\u20AC\u20AF\u00A6\u00A7\u00A8\u00A9\u037A\u00AB\u00AC\u00AD\uFFFD\u2015\u00B0\u00B1\u00B2\u00B3\u0384\u0385\u0386\u00B7\u0388\u0389\u038A\u00BB\u038C\u00BD\u038E\u038F\u0390\u0391\u0392\u0393\u0394\u0395\u0396\u0397\u0398\u0399\u039A\u039B\u039C\u039D\u039E\u039F\u03A0\u03A1\uFFFD\u03A3\u03A4\u03A5\u03A6\u03A7\u03A8\u03A9\u03AA\u03AB\u03AC\u03AD\u03AE\u03AF\u03B0\u03B1\u03B2\u03B3\u03B4\u03B5\u03B6\u03B7\u03B8\u03B9\u03BA\u03BB\u03BC\u03BD\u03BE\u03BF\u03C0\u03C1\u03C2\u03C3\u03C4\u03C5\u03C6\u03C7\u03C8\u03C9\u03CA\u03CB\u03CC\u03CD\u03CE\uFFFD\"\n  },\n  \"cp28597\": \"iso88597\",\n  \"iso88598\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u0080\u0081\u0082\u0083\u0084\u0085\u0086\u0087\u0088\u0089\u008A\u008B\u008C\u008D\u008E\u008F\u0090\u0091\u0092\u0093\u0094\u0095\u0096\u0097\u0098\u0099\u009A\u009B\u009C\u009D\u009E\u009F\u00A0\uFFFD\u00A2\u00A3\u00A4\u00A5\u00A6\u00A7\u00A8\u00A9\u00D7\u00AB\u00AC\u00AD\u00AE\u00AF\u00B0\u00B1\u00B2\u00B3\u00B4\u00B5\u00B6\u00B7\u00B8\u00B9\u00F7\u00BB\u00BC\u00BD\u00BE\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\u2017\u05D0\u05D1\u05D2\u05D3\u05D4\u05D5\u05D6\u05D7\u05D8\u05D9\u05DA\u05DB\u05DC\u05DD\u05DE\u05DF\u05E0\u05E1\u05E2\u05E3\u05E4\u05E5\u05E6\u05E7\u05E8\u05E9\u05EA\uFFFD\uFFFD\u200E\u200F\uFFFD\"\n  },\n  \"cp28598\": \"iso88598\",\n  \"iso88599\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u0080\u0081\u0082\u0083\u0084\u0085\u0086\u0087\u0088\u0089\u008A\u008B\u008C\u008D\u008E\u008F\u0090\u0091\u0092\u0093\u0094\u0095\u0096\u0097\u0098\u0099\u009A\u009B\u009C\u009D\u009E\u009F\u00A0\u00A1\u00A2\u00A3\u00A4\u00A5\u00A6\u00A7\u00A8\u00A9\u00AA\u00AB\u00AC\u00AD\u00AE\u00AF\u00B0\u00B1\u00B2\u00B3\u00B4\u00B5\u00B6\u00B7\u00B8\u00B9\u00BA\u00BB\u00BC\u00BD\u00BE\u00BF\u00C0\u00C1\u00C2\u00C3\u00C4\u00C5\u00C6\u00C7\u00C8\u00C9\u00CA\u00CB\u00CC\u00CD\u00CE\u00CF\u011E\u00D1\u00D2\u00D3\u00D4\u00D5\u00D6\u00D7\u00D8\u00D9\u00DA\u00DB\u00DC\u0130\u015E\u00DF\u00E0\u00E1\u00E2\u00E3\u00E4\u00E5\u00E6\u00E7\u00E8\u00E9\u00EA\u00EB\u00EC\u00ED\u00EE\u00EF\u011F\u00F1\u00F2\u00F3\u00F4\u00F5\u00F6\u00F7\u00F8\u00F9\u00FA\u00FB\u00FC\u0131\u015F\u00FF\"\n  },\n  \"cp28599\": \"iso88599\",\n  \"iso885910\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u0080\u0081\u0082\u0083\u0084\u0085\u0086\u0087\u0088\u0089\u008A\u008B\u008C\u008D\u008E\u008F\u0090\u0091\u0092\u0093\u0094\u0095\u0096\u0097\u0098\u0099\u009A\u009B\u009C\u009D\u009E\u009F\u00A0\u0104\u0112\u0122\u012A\u0128\u0136\u00A7\u013B\u0110\u0160\u0166\u017D\u00AD\u016A\u014A\u00B0\u0105\u0113\u0123\u012B\u0129\u0137\u00B7\u013C\u0111\u0161\u0167\u017E\u2015\u016B\u014B\u0100\u00C1\u00C2\u00C3\u00C4\u00C5\u00C6\u012E\u010C\u00C9\u0118\u00CB\u0116\u00CD\u00CE\u00CF\u00D0\u0145\u014C\u00D3\u00D4\u00D5\u00D6\u0168\u00D8\u0172\u00DA\u00DB\u00DC\u00DD\u00DE\u00DF\u0101\u00E1\u00E2\u00E3\u00E4\u00E5\u00E6\u012F\u010D\u00E9\u0119\u00EB\u0117\u00ED\u00EE\u00EF\u00F0\u0146\u014D\u00F3\u00F4\u00F5\u00F6\u0169\u00F8\u0173\u00FA\u00FB\u00FC\u00FD\u00FE\u0138\"\n  },\n  \"cp28600\": \"iso885910\",\n  \"iso885911\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u0080\u0081\u0082\u0083\u0084\u0085\u0086\u0087\u0088\u0089\u008A\u008B\u008C\u008D\u008E\u008F\u0090\u0091\u0092\u0093\u0094\u0095\u0096\u0097\u0098\u0099\u009A\u009B\u009C\u009D\u009E\u009F\u00A0\u0E01\u0E02\u0E03\u0E04\u0E05\u0E06\u0E07\u0E08\u0E09\u0E0A\u0E0B\u0E0C\u0E0D\u0E0E\u0E0F\u0E10\u0E11\u0E12\u0E13\u0E14\u0E15\u0E16\u0E17\u0E18\u0E19\u0E1A\u0E1B\u0E1C\u0E1D\u0E1E\u0E1F\u0E20\u0E21\u0E22\u0E23\u0E24\u0E25\u0E26\u0E27\u0E28\u0E29\u0E2A\u0E2B\u0E2C\u0E2D\u0E2E\u0E2F\u0E30\u0E31\u0E32\u0E33\u0E34\u0E35\u0E36\u0E37\u0E38\u0E39\u0E3A\uFFFD\uFFFD\uFFFD\uFFFD\u0E3F\u0E40\u0E41\u0E42\u0E43\u0E44\u0E45\u0E46\u0E47\u0E48\u0E49\u0E4A\u0E4B\u0E4C\u0E4D\u0E4E\u0E4F\u0E50\u0E51\u0E52\u0E53\u0E54\u0E55\u0E56\u0E57\u0E58\u0E59\u0E5A\u0E5B\uFFFD\uFFFD\uFFFD\uFFFD\"\n  },\n  \"cp28601\": \"iso885911\",\n  \"iso885913\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u0080\u0081\u0082\u0083\u0084\u0085\u0086\u0087\u0088\u0089\u008A\u008B\u008C\u008D\u008E\u008F\u0090\u0091\u0092\u0093\u0094\u0095\u0096\u0097\u0098\u0099\u009A\u009B\u009C\u009D\u009E\u009F\u00A0\u201D\u00A2\u00A3\u00A4\u201E\u00A6\u00A7\u00D8\u00A9\u0156\u00AB\u00AC\u00AD\u00AE\u00C6\u00B0\u00B1\u00B2\u00B3\u201C\u00B5\u00B6\u00B7\u00F8\u00B9\u0157\u00BB\u00BC\u00BD\u00BE\u00E6\u0104\u012E\u0100\u0106\u00C4\u00C5\u0118\u0112\u010C\u00C9\u0179\u0116\u0122\u0136\u012A\u013B\u0160\u0143\u0145\u00D3\u014C\u00D5\u00D6\u00D7\u0172\u0141\u015A\u016A\u00DC\u017B\u017D\u00DF\u0105\u012F\u0101\u0107\u00E4\u00E5\u0119\u0113\u010D\u00E9\u017A\u0117\u0123\u0137\u012B\u013C\u0161\u0144\u0146\u00F3\u014D\u00F5\u00F6\u00F7\u0173\u0142\u015B\u016B\u00FC\u017C\u017E\u2019\"\n  },\n  \"cp28603\": \"iso885913\",\n  \"iso885914\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u0080\u0081\u0082\u0083\u0084\u0085\u0086\u0087\u0088\u0089\u008A\u008B\u008C\u008D\u008E\u008F\u0090\u0091\u0092\u0093\u0094\u0095\u0096\u0097\u0098\u0099\u009A\u009B\u009C\u009D\u009E\u009F\u00A0\u1E02\u1E03\u00A3\u010A\u010B\u1E0A\u00A7\u1E80\u00A9\u1E82\u1E0B\u1EF2\u00AD\u00AE\u0178\u1E1E\u1E1F\u0120\u0121\u1E40\u1E41\u00B6\u1E56\u1E81\u1E57\u1E83\u1E60\u1EF3\u1E84\u1E85\u1E61\u00C0\u00C1\u00C2\u00C3\u00C4\u00C5\u00C6\u00C7\u00C8\u00C9\u00CA\u00CB\u00CC\u00CD\u00CE\u00CF\u0174\u00D1\u00D2\u00D3\u00D4\u00D5\u00D6\u1E6A\u00D8\u00D9\u00DA\u00DB\u00DC\u00DD\u0176\u00DF\u00E0\u00E1\u00E2\u00E3\u00E4\u00E5\u00E6\u00E7\u00E8\u00E9\u00EA\u00EB\u00EC\u00ED\u00EE\u00EF\u0175\u00F1\u00F2\u00F3\u00F4\u00F5\u00F6\u1E6B\u00F8\u00F9\u00FA\u00FB\u00FC\u00FD\u0177\u00FF\"\n  },\n  \"cp28604\": \"iso885914\",\n  \"iso885915\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u0080\u0081\u0082\u0083\u0084\u0085\u0086\u0087\u0088\u0089\u008A\u008B\u008C\u008D\u008E\u008F\u0090\u0091\u0092\u0093\u0094\u0095\u0096\u0097\u0098\u0099\u009A\u009B\u009C\u009D\u009E\u009F\u00A0\u00A1\u00A2\u00A3\u20AC\u00A5\u0160\u00A7\u0161\u00A9\u00AA\u00AB\u00AC\u00AD\u00AE\u00AF\u00B0\u00B1\u00B2\u00B3\u017D\u00B5\u00B6\u00B7\u017E\u00B9\u00BA\u00BB\u0152\u0153\u0178\u00BF\u00C0\u00C1\u00C2\u00C3\u00C4\u00C5\u00C6\u00C7\u00C8\u00C9\u00CA\u00CB\u00CC\u00CD\u00CE\u00CF\u00D0\u00D1\u00D2\u00D3\u00D4\u00D5\u00D6\u00D7\u00D8\u00D9\u00DA\u00DB\u00DC\u00DD\u00DE\u00DF\u00E0\u00E1\u00E2\u00E3\u00E4\u00E5\u00E6\u00E7\u00E8\u00E9\u00EA\u00EB\u00EC\u00ED\u00EE\u00EF\u00F0\u00F1\u00F2\u00F3\u00F4\u00F5\u00F6\u00F7\u00F8\u00F9\u00FA\u00FB\u00FC\u00FD\u00FE\u00FF\"\n  },\n  \"cp28605\": \"iso885915\",\n  \"iso885916\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u0080\u0081\u0082\u0083\u0084\u0085\u0086\u0087\u0088\u0089\u008A\u008B\u008C\u008D\u008E\u008F\u0090\u0091\u0092\u0093\u0094\u0095\u0096\u0097\u0098\u0099\u009A\u009B\u009C\u009D\u009E\u009F\u00A0\u0104\u0105\u0141\u20AC\u201E\u0160\u00A7\u0161\u00A9\u0218\u00AB\u0179\u00AD\u017A\u017B\u00B0\u00B1\u010C\u0142\u017D\u201D\u00B6\u00B7\u017E\u010D\u0219\u00BB\u0152\u0153\u0178\u017C\u00C0\u00C1\u00C2\u0102\u00C4\u0106\u00C6\u00C7\u00C8\u00C9\u00CA\u00CB\u00CC\u00CD\u00CE\u00CF\u0110\u0143\u00D2\u00D3\u00D4\u0150\u00D6\u015A\u0170\u00D9\u00DA\u00DB\u00DC\u0118\u021A\u00DF\u00E0\u00E1\u00E2\u0103\u00E4\u0107\u00E6\u00E7\u00E8\u00E9\u00EA\u00EB\u00EC\u00ED\u00EE\u00EF\u0111\u0144\u00F2\u00F3\u00F4\u0151\u00F6\u015B\u0171\u00F9\u00FA\u00FB\u00FC\u0119\u021B\u00FF\"\n  },\n  \"cp28606\": \"iso885916\",\n  \"cp437\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u00C7\u00FC\u00E9\u00E2\u00E4\u00E0\u00E5\u00E7\u00EA\u00EB\u00E8\u00EF\u00EE\u00EC\u00C4\u00C5\u00C9\u00E6\u00C6\u00F4\u00F6\u00F2\u00FB\u00F9\u00FF\u00D6\u00DC\u00A2\u00A3\u00A5\u20A7\u0192\u00E1\u00ED\u00F3\u00FA\u00F1\u00D1\u00AA\u00BA\u00BF\u2310\u00AC\u00BD\u00BC\u00A1\u00AB\u00BB\u2591\u2592\u2593\u2502\u2524\u2561\u2562\u2556\u2555\u2563\u2551\u2557\u255D\u255C\u255B\u2510\u2514\u2534\u252C\u251C\u2500\u253C\u255E\u255F\u255A\u2554\u2569\u2566\u2560\u2550\u256C\u2567\u2568\u2564\u2565\u2559\u2558\u2552\u2553\u256B\u256A\u2518\u250C\u2588\u2584\u258C\u2590\u2580\u03B1\u00DF\u0393\u03C0\u03A3\u03C3\u00B5\u03C4\u03A6\u0398\u03A9\u03B4\u221E\u03C6\u03B5\u2229\u2261\u00B1\u2265\u2264\u2320\u2321\u00F7\u2248\u00B0\u2219\u00B7\u221A\u207F\u00B2\u25A0\u00A0\"\n  },\n  \"ibm437\": \"cp437\",\n  \"csibm437\": \"cp437\",\n  \"cp737\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u0391\u0392\u0393\u0394\u0395\u0396\u0397\u0398\u0399\u039A\u039B\u039C\u039D\u039E\u039F\u03A0\u03A1\u03A3\u03A4\u03A5\u03A6\u03A7\u03A8\u03A9\u03B1\u03B2\u03B3\u03B4\u03B5\u03B6\u03B7\u03B8\u03B9\u03BA\u03BB\u03BC\u03BD\u03BE\u03BF\u03C0\u03C1\u03C3\u03C2\u03C4\u03C5\u03C6\u03C7\u03C8\u2591\u2592\u2593\u2502\u2524\u2561\u2562\u2556\u2555\u2563\u2551\u2557\u255D\u255C\u255B\u2510\u2514\u2534\u252C\u251C\u2500\u253C\u255E\u255F\u255A\u2554\u2569\u2566\u2560\u2550\u256C\u2567\u2568\u2564\u2565\u2559\u2558\u2552\u2553\u256B\u256A\u2518\u250C\u2588\u2584\u258C\u2590\u2580\u03C9\u03AC\u03AD\u03AE\u03CA\u03AF\u03CC\u03CD\u03CB\u03CE\u0386\u0388\u0389\u038A\u038C\u038E\u038F\u00B1\u2265\u2264\u03AA\u03AB\u00F7\u2248\u00B0\u2219\u00B7\u221A\u207F\u00B2\u25A0\u00A0\"\n  },\n  \"ibm737\": \"cp737\",\n  \"csibm737\": \"cp737\",\n  \"cp775\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u0106\u00FC\u00E9\u0101\u00E4\u0123\u00E5\u0107\u0142\u0113\u0156\u0157\u012B\u0179\u00C4\u00C5\u00C9\u00E6\u00C6\u014D\u00F6\u0122\u00A2\u015A\u015B\u00D6\u00DC\u00F8\u00A3\u00D8\u00D7\u00A4\u0100\u012A\u00F3\u017B\u017C\u017A\u201D\u00A6\u00A9\u00AE\u00AC\u00BD\u00BC\u0141\u00AB\u00BB\u2591\u2592\u2593\u2502\u2524\u0104\u010C\u0118\u0116\u2563\u2551\u2557\u255D\u012E\u0160\u2510\u2514\u2534\u252C\u251C\u2500\u253C\u0172\u016A\u255A\u2554\u2569\u2566\u2560\u2550\u256C\u017D\u0105\u010D\u0119\u0117\u012F\u0161\u0173\u016B\u017E\u2518\u250C\u2588\u2584\u258C\u2590\u2580\u00D3\u00DF\u014C\u0143\u00F5\u00D5\u00B5\u0144\u0136\u0137\u013B\u013C\u0146\u0112\u0145\u2019\u00AD\u00B1\u201C\u00BE\u00B6\u00A7\u00F7\u201E\u00B0\u2219\u00B7\u00B9\u00B3\u00B2\u25A0\u00A0\"\n  },\n  \"ibm775\": \"cp775\",\n  \"csibm775\": \"cp775\",\n  \"cp850\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u00C7\u00FC\u00E9\u00E2\u00E4\u00E0\u00E5\u00E7\u00EA\u00EB\u00E8\u00EF\u00EE\u00EC\u00C4\u00C5\u00C9\u00E6\u00C6\u00F4\u00F6\u00F2\u00FB\u00F9\u00FF\u00D6\u00DC\u00F8\u00A3\u00D8\u00D7\u0192\u00E1\u00ED\u00F3\u00FA\u00F1\u00D1\u00AA\u00BA\u00BF\u00AE\u00AC\u00BD\u00BC\u00A1\u00AB\u00BB\u2591\u2592\u2593\u2502\u2524\u00C1\u00C2\u00C0\u00A9\u2563\u2551\u2557\u255D\u00A2\u00A5\u2510\u2514\u2534\u252C\u251C\u2500\u253C\u00E3\u00C3\u255A\u2554\u2569\u2566\u2560\u2550\u256C\u00A4\u00F0\u00D0\u00CA\u00CB\u00C8\u0131\u00CD\u00CE\u00CF\u2518\u250C\u2588\u2584\u00A6\u00CC\u2580\u00D3\u00DF\u00D4\u00D2\u00F5\u00D5\u00B5\u00FE\u00DE\u00DA\u00DB\u00D9\u00FD\u00DD\u00AF\u00B4\u00AD\u00B1\u2017\u00BE\u00B6\u00A7\u00F7\u00B8\u00B0\u00A8\u00B7\u00B9\u00B3\u00B2\u25A0\u00A0\"\n  },\n  \"ibm850\": \"cp850\",\n  \"csibm850\": \"cp850\",\n  \"cp852\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u00C7\u00FC\u00E9\u00E2\u00E4\u016F\u0107\u00E7\u0142\u00EB\u0150\u0151\u00EE\u0179\u00C4\u0106\u00C9\u0139\u013A\u00F4\u00F6\u013D\u013E\u015A\u015B\u00D6\u00DC\u0164\u0165\u0141\u00D7\u010D\u00E1\u00ED\u00F3\u00FA\u0104\u0105\u017D\u017E\u0118\u0119\u00AC\u017A\u010C\u015F\u00AB\u00BB\u2591\u2592\u2593\u2502\u2524\u00C1\u00C2\u011A\u015E\u2563\u2551\u2557\u255D\u017B\u017C\u2510\u2514\u2534\u252C\u251C\u2500\u253C\u0102\u0103\u255A\u2554\u2569\u2566\u2560\u2550\u256C\u00A4\u0111\u0110\u010E\u00CB\u010F\u0147\u00CD\u00CE\u011B\u2518\u250C\u2588\u2584\u0162\u016E\u2580\u00D3\u00DF\u00D4\u0143\u0144\u0148\u0160\u0161\u0154\u00DA\u0155\u0170\u00FD\u00DD\u0163\u00B4\u00AD\u02DD\u02DB\u02C7\u02D8\u00A7\u00F7\u00B8\u00B0\u00A8\u02D9\u0171\u0158\u0159\u25A0\u00A0\"\n  },\n  \"ibm852\": \"cp852\",\n  \"csibm852\": \"cp852\",\n  \"cp855\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u0452\u0402\u0453\u0403\u0451\u0401\u0454\u0404\u0455\u0405\u0456\u0406\u0457\u0407\u0458\u0408\u0459\u0409\u045A\u040A\u045B\u040B\u045C\u040C\u045E\u040E\u045F\u040F\u044E\u042E\u044A\u042A\u0430\u0410\u0431\u0411\u0446\u0426\u0434\u0414\u0435\u0415\u0444\u0424\u0433\u0413\u00AB\u00BB\u2591\u2592\u2593\u2502\u2524\u0445\u0425\u0438\u0418\u2563\u2551\u2557\u255D\u0439\u0419\u2510\u2514\u2534\u252C\u251C\u2500\u253C\u043A\u041A\u255A\u2554\u2569\u2566\u2560\u2550\u256C\u00A4\u043B\u041B\u043C\u041C\u043D\u041D\u043E\u041E\u043F\u2518\u250C\u2588\u2584\u041F\u044F\u2580\u042F\u0440\u0420\u0441\u0421\u0442\u0422\u0443\u0423\u0436\u0416\u0432\u0412\u044C\u042C\u2116\u00AD\u044B\u042B\u0437\u0417\u0448\u0428\u044D\u042D\u0449\u0429\u0447\u0427\u00A7\u25A0\u00A0\"\n  },\n  \"ibm855\": \"cp855\",\n  \"csibm855\": \"cp855\",\n  \"cp856\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u05D0\u05D1\u05D2\u05D3\u05D4\u05D5\u05D6\u05D7\u05D8\u05D9\u05DA\u05DB\u05DC\u05DD\u05DE\u05DF\u05E0\u05E1\u05E2\u05E3\u05E4\u05E5\u05E6\u05E7\u05E8\u05E9\u05EA\uFFFD\u00A3\uFFFD\u00D7\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\u00AE\u00AC\u00BD\u00BC\uFFFD\u00AB\u00BB\u2591\u2592\u2593\u2502\u2524\uFFFD\uFFFD\uFFFD\u00A9\u2563\u2551\u2557\u255D\u00A2\u00A5\u2510\u2514\u2534\u252C\u251C\u2500\u253C\uFFFD\uFFFD\u255A\u2554\u2569\u2566\u2560\u2550\u256C\u00A4\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\u2518\u250C\u2588\u2584\u00A6\uFFFD\u2580\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\u00B5\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\u00AF\u00B4\u00AD\u00B1\u2017\u00BE\u00B6\u00A7\u00F7\u00B8\u00B0\u00A8\u00B7\u00B9\u00B3\u00B2\u25A0\u00A0\"\n  },\n  \"ibm856\": \"cp856\",\n  \"csibm856\": \"cp856\",\n  \"cp857\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u00C7\u00FC\u00E9\u00E2\u00E4\u00E0\u00E5\u00E7\u00EA\u00EB\u00E8\u00EF\u00EE\u0131\u00C4\u00C5\u00C9\u00E6\u00C6\u00F4\u00F6\u00F2\u00FB\u00F9\u0130\u00D6\u00DC\u00F8\u00A3\u00D8\u015E\u015F\u00E1\u00ED\u00F3\u00FA\u00F1\u00D1\u011E\u011F\u00BF\u00AE\u00AC\u00BD\u00BC\u00A1\u00AB\u00BB\u2591\u2592\u2593\u2502\u2524\u00C1\u00C2\u00C0\u00A9\u2563\u2551\u2557\u255D\u00A2\u00A5\u2510\u2514\u2534\u252C\u251C\u2500\u253C\u00E3\u00C3\u255A\u2554\u2569\u2566\u2560\u2550\u256C\u00A4\u00BA\u00AA\u00CA\u00CB\u00C8\uFFFD\u00CD\u00CE\u00CF\u2518\u250C\u2588\u2584\u00A6\u00CC\u2580\u00D3\u00DF\u00D4\u00D2\u00F5\u00D5\u00B5\uFFFD\u00D7\u00DA\u00DB\u00D9\u00EC\u00FF\u00AF\u00B4\u00AD\u00B1\uFFFD\u00BE\u00B6\u00A7\u00F7\u00B8\u00B0\u00A8\u00B7\u00B9\u00B3\u00B2\u25A0\u00A0\"\n  },\n  \"ibm857\": \"cp857\",\n  \"csibm857\": \"cp857\",\n  \"cp858\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u00C7\u00FC\u00E9\u00E2\u00E4\u00E0\u00E5\u00E7\u00EA\u00EB\u00E8\u00EF\u00EE\u00EC\u00C4\u00C5\u00C9\u00E6\u00C6\u00F4\u00F6\u00F2\u00FB\u00F9\u00FF\u00D6\u00DC\u00F8\u00A3\u00D8\u00D7\u0192\u00E1\u00ED\u00F3\u00FA\u00F1\u00D1\u00AA\u00BA\u00BF\u00AE\u00AC\u00BD\u00BC\u00A1\u00AB\u00BB\u2591\u2592\u2593\u2502\u2524\u00C1\u00C2\u00C0\u00A9\u2563\u2551\u2557\u255D\u00A2\u00A5\u2510\u2514\u2534\u252C\u251C\u2500\u253C\u00E3\u00C3\u255A\u2554\u2569\u2566\u2560\u2550\u256C\u00A4\u00F0\u00D0\u00CA\u00CB\u00C8\u20AC\u00CD\u00CE\u00CF\u2518\u250C\u2588\u2584\u00A6\u00CC\u2580\u00D3\u00DF\u00D4\u00D2\u00F5\u00D5\u00B5\u00FE\u00DE\u00DA\u00DB\u00D9\u00FD\u00DD\u00AF\u00B4\u00AD\u00B1\u2017\u00BE\u00B6\u00A7\u00F7\u00B8\u00B0\u00A8\u00B7\u00B9\u00B3\u00B2\u25A0\u00A0\"\n  },\n  \"ibm858\": \"cp858\",\n  \"csibm858\": \"cp858\",\n  \"cp860\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u00C7\u00FC\u00E9\u00E2\u00E3\u00E0\u00C1\u00E7\u00EA\u00CA\u00E8\u00CD\u00D4\u00EC\u00C3\u00C2\u00C9\u00C0\u00C8\u00F4\u00F5\u00F2\u00DA\u00F9\u00CC\u00D5\u00DC\u00A2\u00A3\u00D9\u20A7\u00D3\u00E1\u00ED\u00F3\u00FA\u00F1\u00D1\u00AA\u00BA\u00BF\u00D2\u00AC\u00BD\u00BC\u00A1\u00AB\u00BB\u2591\u2592\u2593\u2502\u2524\u2561\u2562\u2556\u2555\u2563\u2551\u2557\u255D\u255C\u255B\u2510\u2514\u2534\u252C\u251C\u2500\u253C\u255E\u255F\u255A\u2554\u2569\u2566\u2560\u2550\u256C\u2567\u2568\u2564\u2565\u2559\u2558\u2552\u2553\u256B\u256A\u2518\u250C\u2588\u2584\u258C\u2590\u2580\u03B1\u00DF\u0393\u03C0\u03A3\u03C3\u00B5\u03C4\u03A6\u0398\u03A9\u03B4\u221E\u03C6\u03B5\u2229\u2261\u00B1\u2265\u2264\u2320\u2321\u00F7\u2248\u00B0\u2219\u00B7\u221A\u207F\u00B2\u25A0\u00A0\"\n  },\n  \"ibm860\": \"cp860\",\n  \"csibm860\": \"cp860\",\n  \"cp861\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u00C7\u00FC\u00E9\u00E2\u00E4\u00E0\u00E5\u00E7\u00EA\u00EB\u00E8\u00D0\u00F0\u00DE\u00C4\u00C5\u00C9\u00E6\u00C6\u00F4\u00F6\u00FE\u00FB\u00DD\u00FD\u00D6\u00DC\u00F8\u00A3\u00D8\u20A7\u0192\u00E1\u00ED\u00F3\u00FA\u00C1\u00CD\u00D3\u00DA\u00BF\u2310\u00AC\u00BD\u00BC\u00A1\u00AB\u00BB\u2591\u2592\u2593\u2502\u2524\u2561\u2562\u2556\u2555\u2563\u2551\u2557\u255D\u255C\u255B\u2510\u2514\u2534\u252C\u251C\u2500\u253C\u255E\u255F\u255A\u2554\u2569\u2566\u2560\u2550\u256C\u2567\u2568\u2564\u2565\u2559\u2558\u2552\u2553\u256B\u256A\u2518\u250C\u2588\u2584\u258C\u2590\u2580\u03B1\u00DF\u0393\u03C0\u03A3\u03C3\u00B5\u03C4\u03A6\u0398\u03A9\u03B4\u221E\u03C6\u03B5\u2229\u2261\u00B1\u2265\u2264\u2320\u2321\u00F7\u2248\u00B0\u2219\u00B7\u221A\u207F\u00B2\u25A0\u00A0\"\n  },\n  \"ibm861\": \"cp861\",\n  \"csibm861\": \"cp861\",\n  \"cp862\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u05D0\u05D1\u05D2\u05D3\u05D4\u05D5\u05D6\u05D7\u05D8\u05D9\u05DA\u05DB\u05DC\u05DD\u05DE\u05DF\u05E0\u05E1\u05E2\u05E3\u05E4\u05E5\u05E6\u05E7\u05E8\u05E9\u05EA\u00A2\u00A3\u00A5\u20A7\u0192\u00E1\u00ED\u00F3\u00FA\u00F1\u00D1\u00AA\u00BA\u00BF\u2310\u00AC\u00BD\u00BC\u00A1\u00AB\u00BB\u2591\u2592\u2593\u2502\u2524\u2561\u2562\u2556\u2555\u2563\u2551\u2557\u255D\u255C\u255B\u2510\u2514\u2534\u252C\u251C\u2500\u253C\u255E\u255F\u255A\u2554\u2569\u2566\u2560\u2550\u256C\u2567\u2568\u2564\u2565\u2559\u2558\u2552\u2553\u256B\u256A\u2518\u250C\u2588\u2584\u258C\u2590\u2580\u03B1\u00DF\u0393\u03C0\u03A3\u03C3\u00B5\u03C4\u03A6\u0398\u03A9\u03B4\u221E\u03C6\u03B5\u2229\u2261\u00B1\u2265\u2264\u2320\u2321\u00F7\u2248\u00B0\u2219\u00B7\u221A\u207F\u00B2\u25A0\u00A0\"\n  },\n  \"ibm862\": \"cp862\",\n  \"csibm862\": \"cp862\",\n  \"cp863\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u00C7\u00FC\u00E9\u00E2\u00C2\u00E0\u00B6\u00E7\u00EA\u00EB\u00E8\u00EF\u00EE\u2017\u00C0\u00A7\u00C9\u00C8\u00CA\u00F4\u00CB\u00CF\u00FB\u00F9\u00A4\u00D4\u00DC\u00A2\u00A3\u00D9\u00DB\u0192\u00A6\u00B4\u00F3\u00FA\u00A8\u00B8\u00B3\u00AF\u00CE\u2310\u00AC\u00BD\u00BC\u00BE\u00AB\u00BB\u2591\u2592\u2593\u2502\u2524\u2561\u2562\u2556\u2555\u2563\u2551\u2557\u255D\u255C\u255B\u2510\u2514\u2534\u252C\u251C\u2500\u253C\u255E\u255F\u255A\u2554\u2569\u2566\u2560\u2550\u256C\u2567\u2568\u2564\u2565\u2559\u2558\u2552\u2553\u256B\u256A\u2518\u250C\u2588\u2584\u258C\u2590\u2580\u03B1\u00DF\u0393\u03C0\u03A3\u03C3\u00B5\u03C4\u03A6\u0398\u03A9\u03B4\u221E\u03C6\u03B5\u2229\u2261\u00B1\u2265\u2264\u2320\u2321\u00F7\u2248\u00B0\u2219\u00B7\u221A\u207F\u00B2\u25A0\u00A0\"\n  },\n  \"ibm863\": \"cp863\",\n  \"csibm863\": \"cp863\",\n  \"cp864\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\\u0000\\u0001\\u0002\\u0003\\u0004\\u0005\\u0006\\u0007\\b\\t\\n\\u000b\\f\\r\\u000e\\u000f\\u0010\\u0011\\u0012\\u0013\\u0014\\u0015\\u0016\\u0017\\u0018\\u0019\\u001a\\u001b\\u001c\\u001d\\u001e\\u001f !\\\"#$\u066A&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\u007F\u00B0\u00B7\u2219\u221A\u2592\u2500\u2502\u253C\u2524\u252C\u251C\u2534\u2510\u250C\u2514\u2518\u03B2\u221E\u03C6\u00B1\u00BD\u00BC\u2248\u00AB\u00BB\uFEF7\uFEF8\uFFFD\uFFFD\uFEFB\uFEFC\uFFFD\u00A0\u00AD\uFE82\u00A3\u00A4\uFE84\uFFFD\uFFFD\uFE8E\uFE8F\uFE95\uFE99\u060C\uFE9D\uFEA1\uFEA5\u0660\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\uFED1\u061B\uFEB1\uFEB5\uFEB9\u061F\u00A2\uFE80\uFE81\uFE83\uFE85\uFECA\uFE8B\uFE8D\uFE91\uFE93\uFE97\uFE9B\uFE9F\uFEA3\uFEA7\uFEA9\uFEAB\uFEAD\uFEAF\uFEB3\uFEB7\uFEBB\uFEBF\uFEC1\uFEC5\uFECB\uFECF\u00A6\u00AC\u00F7\u00D7\uFEC9\u0640\uFED3\uFED7\uFEDB\uFEDF\uFEE3\uFEE7\uFEEB\uFEED\uFEEF\uFEF3\uFEBD\uFECC\uFECE\uFECD\uFEE1\uFE7D\u0651\uFEE5\uFEE9\uFEEC\uFEF0\uFEF2\uFED0\uFED5\uFEF5\uFEF6\uFEDD\uFED9\uFEF1\u25A0\uFFFD\"\n  },\n  \"ibm864\": \"cp864\",\n  \"csibm864\": \"cp864\",\n  \"cp865\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u00C7\u00FC\u00E9\u00E2\u00E4\u00E0\u00E5\u00E7\u00EA\u00EB\u00E8\u00EF\u00EE\u00EC\u00C4\u00C5\u00C9\u00E6\u00C6\u00F4\u00F6\u00F2\u00FB\u00F9\u00FF\u00D6\u00DC\u00F8\u00A3\u00D8\u20A7\u0192\u00E1\u00ED\u00F3\u00FA\u00F1\u00D1\u00AA\u00BA\u00BF\u2310\u00AC\u00BD\u00BC\u00A1\u00AB\u00A4\u2591\u2592\u2593\u2502\u2524\u2561\u2562\u2556\u2555\u2563\u2551\u2557\u255D\u255C\u255B\u2510\u2514\u2534\u252C\u251C\u2500\u253C\u255E\u255F\u255A\u2554\u2569\u2566\u2560\u2550\u256C\u2567\u2568\u2564\u2565\u2559\u2558\u2552\u2553\u256B\u256A\u2518\u250C\u2588\u2584\u258C\u2590\u2580\u03B1\u00DF\u0393\u03C0\u03A3\u03C3\u00B5\u03C4\u03A6\u0398\u03A9\u03B4\u221E\u03C6\u03B5\u2229\u2261\u00B1\u2265\u2264\u2320\u2321\u00F7\u2248\u00B0\u2219\u00B7\u221A\u207F\u00B2\u25A0\u00A0\"\n  },\n  \"ibm865\": \"cp865\",\n  \"csibm865\": \"cp865\",\n  \"cp866\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041A\u041B\u041C\u041D\u041E\u041F\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042A\u042B\u042C\u042D\u042E\u042F\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043A\u043B\u043C\u043D\u043E\u043F\u2591\u2592\u2593\u2502\u2524\u2561\u2562\u2556\u2555\u2563\u2551\u2557\u255D\u255C\u255B\u2510\u2514\u2534\u252C\u251C\u2500\u253C\u255E\u255F\u255A\u2554\u2569\u2566\u2560\u2550\u256C\u2567\u2568\u2564\u2565\u2559\u2558\u2552\u2553\u256B\u256A\u2518\u250C\u2588\u2584\u258C\u2590\u2580\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044A\u044B\u044C\u044D\u044E\u044F\u0401\u0451\u0404\u0454\u0407\u0457\u040E\u045E\u00B0\u2219\u00B7\u221A\u2116\u00A4\u25A0\u00A0\"\n  },\n  \"ibm866\": \"cp866\",\n  \"csibm866\": \"cp866\",\n  \"cp869\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\u0386\uFFFD\u00B7\u00AC\u00A6\u2018\u2019\u0388\u2015\u0389\u038A\u03AA\u038C\uFFFD\uFFFD\u038E\u03AB\u00A9\u038F\u00B2\u00B3\u03AC\u00A3\u03AD\u03AE\u03AF\u03CA\u0390\u03CC\u03CD\u0391\u0392\u0393\u0394\u0395\u0396\u0397\u00BD\u0398\u0399\u00AB\u00BB\u2591\u2592\u2593\u2502\u2524\u039A\u039B\u039C\u039D\u2563\u2551\u2557\u255D\u039E\u039F\u2510\u2514\u2534\u252C\u251C\u2500\u253C\u03A0\u03A1\u255A\u2554\u2569\u2566\u2560\u2550\u256C\u03A3\u03A4\u03A5\u03A6\u03A7\u03A8\u03A9\u03B1\u03B2\u03B3\u2518\u250C\u2588\u2584\u03B4\u03B5\u2580\u03B6\u03B7\u03B8\u03B9\u03BA\u03BB\u03BC\u03BD\u03BE\u03BF\u03C0\u03C1\u03C3\u03C2\u03C4\u0384\u00AD\u00B1\u03C5\u03C6\u03C7\u00A7\u03C8\u0385\u00B0\u00A8\u03C9\u03CB\u03B0\u03CE\u25A0\u00A0\"\n  },\n  \"ibm869\": \"cp869\",\n  \"csibm869\": \"cp869\",\n  \"cp922\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u0080\u0081\u0082\u0083\u0084\u0085\u0086\u0087\u0088\u0089\u008A\u008B\u008C\u008D\u008E\u008F\u0090\u0091\u0092\u0093\u0094\u0095\u0096\u0097\u0098\u0099\u009A\u009B\u009C\u009D\u009E\u009F\u00A0\u00A1\u00A2\u00A3\u00A4\u00A5\u00A6\u00A7\u00A8\u00A9\u00AA\u00AB\u00AC\u00AD\u00AE\u203E\u00B0\u00B1\u00B2\u00B3\u00B4\u00B5\u00B6\u00B7\u00B8\u00B9\u00BA\u00BB\u00BC\u00BD\u00BE\u00BF\u00C0\u00C1\u00C2\u00C3\u00C4\u00C5\u00C6\u00C7\u00C8\u00C9\u00CA\u00CB\u00CC\u00CD\u00CE\u00CF\u0160\u00D1\u00D2\u00D3\u00D4\u00D5\u00D6\u00D7\u00D8\u00D9\u00DA\u00DB\u00DC\u00DD\u017D\u00DF\u00E0\u00E1\u00E2\u00E3\u00E4\u00E5\u00E6\u00E7\u00E8\u00E9\u00EA\u00EB\u00EC\u00ED\u00EE\u00EF\u0161\u00F1\u00F2\u00F3\u00F4\u00F5\u00F6\u00F7\u00F8\u00F9\u00FA\u00FB\u00FC\u00FD\u017E\u00FF\"\n  },\n  \"ibm922\": \"cp922\",\n  \"csibm922\": \"cp922\",\n  \"cp1046\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\uFE88\u00D7\u00F7\uF8F6\uF8F5\uF8F4\uF8F7\uFE71\u0088\u25A0\u2502\u2500\u2510\u250C\u2514\u2518\uFE79\uFE7B\uFE7D\uFE7F\uFE77\uFE8A\uFEF0\uFEF3\uFEF2\uFECE\uFECF\uFED0\uFEF6\uFEF8\uFEFA\uFEFC\u00A0\uF8FA\uF8F9\uF8F8\u00A4\uF8FB\uFE8B\uFE91\uFE97\uFE9B\uFE9F\uFEA3\u060C\u00AD\uFEA7\uFEB3\u0660\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\uFEB7\u061B\uFEBB\uFEBF\uFECA\u061F\uFECB\u0621\u0622\u0623\u0624\u0625\u0626\u0627\u0628\u0629\u062A\u062B\u062C\u062D\u062E\u062F\u0630\u0631\u0632\u0633\u0634\u0635\u0636\u0637\uFEC7\u0639\u063A\uFECC\uFE82\uFE84\uFE8E\uFED3\u0640\u0641\u0642\u0643\u0644\u0645\u0646\u0647\u0648\u0649\u064A\u064B\u064C\u064D\u064E\u064F\u0650\u0651\u0652\uFED7\uFEDB\uFEDF\uF8FC\uFEF5\uFEF7\uFEF9\uFEFB\uFEE3\uFEE7\uFEEC\uFEE9\uFFFD\"\n  },\n  \"ibm1046\": \"cp1046\",\n  \"csibm1046\": \"cp1046\",\n  \"cp1124\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u0080\u0081\u0082\u0083\u0084\u0085\u0086\u0087\u0088\u0089\u008A\u008B\u008C\u008D\u008E\u008F\u0090\u0091\u0092\u0093\u0094\u0095\u0096\u0097\u0098\u0099\u009A\u009B\u009C\u009D\u009E\u009F\u00A0\u0401\u0402\u0490\u0404\u0405\u0406\u0407\u0408\u0409\u040A\u040B\u040C\u00AD\u040E\u040F\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041A\u041B\u041C\u041D\u041E\u041F\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042A\u042B\u042C\u042D\u042E\u042F\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043A\u043B\u043C\u043D\u043E\u043F\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044A\u044B\u044C\u044D\u044E\u044F\u2116\u0451\u0452\u0491\u0454\u0455\u0456\u0457\u0458\u0459\u045A\u045B\u045C\u00A7\u045E\u045F\"\n  },\n  \"ibm1124\": \"cp1124\",\n  \"csibm1124\": \"cp1124\",\n  \"cp1125\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041A\u041B\u041C\u041D\u041E\u041F\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042A\u042B\u042C\u042D\u042E\u042F\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043A\u043B\u043C\u043D\u043E\u043F\u2591\u2592\u2593\u2502\u2524\u2561\u2562\u2556\u2555\u2563\u2551\u2557\u255D\u255C\u255B\u2510\u2514\u2534\u252C\u251C\u2500\u253C\u255E\u255F\u255A\u2554\u2569\u2566\u2560\u2550\u256C\u2567\u2568\u2564\u2565\u2559\u2558\u2552\u2553\u256B\u256A\u2518\u250C\u2588\u2584\u258C\u2590\u2580\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044A\u044B\u044C\u044D\u044E\u044F\u0401\u0451\u0490\u0491\u0404\u0454\u0406\u0456\u0407\u0457\u00B7\u221A\u2116\u00A4\u25A0\u00A0\"\n  },\n  \"ibm1125\": \"cp1125\",\n  \"csibm1125\": \"cp1125\",\n  \"cp1129\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u0080\u0081\u0082\u0083\u0084\u0085\u0086\u0087\u0088\u0089\u008A\u008B\u008C\u008D\u008E\u008F\u0090\u0091\u0092\u0093\u0094\u0095\u0096\u0097\u0098\u0099\u009A\u009B\u009C\u009D\u009E\u009F\u00A0\u00A1\u00A2\u00A3\u00A4\u00A5\u00A6\u00A7\u0153\u00A9\u00AA\u00AB\u00AC\u00AD\u00AE\u00AF\u00B0\u00B1\u00B2\u00B3\u0178\u00B5\u00B6\u00B7\u0152\u00B9\u00BA\u00BB\u00BC\u00BD\u00BE\u00BF\u00C0\u00C1\u00C2\u0102\u00C4\u00C5\u00C6\u00C7\u00C8\u00C9\u00CA\u00CB\u0300\u00CD\u00CE\u00CF\u0110\u00D1\u0309\u00D3\u00D4\u01A0\u00D6\u00D7\u00D8\u00D9\u00DA\u00DB\u00DC\u01AF\u0303\u00DF\u00E0\u00E1\u00E2\u0103\u00E4\u00E5\u00E6\u00E7\u00E8\u00E9\u00EA\u00EB\u0301\u00ED\u00EE\u00EF\u0111\u00F1\u0323\u00F3\u00F4\u01A1\u00F6\u00F7\u00F8\u00F9\u00FA\u00FB\u00FC\u01B0\u20AB\u00FF\"\n  },\n  \"ibm1129\": \"cp1129\",\n  \"csibm1129\": \"cp1129\",\n  \"cp1133\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u0080\u0081\u0082\u0083\u0084\u0085\u0086\u0087\u0088\u0089\u008A\u008B\u008C\u008D\u008E\u008F\u0090\u0091\u0092\u0093\u0094\u0095\u0096\u0097\u0098\u0099\u009A\u009B\u009C\u009D\u009E\u009F\u00A0\u0E81\u0E82\u0E84\u0E87\u0E88\u0EAA\u0E8A\u0E8D\u0E94\u0E95\u0E96\u0E97\u0E99\u0E9A\u0E9B\u0E9C\u0E9D\u0E9E\u0E9F\u0EA1\u0EA2\u0EA3\u0EA5\u0EA7\u0EAB\u0EAD\u0EAE\uFFFD\uFFFD\uFFFD\u0EAF\u0EB0\u0EB2\u0EB3\u0EB4\u0EB5\u0EB6\u0EB7\u0EB8\u0EB9\u0EBC\u0EB1\u0EBB\u0EBD\uFFFD\uFFFD\uFFFD\u0EC0\u0EC1\u0EC2\u0EC3\u0EC4\u0EC8\u0EC9\u0ECA\u0ECB\u0ECC\u0ECD\u0EC6\uFFFD\u0EDC\u0EDD\u20AD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\u0ED0\u0ED1\u0ED2\u0ED3\u0ED4\u0ED5\u0ED6\u0ED7\u0ED8\u0ED9\uFFFD\uFFFD\u00A2\u00AC\u00A6\uFFFD\"\n  },\n  \"ibm1133\": \"cp1133\",\n  \"csibm1133\": \"cp1133\",\n  \"cp1161\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\u0E48\u0E01\u0E02\u0E03\u0E04\u0E05\u0E06\u0E07\u0E08\u0E09\u0E0A\u0E0B\u0E0C\u0E0D\u0E0E\u0E0F\u0E10\u0E11\u0E12\u0E13\u0E14\u0E15\u0E16\u0E17\u0E18\u0E19\u0E1A\u0E1B\u0E1C\u0E1D\u0E1E\u0E1F\u0E20\u0E21\u0E22\u0E23\u0E24\u0E25\u0E26\u0E27\u0E28\u0E29\u0E2A\u0E2B\u0E2C\u0E2D\u0E2E\u0E2F\u0E30\u0E31\u0E32\u0E33\u0E34\u0E35\u0E36\u0E37\u0E38\u0E39\u0E3A\u0E49\u0E4A\u0E4B\u20AC\u0E3F\u0E40\u0E41\u0E42\u0E43\u0E44\u0E45\u0E46\u0E47\u0E48\u0E49\u0E4A\u0E4B\u0E4C\u0E4D\u0E4E\u0E4F\u0E50\u0E51\u0E52\u0E53\u0E54\u0E55\u0E56\u0E57\u0E58\u0E59\u0E5A\u0E5B\u00A2\u00AC\u00A6\u00A0\"\n  },\n  \"ibm1161\": \"cp1161\",\n  \"csibm1161\": \"cp1161\",\n  \"cp1162\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u20AC\u0081\u0082\u0083\u0084\u2026\u0086\u0087\u0088\u0089\u008A\u008B\u008C\u008D\u008E\u008F\u0090\u2018\u2019\u201C\u201D\u2022\u2013\u2014\u0098\u0099\u009A\u009B\u009C\u009D\u009E\u009F\u00A0\u0E01\u0E02\u0E03\u0E04\u0E05\u0E06\u0E07\u0E08\u0E09\u0E0A\u0E0B\u0E0C\u0E0D\u0E0E\u0E0F\u0E10\u0E11\u0E12\u0E13\u0E14\u0E15\u0E16\u0E17\u0E18\u0E19\u0E1A\u0E1B\u0E1C\u0E1D\u0E1E\u0E1F\u0E20\u0E21\u0E22\u0E23\u0E24\u0E25\u0E26\u0E27\u0E28\u0E29\u0E2A\u0E2B\u0E2C\u0E2D\u0E2E\u0E2F\u0E30\u0E31\u0E32\u0E33\u0E34\u0E35\u0E36\u0E37\u0E38\u0E39\u0E3A\uFFFD\uFFFD\uFFFD\uFFFD\u0E3F\u0E40\u0E41\u0E42\u0E43\u0E44\u0E45\u0E46\u0E47\u0E48\u0E49\u0E4A\u0E4B\u0E4C\u0E4D\u0E4E\u0E4F\u0E50\u0E51\u0E52\u0E53\u0E54\u0E55\u0E56\u0E57\u0E58\u0E59\u0E5A\u0E5B\uFFFD\uFFFD\uFFFD\uFFFD\"\n  },\n  \"ibm1162\": \"cp1162\",\n  \"csibm1162\": \"cp1162\",\n  \"cp1163\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u0080\u0081\u0082\u0083\u0084\u0085\u0086\u0087\u0088\u0089\u008A\u008B\u008C\u008D\u008E\u008F\u0090\u0091\u0092\u0093\u0094\u0095\u0096\u0097\u0098\u0099\u009A\u009B\u009C\u009D\u009E\u009F\u00A0\u00A1\u00A2\u00A3\u20AC\u00A5\u00A6\u00A7\u0153\u00A9\u00AA\u00AB\u00AC\u00AD\u00AE\u00AF\u00B0\u00B1\u00B2\u00B3\u0178\u00B5\u00B6\u00B7\u0152\u00B9\u00BA\u00BB\u00BC\u00BD\u00BE\u00BF\u00C0\u00C1\u00C2\u0102\u00C4\u00C5\u00C6\u00C7\u00C8\u00C9\u00CA\u00CB\u0300\u00CD\u00CE\u00CF\u0110\u00D1\u0309\u00D3\u00D4\u01A0\u00D6\u00D7\u00D8\u00D9\u00DA\u00DB\u00DC\u01AF\u0303\u00DF\u00E0\u00E1\u00E2\u0103\u00E4\u00E5\u00E6\u00E7\u00E8\u00E9\u00EA\u00EB\u0301\u00ED\u00EE\u00EF\u0111\u00F1\u0323\u00F3\u00F4\u01A1\u00F6\u00F7\u00F8\u00F9\u00FA\u00FB\u00FC\u01B0\u20AB\u00FF\"\n  },\n  \"ibm1163\": \"cp1163\",\n  \"csibm1163\": \"cp1163\",\n  \"maccroatian\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u00C4\u00C5\u00C7\u00C9\u00D1\u00D6\u00DC\u00E1\u00E0\u00E2\u00E4\u00E3\u00E5\u00E7\u00E9\u00E8\u00EA\u00EB\u00ED\u00EC\u00EE\u00EF\u00F1\u00F3\u00F2\u00F4\u00F6\u00F5\u00FA\u00F9\u00FB\u00FC\u2020\u00B0\u00A2\u00A3\u00A7\u2022\u00B6\u00DF\u00AE\u0160\u2122\u00B4\u00A8\u2260\u017D\u00D8\u221E\u00B1\u2264\u2265\u2206\u00B5\u2202\u2211\u220F\u0161\u222B\u00AA\u00BA\u2126\u017E\u00F8\u00BF\u00A1\u00AC\u221A\u0192\u2248\u0106\u00AB\u010C\u2026\u00A0\u00C0\u00C3\u00D5\u0152\u0153\u0110\u2014\u201C\u201D\u2018\u2019\u00F7\u25CA\uFFFD\u00A9\u2044\u00A4\u2039\u203A\u00C6\u00BB\u2013\u00B7\u201A\u201E\u2030\u00C2\u0107\u00C1\u010D\u00C8\u00CD\u00CE\u00CF\u00CC\u00D3\u00D4\u0111\u00D2\u00DA\u00DB\u00D9\u0131\u02C6\u02DC\u00AF\u03C0\u00CB\u02DA\u00B8\u00CA\u00E6\u02C7\"\n  },\n  \"maccyrillic\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041A\u041B\u041C\u041D\u041E\u041F\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042A\u042B\u042C\u042D\u042E\u042F\u2020\u00B0\u00A2\u00A3\u00A7\u2022\u00B6\u0406\u00AE\u00A9\u2122\u0402\u0452\u2260\u0403\u0453\u221E\u00B1\u2264\u2265\u0456\u00B5\u2202\u0408\u0404\u0454\u0407\u0457\u0409\u0459\u040A\u045A\u0458\u0405\u00AC\u221A\u0192\u2248\u2206\u00AB\u00BB\u2026\u00A0\u040B\u045B\u040C\u045C\u0455\u2013\u2014\u201C\u201D\u2018\u2019\u00F7\u201E\u040E\u045E\u040F\u045F\u2116\u0401\u0451\u044F\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043A\u043B\u043C\u043D\u043E\u043F\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044A\u044B\u044C\u044D\u044E\u00A4\"\n  },\n  \"macgreek\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u00C4\u00B9\u00B2\u00C9\u00B3\u00D6\u00DC\u0385\u00E0\u00E2\u00E4\u0384\u00A8\u00E7\u00E9\u00E8\u00EA\u00EB\u00A3\u2122\u00EE\u00EF\u2022\u00BD\u2030\u00F4\u00F6\u00A6\u00AD\u00F9\u00FB\u00FC\u2020\u0393\u0394\u0398\u039B\u039E\u03A0\u00DF\u00AE\u00A9\u03A3\u03AA\u00A7\u2260\u00B0\u0387\u0391\u00B1\u2264\u2265\u00A5\u0392\u0395\u0396\u0397\u0399\u039A\u039C\u03A6\u03AB\u03A8\u03A9\u03AC\u039D\u00AC\u039F\u03A1\u2248\u03A4\u00AB\u00BB\u2026\u00A0\u03A5\u03A7\u0386\u0388\u0153\u2013\u2015\u201C\u201D\u2018\u2019\u00F7\u0389\u038A\u038C\u038E\u03AD\u03AE\u03AF\u03CC\u038F\u03CD\u03B1\u03B2\u03C8\u03B4\u03B5\u03C6\u03B3\u03B7\u03B9\u03BE\u03BA\u03BB\u03BC\u03BD\u03BF\u03C0\u03CE\u03C1\u03C3\u03C4\u03B8\u03C9\u03C2\u03C7\u03C5\u03B6\u03CA\u03CB\u0390\u03B0\uFFFD\"\n  },\n  \"maciceland\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u00C4\u00C5\u00C7\u00C9\u00D1\u00D6\u00DC\u00E1\u00E0\u00E2\u00E4\u00E3\u00E5\u00E7\u00E9\u00E8\u00EA\u00EB\u00ED\u00EC\u00EE\u00EF\u00F1\u00F3\u00F2\u00F4\u00F6\u00F5\u00FA\u00F9\u00FB\u00FC\u00DD\u00B0\u00A2\u00A3\u00A7\u2022\u00B6\u00DF\u00AE\u00A9\u2122\u00B4\u00A8\u2260\u00C6\u00D8\u221E\u00B1\u2264\u2265\u00A5\u00B5\u2202\u2211\u220F\u03C0\u222B\u00AA\u00BA\u2126\u00E6\u00F8\u00BF\u00A1\u00AC\u221A\u0192\u2248\u2206\u00AB\u00BB\u2026\u00A0\u00C0\u00C3\u00D5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\u00F7\u25CA\u00FF\u0178\u2044\u00A4\u00D0\u00F0\u00DE\u00FE\u00FD\u00B7\u201A\u201E\u2030\u00C2\u00CA\u00C1\u00CB\u00C8\u00CD\u00CE\u00CF\u00CC\u00D3\u00D4\uFFFD\u00D2\u00DA\u00DB\u00D9\u0131\u02C6\u02DC\u00AF\u02D8\u02D9\u02DA\u00B8\u02DD\u02DB\u02C7\"\n  },\n  \"macroman\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u00C4\u00C5\u00C7\u00C9\u00D1\u00D6\u00DC\u00E1\u00E0\u00E2\u00E4\u00E3\u00E5\u00E7\u00E9\u00E8\u00EA\u00EB\u00ED\u00EC\u00EE\u00EF\u00F1\u00F3\u00F2\u00F4\u00F6\u00F5\u00FA\u00F9\u00FB\u00FC\u2020\u00B0\u00A2\u00A3\u00A7\u2022\u00B6\u00DF\u00AE\u00A9\u2122\u00B4\u00A8\u2260\u00C6\u00D8\u221E\u00B1\u2264\u2265\u00A5\u00B5\u2202\u2211\u220F\u03C0\u222B\u00AA\u00BA\u2126\u00E6\u00F8\u00BF\u00A1\u00AC\u221A\u0192\u2248\u2206\u00AB\u00BB\u2026\u00A0\u00C0\u00C3\u00D5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\u00F7\u25CA\u00FF\u0178\u2044\u00A4\u2039\u203A\uFB01\uFB02\u2021\u00B7\u201A\u201E\u2030\u00C2\u00CA\u00C1\u00CB\u00C8\u00CD\u00CE\u00CF\u00CC\u00D3\u00D4\uFFFD\u00D2\u00DA\u00DB\u00D9\u0131\u02C6\u02DC\u00AF\u02D8\u02D9\u02DA\u00B8\u02DD\u02DB\u02C7\"\n  },\n  \"macromania\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u00C4\u00C5\u00C7\u00C9\u00D1\u00D6\u00DC\u00E1\u00E0\u00E2\u00E4\u00E3\u00E5\u00E7\u00E9\u00E8\u00EA\u00EB\u00ED\u00EC\u00EE\u00EF\u00F1\u00F3\u00F2\u00F4\u00F6\u00F5\u00FA\u00F9\u00FB\u00FC\u2020\u00B0\u00A2\u00A3\u00A7\u2022\u00B6\u00DF\u00AE\u00A9\u2122\u00B4\u00A8\u2260\u0102\u015E\u221E\u00B1\u2264\u2265\u00A5\u00B5\u2202\u2211\u220F\u03C0\u222B\u00AA\u00BA\u2126\u0103\u015F\u00BF\u00A1\u00AC\u221A\u0192\u2248\u2206\u00AB\u00BB\u2026\u00A0\u00C0\u00C3\u00D5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\u00F7\u25CA\u00FF\u0178\u2044\u00A4\u2039\u203A\u0162\u0163\u2021\u00B7\u201A\u201E\u2030\u00C2\u00CA\u00C1\u00CB\u00C8\u00CD\u00CE\u00CF\u00CC\u00D3\u00D4\uFFFD\u00D2\u00DA\u00DB\u00D9\u0131\u02C6\u02DC\u00AF\u02D8\u02D9\u02DA\u00B8\u02DD\u02DB\u02C7\"\n  },\n  \"macthai\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u00AB\u00BB\u2026\uF88C\uF88F\uF892\uF895\uF898\uF88B\uF88E\uF891\uF894\uF897\u201C\u201D\uF899\uFFFD\u2022\uF884\uF889\uF885\uF886\uF887\uF888\uF88A\uF88D\uF890\uF893\uF896\u2018\u2019\uFFFD\u00A0\u0E01\u0E02\u0E03\u0E04\u0E05\u0E06\u0E07\u0E08\u0E09\u0E0A\u0E0B\u0E0C\u0E0D\u0E0E\u0E0F\u0E10\u0E11\u0E12\u0E13\u0E14\u0E15\u0E16\u0E17\u0E18\u0E19\u0E1A\u0E1B\u0E1C\u0E1D\u0E1E\u0E1F\u0E20\u0E21\u0E22\u0E23\u0E24\u0E25\u0E26\u0E27\u0E28\u0E29\u0E2A\u0E2B\u0E2C\u0E2D\u0E2E\u0E2F\u0E30\u0E31\u0E32\u0E33\u0E34\u0E35\u0E36\u0E37\u0E38\u0E39\u0E3A\uFEFF\u200B\u2013\u2014\u0E3F\u0E40\u0E41\u0E42\u0E43\u0E44\u0E45\u0E46\u0E47\u0E48\u0E49\u0E4A\u0E4B\u0E4C\u0E4D\u2122\u0E4F\u0E50\u0E51\u0E52\u0E53\u0E54\u0E55\u0E56\u0E57\u0E58\u0E59\u00AE\u00A9\uFFFD\uFFFD\uFFFD\uFFFD\"\n  },\n  \"macturkish\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u00C4\u00C5\u00C7\u00C9\u00D1\u00D6\u00DC\u00E1\u00E0\u00E2\u00E4\u00E3\u00E5\u00E7\u00E9\u00E8\u00EA\u00EB\u00ED\u00EC\u00EE\u00EF\u00F1\u00F3\u00F2\u00F4\u00F6\u00F5\u00FA\u00F9\u00FB\u00FC\u2020\u00B0\u00A2\u00A3\u00A7\u2022\u00B6\u00DF\u00AE\u00A9\u2122\u00B4\u00A8\u2260\u00C6\u00D8\u221E\u00B1\u2264\u2265\u00A5\u00B5\u2202\u2211\u220F\u03C0\u222B\u00AA\u00BA\u2126\u00E6\u00F8\u00BF\u00A1\u00AC\u221A\u0192\u2248\u2206\u00AB\u00BB\u2026\u00A0\u00C0\u00C3\u00D5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\u00F7\u25CA\u00FF\u0178\u011E\u011F\u0130\u0131\u015E\u015F\u2021\u00B7\u201A\u201E\u2030\u00C2\u00CA\u00C1\u00CB\u00C8\u00CD\u00CE\u00CF\u00CC\u00D3\u00D4\uFFFD\u00D2\u00DA\u00DB\u00D9\uFFFD\u02C6\u02DC\u00AF\u02D8\u02D9\u02DA\u00B8\u02DD\u02DB\u02C7\"\n  },\n  \"macukraine\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041A\u041B\u041C\u041D\u041E\u041F\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042A\u042B\u042C\u042D\u042E\u042F\u2020\u00B0\u0490\u00A3\u00A7\u2022\u00B6\u0406\u00AE\u00A9\u2122\u0402\u0452\u2260\u0403\u0453\u221E\u00B1\u2264\u2265\u0456\u00B5\u0491\u0408\u0404\u0454\u0407\u0457\u0409\u0459\u040A\u045A\u0458\u0405\u00AC\u221A\u0192\u2248\u2206\u00AB\u00BB\u2026\u00A0\u040B\u045B\u040C\u045C\u0455\u2013\u2014\u201C\u201D\u2018\u2019\u00F7\u201E\u040E\u045E\u040F\u045F\u2116\u0401\u0451\u044F\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043A\u043B\u043C\u043D\u043E\u043F\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044A\u044B\u044C\u044D\u044E\u00A4\"\n  },\n  \"koi8r\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u2500\u2502\u250C\u2510\u2514\u2518\u251C\u2524\u252C\u2534\u253C\u2580\u2584\u2588\u258C\u2590\u2591\u2592\u2593\u2320\u25A0\u2219\u221A\u2248\u2264\u2265\u00A0\u2321\u00B0\u00B2\u00B7\u00F7\u2550\u2551\u2552\u0451\u2553\u2554\u2555\u2556\u2557\u2558\u2559\u255A\u255B\u255C\u255D\u255E\u255F\u2560\u2561\u0401\u2562\u2563\u2564\u2565\u2566\u2567\u2568\u2569\u256A\u256B\u256C\u00A9\u044E\u0430\u0431\u0446\u0434\u0435\u0444\u0433\u0445\u0438\u0439\u043A\u043B\u043C\u043D\u043E\u043F\u044F\u0440\u0441\u0442\u0443\u0436\u0432\u044C\u044B\u0437\u0448\u044D\u0449\u0447\u044A\u042E\u0410\u0411\u0426\u0414\u0415\u0424\u0413\u0425\u0418\u0419\u041A\u041B\u041C\u041D\u041E\u041F\u042F\u0420\u0421\u0422\u0423\u0416\u0412\u042C\u042B\u0417\u0428\u042D\u0429\u0427\u042A\"\n  },\n  \"koi8u\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u2500\u2502\u250C\u2510\u2514\u2518\u251C\u2524\u252C\u2534\u253C\u2580\u2584\u2588\u258C\u2590\u2591\u2592\u2593\u2320\u25A0\u2219\u221A\u2248\u2264\u2265\u00A0\u2321\u00B0\u00B2\u00B7\u00F7\u2550\u2551\u2552\u0451\u0454\u2554\u0456\u0457\u2557\u2558\u2559\u255A\u255B\u0491\u255D\u255E\u255F\u2560\u2561\u0401\u0404\u2563\u0406\u0407\u2566\u2567\u2568\u2569\u256A\u0490\u256C\u00A9\u044E\u0430\u0431\u0446\u0434\u0435\u0444\u0433\u0445\u0438\u0439\u043A\u043B\u043C\u043D\u043E\u043F\u044F\u0440\u0441\u0442\u0443\u0436\u0432\u044C\u044B\u0437\u0448\u044D\u0449\u0447\u044A\u042E\u0410\u0411\u0426\u0414\u0415\u0424\u0413\u0425\u0418\u0419\u041A\u041B\u041C\u041D\u041E\u041F\u042F\u0420\u0421\u0422\u0423\u0416\u0412\u042C\u042B\u0417\u0428\u042D\u0429\u0427\u042A\"\n  },\n  \"koi8ru\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u2500\u2502\u250C\u2510\u2514\u2518\u251C\u2524\u252C\u2534\u253C\u2580\u2584\u2588\u258C\u2590\u2591\u2592\u2593\u2320\u25A0\u2219\u221A\u2248\u2264\u2265\u00A0\u2321\u00B0\u00B2\u00B7\u00F7\u2550\u2551\u2552\u0451\u0454\u2554\u0456\u0457\u2557\u2558\u2559\u255A\u255B\u0491\u045E\u255E\u255F\u2560\u2561\u0401\u0404\u2563\u0406\u0407\u2566\u2567\u2568\u2569\u256A\u0490\u040E\u00A9\u044E\u0430\u0431\u0446\u0434\u0435\u0444\u0433\u0445\u0438\u0439\u043A\u043B\u043C\u043D\u043E\u043F\u044F\u0440\u0441\u0442\u0443\u0436\u0432\u044C\u044B\u0437\u0448\u044D\u0449\u0447\u044A\u042E\u0410\u0411\u0426\u0414\u0415\u0424\u0413\u0425\u0418\u0419\u041A\u041B\u041C\u041D\u041E\u041F\u042F\u0420\u0421\u0422\u0423\u0416\u0412\u042C\u042B\u0417\u0428\u042D\u0429\u0427\u042A\"\n  },\n  \"koi8t\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u049B\u0493\u201A\u0492\u201E\u2026\u2020\u2021\uFFFD\u2030\u04B3\u2039\u04B2\u04B7\u04B6\uFFFD\u049A\u2018\u2019\u201C\u201D\u2022\u2013\u2014\uFFFD\u2122\uFFFD\u203A\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\u04EF\u04EE\u0451\u00A4\u04E3\u00A6\u00A7\uFFFD\uFFFD\uFFFD\u00AB\u00AC\u00AD\u00AE\uFFFD\u00B0\u00B1\u00B2\u0401\uFFFD\u04E2\u00B6\u00B7\uFFFD\u2116\uFFFD\u00BB\uFFFD\uFFFD\uFFFD\u00A9\u044E\u0430\u0431\u0446\u0434\u0435\u0444\u0433\u0445\u0438\u0439\u043A\u043B\u043C\u043D\u043E\u043F\u044F\u0440\u0441\u0442\u0443\u0436\u0432\u044C\u044B\u0437\u0448\u044D\u0449\u0447\u044A\u042E\u0410\u0411\u0426\u0414\u0415\u0424\u0413\u0425\u0418\u0419\u041A\u041B\u041C\u041D\u041E\u041F\u042F\u0420\u0421\u0422\u0423\u0416\u0412\u042C\u042B\u0417\u0428\u042D\u0429\u0427\u042A\"\n  },\n  \"armscii8\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u0080\u0081\u0082\u0083\u0084\u0085\u0086\u0087\u0088\u0089\u008A\u008B\u008C\u008D\u008E\u008F\u0090\u0091\u0092\u0093\u0094\u0095\u0096\u0097\u0098\u0099\u009A\u009B\u009C\u009D\u009E\u009F\u00A0\uFFFD\u0587\u0589)(\u00BB\u00AB\u2014.\u055D,-\u058A\u2026\u055C\u055B\u055E\u0531\u0561\u0532\u0562\u0533\u0563\u0534\u0564\u0535\u0565\u0536\u0566\u0537\u0567\u0538\u0568\u0539\u0569\u053A\u056A\u053B\u056B\u053C\u056C\u053D\u056D\u053E\u056E\u053F\u056F\u0540\u0570\u0541\u0571\u0542\u0572\u0543\u0573\u0544\u0574\u0545\u0575\u0546\u0576\u0547\u0577\u0548\u0578\u0549\u0579\u054A\u057A\u054B\u057B\u054C\u057C\u054D\u057D\u054E\u057E\u054F\u057F\u0550\u0580\u0551\u0581\u0552\u0582\u0553\u0583\u0554\u0584\u0555\u0585\u0556\u0586\u055A\uFFFD\"\n  },\n  \"rk1048\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u0402\u0403\u201A\u0453\u201E\u2026\u2020\u2021\u20AC\u2030\u0409\u2039\u040A\u049A\u04BA\u040F\u0452\u2018\u2019\u201C\u201D\u2022\u2013\u2014\uFFFD\u2122\u0459\u203A\u045A\u049B\u04BB\u045F\u00A0\u04B0\u04B1\u04D8\u00A4\u04E8\u00A6\u00A7\u0401\u00A9\u0492\u00AB\u00AC\u00AD\u00AE\u04AE\u00B0\u00B1\u0406\u0456\u04E9\u00B5\u00B6\u00B7\u0451\u2116\u0493\u00BB\u04D9\u04A2\u04A3\u04AF\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041A\u041B\u041C\u041D\u041E\u041F\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042A\u042B\u042C\u042D\u042E\u042F\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043A\u043B\u043C\u043D\u043E\u043F\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044A\u044B\u044C\u044D\u044E\u044F\"\n  },\n  \"tcvn\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\\u0000\u00DA\u1EE4\\u0003\u1EEA\u1EEC\u1EEE\\u0007\\b\\t\\n\\u000b\\f\\r\\u000e\\u000f\\u0010\u1EE8\u1EF0\u1EF2\u1EF6\u1EF8\u00DD\u1EF4\\u0018\\u0019\\u001a\\u001b\\u001c\\u001d\\u001e\\u001f !\\\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\u007F\u00C0\u1EA2\u00C3\u00C1\u1EA0\u1EB6\u1EAC\u00C8\u1EBA\u1EBC\u00C9\u1EB8\u1EC6\u00CC\u1EC8\u0128\u00CD\u1ECA\u00D2\u1ECE\u00D5\u00D3\u1ECC\u1ED8\u1EDC\u1EDE\u1EE0\u1EDA\u1EE2\u00D9\u1EE6\u0168\u00A0\u0102\u00C2\u00CA\u00D4\u01A0\u01AF\u0110\u0103\u00E2\u00EA\u00F4\u01A1\u01B0\u0111\u1EB0\u0300\u0309\u0303\u0301\u0323\u00E0\u1EA3\u00E3\u00E1\u1EA1\u1EB2\u1EB1\u1EB3\u1EB5\u1EAF\u1EB4\u1EAE\u1EA6\u1EA8\u1EAA\u1EA4\u1EC0\u1EB7\u1EA7\u1EA9\u1EAB\u1EA5\u1EAD\u00E8\u1EC2\u1EBB\u1EBD\u00E9\u1EB9\u1EC1\u1EC3\u1EC5\u1EBF\u1EC7\u00EC\u1EC9\u1EC4\u1EBE\u1ED2\u0129\u00ED\u1ECB\u00F2\u1ED4\u1ECF\u00F5\u00F3\u1ECD\u1ED3\u1ED5\u1ED7\u1ED1\u1ED9\u1EDD\u1EDF\u1EE1\u1EDB\u1EE3\u00F9\u1ED6\u1EE7\u0169\u00FA\u1EE5\u1EEB\u1EED\u1EEF\u1EE9\u1EF1\u1EF3\u1EF7\u1EF9\u00FD\u1EF5\u1ED0\"\n  },\n  \"georgianacademy\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u0080\u0081\u201A\u0192\u201E\u2026\u2020\u2021\u02C6\u2030\u0160\u2039\u0152\u008D\u008E\u008F\u0090\u2018\u2019\u201C\u201D\u2022\u2013\u2014\u02DC\u2122\u0161\u203A\u0153\u009D\u009E\u0178\u00A0\u00A1\u00A2\u00A3\u00A4\u00A5\u00A6\u00A7\u00A8\u00A9\u00AA\u00AB\u00AC\u00AD\u00AE\u00AF\u00B0\u00B1\u00B2\u00B3\u00B4\u00B5\u00B6\u00B7\u00B8\u00B9\u00BA\u00BB\u00BC\u00BD\u00BE\u00BF\u10D0\u10D1\u10D2\u10D3\u10D4\u10D5\u10D6\u10D7\u10D8\u10D9\u10DA\u10DB\u10DC\u10DD\u10DE\u10DF\u10E0\u10E1\u10E2\u10E3\u10E4\u10E5\u10E6\u10E7\u10E8\u10E9\u10EA\u10EB\u10EC\u10ED\u10EE\u10EF\u10F0\u10F1\u10F2\u10F3\u10F4\u10F5\u10F6\u00E7\u00E8\u00E9\u00EA\u00EB\u00EC\u00ED\u00EE\u00EF\u00F0\u00F1\u00F2\u00F3\u00F4\u00F5\u00F6\u00F7\u00F8\u00F9\u00FA\u00FB\u00FC\u00FD\u00FE\u00FF\"\n  },\n  \"georgianps\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u0080\u0081\u201A\u0192\u201E\u2026\u2020\u2021\u02C6\u2030\u0160\u2039\u0152\u008D\u008E\u008F\u0090\u2018\u2019\u201C\u201D\u2022\u2013\u2014\u02DC\u2122\u0161\u203A\u0153\u009D\u009E\u0178\u00A0\u00A1\u00A2\u00A3\u00A4\u00A5\u00A6\u00A7\u00A8\u00A9\u00AA\u00AB\u00AC\u00AD\u00AE\u00AF\u00B0\u00B1\u00B2\u00B3\u00B4\u00B5\u00B6\u00B7\u00B8\u00B9\u00BA\u00BB\u00BC\u00BD\u00BE\u00BF\u10D0\u10D1\u10D2\u10D3\u10D4\u10D5\u10D6\u10F1\u10D7\u10D8\u10D9\u10DA\u10DB\u10DC\u10F2\u10DD\u10DE\u10DF\u10E0\u10E1\u10E2\u10F3\u10E3\u10E4\u10E5\u10E6\u10E7\u10E8\u10E9\u10EA\u10EB\u10EC\u10ED\u10EE\u10F4\u10EF\u10F0\u10F5\u00E6\u00E7\u00E8\u00E9\u00EA\u00EB\u00EC\u00ED\u00EE\u00EF\u00F0\u00F1\u00F2\u00F3\u00F4\u00F5\u00F6\u00F7\u00F8\u00F9\u00FA\u00FB\u00FC\u00FD\u00FE\u00FF\"\n  },\n  \"pt154\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u0496\u0492\u04EE\u0493\u201E\u2026\u04B6\u04AE\u04B2\u04AF\u04A0\u04E2\u04A2\u049A\u04BA\u04B8\u0497\u2018\u2019\u201C\u201D\u2022\u2013\u2014\u04B3\u04B7\u04A1\u04E3\u04A3\u049B\u04BB\u04B9\u00A0\u040E\u045E\u0408\u04E8\u0498\u04B0\u00A7\u0401\u00A9\u04D8\u00AB\u00AC\u04EF\u00AE\u049C\u00B0\u04B1\u0406\u0456\u0499\u04E9\u00B6\u00B7\u0451\u2116\u04D9\u00BB\u0458\u04AA\u04AB\u049D\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041A\u041B\u041C\u041D\u041E\u041F\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042A\u042B\u042C\u042D\u042E\u042F\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043A\u043B\u043C\u043D\u043E\u043F\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044A\u044B\u044C\u044D\u044E\u044F\"\n  },\n  \"viscii\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\\u0000\\u0001\u1EB2\\u0003\\u0004\u1EB4\u1EAA\\u0007\\b\\t\\n\\u000b\\f\\r\\u000e\\u000f\\u0010\\u0011\\u0012\\u0013\u1EF6\\u0015\\u0016\\u0017\\u0018\u1EF8\\u001a\\u001b\\u001c\\u001d\u1EF4\\u001f !\\\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\u007F\u1EA0\u1EAE\u1EB0\u1EB6\u1EA4\u1EA6\u1EA8\u1EAC\u1EBC\u1EB8\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EE2\u1EDA\u1EDC\u1EDE\u1ECA\u1ECE\u1ECC\u1EC8\u1EE6\u0168\u1EE4\u1EF2\u00D5\u1EAF\u1EB1\u1EB7\u1EA5\u1EA7\u1EA9\u1EAD\u1EBD\u1EB9\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1ED1\u1ED3\u1ED5\u1ED7\u1EE0\u01A0\u1ED9\u1EDD\u1EDF\u1ECB\u1EF0\u1EE8\u1EEA\u1EEC\u01A1\u1EDB\u01AF\u00C0\u00C1\u00C2\u00C3\u1EA2\u0102\u1EB3\u1EB5\u00C8\u00C9\u00CA\u1EBA\u00CC\u00CD\u0128\u1EF3\u0110\u1EE9\u00D2\u00D3\u00D4\u1EA1\u1EF7\u1EEB\u1EED\u00D9\u00DA\u1EF9\u1EF5\u00DD\u1EE1\u01B0\u00E0\u00E1\u00E2\u00E3\u1EA3\u0103\u1EEF\u1EAB\u00E8\u00E9\u00EA\u1EBB\u00EC\u00ED\u0129\u1EC9\u0111\u1EF1\u00F2\u00F3\u00F4\u00F5\u1ECF\u1ECD\u1EE5\u00F9\u00FA\u0169\u1EE7\u00FD\u1EE3\u1EEE\"\n  },\n  \"iso646cn\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\\u0000\\u0001\\u0002\\u0003\\u0004\\u0005\\u0006\\u0007\\b\\t\\n\\u000b\\f\\r\\u000e\\u000f\\u0010\\u0011\\u0012\\u0013\\u0014\\u0015\\u0016\\u0017\\u0018\\u0019\\u001a\\u001b\\u001c\\u001d\\u001e\\u001f !\\\"#\u00A5%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}\u203E\u007F\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\"\n  },\n  \"iso646jp\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\\u0000\\u0001\\u0002\\u0003\\u0004\\u0005\\u0006\\u0007\\b\\t\\n\\u000b\\f\\r\\u000e\\u000f\\u0010\\u0011\\u0012\\u0013\\u0014\\u0015\\u0016\\u0017\\u0018\\u0019\\u001a\\u001b\\u001c\\u001d\\u001e\\u001f !\\\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\u00A5]^_`abcdefghijklmnopqrstuvwxyz{|}\u203E\u007F\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\"\n  },\n  \"hproman8\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u0080\u0081\u0082\u0083\u0084\u0085\u0086\u0087\u0088\u0089\u008A\u008B\u008C\u008D\u008E\u008F\u0090\u0091\u0092\u0093\u0094\u0095\u0096\u0097\u0098\u0099\u009A\u009B\u009C\u009D\u009E\u009F\u00A0\u00C0\u00C2\u00C8\u00CA\u00CB\u00CE\u00CF\u00B4\u02CB\u02C6\u00A8\u02DC\u00D9\u00DB\u20A4\u00AF\u00DD\u00FD\u00B0\u00C7\u00E7\u00D1\u00F1\u00A1\u00BF\u00A4\u00A3\u00A5\u00A7\u0192\u00A2\u00E2\u00EA\u00F4\u00FB\u00E1\u00E9\u00F3\u00FA\u00E0\u00E8\u00F2\u00F9\u00E4\u00EB\u00F6\u00FC\u00C5\u00EE\u00D8\u00C6\u00E5\u00ED\u00F8\u00E6\u00C4\u00EC\u00D6\u00DC\u00C9\u00EF\u00DF\u00D4\u00C1\u00C3\u00E3\u00D0\u00F0\u00CD\u00CC\u00D3\u00D2\u00D5\u00F5\u0160\u0161\u00DA\u0178\u00FF\u00DE\u00FE\u00B7\u00B5\u00B6\u00BE\u2014\u00BC\u00BD\u00AA\u00BA\u00AB\u25A0\u00BB\u00B1\uFFFD\"\n  },\n  \"macintosh\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\u00C4\u00C5\u00C7\u00C9\u00D1\u00D6\u00DC\u00E1\u00E0\u00E2\u00E4\u00E3\u00E5\u00E7\u00E9\u00E8\u00EA\u00EB\u00ED\u00EC\u00EE\u00EF\u00F1\u00F3\u00F2\u00F4\u00F6\u00F5\u00FA\u00F9\u00FB\u00FC\u2020\u00B0\u00A2\u00A3\u00A7\u2022\u00B6\u00DF\u00AE\u00A9\u2122\u00B4\u00A8\u2260\u00C6\u00D8\u221E\u00B1\u2264\u2265\u00A5\u00B5\u2202\u2211\u220F\u03C0\u222B\u00AA\u00BA\u2126\u00E6\u00F8\u00BF\u00A1\u00AC\u221A\u0192\u2248\u2206\u00AB\u00BB\u2026\u00A0\u00C0\u00C3\u00D5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\u00F7\u25CA\u00FF\u0178\u2044\u00A4\u2039\u203A\uFB01\uFB02\u2021\u00B7\u201A\u201E\u2030\u00C2\u00CA\u00C1\u00CB\u00C8\u00CD\u00CE\u00CF\u00CC\u00D3\u00D4\uFFFD\u00D2\u00DA\u00DB\u00D9\u0131\u02C6\u02DC\u00AF\u02D8\u02D9\u02DA\u00B8\u02DD\u02DB\u02C7\"\n  },\n  \"ascii\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\"\n  },\n  \"tis620\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\u0E01\u0E02\u0E03\u0E04\u0E05\u0E06\u0E07\u0E08\u0E09\u0E0A\u0E0B\u0E0C\u0E0D\u0E0E\u0E0F\u0E10\u0E11\u0E12\u0E13\u0E14\u0E15\u0E16\u0E17\u0E18\u0E19\u0E1A\u0E1B\u0E1C\u0E1D\u0E1E\u0E1F\u0E20\u0E21\u0E22\u0E23\u0E24\u0E25\u0E26\u0E27\u0E28\u0E29\u0E2A\u0E2B\u0E2C\u0E2D\u0E2E\u0E2F\u0E30\u0E31\u0E32\u0E33\u0E34\u0E35\u0E36\u0E37\u0E38\u0E39\u0E3A\uFFFD\uFFFD\uFFFD\uFFFD\u0E3F\u0E40\u0E41\u0E42\u0E43\u0E44\u0E45\u0E46\u0E47\u0E48\u0E49\u0E4A\u0E4B\u0E4C\u0E4D\u0E4E\u0E4F\u0E50\u0E51\u0E52\u0E53\u0E54\u0E55\u0E56\u0E57\u0E58\u0E59\u0E5A\u0E5B\uFFFD\uFFFD\uFFFD\uFFFD\"\n  }\n}", "\"use strict\";\nvar Buffer = require(\"safer-buffer\").Buffer;\n\n// Multibyte codec. In this scheme, a character is represented by 1 or more bytes.\n// Our codec supports UTF-16 surrogates, extensions for GB18030 and unicode sequences.\n// To save memory and loading time, we read table files only when requested.\n\nexports._dbcs = DBCSCodec;\n\nvar UNASSIGNED = -1,\n    GB18030_CODE = -2,\n    SEQ_START  = -10,\n    NODE_START = -1000,\n    UNASSIGNED_NODE = new Array(0x100),\n    DEF_CHAR = -1;\n\nfor (var i = 0; i < 0x100; i++)\n    UNASSIGNED_NODE[i] = UNASSIGNED;\n\n\n// Class DBCSCodec reads and initializes mapping tables.\nfunction DBCSCodec(codecOptions, iconv) {\n    this.encodingName = codecOptions.encodingName;\n    if (!codecOptions)\n        throw new Error(\"DBCS codec is called without the data.\")\n    if (!codecOptions.table)\n        throw new Error(\"Encoding '\" + this.encodingName + \"' has no data.\");\n\n    // Load tables.\n    var mappingTable = codecOptions.table();\n\n\n    // Decode tables: MBCS -> Unicode.\n\n    // decodeTables is a trie, encoded as an array of arrays of integers. Internal arrays are trie nodes and all have len = 256.\n    // Trie root is decodeTables[0].\n    // Values: >=  0 -> unicode character code. can be > 0xFFFF\n    //         == UNASSIGNED -> unknown/unassigned sequence.\n    //         == GB18030_CODE -> this is the end of a GB18030 4-byte sequence.\n    //         <= NODE_START -> index of the next node in our trie to process next byte.\n    //         <= SEQ_START  -> index of the start of a character code sequence, in decodeTableSeq.\n    this.decodeTables = [];\n    this.decodeTables[0] = UNASSIGNED_NODE.slice(0); // Create root node.\n\n    // Sometimes a MBCS char corresponds to a sequence of unicode chars. We store them as arrays of integers here. \n    this.decodeTableSeq = [];\n\n    // Actual mapping tables consist of chunks. Use them to fill up decode tables.\n    for (var i = 0; i < mappingTable.length; i++)\n        this._addDecodeChunk(mappingTable[i]);\n\n    // Load & create GB18030 tables when needed.\n    if (typeof codecOptions.gb18030 === 'function') {\n        this.gb18030 = codecOptions.gb18030(); // Load GB18030 ranges.\n\n        // Add GB18030 common decode nodes.\n        var commonThirdByteNodeIdx = this.decodeTables.length;\n        this.decodeTables.push(UNASSIGNED_NODE.slice(0));\n\n        var commonFourthByteNodeIdx = this.decodeTables.length;\n        this.decodeTables.push(UNASSIGNED_NODE.slice(0));\n\n        // Fill out the tree\n        var firstByteNode = this.decodeTables[0];\n        for (var i = 0x81; i <= 0xFE; i++) {\n            var secondByteNode = this.decodeTables[NODE_START - firstByteNode[i]];\n            for (var j = 0x30; j <= 0x39; j++) {\n                if (secondByteNode[j] === UNASSIGNED) {\n                    secondByteNode[j] = NODE_START - commonThirdByteNodeIdx;\n                } else if (secondByteNode[j] > NODE_START) {\n                    throw new Error(\"gb18030 decode tables conflict at byte 2\");\n                }\n\n                var thirdByteNode = this.decodeTables[NODE_START - secondByteNode[j]];\n                for (var k = 0x81; k <= 0xFE; k++) {\n                    if (thirdByteNode[k] === UNASSIGNED) {\n                        thirdByteNode[k] = NODE_START - commonFourthByteNodeIdx;\n                    } else if (thirdByteNode[k] === NODE_START - commonFourthByteNodeIdx) {\n                        continue;\n                    } else if (thirdByteNode[k] > NODE_START) {\n                        throw new Error(\"gb18030 decode tables conflict at byte 3\");\n                    }\n\n                    var fourthByteNode = this.decodeTables[NODE_START - thirdByteNode[k]];\n                    for (var l = 0x30; l <= 0x39; l++) {\n                        if (fourthByteNode[l] === UNASSIGNED)\n                            fourthByteNode[l] = GB18030_CODE;\n                    }\n                }\n            }\n        }\n    }\n\n    this.defaultCharUnicode = iconv.defaultCharUnicode;\n\n    \n    // Encode tables: Unicode -> DBCS.\n\n    // `encodeTable` is array mapping from unicode char to encoded char. All its values are integers for performance.\n    // Because it can be sparse, it is represented as array of buckets by 256 chars each. Bucket can be null.\n    // Values: >=  0 -> it is a normal char. Write the value (if <=256 then 1 byte, if <=65536 then 2 bytes, etc.).\n    //         == UNASSIGNED -> no conversion found. Output a default char.\n    //         <= SEQ_START  -> it's an index in encodeTableSeq, see below. The character starts a sequence.\n    this.encodeTable = [];\n    \n    // `encodeTableSeq` is used when a sequence of unicode characters is encoded as a single code. We use a tree of\n    // objects where keys correspond to characters in sequence and leafs are the encoded dbcs values. A special DEF_CHAR key\n    // means end of sequence (needed when one sequence is a strict subsequence of another).\n    // Objects are kept separately from encodeTable to increase performance.\n    this.encodeTableSeq = [];\n\n    // Some chars can be decoded, but need not be encoded.\n    var skipEncodeChars = {};\n    if (codecOptions.encodeSkipVals)\n        for (var i = 0; i < codecOptions.encodeSkipVals.length; i++) {\n            var val = codecOptions.encodeSkipVals[i];\n            if (typeof val === 'number')\n                skipEncodeChars[val] = true;\n            else\n                for (var j = val.from; j <= val.to; j++)\n                    skipEncodeChars[j] = true;\n        }\n        \n    // Use decode trie to recursively fill out encode tables.\n    this._fillEncodeTable(0, 0, skipEncodeChars);\n\n    // Add more encoding pairs when needed.\n    if (codecOptions.encodeAdd) {\n        for (var uChar in codecOptions.encodeAdd)\n            if (Object.prototype.hasOwnProperty.call(codecOptions.encodeAdd, uChar))\n                this._setEncodeChar(uChar.charCodeAt(0), codecOptions.encodeAdd[uChar]);\n    }\n\n    this.defCharSB  = this.encodeTable[0][iconv.defaultCharSingleByte.charCodeAt(0)];\n    if (this.defCharSB === UNASSIGNED) this.defCharSB = this.encodeTable[0]['?'];\n    if (this.defCharSB === UNASSIGNED) this.defCharSB = \"?\".charCodeAt(0);\n}\n\nDBCSCodec.prototype.encoder = DBCSEncoder;\nDBCSCodec.prototype.decoder = DBCSDecoder;\n\n// Decoder helpers\nDBCSCodec.prototype._getDecodeTrieNode = function(addr) {\n    var bytes = [];\n    for (; addr > 0; addr >>>= 8)\n        bytes.push(addr & 0xFF);\n    if (bytes.length == 0)\n        bytes.push(0);\n\n    var node = this.decodeTables[0];\n    for (var i = bytes.length-1; i > 0; i--) { // Traverse nodes deeper into the trie.\n        var val = node[bytes[i]];\n\n        if (val == UNASSIGNED) { // Create new node.\n            node[bytes[i]] = NODE_START - this.decodeTables.length;\n            this.decodeTables.push(node = UNASSIGNED_NODE.slice(0));\n        }\n        else if (val <= NODE_START) { // Existing node.\n            node = this.decodeTables[NODE_START - val];\n        }\n        else\n            throw new Error(\"Overwrite byte in \" + this.encodingName + \", addr: \" + addr.toString(16));\n    }\n    return node;\n}\n\n\nDBCSCodec.prototype._addDecodeChunk = function(chunk) {\n    // First element of chunk is the hex mbcs code where we start.\n    var curAddr = parseInt(chunk[0], 16);\n\n    // Choose the decoding node where we'll write our chars.\n    var writeTable = this._getDecodeTrieNode(curAddr);\n    curAddr = curAddr & 0xFF;\n\n    // Write all other elements of the chunk to the table.\n    for (var k = 1; k < chunk.length; k++) {\n        var part = chunk[k];\n        if (typeof part === \"string\") { // String, write as-is.\n            for (var l = 0; l < part.length;) {\n                var code = part.charCodeAt(l++);\n                if (0xD800 <= code && code < 0xDC00) { // Decode surrogate\n                    var codeTrail = part.charCodeAt(l++);\n                    if (0xDC00 <= codeTrail && codeTrail < 0xE000)\n                        writeTable[curAddr++] = 0x10000 + (code - 0xD800) * 0x400 + (codeTrail - 0xDC00);\n                    else\n                        throw new Error(\"Incorrect surrogate pair in \"  + this.encodingName + \" at chunk \" + chunk[0]);\n                }\n                else if (0x0FF0 < code && code <= 0x0FFF) { // Character sequence (our own encoding used)\n                    var len = 0xFFF - code + 2;\n                    var seq = [];\n                    for (var m = 0; m < len; m++)\n                        seq.push(part.charCodeAt(l++)); // Simple variation: don't support surrogates or subsequences in seq.\n\n                    writeTable[curAddr++] = SEQ_START - this.decodeTableSeq.length;\n                    this.decodeTableSeq.push(seq);\n                }\n                else\n                    writeTable[curAddr++] = code; // Basic char\n            }\n        } \n        else if (typeof part === \"number\") { // Integer, meaning increasing sequence starting with prev character.\n            var charCode = writeTable[curAddr - 1] + 1;\n            for (var l = 0; l < part; l++)\n                writeTable[curAddr++] = charCode++;\n        }\n        else\n            throw new Error(\"Incorrect type '\" + typeof part + \"' given in \"  + this.encodingName + \" at chunk \" + chunk[0]);\n    }\n    if (curAddr > 0xFF)\n        throw new Error(\"Incorrect chunk in \"  + this.encodingName + \" at addr \" + chunk[0] + \": too long\" + curAddr);\n}\n\n// Encoder helpers\nDBCSCodec.prototype._getEncodeBucket = function(uCode) {\n    var high = uCode >> 8; // This could be > 0xFF because of astral characters.\n    if (this.encodeTable[high] === undefined)\n        this.encodeTable[high] = UNASSIGNED_NODE.slice(0); // Create bucket on demand.\n    return this.encodeTable[high];\n}\n\nDBCSCodec.prototype._setEncodeChar = function(uCode, dbcsCode) {\n    var bucket = this._getEncodeBucket(uCode);\n    var low = uCode & 0xFF;\n    if (bucket[low] <= SEQ_START)\n        this.encodeTableSeq[SEQ_START-bucket[low]][DEF_CHAR] = dbcsCode; // There's already a sequence, set a single-char subsequence of it.\n    else if (bucket[low] == UNASSIGNED)\n        bucket[low] = dbcsCode;\n}\n\nDBCSCodec.prototype._setEncodeSequence = function(seq, dbcsCode) {\n    \n    // Get the root of character tree according to first character of the sequence.\n    var uCode = seq[0];\n    var bucket = this._getEncodeBucket(uCode);\n    var low = uCode & 0xFF;\n\n    var node;\n    if (bucket[low] <= SEQ_START) {\n        // There's already a sequence with  - use it.\n        node = this.encodeTableSeq[SEQ_START-bucket[low]];\n    }\n    else {\n        // There was no sequence object - allocate a new one.\n        node = {};\n        if (bucket[low] !== UNASSIGNED) node[DEF_CHAR] = bucket[low]; // If a char was set before - make it a single-char subsequence.\n        bucket[low] = SEQ_START - this.encodeTableSeq.length;\n        this.encodeTableSeq.push(node);\n    }\n\n    // Traverse the character tree, allocating new nodes as needed.\n    for (var j = 1; j < seq.length-1; j++) {\n        var oldVal = node[uCode];\n        if (typeof oldVal === 'object')\n            node = oldVal;\n        else {\n            node = node[uCode] = {}\n            if (oldVal !== undefined)\n                node[DEF_CHAR] = oldVal\n        }\n    }\n\n    // Set the leaf to given dbcsCode.\n    uCode = seq[seq.length-1];\n    node[uCode] = dbcsCode;\n}\n\nDBCSCodec.prototype._fillEncodeTable = function(nodeIdx, prefix, skipEncodeChars) {\n    var node = this.decodeTables[nodeIdx];\n    var hasValues = false;\n    var subNodeEmpty = {};\n    for (var i = 0; i < 0x100; i++) {\n        var uCode = node[i];\n        var mbCode = prefix + i;\n        if (skipEncodeChars[mbCode])\n            continue;\n\n        if (uCode >= 0) {\n            this._setEncodeChar(uCode, mbCode);\n            hasValues = true;\n        } else if (uCode <= NODE_START) {\n            var subNodeIdx = NODE_START - uCode;\n            if (!subNodeEmpty[subNodeIdx]) {  // Skip empty subtrees (they are too large in gb18030).\n                var newPrefix = (mbCode << 8) >>> 0;  // NOTE: '>>> 0' keeps 32-bit num positive.\n                if (this._fillEncodeTable(subNodeIdx, newPrefix, skipEncodeChars))\n                    hasValues = true;\n                else\n                    subNodeEmpty[subNodeIdx] = true;\n            }\n        } else if (uCode <= SEQ_START) {\n            this._setEncodeSequence(this.decodeTableSeq[SEQ_START - uCode], mbCode);\n            hasValues = true;\n        }\n    }\n    return hasValues;\n}\n\n\n\n// == Encoder ==================================================================\n\nfunction DBCSEncoder(options, codec) {\n    // Encoder state\n    this.leadSurrogate = -1;\n    this.seqObj = undefined;\n    \n    // Static data\n    this.encodeTable = codec.encodeTable;\n    this.encodeTableSeq = codec.encodeTableSeq;\n    this.defaultCharSingleByte = codec.defCharSB;\n    this.gb18030 = codec.gb18030;\n}\n\nDBCSEncoder.prototype.write = function(str) {\n    var newBuf = Buffer.alloc(str.length * (this.gb18030 ? 4 : 3)),\n        leadSurrogate = this.leadSurrogate,\n        seqObj = this.seqObj, nextChar = -1,\n        i = 0, j = 0;\n\n    while (true) {\n        // 0. Get next character.\n        if (nextChar === -1) {\n            if (i == str.length) break;\n            var uCode = str.charCodeAt(i++);\n        }\n        else {\n            var uCode = nextChar;\n            nextChar = -1;    \n        }\n\n        // 1. Handle surrogates.\n        if (0xD800 <= uCode && uCode < 0xE000) { // Char is one of surrogates.\n            if (uCode < 0xDC00) { // We've got lead surrogate.\n                if (leadSurrogate === -1) {\n                    leadSurrogate = uCode;\n                    continue;\n                } else {\n                    leadSurrogate = uCode;\n                    // Double lead surrogate found.\n                    uCode = UNASSIGNED;\n                }\n            } else { // We've got trail surrogate.\n                if (leadSurrogate !== -1) {\n                    uCode = 0x10000 + (leadSurrogate - 0xD800) * 0x400 + (uCode - 0xDC00);\n                    leadSurrogate = -1;\n                } else {\n                    // Incomplete surrogate pair - only trail surrogate found.\n                    uCode = UNASSIGNED;\n                }\n                \n            }\n        }\n        else if (leadSurrogate !== -1) {\n            // Incomplete surrogate pair - only lead surrogate found.\n            nextChar = uCode; uCode = UNASSIGNED; // Write an error, then current char.\n            leadSurrogate = -1;\n        }\n\n        // 2. Convert uCode character.\n        var dbcsCode = UNASSIGNED;\n        if (seqObj !== undefined && uCode != UNASSIGNED) { // We are in the middle of the sequence\n            var resCode = seqObj[uCode];\n            if (typeof resCode === 'object') { // Sequence continues.\n                seqObj = resCode;\n                continue;\n\n            } else if (typeof resCode == 'number') { // Sequence finished. Write it.\n                dbcsCode = resCode;\n\n            } else if (resCode == undefined) { // Current character is not part of the sequence.\n\n                // Try default character for this sequence\n                resCode = seqObj[DEF_CHAR];\n                if (resCode !== undefined) {\n                    dbcsCode = resCode; // Found. Write it.\n                    nextChar = uCode; // Current character will be written too in the next iteration.\n\n                } else {\n                    // TODO: What if we have no default? (resCode == undefined)\n                    // Then, we should write first char of the sequence as-is and try the rest recursively.\n                    // Didn't do it for now because no encoding has this situation yet.\n                    // Currently, just skip the sequence and write current char.\n                }\n            }\n            seqObj = undefined;\n        }\n        else if (uCode >= 0) {  // Regular character\n            var subtable = this.encodeTable[uCode >> 8];\n            if (subtable !== undefined)\n                dbcsCode = subtable[uCode & 0xFF];\n            \n            if (dbcsCode <= SEQ_START) { // Sequence start\n                seqObj = this.encodeTableSeq[SEQ_START-dbcsCode];\n                continue;\n            }\n\n            if (dbcsCode == UNASSIGNED && this.gb18030) {\n                // Use GB18030 algorithm to find character(s) to write.\n                var idx = findIdx(this.gb18030.uChars, uCode);\n                if (idx != -1) {\n                    var dbcsCode = this.gb18030.gbChars[idx] + (uCode - this.gb18030.uChars[idx]);\n                    newBuf[j++] = 0x81 + Math.floor(dbcsCode / 12600); dbcsCode = dbcsCode % 12600;\n                    newBuf[j++] = 0x30 + Math.floor(dbcsCode / 1260); dbcsCode = dbcsCode % 1260;\n                    newBuf[j++] = 0x81 + Math.floor(dbcsCode / 10); dbcsCode = dbcsCode % 10;\n                    newBuf[j++] = 0x30 + dbcsCode;\n                    continue;\n                }\n            }\n        }\n\n        // 3. Write dbcsCode character.\n        if (dbcsCode === UNASSIGNED)\n            dbcsCode = this.defaultCharSingleByte;\n        \n        if (dbcsCode < 0x100) {\n            newBuf[j++] = dbcsCode;\n        }\n        else if (dbcsCode < 0x10000) {\n            newBuf[j++] = dbcsCode >> 8;   // high byte\n            newBuf[j++] = dbcsCode & 0xFF; // low byte\n        }\n        else if (dbcsCode < 0x1000000) {\n            newBuf[j++] = dbcsCode >> 16;\n            newBuf[j++] = (dbcsCode >> 8) & 0xFF;\n            newBuf[j++] = dbcsCode & 0xFF;\n        } else {\n            newBuf[j++] = dbcsCode >>> 24;\n            newBuf[j++] = (dbcsCode >>> 16) & 0xFF;\n            newBuf[j++] = (dbcsCode >>> 8) & 0xFF;\n            newBuf[j++] = dbcsCode & 0xFF;\n        }\n    }\n\n    this.seqObj = seqObj;\n    this.leadSurrogate = leadSurrogate;\n    return newBuf.slice(0, j);\n}\n\nDBCSEncoder.prototype.end = function() {\n    if (this.leadSurrogate === -1 && this.seqObj === undefined)\n        return; // All clean. Most often case.\n\n    var newBuf = Buffer.alloc(10), j = 0;\n\n    if (this.seqObj) { // We're in the sequence.\n        var dbcsCode = this.seqObj[DEF_CHAR];\n        if (dbcsCode !== undefined) { // Write beginning of the sequence.\n            if (dbcsCode < 0x100) {\n                newBuf[j++] = dbcsCode;\n            }\n            else {\n                newBuf[j++] = dbcsCode >> 8;   // high byte\n                newBuf[j++] = dbcsCode & 0xFF; // low byte\n            }\n        } else {\n            // See todo above.\n        }\n        this.seqObj = undefined;\n    }\n\n    if (this.leadSurrogate !== -1) {\n        // Incomplete surrogate pair - only lead surrogate found.\n        newBuf[j++] = this.defaultCharSingleByte;\n        this.leadSurrogate = -1;\n    }\n    \n    return newBuf.slice(0, j);\n}\n\n// Export for testing\nDBCSEncoder.prototype.findIdx = findIdx;\n\n\n// == Decoder ==================================================================\n\nfunction DBCSDecoder(options, codec) {\n    // Decoder state\n    this.nodeIdx = 0;\n    this.prevBytes = [];\n\n    // Static data\n    this.decodeTables = codec.decodeTables;\n    this.decodeTableSeq = codec.decodeTableSeq;\n    this.defaultCharUnicode = codec.defaultCharUnicode;\n    this.gb18030 = codec.gb18030;\n}\n\nDBCSDecoder.prototype.write = function(buf) {\n    var newBuf = Buffer.alloc(buf.length*2),\n        nodeIdx = this.nodeIdx, \n        prevBytes = this.prevBytes, prevOffset = this.prevBytes.length,\n        seqStart = -this.prevBytes.length, // idx of the start of current parsed sequence.\n        uCode;\n\n    for (var i = 0, j = 0; i < buf.length; i++) {\n        var curByte = (i >= 0) ? buf[i] : prevBytes[i + prevOffset];\n\n        // Lookup in current trie node.\n        var uCode = this.decodeTables[nodeIdx][curByte];\n\n        if (uCode >= 0) { \n            // Normal character, just use it.\n        }\n        else if (uCode === UNASSIGNED) { // Unknown char.\n            // TODO: Callback with seq.\n            uCode = this.defaultCharUnicode.charCodeAt(0);\n            i = seqStart; // Skip one byte ('i' will be incremented by the for loop) and try to parse again.\n        }\n        else if (uCode === GB18030_CODE) {\n            if (i >= 3) {\n                var ptr = (buf[i-3]-0x81)*12600 + (buf[i-2]-0x30)*1260 + (buf[i-1]-0x81)*10 + (curByte-0x30);\n            } else {\n                var ptr = (prevBytes[i-3+prevOffset]-0x81)*12600 + \n                          (((i-2 >= 0) ? buf[i-2] : prevBytes[i-2+prevOffset])-0x30)*1260 + \n                          (((i-1 >= 0) ? buf[i-1] : prevBytes[i-1+prevOffset])-0x81)*10 + \n                          (curByte-0x30);\n            }\n            var idx = findIdx(this.gb18030.gbChars, ptr);\n            uCode = this.gb18030.uChars[idx] + ptr - this.gb18030.gbChars[idx];\n        }\n        else if (uCode <= NODE_START) { // Go to next trie node.\n            nodeIdx = NODE_START - uCode;\n            continue;\n        }\n        else if (uCode <= SEQ_START) { // Output a sequence of chars.\n            var seq = this.decodeTableSeq[SEQ_START - uCode];\n            for (var k = 0; k < seq.length - 1; k++) {\n                uCode = seq[k];\n                newBuf[j++] = uCode & 0xFF;\n                newBuf[j++] = uCode >> 8;\n            }\n            uCode = seq[seq.length-1];\n        }\n        else\n            throw new Error(\"iconv-lite internal error: invalid decoding table value \" + uCode + \" at \" + nodeIdx + \"/\" + curByte);\n\n        // Write the character to buffer, handling higher planes using surrogate pair.\n        if (uCode >= 0x10000) { \n            uCode -= 0x10000;\n            var uCodeLead = 0xD800 | (uCode >> 10);\n            newBuf[j++] = uCodeLead & 0xFF;\n            newBuf[j++] = uCodeLead >> 8;\n\n            uCode = 0xDC00 | (uCode & 0x3FF);\n        }\n        newBuf[j++] = uCode & 0xFF;\n        newBuf[j++] = uCode >> 8;\n\n        // Reset trie node.\n        nodeIdx = 0; seqStart = i+1;\n    }\n\n    this.nodeIdx = nodeIdx;\n    this.prevBytes = (seqStart >= 0)\n        ? Array.prototype.slice.call(buf, seqStart)\n        : prevBytes.slice(seqStart + prevOffset).concat(Array.prototype.slice.call(buf));\n\n    return newBuf.slice(0, j).toString('ucs2');\n}\n\nDBCSDecoder.prototype.end = function() {\n    var ret = '';\n\n    // Try to parse all remaining chars.\n    while (this.prevBytes.length > 0) {\n        // Skip 1 character in the buffer.\n        ret += this.defaultCharUnicode;\n        var bytesArr = this.prevBytes.slice(1);\n\n        // Parse remaining as usual.\n        this.prevBytes = [];\n        this.nodeIdx = 0;\n        if (bytesArr.length > 0)\n            ret += this.write(bytesArr);\n    }\n\n    this.prevBytes = [];\n    this.nodeIdx = 0;\n    return ret;\n}\n\n// Binary search for GB18030. Returns largest i such that table[i] <= val.\nfunction findIdx(table, val) {\n    if (table[0] > val)\n        return -1;\n\n    var l = 0, r = table.length;\n    while (l < r-1) { // always table[l] <= val < table[r]\n        var mid = l + ((r-l+1) >> 1);\n        if (table[mid] <= val)\n            l = mid;\n        else\n            r = mid;\n    }\n    return l;\n}\n\n", "\"use strict\";\n\n// Description of supported double byte encodings and aliases.\n// Tables are not require()-d until they are needed to speed up library load.\n// require()-s are direct to support Browserify.\n\nmodule.exports = {\n    \n    // == Japanese/ShiftJIS ====================================================\n    // All japanese encodings are based on JIS X set of standards:\n    // JIS X 0201 - Single-byte encoding of ASCII + \u00A5 + Kana chars at 0xA1-0xDF.\n    // JIS X 0208 - Main set of 6879 characters, placed in 94x94 plane, to be encoded by 2 bytes. \n    //              Has several variations in 1978, 1983, 1990 and 1997.\n    // JIS X 0212 - Supplementary plane of 6067 chars in 94x94 plane. 1990. Effectively dead.\n    // JIS X 0213 - Extension and modern replacement of 0208 and 0212. Total chars: 11233.\n    //              2 planes, first is superset of 0208, second - revised 0212.\n    //              Introduced in 2000, revised 2004. Some characters are in Unicode Plane 2 (0x2xxxx)\n\n    // Byte encodings are:\n    //  * Shift_JIS: Compatible with 0201, uses not defined chars in top half as lead bytes for double-byte\n    //               encoding of 0208. Lead byte ranges: 0x81-0x9F, 0xE0-0xEF; Trail byte ranges: 0x40-0x7E, 0x80-0x9E, 0x9F-0xFC.\n    //               Windows CP932 is a superset of Shift_JIS. Some companies added more chars, notably KDDI.\n    //  * EUC-JP:    Up to 3 bytes per character. Used mostly on *nixes.\n    //               0x00-0x7F       - lower part of 0201\n    //               0x8E, 0xA1-0xDF - upper part of 0201\n    //               (0xA1-0xFE)x2   - 0208 plane (94x94).\n    //               0x8F, (0xA1-0xFE)x2 - 0212 plane (94x94).\n    //  * JIS X 208: 7-bit, direct encoding of 0208. Byte ranges: 0x21-0x7E (94 values). Uncommon.\n    //               Used as-is in ISO2022 family.\n    //  * ISO2022-JP: Stateful encoding, with escape sequences to switch between ASCII, \n    //                0201-1976 Roman, 0208-1978, 0208-1983.\n    //  * ISO2022-JP-1: Adds esc seq for 0212-1990.\n    //  * ISO2022-JP-2: Adds esc seq for GB2313-1980, KSX1001-1992, ISO8859-1, ISO8859-7.\n    //  * ISO2022-JP-3: Adds esc seq for 0201-1976 Kana set, 0213-2000 Planes 1, 2.\n    //  * ISO2022-JP-2004: Adds 0213-2004 Plane 1.\n    //\n    // After JIS X 0213 appeared, Shift_JIS-2004, EUC-JISX0213 and ISO2022-JP-2004 followed, with just changing the planes.\n    //\n    // Overall, it seems that it's a mess :( http://www8.plala.or.jp/tkubota1/unicode-symbols-map2.html\n\n    'shiftjis': {\n        type: '_dbcs',\n        table: function() { return require('./tables/shiftjis.json') },\n        encodeAdd: {'\\u00a5': 0x5C, '\\u203E': 0x7E},\n        encodeSkipVals: [{from: 0xED40, to: 0xF940}],\n    },\n    'csshiftjis': 'shiftjis',\n    'mskanji': 'shiftjis',\n    'sjis': 'shiftjis',\n    'windows31j': 'shiftjis',\n    'ms31j': 'shiftjis',\n    'xsjis': 'shiftjis',\n    'windows932': 'shiftjis',\n    'ms932': 'shiftjis',\n    '932': 'shiftjis',\n    'cp932': 'shiftjis',\n\n    'eucjp': {\n        type: '_dbcs',\n        table: function() { return require('./tables/eucjp.json') },\n        encodeAdd: {'\\u00a5': 0x5C, '\\u203E': 0x7E},\n    },\n\n    // TODO: KDDI extension to Shift_JIS\n    // TODO: IBM CCSID 942 = CP932, but F0-F9 custom chars and other char changes.\n    // TODO: IBM CCSID 943 = Shift_JIS = CP932 with original Shift_JIS lower 128 chars.\n\n\n    // == Chinese/GBK ==========================================================\n    // http://en.wikipedia.org/wiki/GBK\n    // We mostly implement W3C recommendation: https://www.w3.org/TR/encoding/#gbk-encoder\n\n    // Oldest GB2312 (1981, ~7600 chars) is a subset of CP936\n    'gb2312': 'cp936',\n    'gb231280': 'cp936',\n    'gb23121980': 'cp936',\n    'csgb2312': 'cp936',\n    'csiso58gb231280': 'cp936',\n    'euccn': 'cp936',\n\n    // Microsoft's CP936 is a subset and approximation of GBK.\n    'windows936': 'cp936',\n    'ms936': 'cp936',\n    '936': 'cp936',\n    'cp936': {\n        type: '_dbcs',\n        table: function() { return require('./tables/cp936.json') },\n    },\n\n    // GBK (~22000 chars) is an extension of CP936 that added user-mapped chars and some other.\n    'gbk': {\n        type: '_dbcs',\n        table: function() { return require('./tables/cp936.json').concat(require('./tables/gbk-added.json')) },\n    },\n    'xgbk': 'gbk',\n    'isoir58': 'gbk',\n\n    // GB18030 is an algorithmic extension of GBK.\n    // Main source: https://www.w3.org/TR/encoding/#gbk-encoder\n    // http://icu-project.org/docs/papers/gb18030.html\n    // http://source.icu-project.org/repos/icu/data/trunk/charset/data/xml/gb-18030-2000.xml\n    // http://www.khngai.com/chinese/charmap/tblgbk.php?page=0\n    'gb18030': {\n        type: '_dbcs',\n        table: function() { return require('./tables/cp936.json').concat(require('./tables/gbk-added.json')) },\n        gb18030: function() { return require('./tables/gb18030-ranges.json') },\n        encodeSkipVals: [0x80],\n        encodeAdd: {'\u20AC': 0xA2E3},\n    },\n\n    'chinese': 'gb18030',\n\n\n    // == Korean ===============================================================\n    // EUC-KR, KS_C_5601 and KS X 1001 are exactly the same.\n    'windows949': 'cp949',\n    'ms949': 'cp949',\n    '949': 'cp949',\n    'cp949': {\n        type: '_dbcs',\n        table: function() { return require('./tables/cp949.json') },\n    },\n\n    'cseuckr': 'cp949',\n    'csksc56011987': 'cp949',\n    'euckr': 'cp949',\n    'isoir149': 'cp949',\n    'korean': 'cp949',\n    'ksc56011987': 'cp949',\n    'ksc56011989': 'cp949',\n    'ksc5601': 'cp949',\n\n\n    // == Big5/Taiwan/Hong Kong ================================================\n    // There are lots of tables for Big5 and cp950. Please see the following links for history:\n    // http://moztw.org/docs/big5/  http://www.haible.de/bruno/charsets/conversion-tables/Big5.html\n    // Variations, in roughly number of defined chars:\n    //  * Windows CP 950: Microsoft variant of Big5. Canonical: http://www.unicode.org/Public/MAPPINGS/VENDORS/MICSFT/WINDOWS/CP950.TXT\n    //  * Windows CP 951: Microsoft variant of Big5-HKSCS-2001. Seems to be never public. http://me.abelcheung.org/articles/research/what-is-cp951/\n    //  * Big5-2003 (Taiwan standard) almost superset of cp950.\n    //  * Unicode-at-on (UAO) / Mozilla 1.8. Falling out of use on the Web. Not supported by other browsers.\n    //  * Big5-HKSCS (-2001, -2004, -2008). Hong Kong standard. \n    //    many unicode code points moved from PUA to Supplementary plane (U+2XXXX) over the years.\n    //    Plus, it has 4 combining sequences.\n    //    Seems that Mozilla refused to support it for 10 yrs. https://bugzilla.mozilla.org/show_bug.cgi?id=162431 https://bugzilla.mozilla.org/show_bug.cgi?id=310299\n    //    because big5-hkscs is the only encoding to include astral characters in non-algorithmic way.\n    //    Implementations are not consistent within browsers; sometimes labeled as just big5.\n    //    MS Internet Explorer switches from big5 to big5-hkscs when a patch applied.\n    //    Great discussion & recap of what's going on https://bugzilla.mozilla.org/show_bug.cgi?id=912470#c31\n    //    In the encoder, it might make sense to support encoding old PUA mappings to Big5 bytes seq-s.\n    //    Official spec: http://www.ogcio.gov.hk/en/business/tech_promotion/ccli/terms/doc/2003cmp_2008.txt\n    //                   http://www.ogcio.gov.hk/tc/business/tech_promotion/ccli/terms/doc/hkscs-2008-big5-iso.txt\n    // \n    // Current understanding of how to deal with Big5(-HKSCS) is in the Encoding Standard, http://encoding.spec.whatwg.org/#big5-encoder\n    // Unicode mapping (http://www.unicode.org/Public/MAPPINGS/OBSOLETE/EASTASIA/OTHER/BIG5.TXT) is said to be wrong.\n\n    'windows950': 'cp950',\n    'ms950': 'cp950',\n    '950': 'cp950',\n    'cp950': {\n        type: '_dbcs',\n        table: function() { return require('./tables/cp950.json') },\n    },\n\n    // Big5 has many variations and is an extension of cp950. We use Encoding Standard's as a consensus.\n    'big5': 'big5hkscs',\n    'big5hkscs': {\n        type: '_dbcs',\n        table: function() { return require('./tables/cp950.json').concat(require('./tables/big5-added.json')) },\n        encodeSkipVals: [\n            // Although Encoding Standard says we should avoid encoding to HKSCS area (See Step 1 of\n            // https://encoding.spec.whatwg.org/#index-big5-pointer), we still do it to increase compatibility with ICU.\n            // But if a single unicode point can be encoded both as HKSCS and regular Big5, we prefer the latter.\n            0x8e69, 0x8e6f, 0x8e7e, 0x8eab, 0x8eb4, 0x8ecd, 0x8ed0, 0x8f57, 0x8f69, 0x8f6e, 0x8fcb, 0x8ffe,\n            0x906d, 0x907a, 0x90c4, 0x90dc, 0x90f1, 0x91bf, 0x92af, 0x92b0, 0x92b1, 0x92b2, 0x92d1, 0x9447, 0x94ca,\n            0x95d9, 0x96fc, 0x9975, 0x9b76, 0x9b78, 0x9b7b, 0x9bc6, 0x9bde, 0x9bec, 0x9bf6, 0x9c42, 0x9c53, 0x9c62,\n            0x9c68, 0x9c6b, 0x9c77, 0x9cbc, 0x9cbd, 0x9cd0, 0x9d57, 0x9d5a, 0x9dc4, 0x9def, 0x9dfb, 0x9ea9, 0x9eef,\n            0x9efd, 0x9f60, 0x9fcb, 0xa077, 0xa0dc, 0xa0df, 0x8fcc, 0x92c8, 0x9644, 0x96ed,\n\n            // Step 2 of https://encoding.spec.whatwg.org/#index-big5-pointer: Use last pointer for U+2550, U+255E, U+2561, U+256A, U+5341, or U+5345\n            0xa2a4, 0xa2a5, 0xa2a7, 0xa2a6, 0xa2cc, 0xa2ce,\n        ],\n    },\n\n    'cnbig5': 'big5hkscs',\n    'csbig5': 'big5hkscs',\n    'xxbig5': 'big5hkscs',\n};\n", "\"use strict\";\n\n// Update this array if you add/rename/remove files in this directory.\n// We support Browserify by skipping automatic module discovery and requiring modules directly.\nvar modules = [\n    require(\"./internal\"),\n    require(\"./utf32\"),\n    require(\"./utf16\"),\n    require(\"./utf7\"),\n    require(\"./sbcs-codec\"),\n    require(\"./sbcs-data\"),\n    require(\"./sbcs-data-generated\"),\n    require(\"./dbcs-codec\"),\n    require(\"./dbcs-data\"),\n];\n\n// Put all encoding/alias/codec definitions to single object and export it.\nfor (var i = 0; i < modules.length; i++) {\n    var module = modules[i];\n    for (var enc in module)\n        if (Object.prototype.hasOwnProperty.call(module, enc))\n            exports[enc] = module[enc];\n}\n", "\"use strict\";\n\nvar Buffer = require(\"safer-buffer\").Buffer;\n\n// NOTE: Due to 'stream' module being pretty large (~100Kb, significant in browser environments), \n// we opt to dependency-inject it instead of creating a hard dependency.\nmodule.exports = function(stream_module) {\n    var Transform = stream_module.Transform;\n\n    // == Encoder stream =======================================================\n\n    function IconvLiteEncoderStream(conv, options) {\n        this.conv = conv;\n        options = options || {};\n        options.decodeStrings = false; // We accept only strings, so we don't need to decode them.\n        Transform.call(this, options);\n    }\n\n    IconvLiteEncoderStream.prototype = Object.create(Transform.prototype, {\n        constructor: { value: IconvLiteEncoderStream }\n    });\n\n    IconvLiteEncoderStream.prototype._transform = function(chunk, encoding, done) {\n        if (typeof chunk != 'string')\n            return done(new Error(\"Iconv encoding stream needs strings as its input.\"));\n        try {\n            var res = this.conv.write(chunk);\n            if (res && res.length) this.push(res);\n            done();\n        }\n        catch (e) {\n            done(e);\n        }\n    }\n\n    IconvLiteEncoderStream.prototype._flush = function(done) {\n        try {\n            var res = this.conv.end();\n            if (res && res.length) this.push(res);\n            done();\n        }\n        catch (e) {\n            done(e);\n        }\n    }\n\n    IconvLiteEncoderStream.prototype.collect = function(cb) {\n        var chunks = [];\n        this.on('error', cb);\n        this.on('data', function(chunk) { chunks.push(chunk); });\n        this.on('end', function() {\n            cb(null, Buffer.concat(chunks));\n        });\n        return this;\n    }\n\n\n    // == Decoder stream =======================================================\n\n    function IconvLiteDecoderStream(conv, options) {\n        this.conv = conv;\n        options = options || {};\n        options.encoding = this.encoding = 'utf8'; // We output strings.\n        Transform.call(this, options);\n    }\n\n    IconvLiteDecoderStream.prototype = Object.create(Transform.prototype, {\n        constructor: { value: IconvLiteDecoderStream }\n    });\n\n    IconvLiteDecoderStream.prototype._transform = function(chunk, encoding, done) {\n        if (!Buffer.isBuffer(chunk) && !(chunk instanceof Uint8Array))\n            return done(new Error(\"Iconv decoding stream needs buffers as its input.\"));\n        try {\n            var res = this.conv.write(chunk);\n            if (res && res.length) this.push(res, this.encoding);\n            done();\n        }\n        catch (e) {\n            done(e);\n        }\n    }\n\n    IconvLiteDecoderStream.prototype._flush = function(done) {\n        try {\n            var res = this.conv.end();\n            if (res && res.length) this.push(res, this.encoding);                \n            done();\n        }\n        catch (e) {\n            done(e);\n        }\n    }\n\n    IconvLiteDecoderStream.prototype.collect = function(cb) {\n        var res = '';\n        this.on('error', cb);\n        this.on('data', function(chunk) { res += chunk; });\n        this.on('end', function() {\n            cb(null, res);\n        });\n        return this;\n    }\n\n    return {\n        IconvLiteEncoderStream: IconvLiteEncoderStream,\n        IconvLiteDecoderStream: IconvLiteDecoderStream,\n    };\n};\n", "\"use strict\";\n\nvar Buffer = require(\"safer-buffer\").Buffer;\n\nvar bomHandling = require(\"./bom-handling\"),\n    iconv = module.exports;\n\n// All codecs and aliases are kept here, keyed by encoding name/alias.\n// They are lazy loaded in `iconv.getCodec` from `encodings/index.js`.\niconv.encodings = null;\n\n// Characters emitted in case of error.\niconv.defaultCharUnicode = '\uFFFD';\niconv.defaultCharSingleByte = '?';\n\n// Public API.\niconv.encode = function encode(str, encoding, options) {\n    str = \"\" + (str || \"\"); // Ensure string.\n\n    var encoder = iconv.getEncoder(encoding, options);\n\n    var res = encoder.write(str);\n    var trail = encoder.end();\n    \n    return (trail && trail.length > 0) ? Buffer.concat([res, trail]) : res;\n}\n\niconv.decode = function decode(buf, encoding, options) {\n    if (typeof buf === 'string') {\n        if (!iconv.skipDecodeWarning) {\n            console.error('Iconv-lite warning: decode()-ing strings is deprecated. Refer to https://github.com/ashtuchkin/iconv-lite/wiki/Use-Buffers-when-decoding');\n            iconv.skipDecodeWarning = true;\n        }\n\n        buf = Buffer.from(\"\" + (buf || \"\"), \"binary\"); // Ensure buffer.\n    }\n\n    var decoder = iconv.getDecoder(encoding, options);\n\n    var res = decoder.write(buf);\n    var trail = decoder.end();\n\n    return trail ? (res + trail) : res;\n}\n\niconv.encodingExists = function encodingExists(enc) {\n    try {\n        iconv.getCodec(enc);\n        return true;\n    } catch (e) {\n        return false;\n    }\n}\n\n// Legacy aliases to convert functions\niconv.toEncoding = iconv.encode;\niconv.fromEncoding = iconv.decode;\n\n// Search for a codec in iconv.encodings. Cache codec data in iconv._codecDataCache.\niconv._codecDataCache = {};\niconv.getCodec = function getCodec(encoding) {\n    if (!iconv.encodings)\n        iconv.encodings = require(\"../encodings\"); // Lazy load all encoding definitions.\n    \n    // Canonicalize encoding name: strip all non-alphanumeric chars and appended year.\n    var enc = iconv._canonicalizeEncoding(encoding);\n\n    // Traverse iconv.encodings to find actual codec.\n    var codecOptions = {};\n    while (true) {\n        var codec = iconv._codecDataCache[enc];\n        if (codec)\n            return codec;\n\n        var codecDef = iconv.encodings[enc];\n\n        switch (typeof codecDef) {\n            case \"string\": // Direct alias to other encoding.\n                enc = codecDef;\n                break;\n\n            case \"object\": // Alias with options. Can be layered.\n                for (var key in codecDef)\n                    codecOptions[key] = codecDef[key];\n\n                if (!codecOptions.encodingName)\n                    codecOptions.encodingName = enc;\n                \n                enc = codecDef.type;\n                break;\n\n            case \"function\": // Codec itself.\n                if (!codecOptions.encodingName)\n                    codecOptions.encodingName = enc;\n\n                // The codec function must load all tables and return object with .encoder and .decoder methods.\n                // It'll be called only once (for each different options object).\n                codec = new codecDef(codecOptions, iconv);\n\n                iconv._codecDataCache[codecOptions.encodingName] = codec; // Save it to be reused later.\n                return codec;\n\n            default:\n                throw new Error(\"Encoding not recognized: '\" + encoding + \"' (searched as: '\"+enc+\"')\");\n        }\n    }\n}\n\niconv._canonicalizeEncoding = function(encoding) {\n    // Canonicalize encoding name: strip all non-alphanumeric chars and appended year.\n    return (''+encoding).toLowerCase().replace(/:\\d{4}$|[^0-9a-z]/g, \"\");\n}\n\niconv.getEncoder = function getEncoder(encoding, options) {\n    var codec = iconv.getCodec(encoding),\n        encoder = new codec.encoder(options, codec);\n\n    if (codec.bomAware && options && options.addBOM)\n        encoder = new bomHandling.PrependBOM(encoder, options);\n\n    return encoder;\n}\n\niconv.getDecoder = function getDecoder(encoding, options) {\n    var codec = iconv.getCodec(encoding),\n        decoder = new codec.decoder(options, codec);\n\n    if (codec.bomAware && !(options && options.stripBOM === false))\n        decoder = new bomHandling.StripBOM(decoder, options);\n\n    return decoder;\n}\n\n// Streaming API\n// NOTE: Streaming API naturally depends on 'stream' module from Node.js. Unfortunately in browser environments this module can add\n// up to 100Kb to the output bundle. To avoid unnecessary code bloat, we don't enable Streaming API in browser by default.\n// If you would like to enable it explicitly, please add the following code to your app:\n// > iconv.enableStreamingAPI(require('stream'));\niconv.enableStreamingAPI = function enableStreamingAPI(stream_module) {\n    if (iconv.supportsStreams)\n        return;\n\n    // Dependency-inject stream module to create IconvLite stream classes.\n    var streams = require(\"./streams\")(stream_module);\n\n    // Not public API yet, but expose the stream classes.\n    iconv.IconvLiteEncoderStream = streams.IconvLiteEncoderStream;\n    iconv.IconvLiteDecoderStream = streams.IconvLiteDecoderStream;\n\n    // Streaming API.\n    iconv.encodeStream = function encodeStream(encoding, options) {\n        return new iconv.IconvLiteEncoderStream(iconv.getEncoder(encoding, options), options);\n    }\n\n    iconv.decodeStream = function decodeStream(encoding, options) {\n        return new iconv.IconvLiteDecoderStream(iconv.getDecoder(encoding, options), options);\n    }\n\n    iconv.supportsStreams = true;\n}\n\n// Enable Streaming API automatically if 'stream' module is available and non-empty (the majority of environments).\nvar stream_module;\ntry {\n    stream_module = require(\"stream\");\n} catch (e) {}\n\nif (stream_module && stream_module.Transform) {\n    iconv.enableStreamingAPI(stream_module);\n\n} else {\n    // In rare cases where 'stream' module is not available by default, throw a helpful exception.\n    iconv.encodeStream = iconv.decodeStream = function() {\n        throw new Error(\"iconv-lite Streaming API is not enabled. Use iconv.enableStreamingAPI(require('stream')); to enable it.\");\n    };\n}\n\nif (\"\u0100\" != \"\\u0100\") {\n    console.error(\"iconv-lite warning: js files use non-utf8 encoding. See https://github.com/ashtuchkin/iconv-lite/wiki/Javascript-source-file-encodings for more info.\");\n}\n", "'use strict';\n\nvar iconvLite = require('iconv-lite');\n\n// Expose to the world\nmodule.exports.convert = convert;\n\n/**\n * Convert encoding of an UTF-8 string or a buffer\n *\n * @param {String|Buffer} str String to be converted\n * @param {String} to Encoding to be converted to\n * @param {String} [from='UTF-8'] Encoding to be converted from\n * @return {Buffer} Encoded string\n */\nfunction convert(str, to, from) {\n    from = checkEncoding(from || 'UTF-8');\n    to = checkEncoding(to || 'UTF-8');\n    str = str || '';\n\n    var result;\n\n    if (from !== 'UTF-8' && typeof str === 'string') {\n        str = Buffer.from(str, 'binary');\n    }\n\n    if (from === to) {\n        if (typeof str === 'string') {\n            result = Buffer.from(str);\n        } else {\n            result = str;\n        }\n    } else {\n        try {\n            result = convertIconvLite(str, to, from);\n        } catch (E) {\n            console.error(E);\n            result = str;\n        }\n    }\n\n    if (typeof result === 'string') {\n        result = Buffer.from(result, 'utf-8');\n    }\n\n    return result;\n}\n\n/**\n * Convert encoding of astring with iconv-lite\n *\n * @param {String|Buffer} str String to be converted\n * @param {String} to Encoding to be converted to\n * @param {String} [from='UTF-8'] Encoding to be converted from\n * @return {Buffer} Encoded string\n */\nfunction convertIconvLite(str, to, from) {\n    if (to === 'UTF-8') {\n        return iconvLite.decode(str, from);\n    } else if (from === 'UTF-8') {\n        return iconvLite.encode(str, to);\n    } else {\n        return iconvLite.encode(iconvLite.decode(str, from), to);\n    }\n}\n\n/**\n * Converts charset name if needed\n *\n * @param {String} name Character set\n * @return {String} Character set name\n */\nfunction checkEncoding(name) {\n    return (name || '')\n        .toString()\n        .trim()\n        .replace(/^latin[\\-_]?(\\d+)$/i, 'ISO-8859-$1')\n        .replace(/^win(?:dows)?[\\-_]?(\\d+)$/i, 'WINDOWS-$1')\n        .replace(/^utf[\\-_]?(\\d+)$/i, 'UTF-$1')\n        .replace(/^ks_c_5601\\-1987$/i, 'CP949')\n        .replace(/^us[\\-_]?ascii$/i, 'ASCII')\n        .toUpperCase();\n}\n", "'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\nvar Stream = _interopDefault(require('stream'));\nvar http = _interopDefault(require('http'));\nvar Url = _interopDefault(require('url'));\nvar whatwgUrl = _interopDefault(require('whatwg-url'));\nvar https = _interopDefault(require('https'));\nvar zlib = _interopDefault(require('zlib'));\n\n// Based on https://github.com/tmpvar/jsdom/blob/aa85b2abf07766ff7bf5c1f6daafb3726f2f2db5/lib/jsdom/living/blob.js\n\n// fix for \"Readable\" isn't a named export issue\nconst Readable = Stream.Readable;\n\nconst BUFFER = Symbol('buffer');\nconst TYPE = Symbol('type');\n\nclass Blob {\n\tconstructor() {\n\t\tthis[TYPE] = '';\n\n\t\tconst blobParts = arguments[0];\n\t\tconst options = arguments[1];\n\n\t\tconst buffers = [];\n\t\tlet size = 0;\n\n\t\tif (blobParts) {\n\t\t\tconst a = blobParts;\n\t\t\tconst length = Number(a.length);\n\t\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\tconst element = a[i];\n\t\t\t\tlet buffer;\n\t\t\t\tif (element instanceof Buffer) {\n\t\t\t\t\tbuffer = element;\n\t\t\t\t} else if (ArrayBuffer.isView(element)) {\n\t\t\t\t\tbuffer = Buffer.from(element.buffer, element.byteOffset, element.byteLength);\n\t\t\t\t} else if (element instanceof ArrayBuffer) {\n\t\t\t\t\tbuffer = Buffer.from(element);\n\t\t\t\t} else if (element instanceof Blob) {\n\t\t\t\t\tbuffer = element[BUFFER];\n\t\t\t\t} else {\n\t\t\t\t\tbuffer = Buffer.from(typeof element === 'string' ? element : String(element));\n\t\t\t\t}\n\t\t\t\tsize += buffer.length;\n\t\t\t\tbuffers.push(buffer);\n\t\t\t}\n\t\t}\n\n\t\tthis[BUFFER] = Buffer.concat(buffers);\n\n\t\tlet type = options && options.type !== undefined && String(options.type).toLowerCase();\n\t\tif (type && !/[^\\u0020-\\u007E]/.test(type)) {\n\t\t\tthis[TYPE] = type;\n\t\t}\n\t}\n\tget size() {\n\t\treturn this[BUFFER].length;\n\t}\n\tget type() {\n\t\treturn this[TYPE];\n\t}\n\ttext() {\n\t\treturn Promise.resolve(this[BUFFER].toString());\n\t}\n\tarrayBuffer() {\n\t\tconst buf = this[BUFFER];\n\t\tconst ab = buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);\n\t\treturn Promise.resolve(ab);\n\t}\n\tstream() {\n\t\tconst readable = new Readable();\n\t\treadable._read = function () {};\n\t\treadable.push(this[BUFFER]);\n\t\treadable.push(null);\n\t\treturn readable;\n\t}\n\ttoString() {\n\t\treturn '[object Blob]';\n\t}\n\tslice() {\n\t\tconst size = this.size;\n\n\t\tconst start = arguments[0];\n\t\tconst end = arguments[1];\n\t\tlet relativeStart, relativeEnd;\n\t\tif (start === undefined) {\n\t\t\trelativeStart = 0;\n\t\t} else if (start < 0) {\n\t\t\trelativeStart = Math.max(size + start, 0);\n\t\t} else {\n\t\t\trelativeStart = Math.min(start, size);\n\t\t}\n\t\tif (end === undefined) {\n\t\t\trelativeEnd = size;\n\t\t} else if (end < 0) {\n\t\t\trelativeEnd = Math.max(size + end, 0);\n\t\t} else {\n\t\t\trelativeEnd = Math.min(end, size);\n\t\t}\n\t\tconst span = Math.max(relativeEnd - relativeStart, 0);\n\n\t\tconst buffer = this[BUFFER];\n\t\tconst slicedBuffer = buffer.slice(relativeStart, relativeStart + span);\n\t\tconst blob = new Blob([], { type: arguments[2] });\n\t\tblob[BUFFER] = slicedBuffer;\n\t\treturn blob;\n\t}\n}\n\nObject.defineProperties(Blob.prototype, {\n\tsize: { enumerable: true },\n\ttype: { enumerable: true },\n\tslice: { enumerable: true }\n});\n\nObject.defineProperty(Blob.prototype, Symbol.toStringTag, {\n\tvalue: 'Blob',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\n/**\n * fetch-error.js\n *\n * FetchError interface for operational errors\n */\n\n/**\n * Create FetchError instance\n *\n * @param   String      message      Error message for human\n * @param   String      type         Error type for machine\n * @param   String      systemError  For Node.js system error\n * @return  FetchError\n */\nfunction FetchError(message, type, systemError) {\n  Error.call(this, message);\n\n  this.message = message;\n  this.type = type;\n\n  // when err.type is `system`, err.code contains system error code\n  if (systemError) {\n    this.code = this.errno = systemError.code;\n  }\n\n  // hide custom error implementation details from end-users\n  Error.captureStackTrace(this, this.constructor);\n}\n\nFetchError.prototype = Object.create(Error.prototype);\nFetchError.prototype.constructor = FetchError;\nFetchError.prototype.name = 'FetchError';\n\nlet convert;\ntry {\n\tconvert = require('encoding').convert;\n} catch (e) {}\n\nconst INTERNALS = Symbol('Body internals');\n\n// fix an issue where \"PassThrough\" isn't a named export for node <10\nconst PassThrough = Stream.PassThrough;\n\n/**\n * Body mixin\n *\n * Ref: https://fetch.spec.whatwg.org/#body\n *\n * @param   Stream  body  Readable stream\n * @param   Object  opts  Response options\n * @return  Void\n */\nfunction Body(body) {\n\tvar _this = this;\n\n\tvar _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n\t    _ref$size = _ref.size;\n\n\tlet size = _ref$size === undefined ? 0 : _ref$size;\n\tvar _ref$timeout = _ref.timeout;\n\tlet timeout = _ref$timeout === undefined ? 0 : _ref$timeout;\n\n\tif (body == null) {\n\t\t// body is undefined or null\n\t\tbody = null;\n\t} else if (isURLSearchParams(body)) {\n\t\t// body is a URLSearchParams\n\t\tbody = Buffer.from(body.toString());\n\t} else if (isBlob(body)) ; else if (Buffer.isBuffer(body)) ; else if (Object.prototype.toString.call(body) === '[object ArrayBuffer]') {\n\t\t// body is ArrayBuffer\n\t\tbody = Buffer.from(body);\n\t} else if (ArrayBuffer.isView(body)) {\n\t\t// body is ArrayBufferView\n\t\tbody = Buffer.from(body.buffer, body.byteOffset, body.byteLength);\n\t} else if (body instanceof Stream) ; else {\n\t\t// none of the above\n\t\t// coerce to string then buffer\n\t\tbody = Buffer.from(String(body));\n\t}\n\tthis[INTERNALS] = {\n\t\tbody,\n\t\tdisturbed: false,\n\t\terror: null\n\t};\n\tthis.size = size;\n\tthis.timeout = timeout;\n\n\tif (body instanceof Stream) {\n\t\tbody.on('error', function (err) {\n\t\t\tconst error = err.name === 'AbortError' ? err : new FetchError(`Invalid response body while trying to fetch ${_this.url}: ${err.message}`, 'system', err);\n\t\t\t_this[INTERNALS].error = error;\n\t\t});\n\t}\n}\n\nBody.prototype = {\n\tget body() {\n\t\treturn this[INTERNALS].body;\n\t},\n\n\tget bodyUsed() {\n\t\treturn this[INTERNALS].disturbed;\n\t},\n\n\t/**\n  * Decode response as ArrayBuffer\n  *\n  * @return  Promise\n  */\n\tarrayBuffer() {\n\t\treturn consumeBody.call(this).then(function (buf) {\n\t\t\treturn buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);\n\t\t});\n\t},\n\n\t/**\n  * Return raw response as Blob\n  *\n  * @return Promise\n  */\n\tblob() {\n\t\tlet ct = this.headers && this.headers.get('content-type') || '';\n\t\treturn consumeBody.call(this).then(function (buf) {\n\t\t\treturn Object.assign(\n\t\t\t// Prevent copying\n\t\t\tnew Blob([], {\n\t\t\t\ttype: ct.toLowerCase()\n\t\t\t}), {\n\t\t\t\t[BUFFER]: buf\n\t\t\t});\n\t\t});\n\t},\n\n\t/**\n  * Decode response as json\n  *\n  * @return  Promise\n  */\n\tjson() {\n\t\tvar _this2 = this;\n\n\t\treturn consumeBody.call(this).then(function (buffer) {\n\t\t\ttry {\n\t\t\t\treturn JSON.parse(buffer.toString());\n\t\t\t} catch (err) {\n\t\t\t\treturn Body.Promise.reject(new FetchError(`invalid json response body at ${_this2.url} reason: ${err.message}`, 'invalid-json'));\n\t\t\t}\n\t\t});\n\t},\n\n\t/**\n  * Decode response as text\n  *\n  * @return  Promise\n  */\n\ttext() {\n\t\treturn consumeBody.call(this).then(function (buffer) {\n\t\t\treturn buffer.toString();\n\t\t});\n\t},\n\n\t/**\n  * Decode response as buffer (non-spec api)\n  *\n  * @return  Promise\n  */\n\tbuffer() {\n\t\treturn consumeBody.call(this);\n\t},\n\n\t/**\n  * Decode response as text, while automatically detecting the encoding and\n  * trying to decode to UTF-8 (non-spec api)\n  *\n  * @return  Promise\n  */\n\ttextConverted() {\n\t\tvar _this3 = this;\n\n\t\treturn consumeBody.call(this).then(function (buffer) {\n\t\t\treturn convertBody(buffer, _this3.headers);\n\t\t});\n\t}\n};\n\n// In browsers, all properties are enumerable.\nObject.defineProperties(Body.prototype, {\n\tbody: { enumerable: true },\n\tbodyUsed: { enumerable: true },\n\tarrayBuffer: { enumerable: true },\n\tblob: { enumerable: true },\n\tjson: { enumerable: true },\n\ttext: { enumerable: true }\n});\n\nBody.mixIn = function (proto) {\n\tfor (const name of Object.getOwnPropertyNames(Body.prototype)) {\n\t\t// istanbul ignore else: future proof\n\t\tif (!(name in proto)) {\n\t\t\tconst desc = Object.getOwnPropertyDescriptor(Body.prototype, name);\n\t\t\tObject.defineProperty(proto, name, desc);\n\t\t}\n\t}\n};\n\n/**\n * Consume and convert an entire Body to a Buffer.\n *\n * Ref: https://fetch.spec.whatwg.org/#concept-body-consume-body\n *\n * @return  Promise\n */\nfunction consumeBody() {\n\tvar _this4 = this;\n\n\tif (this[INTERNALS].disturbed) {\n\t\treturn Body.Promise.reject(new TypeError(`body used already for: ${this.url}`));\n\t}\n\n\tthis[INTERNALS].disturbed = true;\n\n\tif (this[INTERNALS].error) {\n\t\treturn Body.Promise.reject(this[INTERNALS].error);\n\t}\n\n\tlet body = this.body;\n\n\t// body is null\n\tif (body === null) {\n\t\treturn Body.Promise.resolve(Buffer.alloc(0));\n\t}\n\n\t// body is blob\n\tif (isBlob(body)) {\n\t\tbody = body.stream();\n\t}\n\n\t// body is buffer\n\tif (Buffer.isBuffer(body)) {\n\t\treturn Body.Promise.resolve(body);\n\t}\n\n\t// istanbul ignore if: should never happen\n\tif (!(body instanceof Stream)) {\n\t\treturn Body.Promise.resolve(Buffer.alloc(0));\n\t}\n\n\t// body is stream\n\t// get ready to actually consume the body\n\tlet accum = [];\n\tlet accumBytes = 0;\n\tlet abort = false;\n\n\treturn new Body.Promise(function (resolve, reject) {\n\t\tlet resTimeout;\n\n\t\t// allow timeout on slow response body\n\t\tif (_this4.timeout) {\n\t\t\tresTimeout = setTimeout(function () {\n\t\t\t\tabort = true;\n\t\t\t\treject(new FetchError(`Response timeout while trying to fetch ${_this4.url} (over ${_this4.timeout}ms)`, 'body-timeout'));\n\t\t\t}, _this4.timeout);\n\t\t}\n\n\t\t// handle stream errors\n\t\tbody.on('error', function (err) {\n\t\t\tif (err.name === 'AbortError') {\n\t\t\t\t// if the request was aborted, reject with this Error\n\t\t\t\tabort = true;\n\t\t\t\treject(err);\n\t\t\t} else {\n\t\t\t\t// other errors, such as incorrect content-encoding\n\t\t\t\treject(new FetchError(`Invalid response body while trying to fetch ${_this4.url}: ${err.message}`, 'system', err));\n\t\t\t}\n\t\t});\n\n\t\tbody.on('data', function (chunk) {\n\t\t\tif (abort || chunk === null) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (_this4.size && accumBytes + chunk.length > _this4.size) {\n\t\t\t\tabort = true;\n\t\t\t\treject(new FetchError(`content size at ${_this4.url} over limit: ${_this4.size}`, 'max-size'));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\taccumBytes += chunk.length;\n\t\t\taccum.push(chunk);\n\t\t});\n\n\t\tbody.on('end', function () {\n\t\t\tif (abort) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tclearTimeout(resTimeout);\n\n\t\t\ttry {\n\t\t\t\tresolve(Buffer.concat(accum, accumBytes));\n\t\t\t} catch (err) {\n\t\t\t\t// handle streams that have accumulated too much data (issue #414)\n\t\t\t\treject(new FetchError(`Could not create Buffer from response body for ${_this4.url}: ${err.message}`, 'system', err));\n\t\t\t}\n\t\t});\n\t});\n}\n\n/**\n * Detect buffer encoding and convert to target encoding\n * ref: http://www.w3.org/TR/2011/WD-html5-20110113/parsing.html#determining-the-character-encoding\n *\n * @param   Buffer  buffer    Incoming buffer\n * @param   String  encoding  Target encoding\n * @return  String\n */\nfunction convertBody(buffer, headers) {\n\tif (typeof convert !== 'function') {\n\t\tthrow new Error('The package `encoding` must be installed to use the textConverted() function');\n\t}\n\n\tconst ct = headers.get('content-type');\n\tlet charset = 'utf-8';\n\tlet res, str;\n\n\t// header\n\tif (ct) {\n\t\tres = /charset=([^;]*)/i.exec(ct);\n\t}\n\n\t// no charset in content type, peek at response body for at most 1024 bytes\n\tstr = buffer.slice(0, 1024).toString();\n\n\t// html5\n\tif (!res && str) {\n\t\tres = /<meta.+?charset=(['\"])(.+?)\\1/i.exec(str);\n\t}\n\n\t// html4\n\tif (!res && str) {\n\t\tres = /<meta[\\s]+?http-equiv=(['\"])content-type\\1[\\s]+?content=(['\"])(.+?)\\2/i.exec(str);\n\t\tif (!res) {\n\t\t\tres = /<meta[\\s]+?content=(['\"])(.+?)\\1[\\s]+?http-equiv=(['\"])content-type\\3/i.exec(str);\n\t\t\tif (res) {\n\t\t\t\tres.pop(); // drop last quote\n\t\t\t}\n\t\t}\n\n\t\tif (res) {\n\t\t\tres = /charset=(.*)/i.exec(res.pop());\n\t\t}\n\t}\n\n\t// xml\n\tif (!res && str) {\n\t\tres = /<\\?xml.+?encoding=(['\"])(.+?)\\1/i.exec(str);\n\t}\n\n\t// found charset\n\tif (res) {\n\t\tcharset = res.pop();\n\n\t\t// prevent decode issues when sites use incorrect encoding\n\t\t// ref: https://hsivonen.fi/encoding-menu/\n\t\tif (charset === 'gb2312' || charset === 'gbk') {\n\t\t\tcharset = 'gb18030';\n\t\t}\n\t}\n\n\t// turn raw buffers into a single utf-8 buffer\n\treturn convert(buffer, 'UTF-8', charset).toString();\n}\n\n/**\n * Detect a URLSearchParams object\n * ref: https://github.com/bitinn/node-fetch/issues/296#issuecomment-307598143\n *\n * @param   Object  obj     Object to detect by type or brand\n * @return  String\n */\nfunction isURLSearchParams(obj) {\n\t// Duck-typing as a necessary condition.\n\tif (typeof obj !== 'object' || typeof obj.append !== 'function' || typeof obj.delete !== 'function' || typeof obj.get !== 'function' || typeof obj.getAll !== 'function' || typeof obj.has !== 'function' || typeof obj.set !== 'function') {\n\t\treturn false;\n\t}\n\n\t// Brand-checking and more duck-typing as optional condition.\n\treturn obj.constructor.name === 'URLSearchParams' || Object.prototype.toString.call(obj) === '[object URLSearchParams]' || typeof obj.sort === 'function';\n}\n\n/**\n * Check if `obj` is a W3C `Blob` object (which `File` inherits from)\n * @param  {*} obj\n * @return {boolean}\n */\nfunction isBlob(obj) {\n\treturn typeof obj === 'object' && typeof obj.arrayBuffer === 'function' && typeof obj.type === 'string' && typeof obj.stream === 'function' && typeof obj.constructor === 'function' && typeof obj.constructor.name === 'string' && /^(Blob|File)$/.test(obj.constructor.name) && /^(Blob|File)$/.test(obj[Symbol.toStringTag]);\n}\n\n/**\n * Clone body given Res/Req instance\n *\n * @param   Mixed  instance  Response or Request instance\n * @return  Mixed\n */\nfunction clone(instance) {\n\tlet p1, p2;\n\tlet body = instance.body;\n\n\t// don't allow cloning a used body\n\tif (instance.bodyUsed) {\n\t\tthrow new Error('cannot clone body after it is used');\n\t}\n\n\t// check that body is a stream and not form-data object\n\t// note: we can't clone the form-data object without having it as a dependency\n\tif (body instanceof Stream && typeof body.getBoundary !== 'function') {\n\t\t// tee instance body\n\t\tp1 = new PassThrough();\n\t\tp2 = new PassThrough();\n\t\tbody.pipe(p1);\n\t\tbody.pipe(p2);\n\t\t// set instance body to teed body and return the other teed body\n\t\tinstance[INTERNALS].body = p1;\n\t\tbody = p2;\n\t}\n\n\treturn body;\n}\n\n/**\n * Performs the operation \"extract a `Content-Type` value from |object|\" as\n * specified in the specification:\n * https://fetch.spec.whatwg.org/#concept-bodyinit-extract\n *\n * This function assumes that instance.body is present.\n *\n * @param   Mixed  instance  Any options.body input\n */\nfunction extractContentType(body) {\n\tif (body === null) {\n\t\t// body is null\n\t\treturn null;\n\t} else if (typeof body === 'string') {\n\t\t// body is string\n\t\treturn 'text/plain;charset=UTF-8';\n\t} else if (isURLSearchParams(body)) {\n\t\t// body is a URLSearchParams\n\t\treturn 'application/x-www-form-urlencoded;charset=UTF-8';\n\t} else if (isBlob(body)) {\n\t\t// body is blob\n\t\treturn body.type || null;\n\t} else if (Buffer.isBuffer(body)) {\n\t\t// body is buffer\n\t\treturn null;\n\t} else if (Object.prototype.toString.call(body) === '[object ArrayBuffer]') {\n\t\t// body is ArrayBuffer\n\t\treturn null;\n\t} else if (ArrayBuffer.isView(body)) {\n\t\t// body is ArrayBufferView\n\t\treturn null;\n\t} else if (typeof body.getBoundary === 'function') {\n\t\t// detect form data input from form-data module\n\t\treturn `multipart/form-data;boundary=${body.getBoundary()}`;\n\t} else if (body instanceof Stream) {\n\t\t// body is stream\n\t\t// can't really do much about this\n\t\treturn null;\n\t} else {\n\t\t// Body constructor defaults other things to string\n\t\treturn 'text/plain;charset=UTF-8';\n\t}\n}\n\n/**\n * The Fetch Standard treats this as if \"total bytes\" is a property on the body.\n * For us, we have to explicitly get it with a function.\n *\n * ref: https://fetch.spec.whatwg.org/#concept-body-total-bytes\n *\n * @param   Body    instance   Instance of Body\n * @return  Number?            Number of bytes, or null if not possible\n */\nfunction getTotalBytes(instance) {\n\tconst body = instance.body;\n\n\n\tif (body === null) {\n\t\t// body is null\n\t\treturn 0;\n\t} else if (isBlob(body)) {\n\t\treturn body.size;\n\t} else if (Buffer.isBuffer(body)) {\n\t\t// body is buffer\n\t\treturn body.length;\n\t} else if (body && typeof body.getLengthSync === 'function') {\n\t\t// detect form data input from form-data module\n\t\tif (body._lengthRetrievers && body._lengthRetrievers.length == 0 || // 1.x\n\t\tbody.hasKnownLength && body.hasKnownLength()) {\n\t\t\t// 2.x\n\t\t\treturn body.getLengthSync();\n\t\t}\n\t\treturn null;\n\t} else {\n\t\t// body is stream\n\t\treturn null;\n\t}\n}\n\n/**\n * Write a Body to a Node.js WritableStream (e.g. http.Request) object.\n *\n * @param   Body    instance   Instance of Body\n * @return  Void\n */\nfunction writeToStream(dest, instance) {\n\tconst body = instance.body;\n\n\n\tif (body === null) {\n\t\t// body is null\n\t\tdest.end();\n\t} else if (isBlob(body)) {\n\t\tbody.stream().pipe(dest);\n\t} else if (Buffer.isBuffer(body)) {\n\t\t// body is buffer\n\t\tdest.write(body);\n\t\tdest.end();\n\t} else {\n\t\t// body is stream\n\t\tbody.pipe(dest);\n\t}\n}\n\n// expose Promise\nBody.Promise = global.Promise;\n\n/**\n * headers.js\n *\n * Headers class offers convenient helpers\n */\n\nconst invalidTokenRegex = /[^\\^_`a-zA-Z\\-0-9!#$%&'*+.|~]/;\nconst invalidHeaderCharRegex = /[^\\t\\x20-\\x7e\\x80-\\xff]/;\n\nfunction validateName(name) {\n\tname = `${name}`;\n\tif (invalidTokenRegex.test(name) || name === '') {\n\t\tthrow new TypeError(`${name} is not a legal HTTP header name`);\n\t}\n}\n\nfunction validateValue(value) {\n\tvalue = `${value}`;\n\tif (invalidHeaderCharRegex.test(value)) {\n\t\tthrow new TypeError(`${value} is not a legal HTTP header value`);\n\t}\n}\n\n/**\n * Find the key in the map object given a header name.\n *\n * Returns undefined if not found.\n *\n * @param   String  name  Header name\n * @return  String|Undefined\n */\nfunction find(map, name) {\n\tname = name.toLowerCase();\n\tfor (const key in map) {\n\t\tif (key.toLowerCase() === name) {\n\t\t\treturn key;\n\t\t}\n\t}\n\treturn undefined;\n}\n\nconst MAP = Symbol('map');\nclass Headers {\n\t/**\n  * Headers class\n  *\n  * @param   Object  headers  Response headers\n  * @return  Void\n  */\n\tconstructor() {\n\t\tlet init = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n\n\t\tthis[MAP] = Object.create(null);\n\n\t\tif (init instanceof Headers) {\n\t\t\tconst rawHeaders = init.raw();\n\t\t\tconst headerNames = Object.keys(rawHeaders);\n\n\t\t\tfor (const headerName of headerNames) {\n\t\t\t\tfor (const value of rawHeaders[headerName]) {\n\t\t\t\t\tthis.append(headerName, value);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\t// We don't worry about converting prop to ByteString here as append()\n\t\t// will handle it.\n\t\tif (init == null) ; else if (typeof init === 'object') {\n\t\t\tconst method = init[Symbol.iterator];\n\t\t\tif (method != null) {\n\t\t\t\tif (typeof method !== 'function') {\n\t\t\t\t\tthrow new TypeError('Header pairs must be iterable');\n\t\t\t\t}\n\n\t\t\t\t// sequence<sequence<ByteString>>\n\t\t\t\t// Note: per spec we have to first exhaust the lists then process them\n\t\t\t\tconst pairs = [];\n\t\t\t\tfor (const pair of init) {\n\t\t\t\t\tif (typeof pair !== 'object' || typeof pair[Symbol.iterator] !== 'function') {\n\t\t\t\t\t\tthrow new TypeError('Each header pair must be iterable');\n\t\t\t\t\t}\n\t\t\t\t\tpairs.push(Array.from(pair));\n\t\t\t\t}\n\n\t\t\t\tfor (const pair of pairs) {\n\t\t\t\t\tif (pair.length !== 2) {\n\t\t\t\t\t\tthrow new TypeError('Each header pair must be a name/value tuple');\n\t\t\t\t\t}\n\t\t\t\t\tthis.append(pair[0], pair[1]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// record<ByteString, ByteString>\n\t\t\t\tfor (const key of Object.keys(init)) {\n\t\t\t\t\tconst value = init[key];\n\t\t\t\t\tthis.append(key, value);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tthrow new TypeError('Provided initializer must be an object');\n\t\t}\n\t}\n\n\t/**\n  * Return combined header value given name\n  *\n  * @param   String  name  Header name\n  * @return  Mixed\n  */\n\tget(name) {\n\t\tname = `${name}`;\n\t\tvalidateName(name);\n\t\tconst key = find(this[MAP], name);\n\t\tif (key === undefined) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn this[MAP][key].join(', ');\n\t}\n\n\t/**\n  * Iterate over all headers\n  *\n  * @param   Function  callback  Executed for each item with parameters (value, name, thisArg)\n  * @param   Boolean   thisArg   `this` context for callback function\n  * @return  Void\n  */\n\tforEach(callback) {\n\t\tlet thisArg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n\n\t\tlet pairs = getHeaders(this);\n\t\tlet i = 0;\n\t\twhile (i < pairs.length) {\n\t\t\tvar _pairs$i = pairs[i];\n\t\t\tconst name = _pairs$i[0],\n\t\t\t      value = _pairs$i[1];\n\n\t\t\tcallback.call(thisArg, value, name, this);\n\t\t\tpairs = getHeaders(this);\n\t\t\ti++;\n\t\t}\n\t}\n\n\t/**\n  * Overwrite header values given name\n  *\n  * @param   String  name   Header name\n  * @param   String  value  Header value\n  * @return  Void\n  */\n\tset(name, value) {\n\t\tname = `${name}`;\n\t\tvalue = `${value}`;\n\t\tvalidateName(name);\n\t\tvalidateValue(value);\n\t\tconst key = find(this[MAP], name);\n\t\tthis[MAP][key !== undefined ? key : name] = [value];\n\t}\n\n\t/**\n  * Append a value onto existing header\n  *\n  * @param   String  name   Header name\n  * @param   String  value  Header value\n  * @return  Void\n  */\n\tappend(name, value) {\n\t\tname = `${name}`;\n\t\tvalue = `${value}`;\n\t\tvalidateName(name);\n\t\tvalidateValue(value);\n\t\tconst key = find(this[MAP], name);\n\t\tif (key !== undefined) {\n\t\t\tthis[MAP][key].push(value);\n\t\t} else {\n\t\t\tthis[MAP][name] = [value];\n\t\t}\n\t}\n\n\t/**\n  * Check for header name existence\n  *\n  * @param   String   name  Header name\n  * @return  Boolean\n  */\n\thas(name) {\n\t\tname = `${name}`;\n\t\tvalidateName(name);\n\t\treturn find(this[MAP], name) !== undefined;\n\t}\n\n\t/**\n  * Delete all header values given name\n  *\n  * @param   String  name  Header name\n  * @return  Void\n  */\n\tdelete(name) {\n\t\tname = `${name}`;\n\t\tvalidateName(name);\n\t\tconst key = find(this[MAP], name);\n\t\tif (key !== undefined) {\n\t\t\tdelete this[MAP][key];\n\t\t}\n\t}\n\n\t/**\n  * Return raw headers (non-spec api)\n  *\n  * @return  Object\n  */\n\traw() {\n\t\treturn this[MAP];\n\t}\n\n\t/**\n  * Get an iterator on keys.\n  *\n  * @return  Iterator\n  */\n\tkeys() {\n\t\treturn createHeadersIterator(this, 'key');\n\t}\n\n\t/**\n  * Get an iterator on values.\n  *\n  * @return  Iterator\n  */\n\tvalues() {\n\t\treturn createHeadersIterator(this, 'value');\n\t}\n\n\t/**\n  * Get an iterator on entries.\n  *\n  * This is the default iterator of the Headers object.\n  *\n  * @return  Iterator\n  */\n\t[Symbol.iterator]() {\n\t\treturn createHeadersIterator(this, 'key+value');\n\t}\n}\nHeaders.prototype.entries = Headers.prototype[Symbol.iterator];\n\nObject.defineProperty(Headers.prototype, Symbol.toStringTag, {\n\tvalue: 'Headers',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\nObject.defineProperties(Headers.prototype, {\n\tget: { enumerable: true },\n\tforEach: { enumerable: true },\n\tset: { enumerable: true },\n\tappend: { enumerable: true },\n\thas: { enumerable: true },\n\tdelete: { enumerable: true },\n\tkeys: { enumerable: true },\n\tvalues: { enumerable: true },\n\tentries: { enumerable: true }\n});\n\nfunction getHeaders(headers) {\n\tlet kind = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'key+value';\n\n\tconst keys = Object.keys(headers[MAP]).sort();\n\treturn keys.map(kind === 'key' ? function (k) {\n\t\treturn k.toLowerCase();\n\t} : kind === 'value' ? function (k) {\n\t\treturn headers[MAP][k].join(', ');\n\t} : function (k) {\n\t\treturn [k.toLowerCase(), headers[MAP][k].join(', ')];\n\t});\n}\n\nconst INTERNAL = Symbol('internal');\n\nfunction createHeadersIterator(target, kind) {\n\tconst iterator = Object.create(HeadersIteratorPrototype);\n\titerator[INTERNAL] = {\n\t\ttarget,\n\t\tkind,\n\t\tindex: 0\n\t};\n\treturn iterator;\n}\n\nconst HeadersIteratorPrototype = Object.setPrototypeOf({\n\tnext() {\n\t\t// istanbul ignore if\n\t\tif (!this || Object.getPrototypeOf(this) !== HeadersIteratorPrototype) {\n\t\t\tthrow new TypeError('Value of `this` is not a HeadersIterator');\n\t\t}\n\n\t\tvar _INTERNAL = this[INTERNAL];\n\t\tconst target = _INTERNAL.target,\n\t\t      kind = _INTERNAL.kind,\n\t\t      index = _INTERNAL.index;\n\n\t\tconst values = getHeaders(target, kind);\n\t\tconst len = values.length;\n\t\tif (index >= len) {\n\t\t\treturn {\n\t\t\t\tvalue: undefined,\n\t\t\t\tdone: true\n\t\t\t};\n\t\t}\n\n\t\tthis[INTERNAL].index = index + 1;\n\n\t\treturn {\n\t\t\tvalue: values[index],\n\t\t\tdone: false\n\t\t};\n\t}\n}, Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));\n\nObject.defineProperty(HeadersIteratorPrototype, Symbol.toStringTag, {\n\tvalue: 'HeadersIterator',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\n/**\n * Export the Headers object in a form that Node.js can consume.\n *\n * @param   Headers  headers\n * @return  Object\n */\nfunction exportNodeCompatibleHeaders(headers) {\n\tconst obj = Object.assign({ __proto__: null }, headers[MAP]);\n\n\t// http.request() only supports string as Host header. This hack makes\n\t// specifying custom Host header possible.\n\tconst hostHeaderKey = find(headers[MAP], 'Host');\n\tif (hostHeaderKey !== undefined) {\n\t\tobj[hostHeaderKey] = obj[hostHeaderKey][0];\n\t}\n\n\treturn obj;\n}\n\n/**\n * Create a Headers object from an object of headers, ignoring those that do\n * not conform to HTTP grammar productions.\n *\n * @param   Object  obj  Object of headers\n * @return  Headers\n */\nfunction createHeadersLenient(obj) {\n\tconst headers = new Headers();\n\tfor (const name of Object.keys(obj)) {\n\t\tif (invalidTokenRegex.test(name)) {\n\t\t\tcontinue;\n\t\t}\n\t\tif (Array.isArray(obj[name])) {\n\t\t\tfor (const val of obj[name]) {\n\t\t\t\tif (invalidHeaderCharRegex.test(val)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (headers[MAP][name] === undefined) {\n\t\t\t\t\theaders[MAP][name] = [val];\n\t\t\t\t} else {\n\t\t\t\t\theaders[MAP][name].push(val);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (!invalidHeaderCharRegex.test(obj[name])) {\n\t\t\theaders[MAP][name] = [obj[name]];\n\t\t}\n\t}\n\treturn headers;\n}\n\nconst INTERNALS$1 = Symbol('Response internals');\n\n// fix an issue where \"STATUS_CODES\" aren't a named export for node <10\nconst STATUS_CODES = http.STATUS_CODES;\n\n/**\n * Response class\n *\n * @param   Stream  body  Readable stream\n * @param   Object  opts  Response options\n * @return  Void\n */\nclass Response {\n\tconstructor() {\n\t\tlet body = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\t\tlet opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\tBody.call(this, body, opts);\n\n\t\tconst status = opts.status || 200;\n\t\tconst headers = new Headers(opts.headers);\n\n\t\tif (body != null && !headers.has('Content-Type')) {\n\t\t\tconst contentType = extractContentType(body);\n\t\t\tif (contentType) {\n\t\t\t\theaders.append('Content-Type', contentType);\n\t\t\t}\n\t\t}\n\n\t\tthis[INTERNALS$1] = {\n\t\t\turl: opts.url,\n\t\t\tstatus,\n\t\t\tstatusText: opts.statusText || STATUS_CODES[status],\n\t\t\theaders,\n\t\t\tcounter: opts.counter\n\t\t};\n\t}\n\n\tget url() {\n\t\treturn this[INTERNALS$1].url || '';\n\t}\n\n\tget status() {\n\t\treturn this[INTERNALS$1].status;\n\t}\n\n\t/**\n  * Convenience property representing if the request ended normally\n  */\n\tget ok() {\n\t\treturn this[INTERNALS$1].status >= 200 && this[INTERNALS$1].status < 300;\n\t}\n\n\tget redirected() {\n\t\treturn this[INTERNALS$1].counter > 0;\n\t}\n\n\tget statusText() {\n\t\treturn this[INTERNALS$1].statusText;\n\t}\n\n\tget headers() {\n\t\treturn this[INTERNALS$1].headers;\n\t}\n\n\t/**\n  * Clone this response\n  *\n  * @return  Response\n  */\n\tclone() {\n\t\treturn new Response(clone(this), {\n\t\t\turl: this.url,\n\t\t\tstatus: this.status,\n\t\t\tstatusText: this.statusText,\n\t\t\theaders: this.headers,\n\t\t\tok: this.ok,\n\t\t\tredirected: this.redirected\n\t\t});\n\t}\n}\n\nBody.mixIn(Response.prototype);\n\nObject.defineProperties(Response.prototype, {\n\turl: { enumerable: true },\n\tstatus: { enumerable: true },\n\tok: { enumerable: true },\n\tredirected: { enumerable: true },\n\tstatusText: { enumerable: true },\n\theaders: { enumerable: true },\n\tclone: { enumerable: true }\n});\n\nObject.defineProperty(Response.prototype, Symbol.toStringTag, {\n\tvalue: 'Response',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\nconst INTERNALS$2 = Symbol('Request internals');\nconst URL = Url.URL || whatwgUrl.URL;\n\n// fix an issue where \"format\", \"parse\" aren't a named export for node <10\nconst parse_url = Url.parse;\nconst format_url = Url.format;\n\n/**\n * Wrapper around `new URL` to handle arbitrary URLs\n *\n * @param  {string} urlStr\n * @return {void}\n */\nfunction parseURL(urlStr) {\n\t/*\n \tCheck whether the URL is absolute or not\n \t\tScheme: https://tools.ietf.org/html/rfc3986#section-3.1\n \tAbsolute URL: https://tools.ietf.org/html/rfc3986#section-4.3\n */\n\tif (/^[a-zA-Z][a-zA-Z\\d+\\-.]*:/.exec(urlStr)) {\n\t\turlStr = new URL(urlStr).toString();\n\t}\n\n\t// Fallback to old implementation for arbitrary URLs\n\treturn parse_url(urlStr);\n}\n\nconst streamDestructionSupported = 'destroy' in Stream.Readable.prototype;\n\n/**\n * Check if a value is an instance of Request.\n *\n * @param   Mixed   input\n * @return  Boolean\n */\nfunction isRequest(input) {\n\treturn typeof input === 'object' && typeof input[INTERNALS$2] === 'object';\n}\n\nfunction isAbortSignal(signal) {\n\tconst proto = signal && typeof signal === 'object' && Object.getPrototypeOf(signal);\n\treturn !!(proto && proto.constructor.name === 'AbortSignal');\n}\n\n/**\n * Request class\n *\n * @param   Mixed   input  Url or Request instance\n * @param   Object  init   Custom options\n * @return  Void\n */\nclass Request {\n\tconstructor(input) {\n\t\tlet init = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\tlet parsedURL;\n\n\t\t// normalize input\n\t\tif (!isRequest(input)) {\n\t\t\tif (input && input.href) {\n\t\t\t\t// in order to support Node.js' Url objects; though WHATWG's URL objects\n\t\t\t\t// will fall into this branch also (since their `toString()` will return\n\t\t\t\t// `href` property anyway)\n\t\t\t\tparsedURL = parseURL(input.href);\n\t\t\t} else {\n\t\t\t\t// coerce input to a string before attempting to parse\n\t\t\t\tparsedURL = parseURL(`${input}`);\n\t\t\t}\n\t\t\tinput = {};\n\t\t} else {\n\t\t\tparsedURL = parseURL(input.url);\n\t\t}\n\n\t\tlet method = init.method || input.method || 'GET';\n\t\tmethod = method.toUpperCase();\n\n\t\tif ((init.body != null || isRequest(input) && input.body !== null) && (method === 'GET' || method === 'HEAD')) {\n\t\t\tthrow new TypeError('Request with GET/HEAD method cannot have body');\n\t\t}\n\n\t\tlet inputBody = init.body != null ? init.body : isRequest(input) && input.body !== null ? clone(input) : null;\n\n\t\tBody.call(this, inputBody, {\n\t\t\ttimeout: init.timeout || input.timeout || 0,\n\t\t\tsize: init.size || input.size || 0\n\t\t});\n\n\t\tconst headers = new Headers(init.headers || input.headers || {});\n\n\t\tif (inputBody != null && !headers.has('Content-Type')) {\n\t\t\tconst contentType = extractContentType(inputBody);\n\t\t\tif (contentType) {\n\t\t\t\theaders.append('Content-Type', contentType);\n\t\t\t}\n\t\t}\n\n\t\tlet signal = isRequest(input) ? input.signal : null;\n\t\tif ('signal' in init) signal = init.signal;\n\n\t\tif (signal != null && !isAbortSignal(signal)) {\n\t\t\tthrow new TypeError('Expected signal to be an instanceof AbortSignal');\n\t\t}\n\n\t\tthis[INTERNALS$2] = {\n\t\t\tmethod,\n\t\t\tredirect: init.redirect || input.redirect || 'follow',\n\t\t\theaders,\n\t\t\tparsedURL,\n\t\t\tsignal\n\t\t};\n\n\t\t// node-fetch-only options\n\t\tthis.follow = init.follow !== undefined ? init.follow : input.follow !== undefined ? input.follow : 20;\n\t\tthis.compress = init.compress !== undefined ? init.compress : input.compress !== undefined ? input.compress : true;\n\t\tthis.counter = init.counter || input.counter || 0;\n\t\tthis.agent = init.agent || input.agent;\n\t}\n\n\tget method() {\n\t\treturn this[INTERNALS$2].method;\n\t}\n\n\tget url() {\n\t\treturn format_url(this[INTERNALS$2].parsedURL);\n\t}\n\n\tget headers() {\n\t\treturn this[INTERNALS$2].headers;\n\t}\n\n\tget redirect() {\n\t\treturn this[INTERNALS$2].redirect;\n\t}\n\n\tget signal() {\n\t\treturn this[INTERNALS$2].signal;\n\t}\n\n\t/**\n  * Clone this request\n  *\n  * @return  Request\n  */\n\tclone() {\n\t\treturn new Request(this);\n\t}\n}\n\nBody.mixIn(Request.prototype);\n\nObject.defineProperty(Request.prototype, Symbol.toStringTag, {\n\tvalue: 'Request',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\nObject.defineProperties(Request.prototype, {\n\tmethod: { enumerable: true },\n\turl: { enumerable: true },\n\theaders: { enumerable: true },\n\tredirect: { enumerable: true },\n\tclone: { enumerable: true },\n\tsignal: { enumerable: true }\n});\n\n/**\n * Convert a Request to Node.js http request options.\n *\n * @param   Request  A Request instance\n * @return  Object   The options object to be passed to http.request\n */\nfunction getNodeRequestOptions(request) {\n\tconst parsedURL = request[INTERNALS$2].parsedURL;\n\tconst headers = new Headers(request[INTERNALS$2].headers);\n\n\t// fetch step 1.3\n\tif (!headers.has('Accept')) {\n\t\theaders.set('Accept', '*/*');\n\t}\n\n\t// Basic fetch\n\tif (!parsedURL.protocol || !parsedURL.hostname) {\n\t\tthrow new TypeError('Only absolute URLs are supported');\n\t}\n\n\tif (!/^https?:$/.test(parsedURL.protocol)) {\n\t\tthrow new TypeError('Only HTTP(S) protocols are supported');\n\t}\n\n\tif (request.signal && request.body instanceof Stream.Readable && !streamDestructionSupported) {\n\t\tthrow new Error('Cancellation of streamed requests with AbortSignal is not supported in node < 8');\n\t}\n\n\t// HTTP-network-or-cache fetch steps 2.4-2.7\n\tlet contentLengthValue = null;\n\tif (request.body == null && /^(POST|PUT)$/i.test(request.method)) {\n\t\tcontentLengthValue = '0';\n\t}\n\tif (request.body != null) {\n\t\tconst totalBytes = getTotalBytes(request);\n\t\tif (typeof totalBytes === 'number') {\n\t\t\tcontentLengthValue = String(totalBytes);\n\t\t}\n\t}\n\tif (contentLengthValue) {\n\t\theaders.set('Content-Length', contentLengthValue);\n\t}\n\n\t// HTTP-network-or-cache fetch step 2.11\n\tif (!headers.has('User-Agent')) {\n\t\theaders.set('User-Agent', 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)');\n\t}\n\n\t// HTTP-network-or-cache fetch step 2.15\n\tif (request.compress && !headers.has('Accept-Encoding')) {\n\t\theaders.set('Accept-Encoding', 'gzip,deflate');\n\t}\n\n\tlet agent = request.agent;\n\tif (typeof agent === 'function') {\n\t\tagent = agent(parsedURL);\n\t}\n\n\t// HTTP-network fetch step 4.2\n\t// chunked encoding is handled by Node.js\n\n\treturn Object.assign({}, parsedURL, {\n\t\tmethod: request.method,\n\t\theaders: exportNodeCompatibleHeaders(headers),\n\t\tagent\n\t});\n}\n\n/**\n * abort-error.js\n *\n * AbortError interface for cancelled requests\n */\n\n/**\n * Create AbortError instance\n *\n * @param   String      message      Error message for human\n * @return  AbortError\n */\nfunction AbortError(message) {\n  Error.call(this, message);\n\n  this.type = 'aborted';\n  this.message = message;\n\n  // hide custom error implementation details from end-users\n  Error.captureStackTrace(this, this.constructor);\n}\n\nAbortError.prototype = Object.create(Error.prototype);\nAbortError.prototype.constructor = AbortError;\nAbortError.prototype.name = 'AbortError';\n\nconst URL$1 = Url.URL || whatwgUrl.URL;\n\n// fix an issue where \"PassThrough\", \"resolve\" aren't a named export for node <10\nconst PassThrough$1 = Stream.PassThrough;\n\nconst isDomainOrSubdomain = function isDomainOrSubdomain(destination, original) {\n\tconst orig = new URL$1(original).hostname;\n\tconst dest = new URL$1(destination).hostname;\n\n\treturn orig === dest || orig[orig.length - dest.length - 1] === '.' && orig.endsWith(dest);\n};\n\n/**\n * isSameProtocol reports whether the two provided URLs use the same protocol.\n *\n * Both domains must already be in canonical form.\n * @param {string|URL} original\n * @param {string|URL} destination\n */\nconst isSameProtocol = function isSameProtocol(destination, original) {\n\tconst orig = new URL$1(original).protocol;\n\tconst dest = new URL$1(destination).protocol;\n\n\treturn orig === dest;\n};\n\n/**\n * Fetch function\n *\n * @param   Mixed    url   Absolute url or Request instance\n * @param   Object   opts  Fetch options\n * @return  Promise\n */\nfunction fetch(url, opts) {\n\n\t// allow custom promise\n\tif (!fetch.Promise) {\n\t\tthrow new Error('native promise missing, set fetch.Promise to your favorite alternative');\n\t}\n\n\tBody.Promise = fetch.Promise;\n\n\t// wrap http.request into fetch\n\treturn new fetch.Promise(function (resolve, reject) {\n\t\t// build request object\n\t\tconst request = new Request(url, opts);\n\t\tconst options = getNodeRequestOptions(request);\n\n\t\tconst send = (options.protocol === 'https:' ? https : http).request;\n\t\tconst signal = request.signal;\n\n\t\tlet response = null;\n\n\t\tconst abort = function abort() {\n\t\t\tlet error = new AbortError('The user aborted a request.');\n\t\t\treject(error);\n\t\t\tif (request.body && request.body instanceof Stream.Readable) {\n\t\t\t\tdestroyStream(request.body, error);\n\t\t\t}\n\t\t\tif (!response || !response.body) return;\n\t\t\tresponse.body.emit('error', error);\n\t\t};\n\n\t\tif (signal && signal.aborted) {\n\t\t\tabort();\n\t\t\treturn;\n\t\t}\n\n\t\tconst abortAndFinalize = function abortAndFinalize() {\n\t\t\tabort();\n\t\t\tfinalize();\n\t\t};\n\n\t\t// send request\n\t\tconst req = send(options);\n\t\tlet reqTimeout;\n\n\t\tif (signal) {\n\t\t\tsignal.addEventListener('abort', abortAndFinalize);\n\t\t}\n\n\t\tfunction finalize() {\n\t\t\treq.abort();\n\t\t\tif (signal) signal.removeEventListener('abort', abortAndFinalize);\n\t\t\tclearTimeout(reqTimeout);\n\t\t}\n\n\t\tif (request.timeout) {\n\t\t\treq.once('socket', function (socket) {\n\t\t\t\treqTimeout = setTimeout(function () {\n\t\t\t\t\treject(new FetchError(`network timeout at: ${request.url}`, 'request-timeout'));\n\t\t\t\t\tfinalize();\n\t\t\t\t}, request.timeout);\n\t\t\t});\n\t\t}\n\n\t\treq.on('error', function (err) {\n\t\t\treject(new FetchError(`request to ${request.url} failed, reason: ${err.message}`, 'system', err));\n\n\t\t\tif (response && response.body) {\n\t\t\t\tdestroyStream(response.body, err);\n\t\t\t}\n\n\t\t\tfinalize();\n\t\t});\n\n\t\tfixResponseChunkedTransferBadEnding(req, function (err) {\n\t\t\tif (signal && signal.aborted) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (response && response.body) {\n\t\t\t\tdestroyStream(response.body, err);\n\t\t\t}\n\t\t});\n\n\t\t/* c8 ignore next 18 */\n\t\tif (parseInt(process.version.substring(1)) < 14) {\n\t\t\t// Before Node.js 14, pipeline() does not fully support async iterators and does not always\n\t\t\t// properly handle when the socket close/end events are out of order.\n\t\t\treq.on('socket', function (s) {\n\t\t\t\ts.addListener('close', function (hadError) {\n\t\t\t\t\t// if a data listener is still present we didn't end cleanly\n\t\t\t\t\tconst hasDataListener = s.listenerCount('data') > 0;\n\n\t\t\t\t\t// if end happened before close but the socket didn't emit an error, do it now\n\t\t\t\t\tif (response && hasDataListener && !hadError && !(signal && signal.aborted)) {\n\t\t\t\t\t\tconst err = new Error('Premature close');\n\t\t\t\t\t\terr.code = 'ERR_STREAM_PREMATURE_CLOSE';\n\t\t\t\t\t\tresponse.body.emit('error', err);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\treq.on('response', function (res) {\n\t\t\tclearTimeout(reqTimeout);\n\n\t\t\tconst headers = createHeadersLenient(res.headers);\n\n\t\t\t// HTTP fetch step 5\n\t\t\tif (fetch.isRedirect(res.statusCode)) {\n\t\t\t\t// HTTP fetch step 5.2\n\t\t\t\tconst location = headers.get('Location');\n\n\t\t\t\t// HTTP fetch step 5.3\n\t\t\t\tlet locationURL = null;\n\t\t\t\ttry {\n\t\t\t\t\tlocationURL = location === null ? null : new URL$1(location, request.url).toString();\n\t\t\t\t} catch (err) {\n\t\t\t\t\t// error here can only be invalid URL in Location: header\n\t\t\t\t\t// do not throw when options.redirect == manual\n\t\t\t\t\t// let the user extract the errorneous redirect URL\n\t\t\t\t\tif (request.redirect !== 'manual') {\n\t\t\t\t\t\treject(new FetchError(`uri requested responds with an invalid redirect URL: ${location}`, 'invalid-redirect'));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// HTTP fetch step 5.5\n\t\t\t\tswitch (request.redirect) {\n\t\t\t\t\tcase 'error':\n\t\t\t\t\t\treject(new FetchError(`uri requested responds with a redirect, redirect mode is set to error: ${request.url}`, 'no-redirect'));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase 'manual':\n\t\t\t\t\t\t// node-fetch-specific step: make manual redirect a bit easier to use by setting the Location header value to the resolved URL.\n\t\t\t\t\t\tif (locationURL !== null) {\n\t\t\t\t\t\t\t// handle corrupted header\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\theaders.set('Location', locationURL);\n\t\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\t\t// istanbul ignore next: nodejs server prevent invalid response headers, we can't test this through normal request\n\t\t\t\t\t\t\t\treject(err);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'follow':\n\t\t\t\t\t\t// HTTP-redirect fetch step 2\n\t\t\t\t\t\tif (locationURL === null) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 5\n\t\t\t\t\t\tif (request.counter >= request.follow) {\n\t\t\t\t\t\t\treject(new FetchError(`maximum redirect reached at: ${request.url}`, 'max-redirect'));\n\t\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 6 (counter increment)\n\t\t\t\t\t\t// Create a new Request object.\n\t\t\t\t\t\tconst requestOpts = {\n\t\t\t\t\t\t\theaders: new Headers(request.headers),\n\t\t\t\t\t\t\tfollow: request.follow,\n\t\t\t\t\t\t\tcounter: request.counter + 1,\n\t\t\t\t\t\t\tagent: request.agent,\n\t\t\t\t\t\t\tcompress: request.compress,\n\t\t\t\t\t\t\tmethod: request.method,\n\t\t\t\t\t\t\tbody: request.body,\n\t\t\t\t\t\t\tsignal: request.signal,\n\t\t\t\t\t\t\ttimeout: request.timeout,\n\t\t\t\t\t\t\tsize: request.size\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tif (!isDomainOrSubdomain(request.url, locationURL) || !isSameProtocol(request.url, locationURL)) {\n\t\t\t\t\t\t\tfor (const name of ['authorization', 'www-authenticate', 'cookie', 'cookie2']) {\n\t\t\t\t\t\t\t\trequestOpts.headers.delete(name);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 9\n\t\t\t\t\t\tif (res.statusCode !== 303 && request.body && getTotalBytes(request) === null) {\n\t\t\t\t\t\t\treject(new FetchError('Cannot follow redirect with body being a readable stream', 'unsupported-redirect'));\n\t\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 11\n\t\t\t\t\t\tif (res.statusCode === 303 || (res.statusCode === 301 || res.statusCode === 302) && request.method === 'POST') {\n\t\t\t\t\t\t\trequestOpts.method = 'GET';\n\t\t\t\t\t\t\trequestOpts.body = undefined;\n\t\t\t\t\t\t\trequestOpts.headers.delete('content-length');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 15\n\t\t\t\t\t\tresolve(fetch(new Request(locationURL, requestOpts)));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// prepare response\n\t\t\tres.once('end', function () {\n\t\t\t\tif (signal) signal.removeEventListener('abort', abortAndFinalize);\n\t\t\t});\n\t\t\tlet body = res.pipe(new PassThrough$1());\n\n\t\t\tconst response_options = {\n\t\t\t\turl: request.url,\n\t\t\t\tstatus: res.statusCode,\n\t\t\t\tstatusText: res.statusMessage,\n\t\t\t\theaders: headers,\n\t\t\t\tsize: request.size,\n\t\t\t\ttimeout: request.timeout,\n\t\t\t\tcounter: request.counter\n\t\t\t};\n\n\t\t\t// HTTP-network fetch step 12.1.1.3\n\t\t\tconst codings = headers.get('Content-Encoding');\n\n\t\t\t// HTTP-network fetch step 12.1.1.4: handle content codings\n\n\t\t\t// in following scenarios we ignore compression support\n\t\t\t// 1. compression support is disabled\n\t\t\t// 2. HEAD request\n\t\t\t// 3. no Content-Encoding header\n\t\t\t// 4. no content response (204)\n\t\t\t// 5. content not modified response (304)\n\t\t\tif (!request.compress || request.method === 'HEAD' || codings === null || res.statusCode === 204 || res.statusCode === 304) {\n\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// For Node v6+\n\t\t\t// Be less strict when decoding compressed responses, since sometimes\n\t\t\t// servers send slightly invalid responses that are still accepted\n\t\t\t// by common browsers.\n\t\t\t// Always using Z_SYNC_FLUSH is what cURL does.\n\t\t\tconst zlibOptions = {\n\t\t\t\tflush: zlib.Z_SYNC_FLUSH,\n\t\t\t\tfinishFlush: zlib.Z_SYNC_FLUSH\n\t\t\t};\n\n\t\t\t// for gzip\n\t\t\tif (codings == 'gzip' || codings == 'x-gzip') {\n\t\t\t\tbody = body.pipe(zlib.createGunzip(zlibOptions));\n\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// for deflate\n\t\t\tif (codings == 'deflate' || codings == 'x-deflate') {\n\t\t\t\t// handle the infamous raw deflate response from old servers\n\t\t\t\t// a hack for old IIS and Apache servers\n\t\t\t\tconst raw = res.pipe(new PassThrough$1());\n\t\t\t\traw.once('data', function (chunk) {\n\t\t\t\t\t// see http://stackoverflow.com/questions/37519828\n\t\t\t\t\tif ((chunk[0] & 0x0F) === 0x08) {\n\t\t\t\t\t\tbody = body.pipe(zlib.createInflate());\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbody = body.pipe(zlib.createInflateRaw());\n\t\t\t\t\t}\n\t\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\t\tresolve(response);\n\t\t\t\t});\n\t\t\t\traw.on('end', function () {\n\t\t\t\t\t// some old IIS servers return zero-length OK deflate responses, so 'data' is never emitted.\n\t\t\t\t\tif (!response) {\n\t\t\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\t\t\tresolve(response);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// for br\n\t\t\tif (codings == 'br' && typeof zlib.createBrotliDecompress === 'function') {\n\t\t\t\tbody = body.pipe(zlib.createBrotliDecompress());\n\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// otherwise, use response as-is\n\t\t\tresponse = new Response(body, response_options);\n\t\t\tresolve(response);\n\t\t});\n\n\t\twriteToStream(req, request);\n\t});\n}\nfunction fixResponseChunkedTransferBadEnding(request, errorCallback) {\n\tlet socket;\n\n\trequest.on('socket', function (s) {\n\t\tsocket = s;\n\t});\n\n\trequest.on('response', function (response) {\n\t\tconst headers = response.headers;\n\n\t\tif (headers['transfer-encoding'] === 'chunked' && !headers['content-length']) {\n\t\t\tresponse.once('close', function (hadError) {\n\t\t\t\t// tests for socket presence, as in some situations the\n\t\t\t\t// the 'socket' event is not triggered for the request\n\t\t\t\t// (happens in deno), avoids `TypeError`\n\t\t\t\t// if a data listener is still present we didn't end cleanly\n\t\t\t\tconst hasDataListener = socket && socket.listenerCount('data') > 0;\n\n\t\t\t\tif (hasDataListener && !hadError) {\n\t\t\t\t\tconst err = new Error('Premature close');\n\t\t\t\t\terr.code = 'ERR_STREAM_PREMATURE_CLOSE';\n\t\t\t\t\terrorCallback(err);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n}\n\nfunction destroyStream(stream, err) {\n\tif (stream.destroy) {\n\t\tstream.destroy(err);\n\t} else {\n\t\t// node < 8\n\t\tstream.emit('error', err);\n\t\tstream.end();\n\t}\n}\n\n/**\n * Redirect code matching\n *\n * @param   Number   code  Status code\n * @return  Boolean\n */\nfetch.isRedirect = function (code) {\n\treturn code === 301 || code === 302 || code === 303 || code === 307 || code === 308;\n};\n\n// expose Promise\nfetch.Promise = global.Promise;\n\nmodule.exports = exports = fetch;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = exports;\nexports.Headers = Headers;\nexports.Request = Request;\nexports.Response = Response;\nexports.FetchError = FetchError;\nexports.AbortError = AbortError;\n", "/**\n * @license\n * Lodash <https://lodash.com/>\n * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n;(function() {\n\n  /** Used as a safe reference for `undefined` in pre-ES5 environments. */\n  var undefined;\n\n  /** Used as the semantic version number. */\n  var VERSION = '4.17.21';\n\n  /** Used as the size to enable large array optimizations. */\n  var LARGE_ARRAY_SIZE = 200;\n\n  /** Error message constants. */\n  var CORE_ERROR_TEXT = 'Unsupported core-js use. Try https://npms.io/search?q=ponyfill.',\n      FUNC_ERROR_TEXT = 'Expected a function',\n      INVALID_TEMPL_VAR_ERROR_TEXT = 'Invalid `variable` option passed into `_.template`';\n\n  /** Used to stand-in for `undefined` hash values. */\n  var HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n  /** Used as the maximum memoize cache size. */\n  var MAX_MEMOIZE_SIZE = 500;\n\n  /** Used as the internal argument placeholder. */\n  var PLACEHOLDER = '__lodash_placeholder__';\n\n  /** Used to compose bitmasks for cloning. */\n  var CLONE_DEEP_FLAG = 1,\n      CLONE_FLAT_FLAG = 2,\n      CLONE_SYMBOLS_FLAG = 4;\n\n  /** Used to compose bitmasks for value comparisons. */\n  var COMPARE_PARTIAL_FLAG = 1,\n      COMPARE_UNORDERED_FLAG = 2;\n\n  /** Used to compose bitmasks for function metadata. */\n  var WRAP_BIND_FLAG = 1,\n      WRAP_BIND_KEY_FLAG = 2,\n      WRAP_CURRY_BOUND_FLAG = 4,\n      WRAP_CURRY_FLAG = 8,\n      WRAP_CURRY_RIGHT_FLAG = 16,\n      WRAP_PARTIAL_FLAG = 32,\n      WRAP_PARTIAL_RIGHT_FLAG = 64,\n      WRAP_ARY_FLAG = 128,\n      WRAP_REARG_FLAG = 256,\n      WRAP_FLIP_FLAG = 512;\n\n  /** Used as default options for `_.truncate`. */\n  var DEFAULT_TRUNC_LENGTH = 30,\n      DEFAULT_TRUNC_OMISSION = '...';\n\n  /** Used to detect hot functions by number of calls within a span of milliseconds. */\n  var HOT_COUNT = 800,\n      HOT_SPAN = 16;\n\n  /** Used to indicate the type of lazy iteratees. */\n  var LAZY_FILTER_FLAG = 1,\n      LAZY_MAP_FLAG = 2,\n      LAZY_WHILE_FLAG = 3;\n\n  /** Used as references for various `Number` constants. */\n  var INFINITY = 1 / 0,\n      MAX_SAFE_INTEGER = 9007199254740991,\n      MAX_INTEGER = 1.7976931348623157e+308,\n      NAN = 0 / 0;\n\n  /** Used as references for the maximum length and index of an array. */\n  var MAX_ARRAY_LENGTH = 4294967295,\n      MAX_ARRAY_INDEX = MAX_ARRAY_LENGTH - 1,\n      HALF_MAX_ARRAY_LENGTH = MAX_ARRAY_LENGTH >>> 1;\n\n  /** Used to associate wrap methods with their bit flags. */\n  var wrapFlags = [\n    ['ary', WRAP_ARY_FLAG],\n    ['bind', WRAP_BIND_FLAG],\n    ['bindKey', WRAP_BIND_KEY_FLAG],\n    ['curry', WRAP_CURRY_FLAG],\n    ['curryRight', WRAP_CURRY_RIGHT_FLAG],\n    ['flip', WRAP_FLIP_FLAG],\n    ['partial', WRAP_PARTIAL_FLAG],\n    ['partialRight', WRAP_PARTIAL_RIGHT_FLAG],\n    ['rearg', WRAP_REARG_FLAG]\n  ];\n\n  /** `Object#toString` result references. */\n  var argsTag = '[object Arguments]',\n      arrayTag = '[object Array]',\n      asyncTag = '[object AsyncFunction]',\n      boolTag = '[object Boolean]',\n      dateTag = '[object Date]',\n      domExcTag = '[object DOMException]',\n      errorTag = '[object Error]',\n      funcTag = '[object Function]',\n      genTag = '[object GeneratorFunction]',\n      mapTag = '[object Map]',\n      numberTag = '[object Number]',\n      nullTag = '[object Null]',\n      objectTag = '[object Object]',\n      promiseTag = '[object Promise]',\n      proxyTag = '[object Proxy]',\n      regexpTag = '[object RegExp]',\n      setTag = '[object Set]',\n      stringTag = '[object String]',\n      symbolTag = '[object Symbol]',\n      undefinedTag = '[object Undefined]',\n      weakMapTag = '[object WeakMap]',\n      weakSetTag = '[object WeakSet]';\n\n  var arrayBufferTag = '[object ArrayBuffer]',\n      dataViewTag = '[object DataView]',\n      float32Tag = '[object Float32Array]',\n      float64Tag = '[object Float64Array]',\n      int8Tag = '[object Int8Array]',\n      int16Tag = '[object Int16Array]',\n      int32Tag = '[object Int32Array]',\n      uint8Tag = '[object Uint8Array]',\n      uint8ClampedTag = '[object Uint8ClampedArray]',\n      uint16Tag = '[object Uint16Array]',\n      uint32Tag = '[object Uint32Array]';\n\n  /** Used to match empty string literals in compiled template source. */\n  var reEmptyStringLeading = /\\b__p \\+= '';/g,\n      reEmptyStringMiddle = /\\b(__p \\+=) '' \\+/g,\n      reEmptyStringTrailing = /(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g;\n\n  /** Used to match HTML entities and HTML characters. */\n  var reEscapedHtml = /&(?:amp|lt|gt|quot|#39);/g,\n      reUnescapedHtml = /[&<>\"']/g,\n      reHasEscapedHtml = RegExp(reEscapedHtml.source),\n      reHasUnescapedHtml = RegExp(reUnescapedHtml.source);\n\n  /** Used to match template delimiters. */\n  var reEscape = /<%-([\\s\\S]+?)%>/g,\n      reEvaluate = /<%([\\s\\S]+?)%>/g,\n      reInterpolate = /<%=([\\s\\S]+?)%>/g;\n\n  /** Used to match property names within property paths. */\n  var reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n      reIsPlainProp = /^\\w*$/,\n      rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n  /**\n   * Used to match `RegExp`\n   * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n   */\n  var reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g,\n      reHasRegExpChar = RegExp(reRegExpChar.source);\n\n  /** Used to match leading whitespace. */\n  var reTrimStart = /^\\s+/;\n\n  /** Used to match a single whitespace character. */\n  var reWhitespace = /\\s/;\n\n  /** Used to match wrap detail comments. */\n  var reWrapComment = /\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/,\n      reWrapDetails = /\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/,\n      reSplitDetails = /,? & /;\n\n  /** Used to match words composed of alphanumeric characters. */\n  var reAsciiWord = /[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g;\n\n  /**\n   * Used to validate the `validate` option in `_.template` variable.\n   *\n   * Forbids characters which could potentially change the meaning of the function argument definition:\n   * - \"(),\" (modification of function parameters)\n   * - \"=\" (default value)\n   * - \"[]{}\" (destructuring of function parameters)\n   * - \"/\" (beginning of a comment)\n   * - whitespace\n   */\n  var reForbiddenIdentifierChars = /[()=,{}\\[\\]\\/\\s]/;\n\n  /** Used to match backslashes in property paths. */\n  var reEscapeChar = /\\\\(\\\\)?/g;\n\n  /**\n   * Used to match\n   * [ES template delimiters](http://ecma-international.org/ecma-262/7.0/#sec-template-literal-lexical-components).\n   */\n  var reEsTemplate = /\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g;\n\n  /** Used to match `RegExp` flags from their coerced string values. */\n  var reFlags = /\\w*$/;\n\n  /** Used to detect bad signed hexadecimal string values. */\n  var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n  /** Used to detect binary string values. */\n  var reIsBinary = /^0b[01]+$/i;\n\n  /** Used to detect host constructors (Safari). */\n  var reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n  /** Used to detect octal string values. */\n  var reIsOctal = /^0o[0-7]+$/i;\n\n  /** Used to detect unsigned integer values. */\n  var reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n  /** Used to match Latin Unicode letters (excluding mathematical operators). */\n  var reLatin = /[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g;\n\n  /** Used to ensure capturing order of template delimiters. */\n  var reNoMatch = /($^)/;\n\n  /** Used to match unescaped characters in compiled string literals. */\n  var reUnescapedString = /['\\n\\r\\u2028\\u2029\\\\]/g;\n\n  /** Used to compose unicode character classes. */\n  var rsAstralRange = '\\\\ud800-\\\\udfff',\n      rsComboMarksRange = '\\\\u0300-\\\\u036f',\n      reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n      rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n      rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n      rsDingbatRange = '\\\\u2700-\\\\u27bf',\n      rsLowerRange = 'a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff',\n      rsMathOpRange = '\\\\xac\\\\xb1\\\\xd7\\\\xf7',\n      rsNonCharRange = '\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf',\n      rsPunctuationRange = '\\\\u2000-\\\\u206f',\n      rsSpaceRange = ' \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000',\n      rsUpperRange = 'A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde',\n      rsVarRange = '\\\\ufe0e\\\\ufe0f',\n      rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;\n\n  /** Used to compose unicode capture groups. */\n  var rsApos = \"['\\u2019]\",\n      rsAstral = '[' + rsAstralRange + ']',\n      rsBreak = '[' + rsBreakRange + ']',\n      rsCombo = '[' + rsComboRange + ']',\n      rsDigits = '\\\\d+',\n      rsDingbat = '[' + rsDingbatRange + ']',\n      rsLower = '[' + rsLowerRange + ']',\n      rsMisc = '[^' + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + ']',\n      rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n      rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n      rsNonAstral = '[^' + rsAstralRange + ']',\n      rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n      rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n      rsUpper = '[' + rsUpperRange + ']',\n      rsZWJ = '\\\\u200d';\n\n  /** Used to compose unicode regexes. */\n  var rsMiscLower = '(?:' + rsLower + '|' + rsMisc + ')',\n      rsMiscUpper = '(?:' + rsUpper + '|' + rsMisc + ')',\n      rsOptContrLower = '(?:' + rsApos + '(?:d|ll|m|re|s|t|ve))?',\n      rsOptContrUpper = '(?:' + rsApos + '(?:D|LL|M|RE|S|T|VE))?',\n      reOptMod = rsModifier + '?',\n      rsOptVar = '[' + rsVarRange + ']?',\n      rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n      rsOrdLower = '\\\\d*(?:1st|2nd|3rd|(?![123])\\\\dth)(?=\\\\b|[A-Z_])',\n      rsOrdUpper = '\\\\d*(?:1ST|2ND|3RD|(?![123])\\\\dTH)(?=\\\\b|[a-z_])',\n      rsSeq = rsOptVar + reOptMod + rsOptJoin,\n      rsEmoji = '(?:' + [rsDingbat, rsRegional, rsSurrPair].join('|') + ')' + rsSeq,\n      rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n  /** Used to match apostrophes. */\n  var reApos = RegExp(rsApos, 'g');\n\n  /**\n   * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and\n   * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).\n   */\n  var reComboMark = RegExp(rsCombo, 'g');\n\n  /** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\n  var reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n  /** Used to match complex or compound words. */\n  var reUnicodeWord = RegExp([\n    rsUpper + '?' + rsLower + '+' + rsOptContrLower + '(?=' + [rsBreak, rsUpper, '$'].join('|') + ')',\n    rsMiscUpper + '+' + rsOptContrUpper + '(?=' + [rsBreak, rsUpper + rsMiscLower, '$'].join('|') + ')',\n    rsUpper + '?' + rsMiscLower + '+' + rsOptContrLower,\n    rsUpper + '+' + rsOptContrUpper,\n    rsOrdUpper,\n    rsOrdLower,\n    rsDigits,\n    rsEmoji\n  ].join('|'), 'g');\n\n  /** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\n  var reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboRange + rsVarRange + ']');\n\n  /** Used to detect strings that need a more robust regexp to match words. */\n  var reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;\n\n  /** Used to assign default `context` object properties. */\n  var contextProps = [\n    'Array', 'Buffer', 'DataView', 'Date', 'Error', 'Float32Array', 'Float64Array',\n    'Function', 'Int8Array', 'Int16Array', 'Int32Array', 'Map', 'Math', 'Object',\n    'Promise', 'RegExp', 'Set', 'String', 'Symbol', 'TypeError', 'Uint8Array',\n    'Uint8ClampedArray', 'Uint16Array', 'Uint32Array', 'WeakMap',\n    '_', 'clearTimeout', 'isFinite', 'parseInt', 'setTimeout'\n  ];\n\n  /** Used to make template sourceURLs easier to identify. */\n  var templateCounter = -1;\n\n  /** Used to identify `toStringTag` values of typed arrays. */\n  var typedArrayTags = {};\n  typedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\n  typedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\n  typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\n  typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\n  typedArrayTags[uint32Tag] = true;\n  typedArrayTags[argsTag] = typedArrayTags[arrayTag] =\n  typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\n  typedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\n  typedArrayTags[errorTag] = typedArrayTags[funcTag] =\n  typedArrayTags[mapTag] = typedArrayTags[numberTag] =\n  typedArrayTags[objectTag] = typedArrayTags[regexpTag] =\n  typedArrayTags[setTag] = typedArrayTags[stringTag] =\n  typedArrayTags[weakMapTag] = false;\n\n  /** Used to identify `toStringTag` values supported by `_.clone`. */\n  var cloneableTags = {};\n  cloneableTags[argsTag] = cloneableTags[arrayTag] =\n  cloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\n  cloneableTags[boolTag] = cloneableTags[dateTag] =\n  cloneableTags[float32Tag] = cloneableTags[float64Tag] =\n  cloneableTags[int8Tag] = cloneableTags[int16Tag] =\n  cloneableTags[int32Tag] = cloneableTags[mapTag] =\n  cloneableTags[numberTag] = cloneableTags[objectTag] =\n  cloneableTags[regexpTag] = cloneableTags[setTag] =\n  cloneableTags[stringTag] = cloneableTags[symbolTag] =\n  cloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\n  cloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\n  cloneableTags[errorTag] = cloneableTags[funcTag] =\n  cloneableTags[weakMapTag] = false;\n\n  /** Used to map Latin Unicode letters to basic Latin letters. */\n  var deburredLetters = {\n    // Latin-1 Supplement block.\n    '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n    '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n    '\\xc7': 'C',  '\\xe7': 'c',\n    '\\xd0': 'D',  '\\xf0': 'd',\n    '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n    '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n    '\\xcc': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n    '\\xec': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n    '\\xd1': 'N',  '\\xf1': 'n',\n    '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n    '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n    '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n    '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n    '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n    '\\xc6': 'Ae', '\\xe6': 'ae',\n    '\\xde': 'Th', '\\xfe': 'th',\n    '\\xdf': 'ss',\n    // Latin Extended-A block.\n    '\\u0100': 'A',  '\\u0102': 'A', '\\u0104': 'A',\n    '\\u0101': 'a',  '\\u0103': 'a', '\\u0105': 'a',\n    '\\u0106': 'C',  '\\u0108': 'C', '\\u010a': 'C', '\\u010c': 'C',\n    '\\u0107': 'c',  '\\u0109': 'c', '\\u010b': 'c', '\\u010d': 'c',\n    '\\u010e': 'D',  '\\u0110': 'D', '\\u010f': 'd', '\\u0111': 'd',\n    '\\u0112': 'E',  '\\u0114': 'E', '\\u0116': 'E', '\\u0118': 'E', '\\u011a': 'E',\n    '\\u0113': 'e',  '\\u0115': 'e', '\\u0117': 'e', '\\u0119': 'e', '\\u011b': 'e',\n    '\\u011c': 'G',  '\\u011e': 'G', '\\u0120': 'G', '\\u0122': 'G',\n    '\\u011d': 'g',  '\\u011f': 'g', '\\u0121': 'g', '\\u0123': 'g',\n    '\\u0124': 'H',  '\\u0126': 'H', '\\u0125': 'h', '\\u0127': 'h',\n    '\\u0128': 'I',  '\\u012a': 'I', '\\u012c': 'I', '\\u012e': 'I', '\\u0130': 'I',\n    '\\u0129': 'i',  '\\u012b': 'i', '\\u012d': 'i', '\\u012f': 'i', '\\u0131': 'i',\n    '\\u0134': 'J',  '\\u0135': 'j',\n    '\\u0136': 'K',  '\\u0137': 'k', '\\u0138': 'k',\n    '\\u0139': 'L',  '\\u013b': 'L', '\\u013d': 'L', '\\u013f': 'L', '\\u0141': 'L',\n    '\\u013a': 'l',  '\\u013c': 'l', '\\u013e': 'l', '\\u0140': 'l', '\\u0142': 'l',\n    '\\u0143': 'N',  '\\u0145': 'N', '\\u0147': 'N', '\\u014a': 'N',\n    '\\u0144': 'n',  '\\u0146': 'n', '\\u0148': 'n', '\\u014b': 'n',\n    '\\u014c': 'O',  '\\u014e': 'O', '\\u0150': 'O',\n    '\\u014d': 'o',  '\\u014f': 'o', '\\u0151': 'o',\n    '\\u0154': 'R',  '\\u0156': 'R', '\\u0158': 'R',\n    '\\u0155': 'r',  '\\u0157': 'r', '\\u0159': 'r',\n    '\\u015a': 'S',  '\\u015c': 'S', '\\u015e': 'S', '\\u0160': 'S',\n    '\\u015b': 's',  '\\u015d': 's', '\\u015f': 's', '\\u0161': 's',\n    '\\u0162': 'T',  '\\u0164': 'T', '\\u0166': 'T',\n    '\\u0163': 't',  '\\u0165': 't', '\\u0167': 't',\n    '\\u0168': 'U',  '\\u016a': 'U', '\\u016c': 'U', '\\u016e': 'U', '\\u0170': 'U', '\\u0172': 'U',\n    '\\u0169': 'u',  '\\u016b': 'u', '\\u016d': 'u', '\\u016f': 'u', '\\u0171': 'u', '\\u0173': 'u',\n    '\\u0174': 'W',  '\\u0175': 'w',\n    '\\u0176': 'Y',  '\\u0177': 'y', '\\u0178': 'Y',\n    '\\u0179': 'Z',  '\\u017b': 'Z', '\\u017d': 'Z',\n    '\\u017a': 'z',  '\\u017c': 'z', '\\u017e': 'z',\n    '\\u0132': 'IJ', '\\u0133': 'ij',\n    '\\u0152': 'Oe', '\\u0153': 'oe',\n    '\\u0149': \"'n\", '\\u017f': 's'\n  };\n\n  /** Used to map characters to HTML entities. */\n  var htmlEscapes = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;'\n  };\n\n  /** Used to map HTML entities to characters. */\n  var htmlUnescapes = {\n    '&amp;': '&',\n    '&lt;': '<',\n    '&gt;': '>',\n    '&quot;': '\"',\n    '&#39;': \"'\"\n  };\n\n  /** Used to escape characters for inclusion in compiled string literals. */\n  var stringEscapes = {\n    '\\\\': '\\\\',\n    \"'\": \"'\",\n    '\\n': 'n',\n    '\\r': 'r',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  /** Built-in method references without a dependency on `root`. */\n  var freeParseFloat = parseFloat,\n      freeParseInt = parseInt;\n\n  /** Detect free variable `global` from Node.js. */\n  var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n  /** Detect free variable `self`. */\n  var freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n  /** Used as a reference to the global object. */\n  var root = freeGlobal || freeSelf || Function('return this')();\n\n  /** Detect free variable `exports`. */\n  var freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n  /** Detect free variable `module`. */\n  var freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n  /** Detect the popular CommonJS extension `module.exports`. */\n  var moduleExports = freeModule && freeModule.exports === freeExports;\n\n  /** Detect free variable `process` from Node.js. */\n  var freeProcess = moduleExports && freeGlobal.process;\n\n  /** Used to access faster Node.js helpers. */\n  var nodeUtil = (function() {\n    try {\n      // Use `util.types` for Node.js 10+.\n      var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n      if (types) {\n        return types;\n      }\n\n      // Legacy `process.binding('util')` for Node.js < 10.\n      return freeProcess && freeProcess.binding && freeProcess.binding('util');\n    } catch (e) {}\n  }());\n\n  /* Node.js helper references. */\n  var nodeIsArrayBuffer = nodeUtil && nodeUtil.isArrayBuffer,\n      nodeIsDate = nodeUtil && nodeUtil.isDate,\n      nodeIsMap = nodeUtil && nodeUtil.isMap,\n      nodeIsRegExp = nodeUtil && nodeUtil.isRegExp,\n      nodeIsSet = nodeUtil && nodeUtil.isSet,\n      nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * A faster alternative to `Function#apply`, this function invokes `func`\n   * with the `this` binding of `thisArg` and the arguments of `args`.\n   *\n   * @private\n   * @param {Function} func The function to invoke.\n   * @param {*} thisArg The `this` binding of `func`.\n   * @param {Array} args The arguments to invoke `func` with.\n   * @returns {*} Returns the result of `func`.\n   */\n  function apply(func, thisArg, args) {\n    switch (args.length) {\n      case 0: return func.call(thisArg);\n      case 1: return func.call(thisArg, args[0]);\n      case 2: return func.call(thisArg, args[0], args[1]);\n      case 3: return func.call(thisArg, args[0], args[1], args[2]);\n    }\n    return func.apply(thisArg, args);\n  }\n\n  /**\n   * A specialized version of `baseAggregator` for arrays.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} setter The function to set `accumulator` values.\n   * @param {Function} iteratee The iteratee to transform keys.\n   * @param {Object} accumulator The initial aggregated object.\n   * @returns {Function} Returns `accumulator`.\n   */\n  function arrayAggregator(array, setter, iteratee, accumulator) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      var value = array[index];\n      setter(accumulator, value, iteratee(value), array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.forEach` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayEach(array, iteratee) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (iteratee(array[index], index, array) === false) {\n        break;\n      }\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.forEachRight` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayEachRight(array, iteratee) {\n    var length = array == null ? 0 : array.length;\n\n    while (length--) {\n      if (iteratee(array[length], length, array) === false) {\n        break;\n      }\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.every` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if all elements pass the predicate check,\n   *  else `false`.\n   */\n  function arrayEvery(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (!predicate(array[index], index, array)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  /**\n   * A specialized version of `_.filter` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {Array} Returns the new filtered array.\n   */\n  function arrayFilter(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length,\n        resIndex = 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (predicate(value, index, array)) {\n        result[resIndex++] = value;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * A specialized version of `_.includes` for arrays without support for\n   * specifying an index to search from.\n   *\n   * @private\n   * @param {Array} [array] The array to inspect.\n   * @param {*} target The value to search for.\n   * @returns {boolean} Returns `true` if `target` is found, else `false`.\n   */\n  function arrayIncludes(array, value) {\n    var length = array == null ? 0 : array.length;\n    return !!length && baseIndexOf(array, value, 0) > -1;\n  }\n\n  /**\n   * This function is like `arrayIncludes` except that it accepts a comparator.\n   *\n   * @private\n   * @param {Array} [array] The array to inspect.\n   * @param {*} target The value to search for.\n   * @param {Function} comparator The comparator invoked per element.\n   * @returns {boolean} Returns `true` if `target` is found, else `false`.\n   */\n  function arrayIncludesWith(array, value, comparator) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (comparator(value, array[index])) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * A specialized version of `_.map` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the new mapped array.\n   */\n  function arrayMap(array, iteratee) {\n    var index = -1,\n        length = array == null ? 0 : array.length,\n        result = Array(length);\n\n    while (++index < length) {\n      result[index] = iteratee(array[index], index, array);\n    }\n    return result;\n  }\n\n  /**\n   * Appends the elements of `values` to `array`.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {Array} values The values to append.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayPush(array, values) {\n    var index = -1,\n        length = values.length,\n        offset = array.length;\n\n    while (++index < length) {\n      array[offset + index] = values[index];\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.reduce` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the first element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */\n  function arrayReduce(array, iteratee, accumulator, initAccum) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    if (initAccum && length) {\n      accumulator = array[++index];\n    }\n    while (++index < length) {\n      accumulator = iteratee(accumulator, array[index], index, array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.reduceRight` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the last element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */\n  function arrayReduceRight(array, iteratee, accumulator, initAccum) {\n    var length = array == null ? 0 : array.length;\n    if (initAccum && length) {\n      accumulator = array[--length];\n    }\n    while (length--) {\n      accumulator = iteratee(accumulator, array[length], length, array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.some` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if any element passes the predicate check,\n   *  else `false`.\n   */\n  function arraySome(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (predicate(array[index], index, array)) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Gets the size of an ASCII `string`.\n   *\n   * @private\n   * @param {string} string The string inspect.\n   * @returns {number} Returns the string size.\n   */\n  var asciiSize = baseProperty('length');\n\n  /**\n   * Converts an ASCII `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function asciiToArray(string) {\n    return string.split('');\n  }\n\n  /**\n   * Splits an ASCII `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */\n  function asciiWords(string) {\n    return string.match(reAsciiWord) || [];\n  }\n\n  /**\n   * The base implementation of methods like `_.findKey` and `_.findLastKey`,\n   * without support for iteratee shorthands, which iterates over `collection`\n   * using `eachFunc`.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to inspect.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {Function} eachFunc The function to iterate over `collection`.\n   * @returns {*} Returns the found element or its key, else `undefined`.\n   */\n  function baseFindKey(collection, predicate, eachFunc) {\n    var result;\n    eachFunc(collection, function(value, key, collection) {\n      if (predicate(value, key, collection)) {\n        result = key;\n        return false;\n      }\n    });\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.findIndex` and `_.findLastIndex` without\n   * support for iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {number} fromIndex The index to search from.\n   * @param {boolean} [fromRight] Specify iterating from right to left.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseFindIndex(array, predicate, fromIndex, fromRight) {\n    var length = array.length,\n        index = fromIndex + (fromRight ? 1 : -1);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (predicate(array[index], index, array)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOf(array, value, fromIndex) {\n    return value === value\n      ? strictIndexOf(array, value, fromIndex)\n      : baseFindIndex(array, baseIsNaN, fromIndex);\n  }\n\n  /**\n   * This function is like `baseIndexOf` except that it accepts a comparator.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @param {Function} comparator The comparator invoked per element.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOfWith(array, value, fromIndex, comparator) {\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (comparator(array[index], value)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.isNaN` without support for number objects.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n   */\n  function baseIsNaN(value) {\n    return value !== value;\n  }\n\n  /**\n   * The base implementation of `_.mean` and `_.meanBy` without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {number} Returns the mean.\n   */\n  function baseMean(array, iteratee) {\n    var length = array == null ? 0 : array.length;\n    return length ? (baseSum(array, iteratee) / length) : NAN;\n  }\n\n  /**\n   * The base implementation of `_.property` without support for deep paths.\n   *\n   * @private\n   * @param {string} key The key of the property to get.\n   * @returns {Function} Returns the new accessor function.\n   */\n  function baseProperty(key) {\n    return function(object) {\n      return object == null ? undefined : object[key];\n    };\n  }\n\n  /**\n   * The base implementation of `_.propertyOf` without support for deep paths.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @returns {Function} Returns the new accessor function.\n   */\n  function basePropertyOf(object) {\n    return function(key) {\n      return object == null ? undefined : object[key];\n    };\n  }\n\n  /**\n   * The base implementation of `_.reduce` and `_.reduceRight`, without support\n   * for iteratee shorthands, which iterates over `collection` using `eachFunc`.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} accumulator The initial value.\n   * @param {boolean} initAccum Specify using the first or last element of\n   *  `collection` as the initial value.\n   * @param {Function} eachFunc The function to iterate over `collection`.\n   * @returns {*} Returns the accumulated value.\n   */\n  function baseReduce(collection, iteratee, accumulator, initAccum, eachFunc) {\n    eachFunc(collection, function(value, index, collection) {\n      accumulator = initAccum\n        ? (initAccum = false, value)\n        : iteratee(accumulator, value, index, collection);\n    });\n    return accumulator;\n  }\n\n  /**\n   * The base implementation of `_.sortBy` which uses `comparer` to define the\n   * sort order of `array` and replaces criteria objects with their corresponding\n   * values.\n   *\n   * @private\n   * @param {Array} array The array to sort.\n   * @param {Function} comparer The function to define sort order.\n   * @returns {Array} Returns `array`.\n   */\n  function baseSortBy(array, comparer) {\n    var length = array.length;\n\n    array.sort(comparer);\n    while (length--) {\n      array[length] = array[length].value;\n    }\n    return array;\n  }\n\n  /**\n   * The base implementation of `_.sum` and `_.sumBy` without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {number} Returns the sum.\n   */\n  function baseSum(array, iteratee) {\n    var result,\n        index = -1,\n        length = array.length;\n\n    while (++index < length) {\n      var current = iteratee(array[index]);\n      if (current !== undefined) {\n        result = result === undefined ? current : (result + current);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.times` without support for iteratee shorthands\n   * or max array length checks.\n   *\n   * @private\n   * @param {number} n The number of times to invoke `iteratee`.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the array of results.\n   */\n  function baseTimes(n, iteratee) {\n    var index = -1,\n        result = Array(n);\n\n    while (++index < n) {\n      result[index] = iteratee(index);\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.toPairs` and `_.toPairsIn` which creates an array\n   * of key-value pairs for `object` corresponding to the property names of `props`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array} props The property names to get values for.\n   * @returns {Object} Returns the key-value pairs.\n   */\n  function baseToPairs(object, props) {\n    return arrayMap(props, function(key) {\n      return [key, object[key]];\n    });\n  }\n\n  /**\n   * The base implementation of `_.trim`.\n   *\n   * @private\n   * @param {string} string The string to trim.\n   * @returns {string} Returns the trimmed string.\n   */\n  function baseTrim(string) {\n    return string\n      ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n      : string;\n  }\n\n  /**\n   * The base implementation of `_.unary` without support for storing metadata.\n   *\n   * @private\n   * @param {Function} func The function to cap arguments for.\n   * @returns {Function} Returns the new capped function.\n   */\n  function baseUnary(func) {\n    return function(value) {\n      return func(value);\n    };\n  }\n\n  /**\n   * The base implementation of `_.values` and `_.valuesIn` which creates an\n   * array of `object` property values corresponding to the property names\n   * of `props`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array} props The property names to get values for.\n   * @returns {Object} Returns the array of property values.\n   */\n  function baseValues(object, props) {\n    return arrayMap(props, function(key) {\n      return object[key];\n    });\n  }\n\n  /**\n   * Checks if a `cache` value for `key` exists.\n   *\n   * @private\n   * @param {Object} cache The cache to query.\n   * @param {string} key The key of the entry to check.\n   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n   */\n  function cacheHas(cache, key) {\n    return cache.has(key);\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimStart` to get the index of the first string symbol\n   * that is not found in the character symbols.\n   *\n   * @private\n   * @param {Array} strSymbols The string symbols to inspect.\n   * @param {Array} chrSymbols The character symbols to find.\n   * @returns {number} Returns the index of the first unmatched string symbol.\n   */\n  function charsStartIndex(strSymbols, chrSymbols) {\n    var index = -1,\n        length = strSymbols.length;\n\n    while (++index < length && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimEnd` to get the index of the last string symbol\n   * that is not found in the character symbols.\n   *\n   * @private\n   * @param {Array} strSymbols The string symbols to inspect.\n   * @param {Array} chrSymbols The character symbols to find.\n   * @returns {number} Returns the index of the last unmatched string symbol.\n   */\n  function charsEndIndex(strSymbols, chrSymbols) {\n    var index = strSymbols.length;\n\n    while (index-- && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n    return index;\n  }\n\n  /**\n   * Gets the number of `placeholder` occurrences in `array`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} placeholder The placeholder to search for.\n   * @returns {number} Returns the placeholder count.\n   */\n  function countHolders(array, placeholder) {\n    var length = array.length,\n        result = 0;\n\n    while (length--) {\n      if (array[length] === placeholder) {\n        ++result;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Used by `_.deburr` to convert Latin-1 Supplement and Latin Extended-A\n   * letters to basic Latin letters.\n   *\n   * @private\n   * @param {string} letter The matched letter to deburr.\n   * @returns {string} Returns the deburred letter.\n   */\n  var deburrLetter = basePropertyOf(deburredLetters);\n\n  /**\n   * Used by `_.escape` to convert characters to HTML entities.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  var escapeHtmlChar = basePropertyOf(htmlEscapes);\n\n  /**\n   * Used by `_.template` to escape characters for inclusion in compiled string literals.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeStringChar(chr) {\n    return '\\\\' + stringEscapes[chr];\n  }\n\n  /**\n   * Gets the value at `key` of `object`.\n   *\n   * @private\n   * @param {Object} [object] The object to query.\n   * @param {string} key The key of the property to get.\n   * @returns {*} Returns the property value.\n   */\n  function getValue(object, key) {\n    return object == null ? undefined : object[key];\n  }\n\n  /**\n   * Checks if `string` contains Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n   */\n  function hasUnicode(string) {\n    return reHasUnicode.test(string);\n  }\n\n  /**\n   * Checks if `string` contains a word composed of Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a word is found, else `false`.\n   */\n  function hasUnicodeWord(string) {\n    return reHasUnicodeWord.test(string);\n  }\n\n  /**\n   * Converts `iterator` to an array.\n   *\n   * @private\n   * @param {Object} iterator The iterator to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function iteratorToArray(iterator) {\n    var data,\n        result = [];\n\n    while (!(data = iterator.next()).done) {\n      result.push(data.value);\n    }\n    return result;\n  }\n\n  /**\n   * Converts `map` to its key-value pairs.\n   *\n   * @private\n   * @param {Object} map The map to convert.\n   * @returns {Array} Returns the key-value pairs.\n   */\n  function mapToArray(map) {\n    var index = -1,\n        result = Array(map.size);\n\n    map.forEach(function(value, key) {\n      result[++index] = [key, value];\n    });\n    return result;\n  }\n\n  /**\n   * Creates a unary function that invokes `func` with its argument transformed.\n   *\n   * @private\n   * @param {Function} func The function to wrap.\n   * @param {Function} transform The argument transform.\n   * @returns {Function} Returns the new function.\n   */\n  function overArg(func, transform) {\n    return function(arg) {\n      return func(transform(arg));\n    };\n  }\n\n  /**\n   * Replaces all `placeholder` elements in `array` with an internal placeholder\n   * and returns an array of their indexes.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {*} placeholder The placeholder to replace.\n   * @returns {Array} Returns the new array of placeholder indexes.\n   */\n  function replaceHolders(array, placeholder) {\n    var index = -1,\n        length = array.length,\n        resIndex = 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (value === placeholder || value === PLACEHOLDER) {\n        array[index] = PLACEHOLDER;\n        result[resIndex++] = index;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Converts `set` to an array of its values.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the values.\n   */\n  function setToArray(set) {\n    var index = -1,\n        result = Array(set.size);\n\n    set.forEach(function(value) {\n      result[++index] = value;\n    });\n    return result;\n  }\n\n  /**\n   * Converts `set` to its value-value pairs.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the value-value pairs.\n   */\n  function setToPairs(set) {\n    var index = -1,\n        result = Array(set.size);\n\n    set.forEach(function(value) {\n      result[++index] = [value, value];\n    });\n    return result;\n  }\n\n  /**\n   * A specialized version of `_.indexOf` which performs strict equality\n   * comparisons of values, i.e. `===`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function strictIndexOf(array, value, fromIndex) {\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * A specialized version of `_.lastIndexOf` which performs strict equality\n   * comparisons of values, i.e. `===`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function strictLastIndexOf(array, value, fromIndex) {\n    var index = fromIndex + 1;\n    while (index--) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return index;\n  }\n\n  /**\n   * Gets the number of symbols in `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the string size.\n   */\n  function stringSize(string) {\n    return hasUnicode(string)\n      ? unicodeSize(string)\n      : asciiSize(string);\n  }\n\n  /**\n   * Converts `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function stringToArray(string) {\n    return hasUnicode(string)\n      ? unicodeToArray(string)\n      : asciiToArray(string);\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n   * character of `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the index of the last non-whitespace character.\n   */\n  function trimmedEndIndex(string) {\n    var index = string.length;\n\n    while (index-- && reWhitespace.test(string.charAt(index))) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.unescape` to convert HTML entities to characters.\n   *\n   * @private\n   * @param {string} chr The matched character to unescape.\n   * @returns {string} Returns the unescaped character.\n   */\n  var unescapeHtmlChar = basePropertyOf(htmlUnescapes);\n\n  /**\n   * Gets the size of a Unicode `string`.\n   *\n   * @private\n   * @param {string} string The string inspect.\n   * @returns {number} Returns the string size.\n   */\n  function unicodeSize(string) {\n    var result = reUnicode.lastIndex = 0;\n    while (reUnicode.test(string)) {\n      ++result;\n    }\n    return result;\n  }\n\n  /**\n   * Converts a Unicode `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function unicodeToArray(string) {\n    return string.match(reUnicode) || [];\n  }\n\n  /**\n   * Splits a Unicode `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */\n  function unicodeWords(string) {\n    return string.match(reUnicodeWord) || [];\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Create a new pristine `lodash` function using the `context` object.\n   *\n   * @static\n   * @memberOf _\n   * @since 1.1.0\n   * @category Util\n   * @param {Object} [context=root] The context object.\n   * @returns {Function} Returns a new `lodash` function.\n   * @example\n   *\n   * _.mixin({ 'foo': _.constant('foo') });\n   *\n   * var lodash = _.runInContext();\n   * lodash.mixin({ 'bar': lodash.constant('bar') });\n   *\n   * _.isFunction(_.foo);\n   * // => true\n   * _.isFunction(_.bar);\n   * // => false\n   *\n   * lodash.isFunction(lodash.foo);\n   * // => false\n   * lodash.isFunction(lodash.bar);\n   * // => true\n   *\n   * // Create a suped-up `defer` in Node.js.\n   * var defer = _.runInContext({ 'setTimeout': setImmediate }).defer;\n   */\n  var runInContext = (function runInContext(context) {\n    context = context == null ? root : _.defaults(root.Object(), context, _.pick(root, contextProps));\n\n    /** Built-in constructor references. */\n    var Array = context.Array,\n        Date = context.Date,\n        Error = context.Error,\n        Function = context.Function,\n        Math = context.Math,\n        Object = context.Object,\n        RegExp = context.RegExp,\n        String = context.String,\n        TypeError = context.TypeError;\n\n    /** Used for built-in method references. */\n    var arrayProto = Array.prototype,\n        funcProto = Function.prototype,\n        objectProto = Object.prototype;\n\n    /** Used to detect overreaching core-js shims. */\n    var coreJsData = context['__core-js_shared__'];\n\n    /** Used to resolve the decompiled source of functions. */\n    var funcToString = funcProto.toString;\n\n    /** Used to check objects for own properties. */\n    var hasOwnProperty = objectProto.hasOwnProperty;\n\n    /** Used to generate unique IDs. */\n    var idCounter = 0;\n\n    /** Used to detect methods masquerading as native. */\n    var maskSrcKey = (function() {\n      var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n      return uid ? ('Symbol(src)_1.' + uid) : '';\n    }());\n\n    /**\n     * Used to resolve the\n     * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n     * of values.\n     */\n    var nativeObjectToString = objectProto.toString;\n\n    /** Used to infer the `Object` constructor. */\n    var objectCtorString = funcToString.call(Object);\n\n    /** Used to restore the original `_` reference in `_.noConflict`. */\n    var oldDash = root._;\n\n    /** Used to detect if a method is native. */\n    var reIsNative = RegExp('^' +\n      funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n      .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n    );\n\n    /** Built-in value references. */\n    var Buffer = moduleExports ? context.Buffer : undefined,\n        Symbol = context.Symbol,\n        Uint8Array = context.Uint8Array,\n        allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined,\n        getPrototype = overArg(Object.getPrototypeOf, Object),\n        objectCreate = Object.create,\n        propertyIsEnumerable = objectProto.propertyIsEnumerable,\n        splice = arrayProto.splice,\n        spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined,\n        symIterator = Symbol ? Symbol.iterator : undefined,\n        symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n    var defineProperty = (function() {\n      try {\n        var func = getNative(Object, 'defineProperty');\n        func({}, '', {});\n        return func;\n      } catch (e) {}\n    }());\n\n    /** Mocked built-ins. */\n    var ctxClearTimeout = context.clearTimeout !== root.clearTimeout && context.clearTimeout,\n        ctxNow = Date && Date.now !== root.Date.now && Date.now,\n        ctxSetTimeout = context.setTimeout !== root.setTimeout && context.setTimeout;\n\n    /* Built-in method references for those with the same name as other `lodash` methods. */\n    var nativeCeil = Math.ceil,\n        nativeFloor = Math.floor,\n        nativeGetSymbols = Object.getOwnPropertySymbols,\n        nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n        nativeIsFinite = context.isFinite,\n        nativeJoin = arrayProto.join,\n        nativeKeys = overArg(Object.keys, Object),\n        nativeMax = Math.max,\n        nativeMin = Math.min,\n        nativeNow = Date.now,\n        nativeParseInt = context.parseInt,\n        nativeRandom = Math.random,\n        nativeReverse = arrayProto.reverse;\n\n    /* Built-in method references that are verified to be native. */\n    var DataView = getNative(context, 'DataView'),\n        Map = getNative(context, 'Map'),\n        Promise = getNative(context, 'Promise'),\n        Set = getNative(context, 'Set'),\n        WeakMap = getNative(context, 'WeakMap'),\n        nativeCreate = getNative(Object, 'create');\n\n    /** Used to store function metadata. */\n    var metaMap = WeakMap && new WeakMap;\n\n    /** Used to lookup unminified function names. */\n    var realNames = {};\n\n    /** Used to detect maps, sets, and weakmaps. */\n    var dataViewCtorString = toSource(DataView),\n        mapCtorString = toSource(Map),\n        promiseCtorString = toSource(Promise),\n        setCtorString = toSource(Set),\n        weakMapCtorString = toSource(WeakMap);\n\n    /** Used to convert symbols to primitives and strings. */\n    var symbolProto = Symbol ? Symbol.prototype : undefined,\n        symbolValueOf = symbolProto ? symbolProto.valueOf : undefined,\n        symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` object which wraps `value` to enable implicit method\n     * chain sequences. Methods that operate on and return arrays, collections,\n     * and functions can be chained together. Methods that retrieve a single value\n     * or may return a primitive value will automatically end the chain sequence\n     * and return the unwrapped value. Otherwise, the value must be unwrapped\n     * with `_#value`.\n     *\n     * Explicit chain sequences, which must be unwrapped with `_#value`, may be\n     * enabled using `_.chain`.\n     *\n     * The execution of chained methods is lazy, that is, it's deferred until\n     * `_#value` is implicitly or explicitly called.\n     *\n     * Lazy evaluation allows several methods to support shortcut fusion.\n     * Shortcut fusion is an optimization to merge iteratee calls; this avoids\n     * the creation of intermediate arrays and can greatly reduce the number of\n     * iteratee executions. Sections of a chain sequence qualify for shortcut\n     * fusion if the section is applied to an array and iteratees accept only\n     * one argument. The heuristic for whether a section qualifies for shortcut\n     * fusion is subject to change.\n     *\n     * Chaining is supported in custom builds as long as the `_#value` method is\n     * directly or indirectly included in the build.\n     *\n     * In addition to lodash methods, wrappers have `Array` and `String` methods.\n     *\n     * The wrapper `Array` methods are:\n     * `concat`, `join`, `pop`, `push`, `shift`, `sort`, `splice`, and `unshift`\n     *\n     * The wrapper `String` methods are:\n     * `replace` and `split`\n     *\n     * The wrapper methods that support shortcut fusion are:\n     * `at`, `compact`, `drop`, `dropRight`, `dropWhile`, `filter`, `find`,\n     * `findLast`, `head`, `initial`, `last`, `map`, `reject`, `reverse`, `slice`,\n     * `tail`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, and `toArray`\n     *\n     * The chainable wrapper methods are:\n     * `after`, `ary`, `assign`, `assignIn`, `assignInWith`, `assignWith`, `at`,\n     * `before`, `bind`, `bindAll`, `bindKey`, `castArray`, `chain`, `chunk`,\n     * `commit`, `compact`, `concat`, `conforms`, `constant`, `countBy`, `create`,\n     * `curry`, `debounce`, `defaults`, `defaultsDeep`, `defer`, `delay`,\n     * `difference`, `differenceBy`, `differenceWith`, `drop`, `dropRight`,\n     * `dropRightWhile`, `dropWhile`, `extend`, `extendWith`, `fill`, `filter`,\n     * `flatMap`, `flatMapDeep`, `flatMapDepth`, `flatten`, `flattenDeep`,\n     * `flattenDepth`, `flip`, `flow`, `flowRight`, `fromPairs`, `functions`,\n     * `functionsIn`, `groupBy`, `initial`, `intersection`, `intersectionBy`,\n     * `intersectionWith`, `invert`, `invertBy`, `invokeMap`, `iteratee`, `keyBy`,\n     * `keys`, `keysIn`, `map`, `mapKeys`, `mapValues`, `matches`, `matchesProperty`,\n     * `memoize`, `merge`, `mergeWith`, `method`, `methodOf`, `mixin`, `negate`,\n     * `nthArg`, `omit`, `omitBy`, `once`, `orderBy`, `over`, `overArgs`,\n     * `overEvery`, `overSome`, `partial`, `partialRight`, `partition`, `pick`,\n     * `pickBy`, `plant`, `property`, `propertyOf`, `pull`, `pullAll`, `pullAllBy`,\n     * `pullAllWith`, `pullAt`, `push`, `range`, `rangeRight`, `rearg`, `reject`,\n     * `remove`, `rest`, `reverse`, `sampleSize`, `set`, `setWith`, `shuffle`,\n     * `slice`, `sort`, `sortBy`, `splice`, `spread`, `tail`, `take`, `takeRight`,\n     * `takeRightWhile`, `takeWhile`, `tap`, `throttle`, `thru`, `toArray`,\n     * `toPairs`, `toPairsIn`, `toPath`, `toPlainObject`, `transform`, `unary`,\n     * `union`, `unionBy`, `unionWith`, `uniq`, `uniqBy`, `uniqWith`, `unset`,\n     * `unshift`, `unzip`, `unzipWith`, `update`, `updateWith`, `values`,\n     * `valuesIn`, `without`, `wrap`, `xor`, `xorBy`, `xorWith`, `zip`,\n     * `zipObject`, `zipObjectDeep`, and `zipWith`\n     *\n     * The wrapper methods that are **not** chainable by default are:\n     * `add`, `attempt`, `camelCase`, `capitalize`, `ceil`, `clamp`, `clone`,\n     * `cloneDeep`, `cloneDeepWith`, `cloneWith`, `conformsTo`, `deburr`,\n     * `defaultTo`, `divide`, `each`, `eachRight`, `endsWith`, `eq`, `escape`,\n     * `escapeRegExp`, `every`, `find`, `findIndex`, `findKey`, `findLast`,\n     * `findLastIndex`, `findLastKey`, `first`, `floor`, `forEach`, `forEachRight`,\n     * `forIn`, `forInRight`, `forOwn`, `forOwnRight`, `get`, `gt`, `gte`, `has`,\n     * `hasIn`, `head`, `identity`, `includes`, `indexOf`, `inRange`, `invoke`,\n     * `isArguments`, `isArray`, `isArrayBuffer`, `isArrayLike`, `isArrayLikeObject`,\n     * `isBoolean`, `isBuffer`, `isDate`, `isElement`, `isEmpty`, `isEqual`,\n     * `isEqualWith`, `isError`, `isFinite`, `isFunction`, `isInteger`, `isLength`,\n     * `isMap`, `isMatch`, `isMatchWith`, `isNaN`, `isNative`, `isNil`, `isNull`,\n     * `isNumber`, `isObject`, `isObjectLike`, `isPlainObject`, `isRegExp`,\n     * `isSafeInteger`, `isSet`, `isString`, `isUndefined`, `isTypedArray`,\n     * `isWeakMap`, `isWeakSet`, `join`, `kebabCase`, `last`, `lastIndexOf`,\n     * `lowerCase`, `lowerFirst`, `lt`, `lte`, `max`, `maxBy`, `mean`, `meanBy`,\n     * `min`, `minBy`, `multiply`, `noConflict`, `noop`, `now`, `nth`, `pad`,\n     * `padEnd`, `padStart`, `parseInt`, `pop`, `random`, `reduce`, `reduceRight`,\n     * `repeat`, `result`, `round`, `runInContext`, `sample`, `shift`, `size`,\n     * `snakeCase`, `some`, `sortedIndex`, `sortedIndexBy`, `sortedLastIndex`,\n     * `sortedLastIndexBy`, `startCase`, `startsWith`, `stubArray`, `stubFalse`,\n     * `stubObject`, `stubString`, `stubTrue`, `subtract`, `sum`, `sumBy`,\n     * `template`, `times`, `toFinite`, `toInteger`, `toJSON`, `toLength`,\n     * `toLower`, `toNumber`, `toSafeInteger`, `toString`, `toUpper`, `trim`,\n     * `trimEnd`, `trimStart`, `truncate`, `unescape`, `uniqueId`, `upperCase`,\n     * `upperFirst`, `value`, and `words`\n     *\n     * @name _\n     * @constructor\n     * @category Seq\n     * @param {*} value The value to wrap in a `lodash` instance.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var wrapped = _([1, 2, 3]);\n     *\n     * // Returns an unwrapped value.\n     * wrapped.reduce(_.add);\n     * // => 6\n     *\n     * // Returns a wrapped value.\n     * var squares = wrapped.map(square);\n     *\n     * _.isArray(squares);\n     * // => false\n     *\n     * _.isArray(squares.value());\n     * // => true\n     */\n    function lodash(value) {\n      if (isObjectLike(value) && !isArray(value) && !(value instanceof LazyWrapper)) {\n        if (value instanceof LodashWrapper) {\n          return value;\n        }\n        if (hasOwnProperty.call(value, '__wrapped__')) {\n          return wrapperClone(value);\n        }\n      }\n      return new LodashWrapper(value);\n    }\n\n    /**\n     * The base implementation of `_.create` without support for assigning\n     * properties to the created object.\n     *\n     * @private\n     * @param {Object} proto The object to inherit from.\n     * @returns {Object} Returns the new object.\n     */\n    var baseCreate = (function() {\n      function object() {}\n      return function(proto) {\n        if (!isObject(proto)) {\n          return {};\n        }\n        if (objectCreate) {\n          return objectCreate(proto);\n        }\n        object.prototype = proto;\n        var result = new object;\n        object.prototype = undefined;\n        return result;\n      };\n    }());\n\n    /**\n     * The function whose prototype chain sequence wrappers inherit from.\n     *\n     * @private\n     */\n    function baseLodash() {\n      // No operation performed.\n    }\n\n    /**\n     * The base constructor for creating `lodash` wrapper objects.\n     *\n     * @private\n     * @param {*} value The value to wrap.\n     * @param {boolean} [chainAll] Enable explicit method chain sequences.\n     */\n    function LodashWrapper(value, chainAll) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__chain__ = !!chainAll;\n      this.__index__ = 0;\n      this.__values__ = undefined;\n    }\n\n    /**\n     * By default, the template delimiters used by lodash are like those in\n     * embedded Ruby (ERB) as well as ES2015 template strings. Change the\n     * following template settings to use alternative delimiters.\n     *\n     * @static\n     * @memberOf _\n     * @type {Object}\n     */\n    lodash.templateSettings = {\n\n      /**\n       * Used to detect `data` property values to be HTML-escaped.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'escape': reEscape,\n\n      /**\n       * Used to detect code to be evaluated.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'evaluate': reEvaluate,\n\n      /**\n       * Used to detect `data` property values to inject.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'interpolate': reInterpolate,\n\n      /**\n       * Used to reference the data object in the template text.\n       *\n       * @memberOf _.templateSettings\n       * @type {string}\n       */\n      'variable': '',\n\n      /**\n       * Used to import variables into the compiled template.\n       *\n       * @memberOf _.templateSettings\n       * @type {Object}\n       */\n      'imports': {\n\n        /**\n         * A reference to the `lodash` function.\n         *\n         * @memberOf _.templateSettings.imports\n         * @type {Function}\n         */\n        '_': lodash\n      }\n    };\n\n    // Ensure wrappers are instances of `baseLodash`.\n    lodash.prototype = baseLodash.prototype;\n    lodash.prototype.constructor = lodash;\n\n    LodashWrapper.prototype = baseCreate(baseLodash.prototype);\n    LodashWrapper.prototype.constructor = LodashWrapper;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a lazy wrapper object which wraps `value` to enable lazy evaluation.\n     *\n     * @private\n     * @constructor\n     * @param {*} value The value to wrap.\n     */\n    function LazyWrapper(value) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__dir__ = 1;\n      this.__filtered__ = false;\n      this.__iteratees__ = [];\n      this.__takeCount__ = MAX_ARRAY_LENGTH;\n      this.__views__ = [];\n    }\n\n    /**\n     * Creates a clone of the lazy wrapper object.\n     *\n     * @private\n     * @name clone\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the cloned `LazyWrapper` object.\n     */\n    function lazyClone() {\n      var result = new LazyWrapper(this.__wrapped__);\n      result.__actions__ = copyArray(this.__actions__);\n      result.__dir__ = this.__dir__;\n      result.__filtered__ = this.__filtered__;\n      result.__iteratees__ = copyArray(this.__iteratees__);\n      result.__takeCount__ = this.__takeCount__;\n      result.__views__ = copyArray(this.__views__);\n      return result;\n    }\n\n    /**\n     * Reverses the direction of lazy iteration.\n     *\n     * @private\n     * @name reverse\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the new reversed `LazyWrapper` object.\n     */\n    function lazyReverse() {\n      if (this.__filtered__) {\n        var result = new LazyWrapper(this);\n        result.__dir__ = -1;\n        result.__filtered__ = true;\n      } else {\n        result = this.clone();\n        result.__dir__ *= -1;\n      }\n      return result;\n    }\n\n    /**\n     * Extracts the unwrapped value from its lazy wrapper.\n     *\n     * @private\n     * @name value\n     * @memberOf LazyWrapper\n     * @returns {*} Returns the unwrapped value.\n     */\n    function lazyValue() {\n      var array = this.__wrapped__.value(),\n          dir = this.__dir__,\n          isArr = isArray(array),\n          isRight = dir < 0,\n          arrLength = isArr ? array.length : 0,\n          view = getView(0, arrLength, this.__views__),\n          start = view.start,\n          end = view.end,\n          length = end - start,\n          index = isRight ? end : (start - 1),\n          iteratees = this.__iteratees__,\n          iterLength = iteratees.length,\n          resIndex = 0,\n          takeCount = nativeMin(length, this.__takeCount__);\n\n      if (!isArr || (!isRight && arrLength == length && takeCount == length)) {\n        return baseWrapperValue(array, this.__actions__);\n      }\n      var result = [];\n\n      outer:\n      while (length-- && resIndex < takeCount) {\n        index += dir;\n\n        var iterIndex = -1,\n            value = array[index];\n\n        while (++iterIndex < iterLength) {\n          var data = iteratees[iterIndex],\n              iteratee = data.iteratee,\n              type = data.type,\n              computed = iteratee(value);\n\n          if (type == LAZY_MAP_FLAG) {\n            value = computed;\n          } else if (!computed) {\n            if (type == LAZY_FILTER_FLAG) {\n              continue outer;\n            } else {\n              break outer;\n            }\n          }\n        }\n        result[resIndex++] = value;\n      }\n      return result;\n    }\n\n    // Ensure `LazyWrapper` is an instance of `baseLodash`.\n    LazyWrapper.prototype = baseCreate(baseLodash.prototype);\n    LazyWrapper.prototype.constructor = LazyWrapper;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a hash object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function Hash(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the hash.\n     *\n     * @private\n     * @name clear\n     * @memberOf Hash\n     */\n    function hashClear() {\n      this.__data__ = nativeCreate ? nativeCreate(null) : {};\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the hash.\n     *\n     * @private\n     * @name delete\n     * @memberOf Hash\n     * @param {Object} hash The hash to modify.\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function hashDelete(key) {\n      var result = this.has(key) && delete this.__data__[key];\n      this.size -= result ? 1 : 0;\n      return result;\n    }\n\n    /**\n     * Gets the hash value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Hash\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function hashGet(key) {\n      var data = this.__data__;\n      if (nativeCreate) {\n        var result = data[key];\n        return result === HASH_UNDEFINED ? undefined : result;\n      }\n      return hasOwnProperty.call(data, key) ? data[key] : undefined;\n    }\n\n    /**\n     * Checks if a hash value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Hash\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function hashHas(key) {\n      var data = this.__data__;\n      return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n    }\n\n    /**\n     * Sets the hash `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Hash\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the hash instance.\n     */\n    function hashSet(key, value) {\n      var data = this.__data__;\n      this.size += this.has(key) ? 0 : 1;\n      data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n      return this;\n    }\n\n    // Add methods to `Hash`.\n    Hash.prototype.clear = hashClear;\n    Hash.prototype['delete'] = hashDelete;\n    Hash.prototype.get = hashGet;\n    Hash.prototype.has = hashHas;\n    Hash.prototype.set = hashSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an list cache object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function ListCache(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the list cache.\n     *\n     * @private\n     * @name clear\n     * @memberOf ListCache\n     */\n    function listCacheClear() {\n      this.__data__ = [];\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the list cache.\n     *\n     * @private\n     * @name delete\n     * @memberOf ListCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function listCacheDelete(key) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      if (index < 0) {\n        return false;\n      }\n      var lastIndex = data.length - 1;\n      if (index == lastIndex) {\n        data.pop();\n      } else {\n        splice.call(data, index, 1);\n      }\n      --this.size;\n      return true;\n    }\n\n    /**\n     * Gets the list cache value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf ListCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function listCacheGet(key) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      return index < 0 ? undefined : data[index][1];\n    }\n\n    /**\n     * Checks if a list cache value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf ListCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function listCacheHas(key) {\n      return assocIndexOf(this.__data__, key) > -1;\n    }\n\n    /**\n     * Sets the list cache `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf ListCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the list cache instance.\n     */\n    function listCacheSet(key, value) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      if (index < 0) {\n        ++this.size;\n        data.push([key, value]);\n      } else {\n        data[index][1] = value;\n      }\n      return this;\n    }\n\n    // Add methods to `ListCache`.\n    ListCache.prototype.clear = listCacheClear;\n    ListCache.prototype['delete'] = listCacheDelete;\n    ListCache.prototype.get = listCacheGet;\n    ListCache.prototype.has = listCacheHas;\n    ListCache.prototype.set = listCacheSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a map cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function MapCache(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the map.\n     *\n     * @private\n     * @name clear\n     * @memberOf MapCache\n     */\n    function mapCacheClear() {\n      this.size = 0;\n      this.__data__ = {\n        'hash': new Hash,\n        'map': new (Map || ListCache),\n        'string': new Hash\n      };\n    }\n\n    /**\n     * Removes `key` and its value from the map.\n     *\n     * @private\n     * @name delete\n     * @memberOf MapCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function mapCacheDelete(key) {\n      var result = getMapData(this, key)['delete'](key);\n      this.size -= result ? 1 : 0;\n      return result;\n    }\n\n    /**\n     * Gets the map value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf MapCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function mapCacheGet(key) {\n      return getMapData(this, key).get(key);\n    }\n\n    /**\n     * Checks if a map value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf MapCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function mapCacheHas(key) {\n      return getMapData(this, key).has(key);\n    }\n\n    /**\n     * Sets the map `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf MapCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the map cache instance.\n     */\n    function mapCacheSet(key, value) {\n      var data = getMapData(this, key),\n          size = data.size;\n\n      data.set(key, value);\n      this.size += data.size == size ? 0 : 1;\n      return this;\n    }\n\n    // Add methods to `MapCache`.\n    MapCache.prototype.clear = mapCacheClear;\n    MapCache.prototype['delete'] = mapCacheDelete;\n    MapCache.prototype.get = mapCacheGet;\n    MapCache.prototype.has = mapCacheHas;\n    MapCache.prototype.set = mapCacheSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     *\n     * Creates an array cache object to store unique values.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [values] The values to cache.\n     */\n    function SetCache(values) {\n      var index = -1,\n          length = values == null ? 0 : values.length;\n\n      this.__data__ = new MapCache;\n      while (++index < length) {\n        this.add(values[index]);\n      }\n    }\n\n    /**\n     * Adds `value` to the array cache.\n     *\n     * @private\n     * @name add\n     * @memberOf SetCache\n     * @alias push\n     * @param {*} value The value to cache.\n     * @returns {Object} Returns the cache instance.\n     */\n    function setCacheAdd(value) {\n      this.__data__.set(value, HASH_UNDEFINED);\n      return this;\n    }\n\n    /**\n     * Checks if `value` is in the array cache.\n     *\n     * @private\n     * @name has\n     * @memberOf SetCache\n     * @param {*} value The value to search for.\n     * @returns {number} Returns `true` if `value` is found, else `false`.\n     */\n    function setCacheHas(value) {\n      return this.__data__.has(value);\n    }\n\n    // Add methods to `SetCache`.\n    SetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\n    SetCache.prototype.has = setCacheHas;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a stack cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function Stack(entries) {\n      var data = this.__data__ = new ListCache(entries);\n      this.size = data.size;\n    }\n\n    /**\n     * Removes all key-value entries from the stack.\n     *\n     * @private\n     * @name clear\n     * @memberOf Stack\n     */\n    function stackClear() {\n      this.__data__ = new ListCache;\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the stack.\n     *\n     * @private\n     * @name delete\n     * @memberOf Stack\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function stackDelete(key) {\n      var data = this.__data__,\n          result = data['delete'](key);\n\n      this.size = data.size;\n      return result;\n    }\n\n    /**\n     * Gets the stack value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Stack\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function stackGet(key) {\n      return this.__data__.get(key);\n    }\n\n    /**\n     * Checks if a stack value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Stack\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function stackHas(key) {\n      return this.__data__.has(key);\n    }\n\n    /**\n     * Sets the stack `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Stack\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the stack cache instance.\n     */\n    function stackSet(key, value) {\n      var data = this.__data__;\n      if (data instanceof ListCache) {\n        var pairs = data.__data__;\n        if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n          pairs.push([key, value]);\n          this.size = ++data.size;\n          return this;\n        }\n        data = this.__data__ = new MapCache(pairs);\n      }\n      data.set(key, value);\n      this.size = data.size;\n      return this;\n    }\n\n    // Add methods to `Stack`.\n    Stack.prototype.clear = stackClear;\n    Stack.prototype['delete'] = stackDelete;\n    Stack.prototype.get = stackGet;\n    Stack.prototype.has = stackHas;\n    Stack.prototype.set = stackSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of the enumerable property names of the array-like `value`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @param {boolean} inherited Specify returning inherited property names.\n     * @returns {Array} Returns the array of property names.\n     */\n    function arrayLikeKeys(value, inherited) {\n      var isArr = isArray(value),\n          isArg = !isArr && isArguments(value),\n          isBuff = !isArr && !isArg && isBuffer(value),\n          isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n          skipIndexes = isArr || isArg || isBuff || isType,\n          result = skipIndexes ? baseTimes(value.length, String) : [],\n          length = result.length;\n\n      for (var key in value) {\n        if ((inherited || hasOwnProperty.call(value, key)) &&\n            !(skipIndexes && (\n               // Safari 9 has enumerable `arguments.length` in strict mode.\n               key == 'length' ||\n               // Node.js 0.10 has enumerable non-index properties on buffers.\n               (isBuff && (key == 'offset' || key == 'parent')) ||\n               // PhantomJS 2 has enumerable non-index properties on typed arrays.\n               (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n               // Skip index properties.\n               isIndex(key, length)\n            ))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.sample` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to sample.\n     * @returns {*} Returns the random element.\n     */\n    function arraySample(array) {\n      var length = array.length;\n      return length ? array[baseRandom(0, length - 1)] : undefined;\n    }\n\n    /**\n     * A specialized version of `_.sampleSize` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to sample.\n     * @param {number} n The number of elements to sample.\n     * @returns {Array} Returns the random elements.\n     */\n    function arraySampleSize(array, n) {\n      return shuffleSelf(copyArray(array), baseClamp(n, 0, array.length));\n    }\n\n    /**\n     * A specialized version of `_.shuffle` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     */\n    function arrayShuffle(array) {\n      return shuffleSelf(copyArray(array));\n    }\n\n    /**\n     * This function is like `assignValue` except that it doesn't assign\n     * `undefined` values.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function assignMergeValue(object, key, value) {\n      if ((value !== undefined && !eq(object[key], value)) ||\n          (value === undefined && !(key in object))) {\n        baseAssignValue(object, key, value);\n      }\n    }\n\n    /**\n     * Assigns `value` to `key` of `object` if the existing value is not equivalent\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function assignValue(object, key, value) {\n      var objValue = object[key];\n      if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n          (value === undefined && !(key in object))) {\n        baseAssignValue(object, key, value);\n      }\n    }\n\n    /**\n     * Gets the index at which the `key` is found in `array` of key-value pairs.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {*} key The key to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     */\n    function assocIndexOf(array, key) {\n      var length = array.length;\n      while (length--) {\n        if (eq(array[length][0], key)) {\n          return length;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * Aggregates elements of `collection` on `accumulator` with keys transformed\n     * by `iteratee` and values set by `setter`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} setter The function to set `accumulator` values.\n     * @param {Function} iteratee The iteratee to transform keys.\n     * @param {Object} accumulator The initial aggregated object.\n     * @returns {Function} Returns `accumulator`.\n     */\n    function baseAggregator(collection, setter, iteratee, accumulator) {\n      baseEach(collection, function(value, key, collection) {\n        setter(accumulator, value, iteratee(value), collection);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `_.assign` without support for multiple sources\n     * or `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    function baseAssign(object, source) {\n      return object && copyObject(source, keys(source), object);\n    }\n\n    /**\n     * The base implementation of `_.assignIn` without support for multiple sources\n     * or `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    function baseAssignIn(object, source) {\n      return object && copyObject(source, keysIn(source), object);\n    }\n\n    /**\n     * The base implementation of `assignValue` and `assignMergeValue` without\n     * value checks.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function baseAssignValue(object, key, value) {\n      if (key == '__proto__' && defineProperty) {\n        defineProperty(object, key, {\n          'configurable': true,\n          'enumerable': true,\n          'value': value,\n          'writable': true\n        });\n      } else {\n        object[key] = value;\n      }\n    }\n\n    /**\n     * The base implementation of `_.at` without support for individual paths.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {string[]} paths The property paths to pick.\n     * @returns {Array} Returns the picked elements.\n     */\n    function baseAt(object, paths) {\n      var index = -1,\n          length = paths.length,\n          result = Array(length),\n          skip = object == null;\n\n      while (++index < length) {\n        result[index] = skip ? undefined : get(object, paths[index]);\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.clamp` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {number} number The number to clamp.\n     * @param {number} [lower] The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the clamped number.\n     */\n    function baseClamp(number, lower, upper) {\n      if (number === number) {\n        if (upper !== undefined) {\n          number = number <= upper ? number : upper;\n        }\n        if (lower !== undefined) {\n          number = number >= lower ? number : lower;\n        }\n      }\n      return number;\n    }\n\n    /**\n     * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n     * traversed objects.\n     *\n     * @private\n     * @param {*} value The value to clone.\n     * @param {boolean} bitmask The bitmask flags.\n     *  1 - Deep clone\n     *  2 - Flatten inherited properties\n     *  4 - Clone symbols\n     * @param {Function} [customizer] The function to customize cloning.\n     * @param {string} [key] The key of `value`.\n     * @param {Object} [object] The parent object of `value`.\n     * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n     * @returns {*} Returns the cloned value.\n     */\n    function baseClone(value, bitmask, customizer, key, object, stack) {\n      var result,\n          isDeep = bitmask & CLONE_DEEP_FLAG,\n          isFlat = bitmask & CLONE_FLAT_FLAG,\n          isFull = bitmask & CLONE_SYMBOLS_FLAG;\n\n      if (customizer) {\n        result = object ? customizer(value, key, object, stack) : customizer(value);\n      }\n      if (result !== undefined) {\n        return result;\n      }\n      if (!isObject(value)) {\n        return value;\n      }\n      var isArr = isArray(value);\n      if (isArr) {\n        result = initCloneArray(value);\n        if (!isDeep) {\n          return copyArray(value, result);\n        }\n      } else {\n        var tag = getTag(value),\n            isFunc = tag == funcTag || tag == genTag;\n\n        if (isBuffer(value)) {\n          return cloneBuffer(value, isDeep);\n        }\n        if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n          result = (isFlat || isFunc) ? {} : initCloneObject(value);\n          if (!isDeep) {\n            return isFlat\n              ? copySymbolsIn(value, baseAssignIn(result, value))\n              : copySymbols(value, baseAssign(result, value));\n          }\n        } else {\n          if (!cloneableTags[tag]) {\n            return object ? value : {};\n          }\n          result = initCloneByTag(value, tag, isDeep);\n        }\n      }\n      // Check for circular references and return its corresponding clone.\n      stack || (stack = new Stack);\n      var stacked = stack.get(value);\n      if (stacked) {\n        return stacked;\n      }\n      stack.set(value, result);\n\n      if (isSet(value)) {\n        value.forEach(function(subValue) {\n          result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));\n        });\n      } else if (isMap(value)) {\n        value.forEach(function(subValue, key) {\n          result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));\n        });\n      }\n\n      var keysFunc = isFull\n        ? (isFlat ? getAllKeysIn : getAllKeys)\n        : (isFlat ? keysIn : keys);\n\n      var props = isArr ? undefined : keysFunc(value);\n      arrayEach(props || value, function(subValue, key) {\n        if (props) {\n          key = subValue;\n          subValue = value[key];\n        }\n        // Recursively populate clone (susceptible to call stack limits).\n        assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.conforms` which doesn't clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseConforms(source) {\n      var props = keys(source);\n      return function(object) {\n        return baseConformsTo(object, source, props);\n      };\n    }\n\n    /**\n     * The base implementation of `_.conformsTo` which accepts `props` to check.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {boolean} Returns `true` if `object` conforms, else `false`.\n     */\n    function baseConformsTo(object, source, props) {\n      var length = props.length;\n      if (object == null) {\n        return !length;\n      }\n      object = Object(object);\n      while (length--) {\n        var key = props[length],\n            predicate = source[key],\n            value = object[key];\n\n        if ((value === undefined && !(key in object)) || !predicate(value)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.delay` and `_.defer` which accepts `args`\n     * to provide to `func`.\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {Array} args The arguments to provide to `func`.\n     * @returns {number|Object} Returns the timer id or timeout object.\n     */\n    function baseDelay(func, wait, args) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return setTimeout(function() { func.apply(undefined, args); }, wait);\n    }\n\n    /**\n     * The base implementation of methods like `_.difference` without support\n     * for excluding multiple arrays or iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Array} values The values to exclude.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     */\n    function baseDifference(array, values, iteratee, comparator) {\n      var index = -1,\n          includes = arrayIncludes,\n          isCommon = true,\n          length = array.length,\n          result = [],\n          valuesLength = values.length;\n\n      if (!length) {\n        return result;\n      }\n      if (iteratee) {\n        values = arrayMap(values, baseUnary(iteratee));\n      }\n      if (comparator) {\n        includes = arrayIncludesWith;\n        isCommon = false;\n      }\n      else if (values.length >= LARGE_ARRAY_SIZE) {\n        includes = cacheHas;\n        isCommon = false;\n        values = new SetCache(values);\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee == null ? value : iteratee(value);\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (isCommon && computed === computed) {\n          var valuesIndex = valuesLength;\n          while (valuesIndex--) {\n            if (values[valuesIndex] === computed) {\n              continue outer;\n            }\n          }\n          result.push(value);\n        }\n        else if (!includes(values, computed, comparator)) {\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.forEach` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     */\n    var baseEach = createBaseEach(baseForOwn);\n\n    /**\n     * The base implementation of `_.forEachRight` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     */\n    var baseEachRight = createBaseEach(baseForOwnRight, true);\n\n    /**\n     * The base implementation of `_.every` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`\n     */\n    function baseEvery(collection, predicate) {\n      var result = true;\n      baseEach(collection, function(value, index, collection) {\n        result = !!predicate(value, index, collection);\n        return result;\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of methods like `_.max` and `_.min` which accepts a\n     * `comparator` to determine the extremum value.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The iteratee invoked per iteration.\n     * @param {Function} comparator The comparator used to compare values.\n     * @returns {*} Returns the extremum value.\n     */\n    function baseExtremum(array, iteratee, comparator) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        var value = array[index],\n            current = iteratee(value);\n\n        if (current != null && (computed === undefined\n              ? (current === current && !isSymbol(current))\n              : comparator(current, computed)\n            )) {\n          var computed = current,\n              result = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.fill` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     */\n    function baseFill(array, value, start, end) {\n      var length = array.length;\n\n      start = toInteger(start);\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = (end === undefined || end > length) ? length : toInteger(end);\n      if (end < 0) {\n        end += length;\n      }\n      end = start > end ? 0 : toLength(end);\n      while (start < end) {\n        array[start++] = value;\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.filter` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     */\n    function baseFilter(collection, predicate) {\n      var result = [];\n      baseEach(collection, function(value, index, collection) {\n        if (predicate(value, index, collection)) {\n          result.push(value);\n        }\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.flatten` with support for restricting flattening.\n     *\n     * @private\n     * @param {Array} array The array to flatten.\n     * @param {number} depth The maximum recursion depth.\n     * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n     * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n     * @param {Array} [result=[]] The initial result value.\n     * @returns {Array} Returns the new flattened array.\n     */\n    function baseFlatten(array, depth, predicate, isStrict, result) {\n      var index = -1,\n          length = array.length;\n\n      predicate || (predicate = isFlattenable);\n      result || (result = []);\n\n      while (++index < length) {\n        var value = array[index];\n        if (depth > 0 && predicate(value)) {\n          if (depth > 1) {\n            // Recursively flatten arrays (susceptible to call stack limits).\n            baseFlatten(value, depth - 1, predicate, isStrict, result);\n          } else {\n            arrayPush(result, value);\n          }\n        } else if (!isStrict) {\n          result[result.length] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `baseForOwn` which iterates over `object`\n     * properties returned by `keysFunc` and invokes `iteratee` for each property.\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseFor = createBaseFor();\n\n    /**\n     * This function is like `baseFor` except that it iterates over properties\n     * in the opposite order.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseForRight = createBaseFor(true);\n\n    /**\n     * The base implementation of `_.forOwn` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwn(object, iteratee) {\n      return object && baseFor(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.forOwnRight` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwnRight(object, iteratee) {\n      return object && baseForRight(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.functions` which creates an array of\n     * `object` function property names filtered from `props`.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Array} props The property names to filter.\n     * @returns {Array} Returns the function names.\n     */\n    function baseFunctions(object, props) {\n      return arrayFilter(props, function(key) {\n        return isFunction(object[key]);\n      });\n    }\n\n    /**\n     * The base implementation of `_.get` without support for default values.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseGet(object, path) {\n      path = castPath(path, object);\n\n      var index = 0,\n          length = path.length;\n\n      while (object != null && index < length) {\n        object = object[toKey(path[index++])];\n      }\n      return (index && index == length) ? object : undefined;\n    }\n\n    /**\n     * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n     * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n     * symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @param {Function} symbolsFunc The function to get the symbols of `object`.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function baseGetAllKeys(object, keysFunc, symbolsFunc) {\n      var result = keysFunc(object);\n      return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n    }\n\n    /**\n     * The base implementation of `getTag` without fallbacks for buggy environments.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */\n    function baseGetTag(value) {\n      if (value == null) {\n        return value === undefined ? undefinedTag : nullTag;\n      }\n      return (symToStringTag && symToStringTag in Object(value))\n        ? getRawTag(value)\n        : objectToString(value);\n    }\n\n    /**\n     * The base implementation of `_.gt` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`,\n     *  else `false`.\n     */\n    function baseGt(value, other) {\n      return value > other;\n    }\n\n    /**\n     * The base implementation of `_.has` without support for deep paths.\n     *\n     * @private\n     * @param {Object} [object] The object to query.\n     * @param {Array|string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` exists, else `false`.\n     */\n    function baseHas(object, key) {\n      return object != null && hasOwnProperty.call(object, key);\n    }\n\n    /**\n     * The base implementation of `_.hasIn` without support for deep paths.\n     *\n     * @private\n     * @param {Object} [object] The object to query.\n     * @param {Array|string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` exists, else `false`.\n     */\n    function baseHasIn(object, key) {\n      return object != null && key in Object(object);\n    }\n\n    /**\n     * The base implementation of `_.inRange` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {number} number The number to check.\n     * @param {number} start The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n     */\n    function baseInRange(number, start, end) {\n      return number >= nativeMin(start, end) && number < nativeMax(start, end);\n    }\n\n    /**\n     * The base implementation of methods like `_.intersection`, without support\n     * for iteratee shorthands, that accepts an array of arrays to inspect.\n     *\n     * @private\n     * @param {Array} arrays The arrays to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of shared values.\n     */\n    function baseIntersection(arrays, iteratee, comparator) {\n      var includes = comparator ? arrayIncludesWith : arrayIncludes,\n          length = arrays[0].length,\n          othLength = arrays.length,\n          othIndex = othLength,\n          caches = Array(othLength),\n          maxLength = Infinity,\n          result = [];\n\n      while (othIndex--) {\n        var array = arrays[othIndex];\n        if (othIndex && iteratee) {\n          array = arrayMap(array, baseUnary(iteratee));\n        }\n        maxLength = nativeMin(array.length, maxLength);\n        caches[othIndex] = !comparator && (iteratee || (length >= 120 && array.length >= 120))\n          ? new SetCache(othIndex && array)\n          : undefined;\n      }\n      array = arrays[0];\n\n      var index = -1,\n          seen = caches[0];\n\n      outer:\n      while (++index < length && result.length < maxLength) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (!(seen\n              ? cacheHas(seen, computed)\n              : includes(result, computed, comparator)\n            )) {\n          othIndex = othLength;\n          while (--othIndex) {\n            var cache = caches[othIndex];\n            if (!(cache\n                  ? cacheHas(cache, computed)\n                  : includes(arrays[othIndex], computed, comparator))\n                ) {\n              continue outer;\n            }\n          }\n          if (seen) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.invert` and `_.invertBy` which inverts\n     * `object` with values transformed by `iteratee` and set by `setter`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} setter The function to set `accumulator` values.\n     * @param {Function} iteratee The iteratee to transform values.\n     * @param {Object} accumulator The initial inverted object.\n     * @returns {Function} Returns `accumulator`.\n     */\n    function baseInverter(object, setter, iteratee, accumulator) {\n      baseForOwn(object, function(value, key, object) {\n        setter(accumulator, iteratee(value), key, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `_.invoke` without support for individual\n     * method arguments.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {Array} args The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     */\n    function baseInvoke(object, path, args) {\n      path = castPath(path, object);\n      object = parent(object, path);\n      var func = object == null ? object : object[toKey(last(path))];\n      return func == null ? undefined : apply(func, object, args);\n    }\n\n    /**\n     * The base implementation of `_.isArguments`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n     */\n    function baseIsArguments(value) {\n      return isObjectLike(value) && baseGetTag(value) == argsTag;\n    }\n\n    /**\n     * The base implementation of `_.isArrayBuffer` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.\n     */\n    function baseIsArrayBuffer(value) {\n      return isObjectLike(value) && baseGetTag(value) == arrayBufferTag;\n    }\n\n    /**\n     * The base implementation of `_.isDate` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n     */\n    function baseIsDate(value) {\n      return isObjectLike(value) && baseGetTag(value) == dateTag;\n    }\n\n    /**\n     * The base implementation of `_.isEqual` which supports partial comparisons\n     * and tracks traversed objects.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {boolean} bitmask The bitmask flags.\n     *  1 - Unordered comparison\n     *  2 - Partial comparison\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     */\n    function baseIsEqual(value, other, bitmask, customizer, stack) {\n      if (value === other) {\n        return true;\n      }\n      if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n        return value !== value && other !== other;\n      }\n      return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n    }\n\n    /**\n     * A specialized version of `baseIsEqual` for arrays and objects which performs\n     * deep comparisons and tracks traversed objects enabling objects with circular\n     * references to be compared.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n      var objIsArr = isArray(object),\n          othIsArr = isArray(other),\n          objTag = objIsArr ? arrayTag : getTag(object),\n          othTag = othIsArr ? arrayTag : getTag(other);\n\n      objTag = objTag == argsTag ? objectTag : objTag;\n      othTag = othTag == argsTag ? objectTag : othTag;\n\n      var objIsObj = objTag == objectTag,\n          othIsObj = othTag == objectTag,\n          isSameTag = objTag == othTag;\n\n      if (isSameTag && isBuffer(object)) {\n        if (!isBuffer(other)) {\n          return false;\n        }\n        objIsArr = true;\n        objIsObj = false;\n      }\n      if (isSameTag && !objIsObj) {\n        stack || (stack = new Stack);\n        return (objIsArr || isTypedArray(object))\n          ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n          : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n      }\n      if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n        var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n            othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n        if (objIsWrapped || othIsWrapped) {\n          var objUnwrapped = objIsWrapped ? object.value() : object,\n              othUnwrapped = othIsWrapped ? other.value() : other;\n\n          stack || (stack = new Stack);\n          return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n        }\n      }\n      if (!isSameTag) {\n        return false;\n      }\n      stack || (stack = new Stack);\n      return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n    }\n\n    /**\n     * The base implementation of `_.isMap` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n     */\n    function baseIsMap(value) {\n      return isObjectLike(value) && getTag(value) == mapTag;\n    }\n\n    /**\n     * The base implementation of `_.isMatch` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Array} matchData The property names, values, and compare flags to match.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     */\n    function baseIsMatch(object, source, matchData, customizer) {\n      var index = matchData.length,\n          length = index,\n          noCustomizer = !customizer;\n\n      if (object == null) {\n        return !length;\n      }\n      object = Object(object);\n      while (index--) {\n        var data = matchData[index];\n        if ((noCustomizer && data[2])\n              ? data[1] !== object[data[0]]\n              : !(data[0] in object)\n            ) {\n          return false;\n        }\n      }\n      while (++index < length) {\n        data = matchData[index];\n        var key = data[0],\n            objValue = object[key],\n            srcValue = data[1];\n\n        if (noCustomizer && data[2]) {\n          if (objValue === undefined && !(key in object)) {\n            return false;\n          }\n        } else {\n          var stack = new Stack;\n          if (customizer) {\n            var result = customizer(objValue, srcValue, key, object, source, stack);\n          }\n          if (!(result === undefined\n                ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n                : result\n              )) {\n            return false;\n          }\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.isNative` without bad shim checks.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function,\n     *  else `false`.\n     */\n    function baseIsNative(value) {\n      if (!isObject(value) || isMasked(value)) {\n        return false;\n      }\n      var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n      return pattern.test(toSource(value));\n    }\n\n    /**\n     * The base implementation of `_.isRegExp` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n     */\n    function baseIsRegExp(value) {\n      return isObjectLike(value) && baseGetTag(value) == regexpTag;\n    }\n\n    /**\n     * The base implementation of `_.isSet` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n     */\n    function baseIsSet(value) {\n      return isObjectLike(value) && getTag(value) == setTag;\n    }\n\n    /**\n     * The base implementation of `_.isTypedArray` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n     */\n    function baseIsTypedArray(value) {\n      return isObjectLike(value) &&\n        isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n    }\n\n    /**\n     * The base implementation of `_.iteratee`.\n     *\n     * @private\n     * @param {*} [value=_.identity] The value to convert to an iteratee.\n     * @returns {Function} Returns the iteratee.\n     */\n    function baseIteratee(value) {\n      // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n      // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n      if (typeof value == 'function') {\n        return value;\n      }\n      if (value == null) {\n        return identity;\n      }\n      if (typeof value == 'object') {\n        return isArray(value)\n          ? baseMatchesProperty(value[0], value[1])\n          : baseMatches(value);\n      }\n      return property(value);\n    }\n\n    /**\n     * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function baseKeys(object) {\n      if (!isPrototype(object)) {\n        return nativeKeys(object);\n      }\n      var result = [];\n      for (var key in Object(object)) {\n        if (hasOwnProperty.call(object, key) && key != 'constructor') {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function baseKeysIn(object) {\n      if (!isObject(object)) {\n        return nativeKeysIn(object);\n      }\n      var isProto = isPrototype(object),\n          result = [];\n\n      for (var key in object) {\n        if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.lt` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`,\n     *  else `false`.\n     */\n    function baseLt(value, other) {\n      return value < other;\n    }\n\n    /**\n     * The base implementation of `_.map` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     */\n    function baseMap(collection, iteratee) {\n      var index = -1,\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value, key, collection) {\n        result[++index] = iteratee(value, key, collection);\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.matches` which doesn't clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseMatches(source) {\n      var matchData = getMatchData(source);\n      if (matchData.length == 1 && matchData[0][2]) {\n        return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n      }\n      return function(object) {\n        return object === source || baseIsMatch(object, source, matchData);\n      };\n    }\n\n    /**\n     * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n     *\n     * @private\n     * @param {string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseMatchesProperty(path, srcValue) {\n      if (isKey(path) && isStrictComparable(srcValue)) {\n        return matchesStrictComparable(toKey(path), srcValue);\n      }\n      return function(object) {\n        var objValue = get(object, path);\n        return (objValue === undefined && objValue === srcValue)\n          ? hasIn(object, path)\n          : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n      };\n    }\n\n    /**\n     * The base implementation of `_.merge` without support for multiple sources.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {number} srcIndex The index of `source`.\n     * @param {Function} [customizer] The function to customize merged values.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     */\n    function baseMerge(object, source, srcIndex, customizer, stack) {\n      if (object === source) {\n        return;\n      }\n      baseFor(source, function(srcValue, key) {\n        stack || (stack = new Stack);\n        if (isObject(srcValue)) {\n          baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n        }\n        else {\n          var newValue = customizer\n            ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n            : undefined;\n\n          if (newValue === undefined) {\n            newValue = srcValue;\n          }\n          assignMergeValue(object, key, newValue);\n        }\n      }, keysIn);\n    }\n\n    /**\n     * A specialized version of `baseMerge` for arrays and objects which performs\n     * deep merges and tracks traversed objects enabling objects with circular\n     * references to be merged.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {string} key The key of the value to merge.\n     * @param {number} srcIndex The index of `source`.\n     * @param {Function} mergeFunc The function to merge values.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     */\n    function baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n      var objValue = safeGet(object, key),\n          srcValue = safeGet(source, key),\n          stacked = stack.get(srcValue);\n\n      if (stacked) {\n        assignMergeValue(object, key, stacked);\n        return;\n      }\n      var newValue = customizer\n        ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      var isCommon = newValue === undefined;\n\n      if (isCommon) {\n        var isArr = isArray(srcValue),\n            isBuff = !isArr && isBuffer(srcValue),\n            isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n        newValue = srcValue;\n        if (isArr || isBuff || isTyped) {\n          if (isArray(objValue)) {\n            newValue = objValue;\n          }\n          else if (isArrayLikeObject(objValue)) {\n            newValue = copyArray(objValue);\n          }\n          else if (isBuff) {\n            isCommon = false;\n            newValue = cloneBuffer(srcValue, true);\n          }\n          else if (isTyped) {\n            isCommon = false;\n            newValue = cloneTypedArray(srcValue, true);\n          }\n          else {\n            newValue = [];\n          }\n        }\n        else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n          newValue = objValue;\n          if (isArguments(objValue)) {\n            newValue = toPlainObject(objValue);\n          }\n          else if (!isObject(objValue) || isFunction(objValue)) {\n            newValue = initCloneObject(srcValue);\n          }\n        }\n        else {\n          isCommon = false;\n        }\n      }\n      if (isCommon) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        stack.set(srcValue, newValue);\n        mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n        stack['delete'](srcValue);\n      }\n      assignMergeValue(object, key, newValue);\n    }\n\n    /**\n     * The base implementation of `_.nth` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {number} n The index of the element to return.\n     * @returns {*} Returns the nth element of `array`.\n     */\n    function baseNth(array, n) {\n      var length = array.length;\n      if (!length) {\n        return;\n      }\n      n += n < 0 ? length : 0;\n      return isIndex(n, length) ? array[n] : undefined;\n    }\n\n    /**\n     * The base implementation of `_.orderBy` without param guards.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n     * @param {string[]} orders The sort orders of `iteratees`.\n     * @returns {Array} Returns the new sorted array.\n     */\n    function baseOrderBy(collection, iteratees, orders) {\n      if (iteratees.length) {\n        iteratees = arrayMap(iteratees, function(iteratee) {\n          if (isArray(iteratee)) {\n            return function(value) {\n              return baseGet(value, iteratee.length === 1 ? iteratee[0] : iteratee);\n            }\n          }\n          return iteratee;\n        });\n      } else {\n        iteratees = [identity];\n      }\n\n      var index = -1;\n      iteratees = arrayMap(iteratees, baseUnary(getIteratee()));\n\n      var result = baseMap(collection, function(value, key, collection) {\n        var criteria = arrayMap(iteratees, function(iteratee) {\n          return iteratee(value);\n        });\n        return { 'criteria': criteria, 'index': ++index, 'value': value };\n      });\n\n      return baseSortBy(result, function(object, other) {\n        return compareMultiple(object, other, orders);\n      });\n    }\n\n    /**\n     * The base implementation of `_.pick` without support for individual\n     * property identifiers.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} paths The property paths to pick.\n     * @returns {Object} Returns the new object.\n     */\n    function basePick(object, paths) {\n      return basePickBy(object, paths, function(value, path) {\n        return hasIn(object, path);\n      });\n    }\n\n    /**\n     * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} paths The property paths to pick.\n     * @param {Function} predicate The function invoked per property.\n     * @returns {Object} Returns the new object.\n     */\n    function basePickBy(object, paths, predicate) {\n      var index = -1,\n          length = paths.length,\n          result = {};\n\n      while (++index < length) {\n        var path = paths[index],\n            value = baseGet(object, path);\n\n        if (predicate(value, path)) {\n          baseSet(result, castPath(path, object), value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseProperty` which supports deep paths.\n     *\n     * @private\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new accessor function.\n     */\n    function basePropertyDeep(path) {\n      return function(object) {\n        return baseGet(object, path);\n      };\n    }\n\n    /**\n     * The base implementation of `_.pullAllBy` without support for iteratee\n     * shorthands.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAll(array, values, iteratee, comparator) {\n      var indexOf = comparator ? baseIndexOfWith : baseIndexOf,\n          index = -1,\n          length = values.length,\n          seen = array;\n\n      if (array === values) {\n        values = copyArray(values);\n      }\n      if (iteratee) {\n        seen = arrayMap(array, baseUnary(iteratee));\n      }\n      while (++index < length) {\n        var fromIndex = 0,\n            value = values[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        while ((fromIndex = indexOf(seen, computed, fromIndex, comparator)) > -1) {\n          if (seen !== array) {\n            splice.call(seen, fromIndex, 1);\n          }\n          splice.call(array, fromIndex, 1);\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.pullAt` without support for individual\n     * indexes or capturing the removed elements.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {number[]} indexes The indexes of elements to remove.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAt(array, indexes) {\n      var length = array ? indexes.length : 0,\n          lastIndex = length - 1;\n\n      while (length--) {\n        var index = indexes[length];\n        if (length == lastIndex || index !== previous) {\n          var previous = index;\n          if (isIndex(index)) {\n            splice.call(array, index, 1);\n          } else {\n            baseUnset(array, index);\n          }\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.random` without support for returning\n     * floating-point numbers.\n     *\n     * @private\n     * @param {number} lower The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the random number.\n     */\n    function baseRandom(lower, upper) {\n      return lower + nativeFloor(nativeRandom() * (upper - lower + 1));\n    }\n\n    /**\n     * The base implementation of `_.range` and `_.rangeRight` which doesn't\n     * coerce arguments.\n     *\n     * @private\n     * @param {number} start The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} step The value to increment or decrement by.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the range of numbers.\n     */\n    function baseRange(start, end, step, fromRight) {\n      var index = -1,\n          length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),\n          result = Array(length);\n\n      while (length--) {\n        result[fromRight ? length : ++index] = start;\n        start += step;\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.repeat` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {string} string The string to repeat.\n     * @param {number} n The number of times to repeat the string.\n     * @returns {string} Returns the repeated string.\n     */\n    function baseRepeat(string, n) {\n      var result = '';\n      if (!string || n < 1 || n > MAX_SAFE_INTEGER) {\n        return result;\n      }\n      // Leverage the exponentiation by squaring algorithm for a faster repeat.\n      // See https://en.wikipedia.org/wiki/Exponentiation_by_squaring for more details.\n      do {\n        if (n % 2) {\n          result += string;\n        }\n        n = nativeFloor(n / 2);\n        if (n) {\n          string += string;\n        }\n      } while (n);\n\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     */\n    function baseRest(func, start) {\n      return setToString(overRest(func, start, identity), func + '');\n    }\n\n    /**\n     * The base implementation of `_.sample`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to sample.\n     * @returns {*} Returns the random element.\n     */\n    function baseSample(collection) {\n      return arraySample(values(collection));\n    }\n\n    /**\n     * The base implementation of `_.sampleSize` without param guards.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to sample.\n     * @param {number} n The number of elements to sample.\n     * @returns {Array} Returns the random elements.\n     */\n    function baseSampleSize(collection, n) {\n      var array = values(collection);\n      return shuffleSelf(array, baseClamp(n, 0, array.length));\n    }\n\n    /**\n     * The base implementation of `_.set`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @param {Function} [customizer] The function to customize path creation.\n     * @returns {Object} Returns `object`.\n     */\n    function baseSet(object, path, value, customizer) {\n      if (!isObject(object)) {\n        return object;\n      }\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length,\n          lastIndex = length - 1,\n          nested = object;\n\n      while (nested != null && ++index < length) {\n        var key = toKey(path[index]),\n            newValue = value;\n\n        if (key === '__proto__' || key === 'constructor' || key === 'prototype') {\n          return object;\n        }\n\n        if (index != lastIndex) {\n          var objValue = nested[key];\n          newValue = customizer ? customizer(objValue, key, nested) : undefined;\n          if (newValue === undefined) {\n            newValue = isObject(objValue)\n              ? objValue\n              : (isIndex(path[index + 1]) ? [] : {});\n          }\n        }\n        assignValue(nested, key, newValue);\n        nested = nested[key];\n      }\n      return object;\n    }\n\n    /**\n     * The base implementation of `setData` without support for hot loop shorting.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetData = !metaMap ? identity : function(func, data) {\n      metaMap.set(func, data);\n      return func;\n    };\n\n    /**\n     * The base implementation of `setToString` without support for hot loop shorting.\n     *\n     * @private\n     * @param {Function} func The function to modify.\n     * @param {Function} string The `toString` result.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetToString = !defineProperty ? identity : function(func, string) {\n      return defineProperty(func, 'toString', {\n        'configurable': true,\n        'enumerable': false,\n        'value': constant(string),\n        'writable': true\n      });\n    };\n\n    /**\n     * The base implementation of `_.shuffle`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     */\n    function baseShuffle(collection) {\n      return shuffleSelf(values(collection));\n    }\n\n    /**\n     * The base implementation of `_.slice` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseSlice(array, start, end) {\n      var index = -1,\n          length = array.length;\n\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = end > length ? length : end;\n      if (end < 0) {\n        end += length;\n      }\n      length = start > end ? 0 : ((end - start) >>> 0);\n      start >>>= 0;\n\n      var result = Array(length);\n      while (++index < length) {\n        result[index] = array[index + start];\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.some` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     */\n    function baseSome(collection, predicate) {\n      var result;\n\n      baseEach(collection, function(value, index, collection) {\n        result = predicate(value, index, collection);\n        return !result;\n      });\n      return !!result;\n    }\n\n    /**\n     * The base implementation of `_.sortedIndex` and `_.sortedLastIndex` which\n     * performs a binary search of `array` to determine the index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function baseSortedIndex(array, value, retHighest) {\n      var low = 0,\n          high = array == null ? low : array.length;\n\n      if (typeof value == 'number' && value === value && high <= HALF_MAX_ARRAY_LENGTH) {\n        while (low < high) {\n          var mid = (low + high) >>> 1,\n              computed = array[mid];\n\n          if (computed !== null && !isSymbol(computed) &&\n              (retHighest ? (computed <= value) : (computed < value))) {\n            low = mid + 1;\n          } else {\n            high = mid;\n          }\n        }\n        return high;\n      }\n      return baseSortedIndexBy(array, value, identity, retHighest);\n    }\n\n    /**\n     * The base implementation of `_.sortedIndexBy` and `_.sortedLastIndexBy`\n     * which invokes `iteratee` for `value` and each element of `array` to compute\n     * their sort ranking. The iteratee is invoked with one argument; (value).\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} iteratee The iteratee invoked per element.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function baseSortedIndexBy(array, value, iteratee, retHighest) {\n      var low = 0,\n          high = array == null ? 0 : array.length;\n      if (high === 0) {\n        return 0;\n      }\n\n      value = iteratee(value);\n      var valIsNaN = value !== value,\n          valIsNull = value === null,\n          valIsSymbol = isSymbol(value),\n          valIsUndefined = value === undefined;\n\n      while (low < high) {\n        var mid = nativeFloor((low + high) / 2),\n            computed = iteratee(array[mid]),\n            othIsDefined = computed !== undefined,\n            othIsNull = computed === null,\n            othIsReflexive = computed === computed,\n            othIsSymbol = isSymbol(computed);\n\n        if (valIsNaN) {\n          var setLow = retHighest || othIsReflexive;\n        } else if (valIsUndefined) {\n          setLow = othIsReflexive && (retHighest || othIsDefined);\n        } else if (valIsNull) {\n          setLow = othIsReflexive && othIsDefined && (retHighest || !othIsNull);\n        } else if (valIsSymbol) {\n          setLow = othIsReflexive && othIsDefined && !othIsNull && (retHighest || !othIsSymbol);\n        } else if (othIsNull || othIsSymbol) {\n          setLow = false;\n        } else {\n          setLow = retHighest ? (computed <= value) : (computed < value);\n        }\n        if (setLow) {\n          low = mid + 1;\n        } else {\n          high = mid;\n        }\n      }\n      return nativeMin(high, MAX_ARRAY_INDEX);\n    }\n\n    /**\n     * The base implementation of `_.sortedUniq` and `_.sortedUniqBy` without\n     * support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     */\n    function baseSortedUniq(array, iteratee) {\n      var index = -1,\n          length = array.length,\n          resIndex = 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        if (!index || !eq(computed, seen)) {\n          var seen = computed;\n          result[resIndex++] = value === 0 ? 0 : value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.toNumber` which doesn't ensure correct\n     * conversions of binary, hexadecimal, or octal string values.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {number} Returns the number.\n     */\n    function baseToNumber(value) {\n      if (typeof value == 'number') {\n        return value;\n      }\n      if (isSymbol(value)) {\n        return NAN;\n      }\n      return +value;\n    }\n\n    /**\n     * The base implementation of `_.toString` which doesn't convert nullish\n     * values to empty strings.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {string} Returns the string.\n     */\n    function baseToString(value) {\n      // Exit early for strings to avoid a performance hit in some environments.\n      if (typeof value == 'string') {\n        return value;\n      }\n      if (isArray(value)) {\n        // Recursively convert values (susceptible to call stack limits).\n        return arrayMap(value, baseToString) + '';\n      }\n      if (isSymbol(value)) {\n        return symbolToString ? symbolToString.call(value) : '';\n      }\n      var result = (value + '');\n      return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n    }\n\n    /**\n     * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     */\n    function baseUniq(array, iteratee, comparator) {\n      var index = -1,\n          includes = arrayIncludes,\n          length = array.length,\n          isCommon = true,\n          result = [],\n          seen = result;\n\n      if (comparator) {\n        isCommon = false;\n        includes = arrayIncludesWith;\n      }\n      else if (length >= LARGE_ARRAY_SIZE) {\n        var set = iteratee ? null : createSet(array);\n        if (set) {\n          return setToArray(set);\n        }\n        isCommon = false;\n        includes = cacheHas;\n        seen = new SetCache;\n      }\n      else {\n        seen = iteratee ? [] : result;\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (isCommon && computed === computed) {\n          var seenIndex = seen.length;\n          while (seenIndex--) {\n            if (seen[seenIndex] === computed) {\n              continue outer;\n            }\n          }\n          if (iteratee) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n        else if (!includes(seen, computed, comparator)) {\n          if (seen !== result) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.unset`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The property path to unset.\n     * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n     */\n    function baseUnset(object, path) {\n      path = castPath(path, object);\n      object = parent(object, path);\n      return object == null || delete object[toKey(last(path))];\n    }\n\n    /**\n     * The base implementation of `_.update`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to update.\n     * @param {Function} updater The function to produce the updated value.\n     * @param {Function} [customizer] The function to customize path creation.\n     * @returns {Object} Returns `object`.\n     */\n    function baseUpdate(object, path, updater, customizer) {\n      return baseSet(object, path, updater(baseGet(object, path)), customizer);\n    }\n\n    /**\n     * The base implementation of methods like `_.dropWhile` and `_.takeWhile`\n     * without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {Function} predicate The function invoked per iteration.\n     * @param {boolean} [isDrop] Specify dropping elements instead of taking them.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseWhile(array, predicate, isDrop, fromRight) {\n      var length = array.length,\n          index = fromRight ? length : -1;\n\n      while ((fromRight ? index-- : ++index < length) &&\n        predicate(array[index], index, array)) {}\n\n      return isDrop\n        ? baseSlice(array, (fromRight ? 0 : index), (fromRight ? index + 1 : length))\n        : baseSlice(array, (fromRight ? index + 1 : 0), (fromRight ? length : index));\n    }\n\n    /**\n     * The base implementation of `wrapperValue` which returns the result of\n     * performing a sequence of actions on the unwrapped `value`, where each\n     * successive action is supplied the return value of the previous.\n     *\n     * @private\n     * @param {*} value The unwrapped value.\n     * @param {Array} actions Actions to perform to resolve the unwrapped value.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseWrapperValue(value, actions) {\n      var result = value;\n      if (result instanceof LazyWrapper) {\n        result = result.value();\n      }\n      return arrayReduce(actions, function(result, action) {\n        return action.func.apply(action.thisArg, arrayPush([result], action.args));\n      }, result);\n    }\n\n    /**\n     * The base implementation of methods like `_.xor`, without support for\n     * iteratee shorthands, that accepts an array of arrays to inspect.\n     *\n     * @private\n     * @param {Array} arrays The arrays to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of values.\n     */\n    function baseXor(arrays, iteratee, comparator) {\n      var length = arrays.length;\n      if (length < 2) {\n        return length ? baseUniq(arrays[0]) : [];\n      }\n      var index = -1,\n          result = Array(length);\n\n      while (++index < length) {\n        var array = arrays[index],\n            othIndex = -1;\n\n        while (++othIndex < length) {\n          if (othIndex != index) {\n            result[index] = baseDifference(result[index] || array, arrays[othIndex], iteratee, comparator);\n          }\n        }\n      }\n      return baseUniq(baseFlatten(result, 1), iteratee, comparator);\n    }\n\n    /**\n     * This base implementation of `_.zipObject` which assigns values using `assignFunc`.\n     *\n     * @private\n     * @param {Array} props The property identifiers.\n     * @param {Array} values The property values.\n     * @param {Function} assignFunc The function to assign values.\n     * @returns {Object} Returns the new object.\n     */\n    function baseZipObject(props, values, assignFunc) {\n      var index = -1,\n          length = props.length,\n          valsLength = values.length,\n          result = {};\n\n      while (++index < length) {\n        var value = index < valsLength ? values[index] : undefined;\n        assignFunc(result, props[index], value);\n      }\n      return result;\n    }\n\n    /**\n     * Casts `value` to an empty array if it's not an array like object.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {Array|Object} Returns the cast array-like object.\n     */\n    function castArrayLikeObject(value) {\n      return isArrayLikeObject(value) ? value : [];\n    }\n\n    /**\n     * Casts `value` to `identity` if it's not a function.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {Function} Returns cast function.\n     */\n    function castFunction(value) {\n      return typeof value == 'function' ? value : identity;\n    }\n\n    /**\n     * Casts `value` to a path array if it's not one.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {Array} Returns the cast property path array.\n     */\n    function castPath(value, object) {\n      if (isArray(value)) {\n        return value;\n      }\n      return isKey(value, object) ? [value] : stringToPath(toString(value));\n    }\n\n    /**\n     * A `baseRest` alias which can be replaced with `identity` by module\n     * replacement plugins.\n     *\n     * @private\n     * @type {Function}\n     * @param {Function} func The function to apply a rest parameter to.\n     * @returns {Function} Returns the new function.\n     */\n    var castRest = baseRest;\n\n    /**\n     * Casts `array` to a slice if it's needed.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {number} start The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the cast slice.\n     */\n    function castSlice(array, start, end) {\n      var length = array.length;\n      end = end === undefined ? length : end;\n      return (!start && end >= length) ? array : baseSlice(array, start, end);\n    }\n\n    /**\n     * A simple wrapper around the global [`clearTimeout`](https://mdn.io/clearTimeout).\n     *\n     * @private\n     * @param {number|Object} id The timer id or timeout object of the timer to clear.\n     */\n    var clearTimeout = ctxClearTimeout || function(id) {\n      return root.clearTimeout(id);\n    };\n\n    /**\n     * Creates a clone of  `buffer`.\n     *\n     * @private\n     * @param {Buffer} buffer The buffer to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Buffer} Returns the cloned buffer.\n     */\n    function cloneBuffer(buffer, isDeep) {\n      if (isDeep) {\n        return buffer.slice();\n      }\n      var length = buffer.length,\n          result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n      buffer.copy(result);\n      return result;\n    }\n\n    /**\n     * Creates a clone of `arrayBuffer`.\n     *\n     * @private\n     * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n     * @returns {ArrayBuffer} Returns the cloned array buffer.\n     */\n    function cloneArrayBuffer(arrayBuffer) {\n      var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n      new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n      return result;\n    }\n\n    /**\n     * Creates a clone of `dataView`.\n     *\n     * @private\n     * @param {Object} dataView The data view to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned data view.\n     */\n    function cloneDataView(dataView, isDeep) {\n      var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n      return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n    }\n\n    /**\n     * Creates a clone of `regexp`.\n     *\n     * @private\n     * @param {Object} regexp The regexp to clone.\n     * @returns {Object} Returns the cloned regexp.\n     */\n    function cloneRegExp(regexp) {\n      var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n      result.lastIndex = regexp.lastIndex;\n      return result;\n    }\n\n    /**\n     * Creates a clone of the `symbol` object.\n     *\n     * @private\n     * @param {Object} symbol The symbol object to clone.\n     * @returns {Object} Returns the cloned symbol object.\n     */\n    function cloneSymbol(symbol) {\n      return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n    }\n\n    /**\n     * Creates a clone of `typedArray`.\n     *\n     * @private\n     * @param {Object} typedArray The typed array to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned typed array.\n     */\n    function cloneTypedArray(typedArray, isDeep) {\n      var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n      return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n    }\n\n    /**\n     * Compares values to sort them in ascending order.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {number} Returns the sort order indicator for `value`.\n     */\n    function compareAscending(value, other) {\n      if (value !== other) {\n        var valIsDefined = value !== undefined,\n            valIsNull = value === null,\n            valIsReflexive = value === value,\n            valIsSymbol = isSymbol(value);\n\n        var othIsDefined = other !== undefined,\n            othIsNull = other === null,\n            othIsReflexive = other === other,\n            othIsSymbol = isSymbol(other);\n\n        if ((!othIsNull && !othIsSymbol && !valIsSymbol && value > other) ||\n            (valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol) ||\n            (valIsNull && othIsDefined && othIsReflexive) ||\n            (!valIsDefined && othIsReflexive) ||\n            !valIsReflexive) {\n          return 1;\n        }\n        if ((!valIsNull && !valIsSymbol && !othIsSymbol && value < other) ||\n            (othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol) ||\n            (othIsNull && valIsDefined && valIsReflexive) ||\n            (!othIsDefined && valIsReflexive) ||\n            !othIsReflexive) {\n          return -1;\n        }\n      }\n      return 0;\n    }\n\n    /**\n     * Used by `_.orderBy` to compare multiple properties of a value to another\n     * and stable sort them.\n     *\n     * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,\n     * specify an order of \"desc\" for descending or \"asc\" for ascending sort order\n     * of corresponding values.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {boolean[]|string[]} orders The order to sort by for each property.\n     * @returns {number} Returns the sort order indicator for `object`.\n     */\n    function compareMultiple(object, other, orders) {\n      var index = -1,\n          objCriteria = object.criteria,\n          othCriteria = other.criteria,\n          length = objCriteria.length,\n          ordersLength = orders.length;\n\n      while (++index < length) {\n        var result = compareAscending(objCriteria[index], othCriteria[index]);\n        if (result) {\n          if (index >= ordersLength) {\n            return result;\n          }\n          var order = orders[index];\n          return result * (order == 'desc' ? -1 : 1);\n        }\n      }\n      // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n      // that causes it, under certain circumstances, to provide the same value for\n      // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n      // for more details.\n      //\n      // This also ensures a stable sort in V8 and other engines.\n      // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n      return object.index - other.index;\n    }\n\n    /**\n     * Creates an array that is the composition of partially applied arguments,\n     * placeholders, and provided arguments into a single array of arguments.\n     *\n     * @private\n     * @param {Array} args The provided arguments.\n     * @param {Array} partials The arguments to prepend to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @params {boolean} [isCurried] Specify composing for a curried function.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgs(args, partials, holders, isCurried) {\n      var argsIndex = -1,\n          argsLength = args.length,\n          holdersLength = holders.length,\n          leftIndex = -1,\n          leftLength = partials.length,\n          rangeLength = nativeMax(argsLength - holdersLength, 0),\n          result = Array(leftLength + rangeLength),\n          isUncurried = !isCurried;\n\n      while (++leftIndex < leftLength) {\n        result[leftIndex] = partials[leftIndex];\n      }\n      while (++argsIndex < holdersLength) {\n        if (isUncurried || argsIndex < argsLength) {\n          result[holders[argsIndex]] = args[argsIndex];\n        }\n      }\n      while (rangeLength--) {\n        result[leftIndex++] = args[argsIndex++];\n      }\n      return result;\n    }\n\n    /**\n     * This function is like `composeArgs` except that the arguments composition\n     * is tailored for `_.partialRight`.\n     *\n     * @private\n     * @param {Array} args The provided arguments.\n     * @param {Array} partials The arguments to append to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @params {boolean} [isCurried] Specify composing for a curried function.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgsRight(args, partials, holders, isCurried) {\n      var argsIndex = -1,\n          argsLength = args.length,\n          holdersIndex = -1,\n          holdersLength = holders.length,\n          rightIndex = -1,\n          rightLength = partials.length,\n          rangeLength = nativeMax(argsLength - holdersLength, 0),\n          result = Array(rangeLength + rightLength),\n          isUncurried = !isCurried;\n\n      while (++argsIndex < rangeLength) {\n        result[argsIndex] = args[argsIndex];\n      }\n      var offset = argsIndex;\n      while (++rightIndex < rightLength) {\n        result[offset + rightIndex] = partials[rightIndex];\n      }\n      while (++holdersIndex < holdersLength) {\n        if (isUncurried || argsIndex < argsLength) {\n          result[offset + holders[holdersIndex]] = args[argsIndex++];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Copies the values of `source` to `array`.\n     *\n     * @private\n     * @param {Array} source The array to copy values from.\n     * @param {Array} [array=[]] The array to copy values to.\n     * @returns {Array} Returns `array`.\n     */\n    function copyArray(source, array) {\n      var index = -1,\n          length = source.length;\n\n      array || (array = Array(length));\n      while (++index < length) {\n        array[index] = source[index];\n      }\n      return array;\n    }\n\n    /**\n     * Copies properties of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy properties from.\n     * @param {Array} props The property identifiers to copy.\n     * @param {Object} [object={}] The object to copy properties to.\n     * @param {Function} [customizer] The function to customize copied values.\n     * @returns {Object} Returns `object`.\n     */\n    function copyObject(source, props, object, customizer) {\n      var isNew = !object;\n      object || (object = {});\n\n      var index = -1,\n          length = props.length;\n\n      while (++index < length) {\n        var key = props[index];\n\n        var newValue = customizer\n          ? customizer(object[key], source[key], key, object, source)\n          : undefined;\n\n        if (newValue === undefined) {\n          newValue = source[key];\n        }\n        if (isNew) {\n          baseAssignValue(object, key, newValue);\n        } else {\n          assignValue(object, key, newValue);\n        }\n      }\n      return object;\n    }\n\n    /**\n     * Copies own symbols of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy symbols from.\n     * @param {Object} [object={}] The object to copy symbols to.\n     * @returns {Object} Returns `object`.\n     */\n    function copySymbols(source, object) {\n      return copyObject(source, getSymbols(source), object);\n    }\n\n    /**\n     * Copies own and inherited symbols of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy symbols from.\n     * @param {Object} [object={}] The object to copy symbols to.\n     * @returns {Object} Returns `object`.\n     */\n    function copySymbolsIn(source, object) {\n      return copyObject(source, getSymbolsIn(source), object);\n    }\n\n    /**\n     * Creates a function like `_.groupBy`.\n     *\n     * @private\n     * @param {Function} setter The function to set accumulator values.\n     * @param {Function} [initializer] The accumulator object initializer.\n     * @returns {Function} Returns the new aggregator function.\n     */\n    function createAggregator(setter, initializer) {\n      return function(collection, iteratee) {\n        var func = isArray(collection) ? arrayAggregator : baseAggregator,\n            accumulator = initializer ? initializer() : {};\n\n        return func(collection, setter, getIteratee(iteratee, 2), accumulator);\n      };\n    }\n\n    /**\n     * Creates a function like `_.assign`.\n     *\n     * @private\n     * @param {Function} assigner The function to assign values.\n     * @returns {Function} Returns the new assigner function.\n     */\n    function createAssigner(assigner) {\n      return baseRest(function(object, sources) {\n        var index = -1,\n            length = sources.length,\n            customizer = length > 1 ? sources[length - 1] : undefined,\n            guard = length > 2 ? sources[2] : undefined;\n\n        customizer = (assigner.length > 3 && typeof customizer == 'function')\n          ? (length--, customizer)\n          : undefined;\n\n        if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n          customizer = length < 3 ? undefined : customizer;\n          length = 1;\n        }\n        object = Object(object);\n        while (++index < length) {\n          var source = sources[index];\n          if (source) {\n            assigner(object, source, index, customizer);\n          }\n        }\n        return object;\n      });\n    }\n\n    /**\n     * Creates a `baseEach` or `baseEachRight` function.\n     *\n     * @private\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseEach(eachFunc, fromRight) {\n      return function(collection, iteratee) {\n        if (collection == null) {\n          return collection;\n        }\n        if (!isArrayLike(collection)) {\n          return eachFunc(collection, iteratee);\n        }\n        var length = collection.length,\n            index = fromRight ? length : -1,\n            iterable = Object(collection);\n\n        while ((fromRight ? index-- : ++index < length)) {\n          if (iteratee(iterable[index], index, iterable) === false) {\n            break;\n          }\n        }\n        return collection;\n      };\n    }\n\n    /**\n     * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseFor(fromRight) {\n      return function(object, iteratee, keysFunc) {\n        var index = -1,\n            iterable = Object(object),\n            props = keysFunc(object),\n            length = props.length;\n\n        while (length--) {\n          var key = props[fromRight ? length : ++index];\n          if (iteratee(iterable[key], key, iterable) === false) {\n            break;\n          }\n        }\n        return object;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with the optional `this`\n     * binding of `thisArg`.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createBind(func, bitmask, thisArg) {\n      var isBind = bitmask & WRAP_BIND_FLAG,\n          Ctor = createCtor(func);\n\n      function wrapper() {\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return fn.apply(isBind ? thisArg : this, arguments);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a function like `_.lowerFirst`.\n     *\n     * @private\n     * @param {string} methodName The name of the `String` case method to use.\n     * @returns {Function} Returns the new case function.\n     */\n    function createCaseFirst(methodName) {\n      return function(string) {\n        string = toString(string);\n\n        var strSymbols = hasUnicode(string)\n          ? stringToArray(string)\n          : undefined;\n\n        var chr = strSymbols\n          ? strSymbols[0]\n          : string.charAt(0);\n\n        var trailing = strSymbols\n          ? castSlice(strSymbols, 1).join('')\n          : string.slice(1);\n\n        return chr[methodName]() + trailing;\n      };\n    }\n\n    /**\n     * Creates a function like `_.camelCase`.\n     *\n     * @private\n     * @param {Function} callback The function to combine each word.\n     * @returns {Function} Returns the new compounder function.\n     */\n    function createCompounder(callback) {\n      return function(string) {\n        return arrayReduce(words(deburr(string).replace(reApos, '')), callback, '');\n      };\n    }\n\n    /**\n     * Creates a function that produces an instance of `Ctor` regardless of\n     * whether it was invoked as part of a `new` expression or by `call` or `apply`.\n     *\n     * @private\n     * @param {Function} Ctor The constructor to wrap.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCtor(Ctor) {\n      return function() {\n        // Use a `switch` statement to work with class constructors. See\n        // http://ecma-international.org/ecma-262/7.0/#sec-ecmascript-function-objects-call-thisargument-argumentslist\n        // for more details.\n        var args = arguments;\n        switch (args.length) {\n          case 0: return new Ctor;\n          case 1: return new Ctor(args[0]);\n          case 2: return new Ctor(args[0], args[1]);\n          case 3: return new Ctor(args[0], args[1], args[2]);\n          case 4: return new Ctor(args[0], args[1], args[2], args[3]);\n          case 5: return new Ctor(args[0], args[1], args[2], args[3], args[4]);\n          case 6: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5]);\n          case 7: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5], args[6]);\n        }\n        var thisBinding = baseCreate(Ctor.prototype),\n            result = Ctor.apply(thisBinding, args);\n\n        // Mimic the constructor's `return` behavior.\n        // See https://es5.github.io/#x13.2.2 for more details.\n        return isObject(result) ? result : thisBinding;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to enable currying.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {number} arity The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCurry(func, bitmask, arity) {\n      var Ctor = createCtor(func);\n\n      function wrapper() {\n        var length = arguments.length,\n            args = Array(length),\n            index = length,\n            placeholder = getHolder(wrapper);\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        var holders = (length < 3 && args[0] !== placeholder && args[length - 1] !== placeholder)\n          ? []\n          : replaceHolders(args, placeholder);\n\n        length -= holders.length;\n        if (length < arity) {\n          return createRecurry(\n            func, bitmask, createHybrid, wrapper.placeholder, undefined,\n            args, holders, undefined, undefined, arity - length);\n        }\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return apply(fn, this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.find` or `_.findLast` function.\n     *\n     * @private\n     * @param {Function} findIndexFunc The function to find the collection index.\n     * @returns {Function} Returns the new find function.\n     */\n    function createFind(findIndexFunc) {\n      return function(collection, predicate, fromIndex) {\n        var iterable = Object(collection);\n        if (!isArrayLike(collection)) {\n          var iteratee = getIteratee(predicate, 3);\n          collection = keys(collection);\n          predicate = function(key) { return iteratee(iterable[key], key, iterable); };\n        }\n        var index = findIndexFunc(collection, predicate, fromIndex);\n        return index > -1 ? iterable[iteratee ? collection[index] : index] : undefined;\n      };\n    }\n\n    /**\n     * Creates a `_.flow` or `_.flowRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new flow function.\n     */\n    function createFlow(fromRight) {\n      return flatRest(function(funcs) {\n        var length = funcs.length,\n            index = length,\n            prereq = LodashWrapper.prototype.thru;\n\n        if (fromRight) {\n          funcs.reverse();\n        }\n        while (index--) {\n          var func = funcs[index];\n          if (typeof func != 'function') {\n            throw new TypeError(FUNC_ERROR_TEXT);\n          }\n          if (prereq && !wrapper && getFuncName(func) == 'wrapper') {\n            var wrapper = new LodashWrapper([], true);\n          }\n        }\n        index = wrapper ? index : length;\n        while (++index < length) {\n          func = funcs[index];\n\n          var funcName = getFuncName(func),\n              data = funcName == 'wrapper' ? getData(func) : undefined;\n\n          if (data && isLaziable(data[0]) &&\n                data[1] == (WRAP_ARY_FLAG | WRAP_CURRY_FLAG | WRAP_PARTIAL_FLAG | WRAP_REARG_FLAG) &&\n                !data[4].length && data[9] == 1\n              ) {\n            wrapper = wrapper[getFuncName(data[0])].apply(wrapper, data[3]);\n          } else {\n            wrapper = (func.length == 1 && isLaziable(func))\n              ? wrapper[funcName]()\n              : wrapper.thru(func);\n          }\n        }\n        return function() {\n          var args = arguments,\n              value = args[0];\n\n          if (wrapper && args.length == 1 && isArray(value)) {\n            return wrapper.plant(value).value();\n          }\n          var index = 0,\n              result = length ? funcs[index].apply(this, args) : value;\n\n          while (++index < length) {\n            result = funcs[index].call(this, result);\n          }\n          return result;\n        };\n      });\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with optional `this`\n     * binding of `thisArg`, partial application, and currying.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to\n     *  the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [partialsRight] The arguments to append to those provided\n     *  to the new function.\n     * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createHybrid(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\n      var isAry = bitmask & WRAP_ARY_FLAG,\n          isBind = bitmask & WRAP_BIND_FLAG,\n          isBindKey = bitmask & WRAP_BIND_KEY_FLAG,\n          isCurried = bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG),\n          isFlip = bitmask & WRAP_FLIP_FLAG,\n          Ctor = isBindKey ? undefined : createCtor(func);\n\n      function wrapper() {\n        var length = arguments.length,\n            args = Array(length),\n            index = length;\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        if (isCurried) {\n          var placeholder = getHolder(wrapper),\n              holdersCount = countHolders(args, placeholder);\n        }\n        if (partials) {\n          args = composeArgs(args, partials, holders, isCurried);\n        }\n        if (partialsRight) {\n          args = composeArgsRight(args, partialsRight, holdersRight, isCurried);\n        }\n        length -= holdersCount;\n        if (isCurried && length < arity) {\n          var newHolders = replaceHolders(args, placeholder);\n          return createRecurry(\n            func, bitmask, createHybrid, wrapper.placeholder, thisArg,\n            args, newHolders, argPos, ary, arity - length\n          );\n        }\n        var thisBinding = isBind ? thisArg : this,\n            fn = isBindKey ? thisBinding[func] : func;\n\n        length = args.length;\n        if (argPos) {\n          args = reorder(args, argPos);\n        } else if (isFlip && length > 1) {\n          args.reverse();\n        }\n        if (isAry && ary < length) {\n          args.length = ary;\n        }\n        if (this && this !== root && this instanceof wrapper) {\n          fn = Ctor || createCtor(fn);\n        }\n        return fn.apply(thisBinding, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a function like `_.invertBy`.\n     *\n     * @private\n     * @param {Function} setter The function to set accumulator values.\n     * @param {Function} toIteratee The function to resolve iteratees.\n     * @returns {Function} Returns the new inverter function.\n     */\n    function createInverter(setter, toIteratee) {\n      return function(object, iteratee) {\n        return baseInverter(object, setter, toIteratee(iteratee), {});\n      };\n    }\n\n    /**\n     * Creates a function that performs a mathematical operation on two values.\n     *\n     * @private\n     * @param {Function} operator The function to perform the operation.\n     * @param {number} [defaultValue] The value used for `undefined` arguments.\n     * @returns {Function} Returns the new mathematical operation function.\n     */\n    function createMathOperation(operator, defaultValue) {\n      return function(value, other) {\n        var result;\n        if (value === undefined && other === undefined) {\n          return defaultValue;\n        }\n        if (value !== undefined) {\n          result = value;\n        }\n        if (other !== undefined) {\n          if (result === undefined) {\n            return other;\n          }\n          if (typeof value == 'string' || typeof other == 'string') {\n            value = baseToString(value);\n            other = baseToString(other);\n          } else {\n            value = baseToNumber(value);\n            other = baseToNumber(other);\n          }\n          result = operator(value, other);\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function like `_.over`.\n     *\n     * @private\n     * @param {Function} arrayFunc The function to iterate over iteratees.\n     * @returns {Function} Returns the new over function.\n     */\n    function createOver(arrayFunc) {\n      return flatRest(function(iteratees) {\n        iteratees = arrayMap(iteratees, baseUnary(getIteratee()));\n        return baseRest(function(args) {\n          var thisArg = this;\n          return arrayFunc(iteratees, function(iteratee) {\n            return apply(iteratee, thisArg, args);\n          });\n        });\n      });\n    }\n\n    /**\n     * Creates the padding for `string` based on `length`. The `chars` string\n     * is truncated if the number of characters exceeds `length`.\n     *\n     * @private\n     * @param {number} length The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padding for `string`.\n     */\n    function createPadding(length, chars) {\n      chars = chars === undefined ? ' ' : baseToString(chars);\n\n      var charsLength = chars.length;\n      if (charsLength < 2) {\n        return charsLength ? baseRepeat(chars, length) : chars;\n      }\n      var result = baseRepeat(chars, nativeCeil(length / stringSize(chars)));\n      return hasUnicode(chars)\n        ? castSlice(stringToArray(result), 0, length).join('')\n        : result.slice(0, length);\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with the `this` binding\n     * of `thisArg` and `partials` prepended to the arguments it receives.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {Array} partials The arguments to prepend to those provided to\n     *  the new function.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createPartial(func, bitmask, thisArg, partials) {\n      var isBind = bitmask & WRAP_BIND_FLAG,\n          Ctor = createCtor(func);\n\n      function wrapper() {\n        var argsIndex = -1,\n            argsLength = arguments.length,\n            leftIndex = -1,\n            leftLength = partials.length,\n            args = Array(leftLength + argsLength),\n            fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n\n        while (++leftIndex < leftLength) {\n          args[leftIndex] = partials[leftIndex];\n        }\n        while (argsLength--) {\n          args[leftIndex++] = arguments[++argsIndex];\n        }\n        return apply(fn, isBind ? thisArg : this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.range` or `_.rangeRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new range function.\n     */\n    function createRange(fromRight) {\n      return function(start, end, step) {\n        if (step && typeof step != 'number' && isIterateeCall(start, end, step)) {\n          end = step = undefined;\n        }\n        // Ensure the sign of `-0` is preserved.\n        start = toFinite(start);\n        if (end === undefined) {\n          end = start;\n          start = 0;\n        } else {\n          end = toFinite(end);\n        }\n        step = step === undefined ? (start < end ? 1 : -1) : toFinite(step);\n        return baseRange(start, end, step, fromRight);\n      };\n    }\n\n    /**\n     * Creates a function that performs a relational operation on two values.\n     *\n     * @private\n     * @param {Function} operator The function to perform the operation.\n     * @returns {Function} Returns the new relational operation function.\n     */\n    function createRelationalOperation(operator) {\n      return function(value, other) {\n        if (!(typeof value == 'string' && typeof other == 'string')) {\n          value = toNumber(value);\n          other = toNumber(other);\n        }\n        return operator(value, other);\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to continue currying.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {Function} wrapFunc The function to create the `func` wrapper.\n     * @param {*} placeholder The placeholder value.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to\n     *  the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createRecurry(func, bitmask, wrapFunc, placeholder, thisArg, partials, holders, argPos, ary, arity) {\n      var isCurry = bitmask & WRAP_CURRY_FLAG,\n          newHolders = isCurry ? holders : undefined,\n          newHoldersRight = isCurry ? undefined : holders,\n          newPartials = isCurry ? partials : undefined,\n          newPartialsRight = isCurry ? undefined : partials;\n\n      bitmask |= (isCurry ? WRAP_PARTIAL_FLAG : WRAP_PARTIAL_RIGHT_FLAG);\n      bitmask &= ~(isCurry ? WRAP_PARTIAL_RIGHT_FLAG : WRAP_PARTIAL_FLAG);\n\n      if (!(bitmask & WRAP_CURRY_BOUND_FLAG)) {\n        bitmask &= ~(WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG);\n      }\n      var newData = [\n        func, bitmask, thisArg, newPartials, newHolders, newPartialsRight,\n        newHoldersRight, argPos, ary, arity\n      ];\n\n      var result = wrapFunc.apply(undefined, newData);\n      if (isLaziable(func)) {\n        setData(result, newData);\n      }\n      result.placeholder = placeholder;\n      return setWrapToString(result, func, bitmask);\n    }\n\n    /**\n     * Creates a function like `_.round`.\n     *\n     * @private\n     * @param {string} methodName The name of the `Math` method to use when rounding.\n     * @returns {Function} Returns the new round function.\n     */\n    function createRound(methodName) {\n      var func = Math[methodName];\n      return function(number, precision) {\n        number = toNumber(number);\n        precision = precision == null ? 0 : nativeMin(toInteger(precision), 292);\n        if (precision && nativeIsFinite(number)) {\n          // Shift with exponential notation to avoid floating-point issues.\n          // See [MDN](https://mdn.io/round#Examples) for more details.\n          var pair = (toString(number) + 'e').split('e'),\n              value = func(pair[0] + 'e' + (+pair[1] + precision));\n\n          pair = (toString(value) + 'e').split('e');\n          return +(pair[0] + 'e' + (+pair[1] - precision));\n        }\n        return func(number);\n      };\n    }\n\n    /**\n     * Creates a set object of `values`.\n     *\n     * @private\n     * @param {Array} values The values to add to the set.\n     * @returns {Object} Returns the new set.\n     */\n    var createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n      return new Set(values);\n    };\n\n    /**\n     * Creates a `_.toPairs` or `_.toPairsIn` function.\n     *\n     * @private\n     * @param {Function} keysFunc The function to get the keys of a given object.\n     * @returns {Function} Returns the new pairs function.\n     */\n    function createToPairs(keysFunc) {\n      return function(object) {\n        var tag = getTag(object);\n        if (tag == mapTag) {\n          return mapToArray(object);\n        }\n        if (tag == setTag) {\n          return setToPairs(object);\n        }\n        return baseToPairs(object, keysFunc(object));\n      };\n    }\n\n    /**\n     * Creates a function that either curries or invokes `func` with optional\n     * `this` binding and partially applied arguments.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to wrap.\n     * @param {number} bitmask The bitmask flags.\n     *    1 - `_.bind`\n     *    2 - `_.bindKey`\n     *    4 - `_.curry` or `_.curryRight` of a bound function\n     *    8 - `_.curry`\n     *   16 - `_.curryRight`\n     *   32 - `_.partial`\n     *   64 - `_.partialRight`\n     *  128 - `_.rearg`\n     *  256 - `_.ary`\n     *  512 - `_.flip`\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to be partially applied.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createWrap(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {\n      var isBindKey = bitmask & WRAP_BIND_KEY_FLAG;\n      if (!isBindKey && typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var length = partials ? partials.length : 0;\n      if (!length) {\n        bitmask &= ~(WRAP_PARTIAL_FLAG | WRAP_PARTIAL_RIGHT_FLAG);\n        partials = holders = undefined;\n      }\n      ary = ary === undefined ? ary : nativeMax(toInteger(ary), 0);\n      arity = arity === undefined ? arity : toInteger(arity);\n      length -= holders ? holders.length : 0;\n\n      if (bitmask & WRAP_PARTIAL_RIGHT_FLAG) {\n        var partialsRight = partials,\n            holdersRight = holders;\n\n        partials = holders = undefined;\n      }\n      var data = isBindKey ? undefined : getData(func);\n\n      var newData = [\n        func, bitmask, thisArg, partials, holders, partialsRight, holdersRight,\n        argPos, ary, arity\n      ];\n\n      if (data) {\n        mergeData(newData, data);\n      }\n      func = newData[0];\n      bitmask = newData[1];\n      thisArg = newData[2];\n      partials = newData[3];\n      holders = newData[4];\n      arity = newData[9] = newData[9] === undefined\n        ? (isBindKey ? 0 : func.length)\n        : nativeMax(newData[9] - length, 0);\n\n      if (!arity && bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG)) {\n        bitmask &= ~(WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG);\n      }\n      if (!bitmask || bitmask == WRAP_BIND_FLAG) {\n        var result = createBind(func, bitmask, thisArg);\n      } else if (bitmask == WRAP_CURRY_FLAG || bitmask == WRAP_CURRY_RIGHT_FLAG) {\n        result = createCurry(func, bitmask, arity);\n      } else if ((bitmask == WRAP_PARTIAL_FLAG || bitmask == (WRAP_BIND_FLAG | WRAP_PARTIAL_FLAG)) && !holders.length) {\n        result = createPartial(func, bitmask, thisArg, partials);\n      } else {\n        result = createHybrid.apply(undefined, newData);\n      }\n      var setter = data ? baseSetData : setData;\n      return setWrapToString(setter(result, newData), func, bitmask);\n    }\n\n    /**\n     * Used by `_.defaults` to customize its `_.assignIn` use to assign properties\n     * of source objects to the destination object for all destination properties\n     * that resolve to `undefined`.\n     *\n     * @private\n     * @param {*} objValue The destination value.\n     * @param {*} srcValue The source value.\n     * @param {string} key The key of the property to assign.\n     * @param {Object} object The parent object of `objValue`.\n     * @returns {*} Returns the value to assign.\n     */\n    function customDefaultsAssignIn(objValue, srcValue, key, object) {\n      if (objValue === undefined ||\n          (eq(objValue, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n        return srcValue;\n      }\n      return objValue;\n    }\n\n    /**\n     * Used by `_.defaultsDeep` to customize its `_.merge` use to merge source\n     * objects into destination objects that are passed thru.\n     *\n     * @private\n     * @param {*} objValue The destination value.\n     * @param {*} srcValue The source value.\n     * @param {string} key The key of the property to merge.\n     * @param {Object} object The parent object of `objValue`.\n     * @param {Object} source The parent object of `srcValue`.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     * @returns {*} Returns the value to assign.\n     */\n    function customDefaultsMerge(objValue, srcValue, key, object, source, stack) {\n      if (isObject(objValue) && isObject(srcValue)) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        stack.set(srcValue, objValue);\n        baseMerge(objValue, srcValue, undefined, customDefaultsMerge, stack);\n        stack['delete'](srcValue);\n      }\n      return objValue;\n    }\n\n    /**\n     * Used by `_.omit` to customize its `_.cloneDeep` use to only clone plain\n     * objects.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @param {string} key The key of the property to inspect.\n     * @returns {*} Returns the uncloned value or `undefined` to defer cloning to `_.cloneDeep`.\n     */\n    function customOmitClone(value) {\n      return isPlainObject(value) ? undefined : value;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for arrays with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Array} array The array to compare.\n     * @param {Array} other The other array to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `array` and `other` objects.\n     * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n     */\n    function equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n          arrLength = array.length,\n          othLength = other.length;\n\n      if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n        return false;\n      }\n      // Check that cyclic values are equal.\n      var arrStacked = stack.get(array);\n      var othStacked = stack.get(other);\n      if (arrStacked && othStacked) {\n        return arrStacked == other && othStacked == array;\n      }\n      var index = -1,\n          result = true,\n          seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n      stack.set(array, other);\n      stack.set(other, array);\n\n      // Ignore non-index properties.\n      while (++index < arrLength) {\n        var arrValue = array[index],\n            othValue = other[index];\n\n        if (customizer) {\n          var compared = isPartial\n            ? customizer(othValue, arrValue, index, other, array, stack)\n            : customizer(arrValue, othValue, index, array, other, stack);\n        }\n        if (compared !== undefined) {\n          if (compared) {\n            continue;\n          }\n          result = false;\n          break;\n        }\n        // Recursively compare arrays (susceptible to call stack limits).\n        if (seen) {\n          if (!arraySome(other, function(othValue, othIndex) {\n                if (!cacheHas(seen, othIndex) &&\n                    (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n                  return seen.push(othIndex);\n                }\n              })) {\n            result = false;\n            break;\n          }\n        } else if (!(\n              arrValue === othValue ||\n                equalFunc(arrValue, othValue, bitmask, customizer, stack)\n            )) {\n          result = false;\n          break;\n        }\n      }\n      stack['delete'](array);\n      stack['delete'](other);\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for comparing objects of\n     * the same `toStringTag`.\n     *\n     * **Note:** This function only supports comparing values with tags of\n     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {string} tag The `toStringTag` of the objects to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n      switch (tag) {\n        case dataViewTag:\n          if ((object.byteLength != other.byteLength) ||\n              (object.byteOffset != other.byteOffset)) {\n            return false;\n          }\n          object = object.buffer;\n          other = other.buffer;\n\n        case arrayBufferTag:\n          if ((object.byteLength != other.byteLength) ||\n              !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n            return false;\n          }\n          return true;\n\n        case boolTag:\n        case dateTag:\n        case numberTag:\n          // Coerce booleans to `1` or `0` and dates to milliseconds.\n          // Invalid dates are coerced to `NaN`.\n          return eq(+object, +other);\n\n        case errorTag:\n          return object.name == other.name && object.message == other.message;\n\n        case regexpTag:\n        case stringTag:\n          // Coerce regexes to strings and treat strings, primitives and objects,\n          // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n          // for more details.\n          return object == (other + '');\n\n        case mapTag:\n          var convert = mapToArray;\n\n        case setTag:\n          var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n          convert || (convert = setToArray);\n\n          if (object.size != other.size && !isPartial) {\n            return false;\n          }\n          // Assume cyclic values are equal.\n          var stacked = stack.get(object);\n          if (stacked) {\n            return stacked == other;\n          }\n          bitmask |= COMPARE_UNORDERED_FLAG;\n\n          // Recursively compare objects (susceptible to call stack limits).\n          stack.set(object, other);\n          var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n          stack['delete'](object);\n          return result;\n\n        case symbolTag:\n          if (symbolValueOf) {\n            return symbolValueOf.call(object) == symbolValueOf.call(other);\n          }\n      }\n      return false;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for objects with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n          objProps = getAllKeys(object),\n          objLength = objProps.length,\n          othProps = getAllKeys(other),\n          othLength = othProps.length;\n\n      if (objLength != othLength && !isPartial) {\n        return false;\n      }\n      var index = objLength;\n      while (index--) {\n        var key = objProps[index];\n        if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n          return false;\n        }\n      }\n      // Check that cyclic values are equal.\n      var objStacked = stack.get(object);\n      var othStacked = stack.get(other);\n      if (objStacked && othStacked) {\n        return objStacked == other && othStacked == object;\n      }\n      var result = true;\n      stack.set(object, other);\n      stack.set(other, object);\n\n      var skipCtor = isPartial;\n      while (++index < objLength) {\n        key = objProps[index];\n        var objValue = object[key],\n            othValue = other[key];\n\n        if (customizer) {\n          var compared = isPartial\n            ? customizer(othValue, objValue, key, other, object, stack)\n            : customizer(objValue, othValue, key, object, other, stack);\n        }\n        // Recursively compare objects (susceptible to call stack limits).\n        if (!(compared === undefined\n              ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n              : compared\n            )) {\n          result = false;\n          break;\n        }\n        skipCtor || (skipCtor = key == 'constructor');\n      }\n      if (result && !skipCtor) {\n        var objCtor = object.constructor,\n            othCtor = other.constructor;\n\n        // Non `Object` object instances with different constructors are not equal.\n        if (objCtor != othCtor &&\n            ('constructor' in object && 'constructor' in other) &&\n            !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n              typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n          result = false;\n        }\n      }\n      stack['delete'](object);\n      stack['delete'](other);\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseRest` which flattens the rest array.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @returns {Function} Returns the new function.\n     */\n    function flatRest(func) {\n      return setToString(overRest(func, undefined, flatten), func + '');\n    }\n\n    /**\n     * Creates an array of own enumerable property names and symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function getAllKeys(object) {\n      return baseGetAllKeys(object, keys, getSymbols);\n    }\n\n    /**\n     * Creates an array of own and inherited enumerable property names and\n     * symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function getAllKeysIn(object) {\n      return baseGetAllKeys(object, keysIn, getSymbolsIn);\n    }\n\n    /**\n     * Gets metadata for `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {*} Returns the metadata for `func`.\n     */\n    var getData = !metaMap ? noop : function(func) {\n      return metaMap.get(func);\n    };\n\n    /**\n     * Gets the name of `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {string} Returns the function name.\n     */\n    function getFuncName(func) {\n      var result = (func.name + ''),\n          array = realNames[result],\n          length = hasOwnProperty.call(realNames, result) ? array.length : 0;\n\n      while (length--) {\n        var data = array[length],\n            otherFunc = data.func;\n        if (otherFunc == null || otherFunc == func) {\n          return data.name;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Gets the argument placeholder value for `func`.\n     *\n     * @private\n     * @param {Function} func The function to inspect.\n     * @returns {*} Returns the placeholder value.\n     */\n    function getHolder(func) {\n      var object = hasOwnProperty.call(lodash, 'placeholder') ? lodash : func;\n      return object.placeholder;\n    }\n\n    /**\n     * Gets the appropriate \"iteratee\" function. If `_.iteratee` is customized,\n     * this function returns the custom method, otherwise it returns `baseIteratee`.\n     * If arguments are provided, the chosen function is invoked with them and\n     * its result is returned.\n     *\n     * @private\n     * @param {*} [value] The value to convert to an iteratee.\n     * @param {number} [arity] The arity of the created iteratee.\n     * @returns {Function} Returns the chosen function or its result.\n     */\n    function getIteratee() {\n      var result = lodash.iteratee || iteratee;\n      result = result === iteratee ? baseIteratee : result;\n      return arguments.length ? result(arguments[0], arguments[1]) : result;\n    }\n\n    /**\n     * Gets the data for `map`.\n     *\n     * @private\n     * @param {Object} map The map to query.\n     * @param {string} key The reference key.\n     * @returns {*} Returns the map data.\n     */\n    function getMapData(map, key) {\n      var data = map.__data__;\n      return isKeyable(key)\n        ? data[typeof key == 'string' ? 'string' : 'hash']\n        : data.map;\n    }\n\n    /**\n     * Gets the property names, values, and compare flags of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the match data of `object`.\n     */\n    function getMatchData(object) {\n      var result = keys(object),\n          length = result.length;\n\n      while (length--) {\n        var key = result[length],\n            value = object[key];\n\n        result[length] = [key, value, isStrictComparable(value)];\n      }\n      return result;\n    }\n\n    /**\n     * Gets the native function at `key` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the method to get.\n     * @returns {*} Returns the function if it's native, else `undefined`.\n     */\n    function getNative(object, key) {\n      var value = getValue(object, key);\n      return baseIsNative(value) ? value : undefined;\n    }\n\n    /**\n     * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the raw `toStringTag`.\n     */\n    function getRawTag(value) {\n      var isOwn = hasOwnProperty.call(value, symToStringTag),\n          tag = value[symToStringTag];\n\n      try {\n        value[symToStringTag] = undefined;\n        var unmasked = true;\n      } catch (e) {}\n\n      var result = nativeObjectToString.call(value);\n      if (unmasked) {\n        if (isOwn) {\n          value[symToStringTag] = tag;\n        } else {\n          delete value[symToStringTag];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array of the own enumerable symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of symbols.\n     */\n    var getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n      if (object == null) {\n        return [];\n      }\n      object = Object(object);\n      return arrayFilter(nativeGetSymbols(object), function(symbol) {\n        return propertyIsEnumerable.call(object, symbol);\n      });\n    };\n\n    /**\n     * Creates an array of the own and inherited enumerable symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of symbols.\n     */\n    var getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {\n      var result = [];\n      while (object) {\n        arrayPush(result, getSymbols(object));\n        object = getPrototype(object);\n      }\n      return result;\n    };\n\n    /**\n     * Gets the `toStringTag` of `value`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */\n    var getTag = baseGetTag;\n\n    // Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\n    if ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n        (Map && getTag(new Map) != mapTag) ||\n        (Promise && getTag(Promise.resolve()) != promiseTag) ||\n        (Set && getTag(new Set) != setTag) ||\n        (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n      getTag = function(value) {\n        var result = baseGetTag(value),\n            Ctor = result == objectTag ? value.constructor : undefined,\n            ctorString = Ctor ? toSource(Ctor) : '';\n\n        if (ctorString) {\n          switch (ctorString) {\n            case dataViewCtorString: return dataViewTag;\n            case mapCtorString: return mapTag;\n            case promiseCtorString: return promiseTag;\n            case setCtorString: return setTag;\n            case weakMapCtorString: return weakMapTag;\n          }\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Gets the view, applying any `transforms` to the `start` and `end` positions.\n     *\n     * @private\n     * @param {number} start The start of the view.\n     * @param {number} end The end of the view.\n     * @param {Array} transforms The transformations to apply to the view.\n     * @returns {Object} Returns an object containing the `start` and `end`\n     *  positions of the view.\n     */\n    function getView(start, end, transforms) {\n      var index = -1,\n          length = transforms.length;\n\n      while (++index < length) {\n        var data = transforms[index],\n            size = data.size;\n\n        switch (data.type) {\n          case 'drop':      start += size; break;\n          case 'dropRight': end -= size; break;\n          case 'take':      end = nativeMin(end, start + size); break;\n          case 'takeRight': start = nativeMax(start, end - size); break;\n        }\n      }\n      return { 'start': start, 'end': end };\n    }\n\n    /**\n     * Extracts wrapper details from the `source` body comment.\n     *\n     * @private\n     * @param {string} source The source to inspect.\n     * @returns {Array} Returns the wrapper details.\n     */\n    function getWrapDetails(source) {\n      var match = source.match(reWrapDetails);\n      return match ? match[1].split(reSplitDetails) : [];\n    }\n\n    /**\n     * Checks if `path` exists on `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @param {Function} hasFunc The function to check properties.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     */\n    function hasPath(object, path, hasFunc) {\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length,\n          result = false;\n\n      while (++index < length) {\n        var key = toKey(path[index]);\n        if (!(result = object != null && hasFunc(object, key))) {\n          break;\n        }\n        object = object[key];\n      }\n      if (result || ++index != length) {\n        return result;\n      }\n      length = object == null ? 0 : object.length;\n      return !!length && isLength(length) && isIndex(key, length) &&\n        (isArray(object) || isArguments(object));\n    }\n\n    /**\n     * Initializes an array clone.\n     *\n     * @private\n     * @param {Array} array The array to clone.\n     * @returns {Array} Returns the initialized clone.\n     */\n    function initCloneArray(array) {\n      var length = array.length,\n          result = new array.constructor(length);\n\n      // Add properties assigned by `RegExp#exec`.\n      if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n        result.index = array.index;\n        result.input = array.input;\n      }\n      return result;\n    }\n\n    /**\n     * Initializes an object clone.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneObject(object) {\n      return (typeof object.constructor == 'function' && !isPrototype(object))\n        ? baseCreate(getPrototype(object))\n        : {};\n    }\n\n    /**\n     * Initializes an object clone based on its `toStringTag`.\n     *\n     * **Note:** This function only supports cloning values with tags of\n     * `Boolean`, `Date`, `Error`, `Map`, `Number`, `RegExp`, `Set`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @param {string} tag The `toStringTag` of the object to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneByTag(object, tag, isDeep) {\n      var Ctor = object.constructor;\n      switch (tag) {\n        case arrayBufferTag:\n          return cloneArrayBuffer(object);\n\n        case boolTag:\n        case dateTag:\n          return new Ctor(+object);\n\n        case dataViewTag:\n          return cloneDataView(object, isDeep);\n\n        case float32Tag: case float64Tag:\n        case int8Tag: case int16Tag: case int32Tag:\n        case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n          return cloneTypedArray(object, isDeep);\n\n        case mapTag:\n          return new Ctor;\n\n        case numberTag:\n        case stringTag:\n          return new Ctor(object);\n\n        case regexpTag:\n          return cloneRegExp(object);\n\n        case setTag:\n          return new Ctor;\n\n        case symbolTag:\n          return cloneSymbol(object);\n      }\n    }\n\n    /**\n     * Inserts wrapper `details` in a comment at the top of the `source` body.\n     *\n     * @private\n     * @param {string} source The source to modify.\n     * @returns {Array} details The details to insert.\n     * @returns {string} Returns the modified source.\n     */\n    function insertWrapDetails(source, details) {\n      var length = details.length;\n      if (!length) {\n        return source;\n      }\n      var lastIndex = length - 1;\n      details[lastIndex] = (length > 1 ? '& ' : '') + details[lastIndex];\n      details = details.join(length > 2 ? ', ' : ' ');\n      return source.replace(reWrapComment, '{\\n/* [wrapped with ' + details + '] */\\n');\n    }\n\n    /**\n     * Checks if `value` is a flattenable `arguments` object or array.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n     */\n    function isFlattenable(value) {\n      return isArray(value) || isArguments(value) ||\n        !!(spreadableSymbol && value && value[spreadableSymbol]);\n    }\n\n    /**\n     * Checks if `value` is a valid array-like index.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n     * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n     */\n    function isIndex(value, length) {\n      var type = typeof value;\n      length = length == null ? MAX_SAFE_INTEGER : length;\n\n      return !!length &&\n        (type == 'number' ||\n          (type != 'symbol' && reIsUint.test(value))) &&\n            (value > -1 && value % 1 == 0 && value < length);\n    }\n\n    /**\n     * Checks if the given arguments are from an iteratee call.\n     *\n     * @private\n     * @param {*} value The potential iteratee value argument.\n     * @param {*} index The potential iteratee index or key argument.\n     * @param {*} object The potential iteratee object argument.\n     * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n     *  else `false`.\n     */\n    function isIterateeCall(value, index, object) {\n      if (!isObject(object)) {\n        return false;\n      }\n      var type = typeof index;\n      if (type == 'number'\n            ? (isArrayLike(object) && isIndex(index, object.length))\n            : (type == 'string' && index in object)\n          ) {\n        return eq(object[index], value);\n      }\n      return false;\n    }\n\n    /**\n     * Checks if `value` is a property name and not a property path.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n     */\n    function isKey(value, object) {\n      if (isArray(value)) {\n        return false;\n      }\n      var type = typeof value;\n      if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n          value == null || isSymbol(value)) {\n        return true;\n      }\n      return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n        (object != null && value in Object(object));\n    }\n\n    /**\n     * Checks if `value` is suitable for use as unique object key.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n     */\n    function isKeyable(value) {\n      var type = typeof value;\n      return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n        ? (value !== '__proto__')\n        : (value === null);\n    }\n\n    /**\n     * Checks if `func` has a lazy counterpart.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` has a lazy counterpart,\n     *  else `false`.\n     */\n    function isLaziable(func) {\n      var funcName = getFuncName(func),\n          other = lodash[funcName];\n\n      if (typeof other != 'function' || !(funcName in LazyWrapper.prototype)) {\n        return false;\n      }\n      if (func === other) {\n        return true;\n      }\n      var data = getData(other);\n      return !!data && func === data[0];\n    }\n\n    /**\n     * Checks if `func` has its source masked.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n     */\n    function isMasked(func) {\n      return !!maskSrcKey && (maskSrcKey in func);\n    }\n\n    /**\n     * Checks if `func` is capable of being masked.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `func` is maskable, else `false`.\n     */\n    var isMaskable = coreJsData ? isFunction : stubFalse;\n\n    /**\n     * Checks if `value` is likely a prototype object.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n     */\n    function isPrototype(value) {\n      var Ctor = value && value.constructor,\n          proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n      return value === proto;\n    }\n\n    /**\n     * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` if suitable for strict\n     *  equality comparisons, else `false`.\n     */\n    function isStrictComparable(value) {\n      return value === value && !isObject(value);\n    }\n\n    /**\n     * A specialized version of `matchesProperty` for source values suitable\n     * for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {string} key The key of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function matchesStrictComparable(key, srcValue) {\n      return function(object) {\n        if (object == null) {\n          return false;\n        }\n        return object[key] === srcValue &&\n          (srcValue !== undefined || (key in Object(object)));\n      };\n    }\n\n    /**\n     * A specialized version of `_.memoize` which clears the memoized function's\n     * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n     *\n     * @private\n     * @param {Function} func The function to have its output memoized.\n     * @returns {Function} Returns the new memoized function.\n     */\n    function memoizeCapped(func) {\n      var result = memoize(func, function(key) {\n        if (cache.size === MAX_MEMOIZE_SIZE) {\n          cache.clear();\n        }\n        return key;\n      });\n\n      var cache = result.cache;\n      return result;\n    }\n\n    /**\n     * Merges the function metadata of `source` into `data`.\n     *\n     * Merging metadata reduces the number of wrappers used to invoke a function.\n     * This is possible because methods like `_.bind`, `_.curry`, and `_.partial`\n     * may be applied regardless of execution order. Methods like `_.ary` and\n     * `_.rearg` modify function arguments, making the order in which they are\n     * executed important, preventing the merging of metadata. However, we make\n     * an exception for a safe combined case where curried functions have `_.ary`\n     * and or `_.rearg` applied.\n     *\n     * @private\n     * @param {Array} data The destination metadata.\n     * @param {Array} source The source metadata.\n     * @returns {Array} Returns `data`.\n     */\n    function mergeData(data, source) {\n      var bitmask = data[1],\n          srcBitmask = source[1],\n          newBitmask = bitmask | srcBitmask,\n          isCommon = newBitmask < (WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG | WRAP_ARY_FLAG);\n\n      var isCombo =\n        ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_CURRY_FLAG)) ||\n        ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_REARG_FLAG) && (data[7].length <= source[8])) ||\n        ((srcBitmask == (WRAP_ARY_FLAG | WRAP_REARG_FLAG)) && (source[7].length <= source[8]) && (bitmask == WRAP_CURRY_FLAG));\n\n      // Exit early if metadata can't be merged.\n      if (!(isCommon || isCombo)) {\n        return data;\n      }\n      // Use source `thisArg` if available.\n      if (srcBitmask & WRAP_BIND_FLAG) {\n        data[2] = source[2];\n        // Set when currying a bound function.\n        newBitmask |= bitmask & WRAP_BIND_FLAG ? 0 : WRAP_CURRY_BOUND_FLAG;\n      }\n      // Compose partial arguments.\n      var value = source[3];\n      if (value) {\n        var partials = data[3];\n        data[3] = partials ? composeArgs(partials, value, source[4]) : value;\n        data[4] = partials ? replaceHolders(data[3], PLACEHOLDER) : source[4];\n      }\n      // Compose partial right arguments.\n      value = source[5];\n      if (value) {\n        partials = data[5];\n        data[5] = partials ? composeArgsRight(partials, value, source[6]) : value;\n        data[6] = partials ? replaceHolders(data[5], PLACEHOLDER) : source[6];\n      }\n      // Use source `argPos` if available.\n      value = source[7];\n      if (value) {\n        data[7] = value;\n      }\n      // Use source `ary` if it's smaller.\n      if (srcBitmask & WRAP_ARY_FLAG) {\n        data[8] = data[8] == null ? source[8] : nativeMin(data[8], source[8]);\n      }\n      // Use source `arity` if one is not provided.\n      if (data[9] == null) {\n        data[9] = source[9];\n      }\n      // Use source `func` and merge bitmasks.\n      data[0] = source[0];\n      data[1] = newBitmask;\n\n      return data;\n    }\n\n    /**\n     * This function is like\n     * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n     * except that it includes inherited enumerable properties.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function nativeKeysIn(object) {\n      var result = [];\n      if (object != null) {\n        for (var key in Object(object)) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to a string using `Object.prototype.toString`.\n     *\n     * @private\n     * @param {*} value The value to convert.\n     * @returns {string} Returns the converted string.\n     */\n    function objectToString(value) {\n      return nativeObjectToString.call(value);\n    }\n\n    /**\n     * A specialized version of `baseRest` which transforms the rest array.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @param {Function} transform The rest array transform.\n     * @returns {Function} Returns the new function.\n     */\n    function overRest(func, start, transform) {\n      start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n      return function() {\n        var args = arguments,\n            index = -1,\n            length = nativeMax(args.length - start, 0),\n            array = Array(length);\n\n        while (++index < length) {\n          array[index] = args[start + index];\n        }\n        index = -1;\n        var otherArgs = Array(start + 1);\n        while (++index < start) {\n          otherArgs[index] = args[index];\n        }\n        otherArgs[start] = transform(array);\n        return apply(func, this, otherArgs);\n      };\n    }\n\n    /**\n     * Gets the parent value at `path` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array} path The path to get the parent value of.\n     * @returns {*} Returns the parent value.\n     */\n    function parent(object, path) {\n      return path.length < 2 ? object : baseGet(object, baseSlice(path, 0, -1));\n    }\n\n    /**\n     * Reorder `array` according to the specified indexes where the element at\n     * the first index is assigned as the first element, the element at\n     * the second index is assigned as the second element, and so on.\n     *\n     * @private\n     * @param {Array} array The array to reorder.\n     * @param {Array} indexes The arranged array indexes.\n     * @returns {Array} Returns `array`.\n     */\n    function reorder(array, indexes) {\n      var arrLength = array.length,\n          length = nativeMin(indexes.length, arrLength),\n          oldArray = copyArray(array);\n\n      while (length--) {\n        var index = indexes[length];\n        array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined;\n      }\n      return array;\n    }\n\n    /**\n     * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the property to get.\n     * @returns {*} Returns the property value.\n     */\n    function safeGet(object, key) {\n      if (key === 'constructor' && typeof object[key] === 'function') {\n        return;\n      }\n\n      if (key == '__proto__') {\n        return;\n      }\n\n      return object[key];\n    }\n\n    /**\n     * Sets metadata for `func`.\n     *\n     * **Note:** If this function becomes hot, i.e. is invoked a lot in a short\n     * period of time, it will trip its breaker and transition to an identity\n     * function to avoid garbage collection pauses in V8. See\n     * [V8 issue 2070](https://bugs.chromium.org/p/v8/issues/detail?id=2070)\n     * for more details.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var setData = shortOut(baseSetData);\n\n    /**\n     * A simple wrapper around the global [`setTimeout`](https://mdn.io/setTimeout).\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @returns {number|Object} Returns the timer id or timeout object.\n     */\n    var setTimeout = ctxSetTimeout || function(func, wait) {\n      return root.setTimeout(func, wait);\n    };\n\n    /**\n     * Sets the `toString` method of `func` to return `string`.\n     *\n     * @private\n     * @param {Function} func The function to modify.\n     * @param {Function} string The `toString` result.\n     * @returns {Function} Returns `func`.\n     */\n    var setToString = shortOut(baseSetToString);\n\n    /**\n     * Sets the `toString` method of `wrapper` to mimic the source of `reference`\n     * with wrapper details in a comment at the top of the source body.\n     *\n     * @private\n     * @param {Function} wrapper The function to modify.\n     * @param {Function} reference The reference function.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @returns {Function} Returns `wrapper`.\n     */\n    function setWrapToString(wrapper, reference, bitmask) {\n      var source = (reference + '');\n      return setToString(wrapper, insertWrapDetails(source, updateWrapDetails(getWrapDetails(source), bitmask)));\n    }\n\n    /**\n     * Creates a function that'll short out and invoke `identity` instead\n     * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n     * milliseconds.\n     *\n     * @private\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new shortable function.\n     */\n    function shortOut(func) {\n      var count = 0,\n          lastCalled = 0;\n\n      return function() {\n        var stamp = nativeNow(),\n            remaining = HOT_SPAN - (stamp - lastCalled);\n\n        lastCalled = stamp;\n        if (remaining > 0) {\n          if (++count >= HOT_COUNT) {\n            return arguments[0];\n          }\n        } else {\n          count = 0;\n        }\n        return func.apply(undefined, arguments);\n      };\n    }\n\n    /**\n     * A specialized version of `_.shuffle` which mutates and sets the size of `array`.\n     *\n     * @private\n     * @param {Array} array The array to shuffle.\n     * @param {number} [size=array.length] The size of `array`.\n     * @returns {Array} Returns `array`.\n     */\n    function shuffleSelf(array, size) {\n      var index = -1,\n          length = array.length,\n          lastIndex = length - 1;\n\n      size = size === undefined ? length : size;\n      while (++index < size) {\n        var rand = baseRandom(index, lastIndex),\n            value = array[rand];\n\n        array[rand] = array[index];\n        array[index] = value;\n      }\n      array.length = size;\n      return array;\n    }\n\n    /**\n     * Converts `string` to a property path array.\n     *\n     * @private\n     * @param {string} string The string to convert.\n     * @returns {Array} Returns the property path array.\n     */\n    var stringToPath = memoizeCapped(function(string) {\n      var result = [];\n      if (string.charCodeAt(0) === 46 /* . */) {\n        result.push('');\n      }\n      string.replace(rePropName, function(match, number, quote, subString) {\n        result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n      });\n      return result;\n    });\n\n    /**\n     * Converts `value` to a string key if it's not a string or symbol.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {string|symbol} Returns the key.\n     */\n    function toKey(value) {\n      if (typeof value == 'string' || isSymbol(value)) {\n        return value;\n      }\n      var result = (value + '');\n      return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n    }\n\n    /**\n     * Converts `func` to its source code.\n     *\n     * @private\n     * @param {Function} func The function to convert.\n     * @returns {string} Returns the source code.\n     */\n    function toSource(func) {\n      if (func != null) {\n        try {\n          return funcToString.call(func);\n        } catch (e) {}\n        try {\n          return (func + '');\n        } catch (e) {}\n      }\n      return '';\n    }\n\n    /**\n     * Updates wrapper `details` based on `bitmask` flags.\n     *\n     * @private\n     * @returns {Array} details The details to modify.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @returns {Array} Returns `details`.\n     */\n    function updateWrapDetails(details, bitmask) {\n      arrayEach(wrapFlags, function(pair) {\n        var value = '_.' + pair[0];\n        if ((bitmask & pair[1]) && !arrayIncludes(details, value)) {\n          details.push(value);\n        }\n      });\n      return details.sort();\n    }\n\n    /**\n     * Creates a clone of `wrapper`.\n     *\n     * @private\n     * @param {Object} wrapper The wrapper to clone.\n     * @returns {Object} Returns the cloned wrapper.\n     */\n    function wrapperClone(wrapper) {\n      if (wrapper instanceof LazyWrapper) {\n        return wrapper.clone();\n      }\n      var result = new LodashWrapper(wrapper.__wrapped__, wrapper.__chain__);\n      result.__actions__ = copyArray(wrapper.__actions__);\n      result.__index__  = wrapper.__index__;\n      result.__values__ = wrapper.__values__;\n      return result;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of elements split into groups the length of `size`.\n     * If `array` can't be split evenly, the final chunk will be the remaining\n     * elements.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to process.\n     * @param {number} [size=1] The length of each chunk\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the new array of chunks.\n     * @example\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 2);\n     * // => [['a', 'b'], ['c', 'd']]\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 3);\n     * // => [['a', 'b', 'c'], ['d']]\n     */\n    function chunk(array, size, guard) {\n      if ((guard ? isIterateeCall(array, size, guard) : size === undefined)) {\n        size = 1;\n      } else {\n        size = nativeMax(toInteger(size), 0);\n      }\n      var length = array == null ? 0 : array.length;\n      if (!length || size < 1) {\n        return [];\n      }\n      var index = 0,\n          resIndex = 0,\n          result = Array(nativeCeil(length / size));\n\n      while (index < length) {\n        result[resIndex++] = baseSlice(array, index, (index += size));\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array with all falsey values removed. The values `false`, `null`,\n     * `0`, `\"\"`, `undefined`, and `NaN` are falsey.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to compact.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.compact([0, 1, false, 2, '', 3]);\n     * // => [1, 2, 3]\n     */\n    function compact(array) {\n      var index = -1,\n          length = array == null ? 0 : array.length,\n          resIndex = 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n        if (value) {\n          result[resIndex++] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates a new array concatenating `array` with any additional arrays\n     * and/or values.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to concatenate.\n     * @param {...*} [values] The values to concatenate.\n     * @returns {Array} Returns the new concatenated array.\n     * @example\n     *\n     * var array = [1];\n     * var other = _.concat(array, 2, [3], [[4]]);\n     *\n     * console.log(other);\n     * // => [1, 2, 3, [4]]\n     *\n     * console.log(array);\n     * // => [1]\n     */\n    function concat() {\n      var length = arguments.length;\n      if (!length) {\n        return [];\n      }\n      var args = Array(length - 1),\n          array = arguments[0],\n          index = length;\n\n      while (index--) {\n        args[index - 1] = arguments[index];\n      }\n      return arrayPush(isArray(array) ? copyArray(array) : [array], baseFlatten(args, 1));\n    }\n\n    /**\n     * Creates an array of `array` values not included in the other given arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. The order and references of result values are\n     * determined by the first array.\n     *\n     * **Note:** Unlike `_.pullAll`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.without, _.xor\n     * @example\n     *\n     * _.difference([2, 1], [2, 3]);\n     * // => [1]\n     */\n    var difference = baseRest(function(array, values) {\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true))\n        : [];\n    });\n\n    /**\n     * This method is like `_.difference` except that it accepts `iteratee` which\n     * is invoked for each element of `array` and `values` to generate the criterion\n     * by which they're compared. The order and references of result values are\n     * determined by the first array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * **Note:** Unlike `_.pullAllBy`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.differenceBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.differenceBy([{ 'x': 2 }, { 'x': 1 }], [{ 'x': 1 }], 'x');\n     * // => [{ 'x': 2 }]\n     */\n    var differenceBy = baseRest(function(array, values) {\n      var iteratee = last(values);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), getIteratee(iteratee, 2))\n        : [];\n    });\n\n    /**\n     * This method is like `_.difference` except that it accepts `comparator`\n     * which is invoked to compare elements of `array` to `values`. The order and\n     * references of result values are determined by the first array. The comparator\n     * is invoked with two arguments: (arrVal, othVal).\n     *\n     * **Note:** Unlike `_.pullAllWith`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     *\n     * _.differenceWith(objects, [{ 'x': 1, 'y': 2 }], _.isEqual);\n     * // => [{ 'x': 2, 'y': 1 }]\n     */\n    var differenceWith = baseRest(function(array, values) {\n      var comparator = last(values);\n      if (isArrayLikeObject(comparator)) {\n        comparator = undefined;\n      }\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), undefined, comparator)\n        : [];\n    });\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.drop([1, 2, 3]);\n     * // => [2, 3]\n     *\n     * _.drop([1, 2, 3], 2);\n     * // => [3]\n     *\n     * _.drop([1, 2, 3], 5);\n     * // => []\n     *\n     * _.drop([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function drop(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      return baseSlice(array, n < 0 ? 0 : n, length);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the end.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropRight([1, 2, 3]);\n     * // => [1, 2]\n     *\n     * _.dropRight([1, 2, 3], 2);\n     * // => [1]\n     *\n     * _.dropRight([1, 2, 3], 5);\n     * // => []\n     *\n     * _.dropRight([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function dropRight(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      n = length - n;\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the end.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.dropRightWhile(users, function(o) { return !o.active; });\n     * // => objects for ['barney']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.dropRightWhile(users, { 'user': 'pebbles', 'active': false });\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.dropRightWhile(users, ['active', false]);\n     * // => objects for ['barney']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.dropRightWhile(users, 'active');\n     * // => objects for ['barney', 'fred', 'pebbles']\n     */\n    function dropRightWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), true, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the beginning.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.dropWhile(users, function(o) { return !o.active; });\n     * // => objects for ['pebbles']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.dropWhile(users, { 'user': 'barney', 'active': false });\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.dropWhile(users, ['active', false]);\n     * // => objects for ['pebbles']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.dropWhile(users, 'active');\n     * // => objects for ['barney', 'fred', 'pebbles']\n     */\n    function dropWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), true)\n        : [];\n    }\n\n    /**\n     * Fills elements of `array` with `value` from `start` up to, but not\n     * including, `end`.\n     *\n     * **Note:** This method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Array\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.fill(array, 'a');\n     * console.log(array);\n     * // => ['a', 'a', 'a']\n     *\n     * _.fill(Array(3), 2);\n     * // => [2, 2, 2]\n     *\n     * _.fill([4, 6, 8, 10], '*', 1, 3);\n     * // => [4, '*', '*', 10]\n     */\n    function fill(array, value, start, end) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      if (start && typeof start != 'number' && isIterateeCall(array, value, start)) {\n        start = 0;\n        end = length;\n      }\n      return baseFill(array, value, start, end);\n    }\n\n    /**\n     * This method is like `_.find` except that it returns the index of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.findIndex(users, function(o) { return o.user == 'barney'; });\n     * // => 0\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findIndex(users, { 'user': 'fred', 'active': false });\n     * // => 1\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findIndex(users, ['active', false]);\n     * // => 0\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findIndex(users, 'active');\n     * // => 2\n     */\n    function findIndex(array, predicate, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = fromIndex == null ? 0 : toInteger(fromIndex);\n      if (index < 0) {\n        index = nativeMax(length + index, 0);\n      }\n      return baseFindIndex(array, getIteratee(predicate, 3), index);\n    }\n\n    /**\n     * This method is like `_.findIndex` except that it iterates over elements\n     * of `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.findLastIndex(users, function(o) { return o.user == 'pebbles'; });\n     * // => 2\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findLastIndex(users, { 'user': 'barney', 'active': true });\n     * // => 0\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findLastIndex(users, ['active', false]);\n     * // => 2\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findLastIndex(users, 'active');\n     * // => 0\n     */\n    function findLastIndex(array, predicate, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = length - 1;\n      if (fromIndex !== undefined) {\n        index = toInteger(fromIndex);\n        index = fromIndex < 0\n          ? nativeMax(length + index, 0)\n          : nativeMin(index, length - 1);\n      }\n      return baseFindIndex(array, getIteratee(predicate, 3), index, true);\n    }\n\n    /**\n     * Flattens `array` a single level deep.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flatten([1, [2, [3, [4]], 5]]);\n     * // => [1, 2, [3, [4]], 5]\n     */\n    function flatten(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseFlatten(array, 1) : [];\n    }\n\n    /**\n     * Recursively flattens `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flattenDeep([1, [2, [3, [4]], 5]]);\n     * // => [1, 2, 3, 4, 5]\n     */\n    function flattenDeep(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseFlatten(array, INFINITY) : [];\n    }\n\n    /**\n     * Recursively flatten `array` up to `depth` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.4.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @param {number} [depth=1] The maximum recursion depth.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * var array = [1, [2, [3, [4]], 5]];\n     *\n     * _.flattenDepth(array, 1);\n     * // => [1, 2, [3, [4]], 5]\n     *\n     * _.flattenDepth(array, 2);\n     * // => [1, 2, 3, [4], 5]\n     */\n    function flattenDepth(array, depth) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      depth = depth === undefined ? 1 : toInteger(depth);\n      return baseFlatten(array, depth);\n    }\n\n    /**\n     * The inverse of `_.toPairs`; this method returns an object composed\n     * from key-value `pairs`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} pairs The key-value pairs.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.fromPairs([['a', 1], ['b', 2]]);\n     * // => { 'a': 1, 'b': 2 }\n     */\n    function fromPairs(pairs) {\n      var index = -1,\n          length = pairs == null ? 0 : pairs.length,\n          result = {};\n\n      while (++index < length) {\n        var pair = pairs[index];\n        result[pair[0]] = pair[1];\n      }\n      return result;\n    }\n\n    /**\n     * Gets the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @alias first\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the first element of `array`.\n     * @example\n     *\n     * _.head([1, 2, 3]);\n     * // => 1\n     *\n     * _.head([]);\n     * // => undefined\n     */\n    function head(array) {\n      return (array && array.length) ? array[0] : undefined;\n    }\n\n    /**\n     * Gets the index at which the first occurrence of `value` is found in `array`\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. If `fromIndex` is negative, it's used as the\n     * offset from the end of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.indexOf([1, 2, 1, 2], 2);\n     * // => 1\n     *\n     * // Search from the `fromIndex`.\n     * _.indexOf([1, 2, 1, 2], 2, 2);\n     * // => 3\n     */\n    function indexOf(array, value, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = fromIndex == null ? 0 : toInteger(fromIndex);\n      if (index < 0) {\n        index = nativeMax(length + index, 0);\n      }\n      return baseIndexOf(array, value, index);\n    }\n\n    /**\n     * Gets all but the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.initial([1, 2, 3]);\n     * // => [1, 2]\n     */\n    function initial(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseSlice(array, 0, -1) : [];\n    }\n\n    /**\n     * Creates an array of unique values that are included in all given arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. The order and references of result values are\n     * determined by the first array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * _.intersection([2, 1], [2, 3]);\n     * // => [2]\n     */\n    var intersection = baseRest(function(arrays) {\n      var mapped = arrayMap(arrays, castArrayLikeObject);\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped)\n        : [];\n    });\n\n    /**\n     * This method is like `_.intersection` except that it accepts `iteratee`\n     * which is invoked for each element of each `arrays` to generate the criterion\n     * by which they're compared. The order and references of result values are\n     * determined by the first array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * _.intersectionBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [2.1]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.intersectionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }]\n     */\n    var intersectionBy = baseRest(function(arrays) {\n      var iteratee = last(arrays),\n          mapped = arrayMap(arrays, castArrayLikeObject);\n\n      if (iteratee === last(mapped)) {\n        iteratee = undefined;\n      } else {\n        mapped.pop();\n      }\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped, getIteratee(iteratee, 2))\n        : [];\n    });\n\n    /**\n     * This method is like `_.intersection` except that it accepts `comparator`\n     * which is invoked to compare elements of `arrays`. The order and references\n     * of result values are determined by the first array. The comparator is\n     * invoked with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.intersectionWith(objects, others, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }]\n     */\n    var intersectionWith = baseRest(function(arrays) {\n      var comparator = last(arrays),\n          mapped = arrayMap(arrays, castArrayLikeObject);\n\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      if (comparator) {\n        mapped.pop();\n      }\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped, undefined, comparator)\n        : [];\n    });\n\n    /**\n     * Converts all elements in `array` into a string separated by `separator`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to convert.\n     * @param {string} [separator=','] The element separator.\n     * @returns {string} Returns the joined string.\n     * @example\n     *\n     * _.join(['a', 'b', 'c'], '~');\n     * // => 'a~b~c'\n     */\n    function join(array, separator) {\n      return array == null ? '' : nativeJoin.call(array, separator);\n    }\n\n    /**\n     * Gets the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the last element of `array`.\n     * @example\n     *\n     * _.last([1, 2, 3]);\n     * // => 3\n     */\n    function last(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? array[length - 1] : undefined;\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it iterates over elements of\n     * `array` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.lastIndexOf([1, 2, 1, 2], 2);\n     * // => 3\n     *\n     * // Search from the `fromIndex`.\n     * _.lastIndexOf([1, 2, 1, 2], 2, 2);\n     * // => 1\n     */\n    function lastIndexOf(array, value, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = length;\n      if (fromIndex !== undefined) {\n        index = toInteger(fromIndex);\n        index = index < 0 ? nativeMax(length + index, 0) : nativeMin(index, length - 1);\n      }\n      return value === value\n        ? strictLastIndexOf(array, value, index)\n        : baseFindIndex(array, baseIsNaN, index, true);\n    }\n\n    /**\n     * Gets the element at index `n` of `array`. If `n` is negative, the nth\n     * element from the end is returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.11.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=0] The index of the element to return.\n     * @returns {*} Returns the nth element of `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'd'];\n     *\n     * _.nth(array, 1);\n     * // => 'b'\n     *\n     * _.nth(array, -2);\n     * // => 'c';\n     */\n    function nth(array, n) {\n      return (array && array.length) ? baseNth(array, toInteger(n)) : undefined;\n    }\n\n    /**\n     * Removes all given values from `array` using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.without`, this method mutates `array`. Use `_.remove`\n     * to remove elements from an array by predicate.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...*} [values] The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n     *\n     * _.pull(array, 'a', 'c');\n     * console.log(array);\n     * // => ['b', 'b']\n     */\n    var pull = baseRest(pullAll);\n\n    /**\n     * This method is like `_.pull` except that it accepts an array of values to remove.\n     *\n     * **Note:** Unlike `_.difference`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n     *\n     * _.pullAll(array, ['a', 'c']);\n     * console.log(array);\n     * // => ['b', 'b']\n     */\n    function pullAll(array, values) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values)\n        : array;\n    }\n\n    /**\n     * This method is like `_.pullAll` except that it accepts `iteratee` which is\n     * invoked for each element of `array` and `values` to generate the criterion\n     * by which they're compared. The iteratee is invoked with one argument: (value).\n     *\n     * **Note:** Unlike `_.differenceBy`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [{ 'x': 1 }, { 'x': 2 }, { 'x': 3 }, { 'x': 1 }];\n     *\n     * _.pullAllBy(array, [{ 'x': 1 }, { 'x': 3 }], 'x');\n     * console.log(array);\n     * // => [{ 'x': 2 }]\n     */\n    function pullAllBy(array, values, iteratee) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values, getIteratee(iteratee, 2))\n        : array;\n    }\n\n    /**\n     * This method is like `_.pullAll` except that it accepts `comparator` which\n     * is invoked to compare elements of `array` to `values`. The comparator is\n     * invoked with two arguments: (arrVal, othVal).\n     *\n     * **Note:** Unlike `_.differenceWith`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [{ 'x': 1, 'y': 2 }, { 'x': 3, 'y': 4 }, { 'x': 5, 'y': 6 }];\n     *\n     * _.pullAllWith(array, [{ 'x': 3, 'y': 4 }], _.isEqual);\n     * console.log(array);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 5, 'y': 6 }]\n     */\n    function pullAllWith(array, values, comparator) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values, undefined, comparator)\n        : array;\n    }\n\n    /**\n     * Removes elements from `array` corresponding to `indexes` and returns an\n     * array of removed elements.\n     *\n     * **Note:** Unlike `_.at`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...(number|number[])} [indexes] The indexes of elements to remove.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'd'];\n     * var pulled = _.pullAt(array, [1, 3]);\n     *\n     * console.log(array);\n     * // => ['a', 'c']\n     *\n     * console.log(pulled);\n     * // => ['b', 'd']\n     */\n    var pullAt = flatRest(function(array, indexes) {\n      var length = array == null ? 0 : array.length,\n          result = baseAt(array, indexes);\n\n      basePullAt(array, arrayMap(indexes, function(index) {\n        return isIndex(index, length) ? +index : index;\n      }).sort(compareAscending));\n\n      return result;\n    });\n\n    /**\n     * Removes all elements from `array` that `predicate` returns truthy for\n     * and returns an array of the removed elements. The predicate is invoked\n     * with three arguments: (value, index, array).\n     *\n     * **Note:** Unlike `_.filter`, this method mutates `array`. Use `_.pull`\n     * to pull elements from an array by value.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = [1, 2, 3, 4];\n     * var evens = _.remove(array, function(n) {\n     *   return n % 2 == 0;\n     * });\n     *\n     * console.log(array);\n     * // => [1, 3]\n     *\n     * console.log(evens);\n     * // => [2, 4]\n     */\n    function remove(array, predicate) {\n      var result = [];\n      if (!(array && array.length)) {\n        return result;\n      }\n      var index = -1,\n          indexes = [],\n          length = array.length;\n\n      predicate = getIteratee(predicate, 3);\n      while (++index < length) {\n        var value = array[index];\n        if (predicate(value, index, array)) {\n          result.push(value);\n          indexes.push(index);\n        }\n      }\n      basePullAt(array, indexes);\n      return result;\n    }\n\n    /**\n     * Reverses `array` so that the first element becomes the last, the second\n     * element becomes the second to last, and so on.\n     *\n     * **Note:** This method mutates `array` and is based on\n     * [`Array#reverse`](https://mdn.io/Array/reverse).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.reverse(array);\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function reverse(array) {\n      return array == null ? array : nativeReverse.call(array);\n    }\n\n    /**\n     * Creates a slice of `array` from `start` up to, but not including, `end`.\n     *\n     * **Note:** This method is used instead of\n     * [`Array#slice`](https://mdn.io/Array/slice) to ensure dense arrays are\n     * returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function slice(array, start, end) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      if (end && typeof end != 'number' && isIterateeCall(array, start, end)) {\n        start = 0;\n        end = length;\n      }\n      else {\n        start = start == null ? 0 : toInteger(start);\n        end = end === undefined ? length : toInteger(end);\n      }\n      return baseSlice(array, start, end);\n    }\n\n    /**\n     * Uses a binary search to determine the lowest index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedIndex([30, 50], 40);\n     * // => 1\n     */\n    function sortedIndex(array, value) {\n      return baseSortedIndex(array, value);\n    }\n\n    /**\n     * This method is like `_.sortedIndex` except that it accepts `iteratee`\n     * which is invoked for `value` and each element of `array` to compute their\n     * sort ranking. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * var objects = [{ 'x': 4 }, { 'x': 5 }];\n     *\n     * _.sortedIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });\n     * // => 0\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sortedIndexBy(objects, { 'x': 4 }, 'x');\n     * // => 0\n     */\n    function sortedIndexBy(array, value, iteratee) {\n      return baseSortedIndexBy(array, value, getIteratee(iteratee, 2));\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it performs a binary\n     * search on a sorted `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.sortedIndexOf([4, 5, 5, 5, 6], 5);\n     * // => 1\n     */\n    function sortedIndexOf(array, value) {\n      var length = array == null ? 0 : array.length;\n      if (length) {\n        var index = baseSortedIndex(array, value);\n        if (index < length && eq(array[index], value)) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * This method is like `_.sortedIndex` except that it returns the highest\n     * index at which `value` should be inserted into `array` in order to\n     * maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedLastIndex([4, 5, 5, 5, 6], 5);\n     * // => 4\n     */\n    function sortedLastIndex(array, value) {\n      return baseSortedIndex(array, value, true);\n    }\n\n    /**\n     * This method is like `_.sortedLastIndex` except that it accepts `iteratee`\n     * which is invoked for `value` and each element of `array` to compute their\n     * sort ranking. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * var objects = [{ 'x': 4 }, { 'x': 5 }];\n     *\n     * _.sortedLastIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });\n     * // => 1\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sortedLastIndexBy(objects, { 'x': 4 }, 'x');\n     * // => 1\n     */\n    function sortedLastIndexBy(array, value, iteratee) {\n      return baseSortedIndexBy(array, value, getIteratee(iteratee, 2), true);\n    }\n\n    /**\n     * This method is like `_.lastIndexOf` except that it performs a binary\n     * search on a sorted `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.sortedLastIndexOf([4, 5, 5, 5, 6], 5);\n     * // => 3\n     */\n    function sortedLastIndexOf(array, value) {\n      var length = array == null ? 0 : array.length;\n      if (length) {\n        var index = baseSortedIndex(array, value, true) - 1;\n        if (eq(array[index], value)) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * This method is like `_.uniq` except that it's designed and optimized\n     * for sorted arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.sortedUniq([1, 1, 2]);\n     * // => [1, 2]\n     */\n    function sortedUniq(array) {\n      return (array && array.length)\n        ? baseSortedUniq(array)\n        : [];\n    }\n\n    /**\n     * This method is like `_.uniqBy` except that it's designed and optimized\n     * for sorted arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.sortedUniqBy([1.1, 1.2, 2.3, 2.4], Math.floor);\n     * // => [1.1, 2.3]\n     */\n    function sortedUniqBy(array, iteratee) {\n      return (array && array.length)\n        ? baseSortedUniq(array, getIteratee(iteratee, 2))\n        : [];\n    }\n\n    /**\n     * Gets all but the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.tail([1, 2, 3]);\n     * // => [2, 3]\n     */\n    function tail(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseSlice(array, 1, length) : [];\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.take([1, 2, 3]);\n     * // => [1]\n     *\n     * _.take([1, 2, 3], 2);\n     * // => [1, 2]\n     *\n     * _.take([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.take([1, 2, 3], 0);\n     * // => []\n     */\n    function take(array, n, guard) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the end.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeRight([1, 2, 3]);\n     * // => [3]\n     *\n     * _.takeRight([1, 2, 3], 2);\n     * // => [2, 3]\n     *\n     * _.takeRight([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.takeRight([1, 2, 3], 0);\n     * // => []\n     */\n    function takeRight(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      n = length - n;\n      return baseSlice(array, n < 0 ? 0 : n, length);\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the end. Elements are\n     * taken until `predicate` returns falsey. The predicate is invoked with\n     * three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.takeRightWhile(users, function(o) { return !o.active; });\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.takeRightWhile(users, { 'user': 'pebbles', 'active': false });\n     * // => objects for ['pebbles']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.takeRightWhile(users, ['active', false]);\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.takeRightWhile(users, 'active');\n     * // => []\n     */\n    function takeRightWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), false, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the beginning. Elements\n     * are taken until `predicate` returns falsey. The predicate is invoked with\n     * three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.takeWhile(users, function(o) { return !o.active; });\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.takeWhile(users, { 'user': 'barney', 'active': false });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.takeWhile(users, ['active', false]);\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.takeWhile(users, 'active');\n     * // => []\n     */\n    function takeWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3))\n        : [];\n    }\n\n    /**\n     * Creates an array of unique values, in order, from all given arrays using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.union([2], [1, 2]);\n     * // => [2, 1]\n     */\n    var union = baseRest(function(arrays) {\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true));\n    });\n\n    /**\n     * This method is like `_.union` except that it accepts `iteratee` which is\n     * invoked for each element of each `arrays` to generate the criterion by\n     * which uniqueness is computed. Result values are chosen from the first\n     * array in which the value occurs. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.unionBy([2.1], [1.2, 2.3], Math.floor);\n     * // => [2.1, 1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.unionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    var unionBy = baseRest(function(arrays) {\n      var iteratee = last(arrays);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), getIteratee(iteratee, 2));\n    });\n\n    /**\n     * This method is like `_.union` except that it accepts `comparator` which\n     * is invoked to compare elements of `arrays`. Result values are chosen from\n     * the first array in which the value occurs. The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.unionWith(objects, others, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]\n     */\n    var unionWith = baseRest(function(arrays) {\n      var comparator = last(arrays);\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), undefined, comparator);\n    });\n\n    /**\n     * Creates a duplicate-free version of an array, using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons, in which only the first occurrence of each element\n     * is kept. The order of result values is determined by the order they occur\n     * in the array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.uniq([2, 1, 2]);\n     * // => [2, 1]\n     */\n    function uniq(array) {\n      return (array && array.length) ? baseUniq(array) : [];\n    }\n\n    /**\n     * This method is like `_.uniq` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * uniqueness is computed. The order of result values is determined by the\n     * order they occur in the array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.uniqBy([2.1, 1.2, 2.3], Math.floor);\n     * // => [2.1, 1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.uniqBy([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    function uniqBy(array, iteratee) {\n      return (array && array.length) ? baseUniq(array, getIteratee(iteratee, 2)) : [];\n    }\n\n    /**\n     * This method is like `_.uniq` except that it accepts `comparator` which\n     * is invoked to compare elements of `array`. The order of result values is\n     * determined by the order they occur in the array.The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.uniqWith(objects, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }]\n     */\n    function uniqWith(array, comparator) {\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return (array && array.length) ? baseUniq(array, undefined, comparator) : [];\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts an array of grouped\n     * elements and creates an array regrouping the elements to their pre-zip\n     * configuration.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.2.0\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip(['a', 'b'], [1, 2], [true, false]);\n     * // => [['a', 1, true], ['b', 2, false]]\n     *\n     * _.unzip(zipped);\n     * // => [['a', 'b'], [1, 2], [true, false]]\n     */\n    function unzip(array) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      var length = 0;\n      array = arrayFilter(array, function(group) {\n        if (isArrayLikeObject(group)) {\n          length = nativeMax(group.length, length);\n          return true;\n        }\n      });\n      return baseTimes(length, function(index) {\n        return arrayMap(array, baseProperty(index));\n      });\n    }\n\n    /**\n     * This method is like `_.unzip` except that it accepts `iteratee` to specify\n     * how regrouped values should be combined. The iteratee is invoked with the\n     * elements of each group: (...group).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @param {Function} [iteratee=_.identity] The function to combine\n     *  regrouped values.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip([1, 2], [10, 20], [100, 200]);\n     * // => [[1, 10, 100], [2, 20, 200]]\n     *\n     * _.unzipWith(zipped, _.add);\n     * // => [3, 30, 300]\n     */\n    function unzipWith(array, iteratee) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      var result = unzip(array);\n      if (iteratee == null) {\n        return result;\n      }\n      return arrayMap(result, function(group) {\n        return apply(iteratee, undefined, group);\n      });\n    }\n\n    /**\n     * Creates an array excluding all given values using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.pull`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...*} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.difference, _.xor\n     * @example\n     *\n     * _.without([2, 1, 2, 3], 1, 2);\n     * // => [3]\n     */\n    var without = baseRest(function(array, values) {\n      return isArrayLikeObject(array)\n        ? baseDifference(array, values)\n        : [];\n    });\n\n    /**\n     * Creates an array of unique values that is the\n     * [symmetric difference](https://en.wikipedia.org/wiki/Symmetric_difference)\n     * of the given arrays. The order of result values is determined by the order\n     * they occur in the arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.difference, _.without\n     * @example\n     *\n     * _.xor([2, 1], [2, 3]);\n     * // => [1, 3]\n     */\n    var xor = baseRest(function(arrays) {\n      return baseXor(arrayFilter(arrays, isArrayLikeObject));\n    });\n\n    /**\n     * This method is like `_.xor` except that it accepts `iteratee` which is\n     * invoked for each element of each `arrays` to generate the criterion by\n     * which by which they're compared. The order of result values is determined\n     * by the order they occur in the arrays. The iteratee is invoked with one\n     * argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.xorBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [1.2, 3.4]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.xorBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 2 }]\n     */\n    var xorBy = baseRest(function(arrays) {\n      var iteratee = last(arrays);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return baseXor(arrayFilter(arrays, isArrayLikeObject), getIteratee(iteratee, 2));\n    });\n\n    /**\n     * This method is like `_.xor` except that it accepts `comparator` which is\n     * invoked to compare elements of `arrays`. The order of result values is\n     * determined by the order they occur in the arrays. The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.xorWith(objects, others, _.isEqual);\n     * // => [{ 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]\n     */\n    var xorWith = baseRest(function(arrays) {\n      var comparator = last(arrays);\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return baseXor(arrayFilter(arrays, isArrayLikeObject), undefined, comparator);\n    });\n\n    /**\n     * Creates an array of grouped elements, the first of which contains the\n     * first elements of the given arrays, the second of which contains the\n     * second elements of the given arrays, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zip(['a', 'b'], [1, 2], [true, false]);\n     * // => [['a', 1, true], ['b', 2, false]]\n     */\n    var zip = baseRest(unzip);\n\n    /**\n     * This method is like `_.fromPairs` except that it accepts two arrays,\n     * one of property identifiers and one of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.4.0\n     * @category Array\n     * @param {Array} [props=[]] The property identifiers.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObject(['a', 'b'], [1, 2]);\n     * // => { 'a': 1, 'b': 2 }\n     */\n    function zipObject(props, values) {\n      return baseZipObject(props || [], values || [], assignValue);\n    }\n\n    /**\n     * This method is like `_.zipObject` except that it supports property paths.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.1.0\n     * @category Array\n     * @param {Array} [props=[]] The property identifiers.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObjectDeep(['a.b[0].c', 'a.b[1].d'], [1, 2]);\n     * // => { 'a': { 'b': [{ 'c': 1 }, { 'd': 2 }] } }\n     */\n    function zipObjectDeep(props, values) {\n      return baseZipObject(props || [], values || [], baseSet);\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts `iteratee` to specify\n     * how grouped values should be combined. The iteratee is invoked with the\n     * elements of each group: (...group).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @param {Function} [iteratee=_.identity] The function to combine\n     *  grouped values.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zipWith([1, 2], [10, 20], [100, 200], function(a, b, c) {\n     *   return a + b + c;\n     * });\n     * // => [111, 222]\n     */\n    var zipWith = baseRest(function(arrays) {\n      var length = arrays.length,\n          iteratee = length > 1 ? arrays[length - 1] : undefined;\n\n      iteratee = typeof iteratee == 'function' ? (arrays.pop(), iteratee) : undefined;\n      return unzipWith(arrays, iteratee);\n    });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` wrapper instance that wraps `value` with explicit method\n     * chain sequences enabled. The result of such sequences must be unwrapped\n     * with `_#value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.3.0\n     * @category Seq\n     * @param {*} value The value to wrap.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36 },\n     *   { 'user': 'fred',    'age': 40 },\n     *   { 'user': 'pebbles', 'age': 1 }\n     * ];\n     *\n     * var youngest = _\n     *   .chain(users)\n     *   .sortBy('age')\n     *   .map(function(o) {\n     *     return o.user + ' is ' + o.age;\n     *   })\n     *   .head()\n     *   .value();\n     * // => 'pebbles is 1'\n     */\n    function chain(value) {\n      var result = lodash(value);\n      result.__chain__ = true;\n      return result;\n    }\n\n    /**\n     * This method invokes `interceptor` and returns `value`. The interceptor\n     * is invoked with one argument; (value). The purpose of this method is to\n     * \"tap into\" a method chain sequence in order to modify intermediate results.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * _([1, 2, 3])\n     *  .tap(function(array) {\n     *    // Mutate input array.\n     *    array.pop();\n     *  })\n     *  .reverse()\n     *  .value();\n     * // => [2, 1]\n     */\n    function tap(value, interceptor) {\n      interceptor(value);\n      return value;\n    }\n\n    /**\n     * This method is like `_.tap` except that it returns the result of `interceptor`.\n     * The purpose of this method is to \"pass thru\" values replacing intermediate\n     * results in a method chain sequence.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Seq\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns the result of `interceptor`.\n     * @example\n     *\n     * _('  abc  ')\n     *  .chain()\n     *  .trim()\n     *  .thru(function(value) {\n     *    return [value];\n     *  })\n     *  .value();\n     * // => ['abc']\n     */\n    function thru(value, interceptor) {\n      return interceptor(value);\n    }\n\n    /**\n     * This method is the wrapper version of `_.at`.\n     *\n     * @name at\n     * @memberOf _\n     * @since 1.0.0\n     * @category Seq\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };\n     *\n     * _(object).at(['a[0].b.c', 'a[1]']).value();\n     * // => [3, 4]\n     */\n    var wrapperAt = flatRest(function(paths) {\n      var length = paths.length,\n          start = length ? paths[0] : 0,\n          value = this.__wrapped__,\n          interceptor = function(object) { return baseAt(object, paths); };\n\n      if (length > 1 || this.__actions__.length ||\n          !(value instanceof LazyWrapper) || !isIndex(start)) {\n        return this.thru(interceptor);\n      }\n      value = value.slice(start, +start + (length ? 1 : 0));\n      value.__actions__.push({\n        'func': thru,\n        'args': [interceptor],\n        'thisArg': undefined\n      });\n      return new LodashWrapper(value, this.__chain__).thru(function(array) {\n        if (length && !array.length) {\n          array.push(undefined);\n        }\n        return array;\n      });\n    });\n\n    /**\n     * Creates a `lodash` wrapper instance with explicit method chain sequences enabled.\n     *\n     * @name chain\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * // A sequence without explicit chaining.\n     * _(users).head();\n     * // => { 'user': 'barney', 'age': 36 }\n     *\n     * // A sequence with explicit chaining.\n     * _(users)\n     *   .chain()\n     *   .head()\n     *   .pick('user')\n     *   .value();\n     * // => { 'user': 'barney' }\n     */\n    function wrapperChain() {\n      return chain(this);\n    }\n\n    /**\n     * Executes the chain sequence and returns the wrapped result.\n     *\n     * @name commit\n     * @memberOf _\n     * @since 3.2.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2];\n     * var wrapped = _(array).push(3);\n     *\n     * console.log(array);\n     * // => [1, 2]\n     *\n     * wrapped = wrapped.commit();\n     * console.log(array);\n     * // => [1, 2, 3]\n     *\n     * wrapped.last();\n     * // => 3\n     *\n     * console.log(array);\n     * // => [1, 2, 3]\n     */\n    function wrapperCommit() {\n      return new LodashWrapper(this.value(), this.__chain__);\n    }\n\n    /**\n     * Gets the next value on a wrapped object following the\n     * [iterator protocol](https://mdn.io/iteration_protocols#iterator).\n     *\n     * @name next\n     * @memberOf _\n     * @since 4.0.0\n     * @category Seq\n     * @returns {Object} Returns the next iterator value.\n     * @example\n     *\n     * var wrapped = _([1, 2]);\n     *\n     * wrapped.next();\n     * // => { 'done': false, 'value': 1 }\n     *\n     * wrapped.next();\n     * // => { 'done': false, 'value': 2 }\n     *\n     * wrapped.next();\n     * // => { 'done': true, 'value': undefined }\n     */\n    function wrapperNext() {\n      if (this.__values__ === undefined) {\n        this.__values__ = toArray(this.value());\n      }\n      var done = this.__index__ >= this.__values__.length,\n          value = done ? undefined : this.__values__[this.__index__++];\n\n      return { 'done': done, 'value': value };\n    }\n\n    /**\n     * Enables the wrapper to be iterable.\n     *\n     * @name Symbol.iterator\n     * @memberOf _\n     * @since 4.0.0\n     * @category Seq\n     * @returns {Object} Returns the wrapper object.\n     * @example\n     *\n     * var wrapped = _([1, 2]);\n     *\n     * wrapped[Symbol.iterator]() === wrapped;\n     * // => true\n     *\n     * Array.from(wrapped);\n     * // => [1, 2]\n     */\n    function wrapperToIterator() {\n      return this;\n    }\n\n    /**\n     * Creates a clone of the chain sequence planting `value` as the wrapped value.\n     *\n     * @name plant\n     * @memberOf _\n     * @since 3.2.0\n     * @category Seq\n     * @param {*} value The value to plant.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var wrapped = _([1, 2]).map(square);\n     * var other = wrapped.plant([3, 4]);\n     *\n     * other.value();\n     * // => [9, 16]\n     *\n     * wrapped.value();\n     * // => [1, 4]\n     */\n    function wrapperPlant(value) {\n      var result,\n          parent = this;\n\n      while (parent instanceof baseLodash) {\n        var clone = wrapperClone(parent);\n        clone.__index__ = 0;\n        clone.__values__ = undefined;\n        if (result) {\n          previous.__wrapped__ = clone;\n        } else {\n          result = clone;\n        }\n        var previous = clone;\n        parent = parent.__wrapped__;\n      }\n      previous.__wrapped__ = value;\n      return result;\n    }\n\n    /**\n     * This method is the wrapper version of `_.reverse`.\n     *\n     * **Note:** This method mutates the wrapped array.\n     *\n     * @name reverse\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _(array).reverse().value()\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function wrapperReverse() {\n      var value = this.__wrapped__;\n      if (value instanceof LazyWrapper) {\n        var wrapped = value;\n        if (this.__actions__.length) {\n          wrapped = new LazyWrapper(this);\n        }\n        wrapped = wrapped.reverse();\n        wrapped.__actions__.push({\n          'func': thru,\n          'args': [reverse],\n          'thisArg': undefined\n        });\n        return new LodashWrapper(wrapped, this.__chain__);\n      }\n      return this.thru(reverse);\n    }\n\n    /**\n     * Executes the chain sequence to resolve the unwrapped value.\n     *\n     * @name value\n     * @memberOf _\n     * @since 0.1.0\n     * @alias toJSON, valueOf\n     * @category Seq\n     * @returns {*} Returns the resolved unwrapped value.\n     * @example\n     *\n     * _([1, 2, 3]).value();\n     * // => [1, 2, 3]\n     */\n    function wrapperValue() {\n      return baseWrapperValue(this.__wrapped__, this.__actions__);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The corresponding value of\n     * each key is the number of times the key was returned by `iteratee`. The\n     * iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.countBy([6.1, 4.2, 6.3], Math.floor);\n     * // => { '4': 1, '6': 2 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.countBy(['one', 'two', 'three'], 'length');\n     * // => { '3': 2, '5': 1 }\n     */\n    var countBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        ++result[key];\n      } else {\n        baseAssignValue(result, key, 1);\n      }\n    });\n\n    /**\n     * Checks if `predicate` returns truthy for **all** elements of `collection`.\n     * Iteration is stopped once `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * **Note:** This method returns `true` for\n     * [empty collections](https://en.wikipedia.org/wiki/Empty_set) because\n     * [everything is true](https://en.wikipedia.org/wiki/Vacuous_truth) of\n     * elements of empty collections.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.every([true, 1, null, 'yes'], Boolean);\n     * // => false\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.every(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.every(users, ['active', false]);\n     * // => true\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.every(users, 'active');\n     * // => false\n     */\n    function every(collection, predicate, guard) {\n      var func = isArray(collection) ? arrayEvery : baseEvery;\n      if (guard && isIterateeCall(collection, predicate, guard)) {\n        predicate = undefined;\n      }\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning an array of all elements\n     * `predicate` returns truthy for. The predicate is invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * **Note:** Unlike `_.remove`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     * @see _.reject\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * _.filter(users, function(o) { return !o.active; });\n     * // => objects for ['fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.filter(users, { 'age': 36, 'active': true });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.filter(users, ['active', false]);\n     * // => objects for ['fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.filter(users, 'active');\n     * // => objects for ['barney']\n     *\n     * // Combining several predicates using `_.overEvery` or `_.overSome`.\n     * _.filter(users, _.overSome([{ 'age': 36 }, ['age', 40]]));\n     * // => objects for ['fred', 'barney']\n     */\n    function filter(collection, predicate) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning the first element\n     * `predicate` returns truthy for. The predicate is invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': true },\n     *   { 'user': 'fred',    'age': 40, 'active': false },\n     *   { 'user': 'pebbles', 'age': 1,  'active': true }\n     * ];\n     *\n     * _.find(users, function(o) { return o.age < 40; });\n     * // => object for 'barney'\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.find(users, { 'age': 1, 'active': true });\n     * // => object for 'pebbles'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.find(users, ['active', false]);\n     * // => object for 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.find(users, 'active');\n     * // => object for 'barney'\n     */\n    var find = createFind(findIndex);\n\n    /**\n     * This method is like `_.find` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=collection.length-1] The index to search from.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * _.findLast([1, 2, 3, 4], function(n) {\n     *   return n % 2 == 1;\n     * });\n     * // => 3\n     */\n    var findLast = createFind(findLastIndex);\n\n    /**\n     * Creates a flattened array of values by running each element in `collection`\n     * thru `iteratee` and flattening the mapped results. The iteratee is invoked\n     * with three arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [n, n];\n     * }\n     *\n     * _.flatMap([1, 2], duplicate);\n     * // => [1, 1, 2, 2]\n     */\n    function flatMap(collection, iteratee) {\n      return baseFlatten(map(collection, iteratee), 1);\n    }\n\n    /**\n     * This method is like `_.flatMap` except that it recursively flattens the\n     * mapped results.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [[[n, n]]];\n     * }\n     *\n     * _.flatMapDeep([1, 2], duplicate);\n     * // => [1, 1, 2, 2]\n     */\n    function flatMapDeep(collection, iteratee) {\n      return baseFlatten(map(collection, iteratee), INFINITY);\n    }\n\n    /**\n     * This method is like `_.flatMap` except that it recursively flattens the\n     * mapped results up to `depth` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {number} [depth=1] The maximum recursion depth.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [[[n, n]]];\n     * }\n     *\n     * _.flatMapDepth([1, 2], duplicate, 2);\n     * // => [[1, 1], [2, 2]]\n     */\n    function flatMapDepth(collection, iteratee, depth) {\n      depth = depth === undefined ? 1 : toInteger(depth);\n      return baseFlatten(map(collection, iteratee), depth);\n    }\n\n    /**\n     * Iterates over elements of `collection` and invokes `iteratee` for each element.\n     * The iteratee is invoked with three arguments: (value, index|key, collection).\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * **Note:** As with other \"Collections\" methods, objects with a \"length\"\n     * property are iterated like arrays. To avoid this behavior use `_.forIn`\n     * or `_.forOwn` for object iteration.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @alias each\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     * @see _.forEachRight\n     * @example\n     *\n     * _.forEach([1, 2], function(value) {\n     *   console.log(value);\n     * });\n     * // => Logs `1` then `2`.\n     *\n     * _.forEach({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n     */\n    function forEach(collection, iteratee) {\n      var func = isArray(collection) ? arrayEach : baseEach;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.forEach` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @alias eachRight\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     * @see _.forEach\n     * @example\n     *\n     * _.forEachRight([1, 2], function(value) {\n     *   console.log(value);\n     * });\n     * // => Logs `2` then `1`.\n     */\n    function forEachRight(collection, iteratee) {\n      var func = isArray(collection) ? arrayEachRight : baseEachRight;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The order of grouped values\n     * is determined by the order they occur in `collection`. The corresponding\n     * value of each key is an array of elements responsible for generating the\n     * key. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n     * // => { '4': [4.2], '6': [6.1, 6.3] }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.groupBy(['one', 'two', 'three'], 'length');\n     * // => { '3': ['one', 'two'], '5': ['three'] }\n     */\n    var groupBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        result[key].push(value);\n      } else {\n        baseAssignValue(result, key, [value]);\n      }\n    });\n\n    /**\n     * Checks if `value` is in `collection`. If `collection` is a string, it's\n     * checked for a substring of `value`, otherwise\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * is used for equality comparisons. If `fromIndex` is negative, it's used as\n     * the offset from the end of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n     * @returns {boolean} Returns `true` if `value` is found, else `false`.\n     * @example\n     *\n     * _.includes([1, 2, 3], 1);\n     * // => true\n     *\n     * _.includes([1, 2, 3], 1, 2);\n     * // => false\n     *\n     * _.includes({ 'a': 1, 'b': 2 }, 1);\n     * // => true\n     *\n     * _.includes('abcd', 'bc');\n     * // => true\n     */\n    function includes(collection, value, fromIndex, guard) {\n      collection = isArrayLike(collection) ? collection : values(collection);\n      fromIndex = (fromIndex && !guard) ? toInteger(fromIndex) : 0;\n\n      var length = collection.length;\n      if (fromIndex < 0) {\n        fromIndex = nativeMax(length + fromIndex, 0);\n      }\n      return isString(collection)\n        ? (fromIndex <= length && collection.indexOf(value, fromIndex) > -1)\n        : (!!length && baseIndexOf(collection, value, fromIndex) > -1);\n    }\n\n    /**\n     * Invokes the method at `path` of each element in `collection`, returning\n     * an array of the results of each invoked method. Any additional arguments\n     * are provided to each invoked method. If `path` is a function, it's invoked\n     * for, and `this` bound to, each element in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Array|Function|string} path The path of the method to invoke or\n     *  the function invoked per iteration.\n     * @param {...*} [args] The arguments to invoke each method with.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.invokeMap([[5, 1, 7], [3, 2, 1]], 'sort');\n     * // => [[1, 5, 7], [1, 2, 3]]\n     *\n     * _.invokeMap([123, 456], String.prototype.split, '');\n     * // => [['1', '2', '3'], ['4', '5', '6']]\n     */\n    var invokeMap = baseRest(function(collection, path, args) {\n      var index = -1,\n          isFunc = typeof path == 'function',\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value) {\n        result[++index] = isFunc ? apply(path, value, args) : baseInvoke(value, path, args);\n      });\n      return result;\n    });\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The corresponding value of\n     * each key is the last element responsible for generating the key. The\n     * iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * var array = [\n     *   { 'dir': 'left', 'code': 97 },\n     *   { 'dir': 'right', 'code': 100 }\n     * ];\n     *\n     * _.keyBy(array, function(o) {\n     *   return String.fromCharCode(o.code);\n     * });\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n     *\n     * _.keyBy(array, 'dir');\n     * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n     */\n    var keyBy = createAggregator(function(result, value, key) {\n      baseAssignValue(result, key, value);\n    });\n\n    /**\n     * Creates an array of values by running each element in `collection` thru\n     * `iteratee`. The iteratee is invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n     *\n     * The guarded methods are:\n     * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n     * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n     * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n     * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * _.map([4, 8], square);\n     * // => [16, 64]\n     *\n     * _.map({ 'a': 4, 'b': 8 }, square);\n     * // => [16, 64] (iteration order is not guaranteed)\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.map(users, 'user');\n     * // => ['barney', 'fred']\n     */\n    function map(collection, iteratee) {\n      var func = isArray(collection) ? arrayMap : baseMap;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.sortBy` except that it allows specifying the sort\n     * orders of the iteratees to sort by. If `orders` is unspecified, all values\n     * are sorted in ascending order. Otherwise, specify an order of \"desc\" for\n     * descending or \"asc\" for ascending sort order of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Array[]|Function[]|Object[]|string[]} [iteratees=[_.identity]]\n     *  The iteratees to sort by.\n     * @param {string[]} [orders] The sort orders of `iteratees`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 34 },\n     *   { 'user': 'fred',   'age': 40 },\n     *   { 'user': 'barney', 'age': 36 }\n     * ];\n     *\n     * // Sort by `user` in ascending order and by `age` in descending order.\n     * _.orderBy(users, ['user', 'age'], ['asc', 'desc']);\n     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n     */\n    function orderBy(collection, iteratees, orders, guard) {\n      if (collection == null) {\n        return [];\n      }\n      if (!isArray(iteratees)) {\n        iteratees = iteratees == null ? [] : [iteratees];\n      }\n      orders = guard ? undefined : orders;\n      if (!isArray(orders)) {\n        orders = orders == null ? [] : [orders];\n      }\n      return baseOrderBy(collection, iteratees, orders);\n    }\n\n    /**\n     * Creates an array of elements split into two groups, the first of which\n     * contains elements `predicate` returns truthy for, the second of which\n     * contains elements `predicate` returns falsey for. The predicate is\n     * invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the array of grouped elements.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': false },\n     *   { 'user': 'fred',    'age': 40, 'active': true },\n     *   { 'user': 'pebbles', 'age': 1,  'active': false }\n     * ];\n     *\n     * _.partition(users, function(o) { return o.active; });\n     * // => objects for [['fred'], ['barney', 'pebbles']]\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.partition(users, { 'age': 1, 'active': false });\n     * // => objects for [['pebbles'], ['barney', 'fred']]\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.partition(users, ['active', false]);\n     * // => objects for [['barney', 'pebbles'], ['fred']]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.partition(users, 'active');\n     * // => objects for [['fred'], ['barney', 'pebbles']]\n     */\n    var partition = createAggregator(function(result, value, key) {\n      result[key ? 0 : 1].push(value);\n    }, function() { return [[], []]; });\n\n    /**\n     * Reduces `collection` to a value which is the accumulated result of running\n     * each element in `collection` thru `iteratee`, where each successive\n     * invocation is supplied the return value of the previous. If `accumulator`\n     * is not given, the first element of `collection` is used as the initial\n     * value. The iteratee is invoked with four arguments:\n     * (accumulator, value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.reduce`, `_.reduceRight`, and `_.transform`.\n     *\n     * The guarded methods are:\n     * `assign`, `defaults`, `defaultsDeep`, `includes`, `merge`, `orderBy`,\n     * and `sortBy`\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @returns {*} Returns the accumulated value.\n     * @see _.reduceRight\n     * @example\n     *\n     * _.reduce([1, 2], function(sum, n) {\n     *   return sum + n;\n     * }, 0);\n     * // => 3\n     *\n     * _.reduce({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n     *   (result[value] || (result[value] = [])).push(key);\n     *   return result;\n     * }, {});\n     * // => { '1': ['a', 'c'], '2': ['b'] } (iteration order is not guaranteed)\n     */\n    function reduce(collection, iteratee, accumulator) {\n      var func = isArray(collection) ? arrayReduce : baseReduce,\n          initAccum = arguments.length < 3;\n\n      return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEach);\n    }\n\n    /**\n     * This method is like `_.reduce` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @returns {*} Returns the accumulated value.\n     * @see _.reduce\n     * @example\n     *\n     * var array = [[0, 1], [2, 3], [4, 5]];\n     *\n     * _.reduceRight(array, function(flattened, other) {\n     *   return flattened.concat(other);\n     * }, []);\n     * // => [4, 5, 2, 3, 0, 1]\n     */\n    function reduceRight(collection, iteratee, accumulator) {\n      var func = isArray(collection) ? arrayReduceRight : baseReduce,\n          initAccum = arguments.length < 3;\n\n      return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEachRight);\n    }\n\n    /**\n     * The opposite of `_.filter`; this method returns the elements of `collection`\n     * that `predicate` does **not** return truthy for.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     * @see _.filter\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': true }\n     * ];\n     *\n     * _.reject(users, function(o) { return !o.active; });\n     * // => objects for ['fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.reject(users, { 'age': 40, 'active': true });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.reject(users, ['active', false]);\n     * // => objects for ['fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.reject(users, 'active');\n     * // => objects for ['barney']\n     */\n    function reject(collection, predicate) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      return func(collection, negate(getIteratee(predicate, 3)));\n    }\n\n    /**\n     * Gets a random element from `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to sample.\n     * @returns {*} Returns the random element.\n     * @example\n     *\n     * _.sample([1, 2, 3, 4]);\n     * // => 2\n     */\n    function sample(collection) {\n      var func = isArray(collection) ? arraySample : baseSample;\n      return func(collection);\n    }\n\n    /**\n     * Gets `n` random elements at unique keys from `collection` up to the\n     * size of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to sample.\n     * @param {number} [n=1] The number of elements to sample.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the random elements.\n     * @example\n     *\n     * _.sampleSize([1, 2, 3], 2);\n     * // => [3, 1]\n     *\n     * _.sampleSize([1, 2, 3], 4);\n     * // => [2, 3, 1]\n     */\n    function sampleSize(collection, n, guard) {\n      if ((guard ? isIterateeCall(collection, n, guard) : n === undefined)) {\n        n = 1;\n      } else {\n        n = toInteger(n);\n      }\n      var func = isArray(collection) ? arraySampleSize : baseSampleSize;\n      return func(collection, n);\n    }\n\n    /**\n     * Creates an array of shuffled values, using a version of the\n     * [Fisher-Yates shuffle](https://en.wikipedia.org/wiki/Fisher-Yates_shuffle).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     * @example\n     *\n     * _.shuffle([1, 2, 3, 4]);\n     * // => [4, 1, 3, 2]\n     */\n    function shuffle(collection) {\n      var func = isArray(collection) ? arrayShuffle : baseShuffle;\n      return func(collection);\n    }\n\n    /**\n     * Gets the size of `collection` by returning its length for array-like\n     * values or the number of own enumerable string keyed properties for objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @returns {number} Returns the collection size.\n     * @example\n     *\n     * _.size([1, 2, 3]);\n     * // => 3\n     *\n     * _.size({ 'a': 1, 'b': 2 });\n     * // => 2\n     *\n     * _.size('pebbles');\n     * // => 7\n     */\n    function size(collection) {\n      if (collection == null) {\n        return 0;\n      }\n      if (isArrayLike(collection)) {\n        return isString(collection) ? stringSize(collection) : collection.length;\n      }\n      var tag = getTag(collection);\n      if (tag == mapTag || tag == setTag) {\n        return collection.size;\n      }\n      return baseKeys(collection).length;\n    }\n\n    /**\n     * Checks if `predicate` returns truthy for **any** element of `collection`.\n     * Iteration is stopped once `predicate` returns truthy. The predicate is\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.some([null, 0, 'yes', false], Boolean);\n     * // => true\n     *\n     * var users = [\n     *   { 'user': 'barney', 'active': true },\n     *   { 'user': 'fred',   'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.some(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.some(users, ['active', false]);\n     * // => true\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.some(users, 'active');\n     * // => true\n     */\n    function some(collection, predicate, guard) {\n      var func = isArray(collection) ? arraySome : baseSome;\n      if (guard && isIterateeCall(collection, predicate, guard)) {\n        predicate = undefined;\n      }\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Creates an array of elements, sorted in ascending order by the results of\n     * running each element in a collection thru each iteratee. This method\n     * performs a stable sort, that is, it preserves the original sort order of\n     * equal elements. The iteratees are invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {...(Function|Function[])} [iteratees=[_.identity]]\n     *  The iteratees to sort by.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 30 },\n     *   { 'user': 'barney', 'age': 34 }\n     * ];\n     *\n     * _.sortBy(users, [function(o) { return o.user; }]);\n     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 30]]\n     *\n     * _.sortBy(users, ['user', 'age']);\n     * // => objects for [['barney', 34], ['barney', 36], ['fred', 30], ['fred', 48]]\n     */\n    var sortBy = baseRest(function(collection, iteratees) {\n      if (collection == null) {\n        return [];\n      }\n      var length = iteratees.length;\n      if (length > 1 && isIterateeCall(collection, iteratees[0], iteratees[1])) {\n        iteratees = [];\n      } else if (length > 2 && isIterateeCall(iteratees[0], iteratees[1], iteratees[2])) {\n        iteratees = [iteratees[0]];\n      }\n      return baseOrderBy(collection, baseFlatten(iteratees, 1), []);\n    });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Gets the timestamp of the number of milliseconds that have elapsed since\n     * the Unix epoch (1 January 1970 00:00:00 UTC).\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Date\n     * @returns {number} Returns the timestamp.\n     * @example\n     *\n     * _.defer(function(stamp) {\n     *   console.log(_.now() - stamp);\n     * }, _.now());\n     * // => Logs the number of milliseconds it took for the deferred invocation.\n     */\n    var now = ctxNow || function() {\n      return root.Date.now();\n    };\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The opposite of `_.before`; this method creates a function that invokes\n     * `func` once it's called `n` or more times.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {number} n The number of calls before `func` is invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var saves = ['profile', 'settings'];\n     *\n     * var done = _.after(saves.length, function() {\n     *   console.log('done saving!');\n     * });\n     *\n     * _.forEach(saves, function(type) {\n     *   asyncSave({ 'type': type, 'complete': done });\n     * });\n     * // => Logs 'done saving!' after the two async saves have completed.\n     */\n    function after(n, func) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      n = toInteger(n);\n      return function() {\n        if (--n < 1) {\n          return func.apply(this, arguments);\n        }\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func`, with up to `n` arguments,\n     * ignoring any additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @param {number} [n=func.length] The arity cap.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new capped function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.ary(parseInt, 1));\n     * // => [6, 8, 10]\n     */\n    function ary(func, n, guard) {\n      n = guard ? undefined : n;\n      n = (func && n == null) ? func.length : n;\n      return createWrap(func, WRAP_ARY_FLAG, undefined, undefined, undefined, undefined, n);\n    }\n\n    /**\n     * Creates a function that invokes `func`, with the `this` binding and arguments\n     * of the created function, while it's called less than `n` times. Subsequent\n     * calls to the created function return the result of the last `func` invocation.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {number} n The number of calls at which `func` is no longer invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * jQuery(element).on('click', _.before(5, addContactToList));\n     * // => Allows adding up to 4 contacts to the list.\n     */\n    function before(n, func) {\n      var result;\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      n = toInteger(n);\n      return function() {\n        if (--n > 0) {\n          result = func.apply(this, arguments);\n        }\n        if (n <= 1) {\n          func = undefined;\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of `thisArg`\n     * and `partials` prepended to the arguments it receives.\n     *\n     * The `_.bind.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** Unlike native `Function#bind`, this method doesn't set the \"length\"\n     * property of bound functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to bind.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * function greet(greeting, punctuation) {\n     *   return greeting + ' ' + this.user + punctuation;\n     * }\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * var bound = _.bind(greet, object, 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * // Bound with placeholders.\n     * var bound = _.bind(greet, object, _, '!');\n     * bound('hi');\n     * // => 'hi fred!'\n     */\n    var bind = baseRest(function(func, thisArg, partials) {\n      var bitmask = WRAP_BIND_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, getHolder(bind));\n        bitmask |= WRAP_PARTIAL_FLAG;\n      }\n      return createWrap(func, bitmask, thisArg, partials, holders);\n    });\n\n    /**\n     * Creates a function that invokes the method at `object[key]` with `partials`\n     * prepended to the arguments it receives.\n     *\n     * This method differs from `_.bind` by allowing bound functions to reference\n     * methods that may be redefined or don't yet exist. See\n     * [Peter Michaux's article](http://peter.michaux.ca/articles/lazy-function-definition-pattern)\n     * for more details.\n     *\n     * The `_.bindKey.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.10.0\n     * @category Function\n     * @param {Object} object The object to invoke the method on.\n     * @param {string} key The key of the method.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var object = {\n     *   'user': 'fred',\n     *   'greet': function(greeting, punctuation) {\n     *     return greeting + ' ' + this.user + punctuation;\n     *   }\n     * };\n     *\n     * var bound = _.bindKey(object, 'greet', 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * object.greet = function(greeting, punctuation) {\n     *   return greeting + 'ya ' + this.user + punctuation;\n     * };\n     *\n     * bound('!');\n     * // => 'hiya fred!'\n     *\n     * // Bound with placeholders.\n     * var bound = _.bindKey(object, 'greet', _, '!');\n     * bound('hi');\n     * // => 'hiya fred!'\n     */\n    var bindKey = baseRest(function(object, key, partials) {\n      var bitmask = WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, getHolder(bindKey));\n        bitmask |= WRAP_PARTIAL_FLAG;\n      }\n      return createWrap(key, bitmask, object, partials, holders);\n    });\n\n    /**\n     * Creates a function that accepts arguments of `func` and either invokes\n     * `func` returning its result, if at least `arity` number of arguments have\n     * been provided, or returns a function that accepts the remaining `func`\n     * arguments, and so on. The arity of `func` may be specified if `func.length`\n     * is not sufficient.\n     *\n     * The `_.curry.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curry(abc);\n     *\n     * curried(1)(2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // Curried with placeholders.\n     * curried(1)(_, 3)(2);\n     * // => [1, 2, 3]\n     */\n    function curry(func, arity, guard) {\n      arity = guard ? undefined : arity;\n      var result = createWrap(func, WRAP_CURRY_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n      result.placeholder = curry.placeholder;\n      return result;\n    }\n\n    /**\n     * This method is like `_.curry` except that arguments are applied to `func`\n     * in the manner of `_.partialRight` instead of `_.partial`.\n     *\n     * The `_.curryRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curryRight(abc);\n     *\n     * curried(3)(2)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(2, 3)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // Curried with placeholders.\n     * curried(3)(1, _)(2);\n     * // => [1, 2, 3]\n     */\n    function curryRight(func, arity, guard) {\n      arity = guard ? undefined : arity;\n      var result = createWrap(func, WRAP_CURRY_RIGHT_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n      result.placeholder = curryRight.placeholder;\n      return result;\n    }\n\n    /**\n     * Creates a debounced function that delays invoking `func` until after `wait`\n     * milliseconds have elapsed since the last time the debounced function was\n     * invoked. The debounced function comes with a `cancel` method to cancel\n     * delayed `func` invocations and a `flush` method to immediately invoke them.\n     * Provide `options` to indicate whether `func` should be invoked on the\n     * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n     * with the last arguments provided to the debounced function. Subsequent\n     * calls to the debounced function return the result of the last `func`\n     * invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is\n     * invoked on the trailing edge of the timeout only if the debounced function\n     * is invoked more than once during the `wait` timeout.\n     *\n     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n     * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n     *\n     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n     * for details over the differences between `_.debounce` and `_.throttle`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to debounce.\n     * @param {number} [wait=0] The number of milliseconds to delay.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.leading=false]\n     *  Specify invoking on the leading edge of the timeout.\n     * @param {number} [options.maxWait]\n     *  The maximum time `func` is allowed to be delayed before it's invoked.\n     * @param {boolean} [options.trailing=true]\n     *  Specify invoking on the trailing edge of the timeout.\n     * @returns {Function} Returns the new debounced function.\n     * @example\n     *\n     * // Avoid costly calculations while the window size is in flux.\n     * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n     *\n     * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n     * jQuery(element).on('click', _.debounce(sendMail, 300, {\n     *   'leading': true,\n     *   'trailing': false\n     * }));\n     *\n     * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n     * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n     * var source = new EventSource('/stream');\n     * jQuery(source).on('message', debounced);\n     *\n     * // Cancel the trailing debounced invocation.\n     * jQuery(window).on('popstate', debounced.cancel);\n     */\n    function debounce(func, wait, options) {\n      var lastArgs,\n          lastThis,\n          maxWait,\n          result,\n          timerId,\n          lastCallTime,\n          lastInvokeTime = 0,\n          leading = false,\n          maxing = false,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      wait = toNumber(wait) || 0;\n      if (isObject(options)) {\n        leading = !!options.leading;\n        maxing = 'maxWait' in options;\n        maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n\n      function invokeFunc(time) {\n        var args = lastArgs,\n            thisArg = lastThis;\n\n        lastArgs = lastThis = undefined;\n        lastInvokeTime = time;\n        result = func.apply(thisArg, args);\n        return result;\n      }\n\n      function leadingEdge(time) {\n        // Reset any `maxWait` timer.\n        lastInvokeTime = time;\n        // Start the timer for the trailing edge.\n        timerId = setTimeout(timerExpired, wait);\n        // Invoke the leading edge.\n        return leading ? invokeFunc(time) : result;\n      }\n\n      function remainingWait(time) {\n        var timeSinceLastCall = time - lastCallTime,\n            timeSinceLastInvoke = time - lastInvokeTime,\n            timeWaiting = wait - timeSinceLastCall;\n\n        return maxing\n          ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n          : timeWaiting;\n      }\n\n      function shouldInvoke(time) {\n        var timeSinceLastCall = time - lastCallTime,\n            timeSinceLastInvoke = time - lastInvokeTime;\n\n        // Either this is the first call, activity has stopped and we're at the\n        // trailing edge, the system time has gone backwards and we're treating\n        // it as the trailing edge, or we've hit the `maxWait` limit.\n        return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n          (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n      }\n\n      function timerExpired() {\n        var time = now();\n        if (shouldInvoke(time)) {\n          return trailingEdge(time);\n        }\n        // Restart the timer.\n        timerId = setTimeout(timerExpired, remainingWait(time));\n      }\n\n      function trailingEdge(time) {\n        timerId = undefined;\n\n        // Only invoke if we have `lastArgs` which means `func` has been\n        // debounced at least once.\n        if (trailing && lastArgs) {\n          return invokeFunc(time);\n        }\n        lastArgs = lastThis = undefined;\n        return result;\n      }\n\n      function cancel() {\n        if (timerId !== undefined) {\n          clearTimeout(timerId);\n        }\n        lastInvokeTime = 0;\n        lastArgs = lastCallTime = lastThis = timerId = undefined;\n      }\n\n      function flush() {\n        return timerId === undefined ? result : trailingEdge(now());\n      }\n\n      function debounced() {\n        var time = now(),\n            isInvoking = shouldInvoke(time);\n\n        lastArgs = arguments;\n        lastThis = this;\n        lastCallTime = time;\n\n        if (isInvoking) {\n          if (timerId === undefined) {\n            return leadingEdge(lastCallTime);\n          }\n          if (maxing) {\n            // Handle invocations in a tight loop.\n            clearTimeout(timerId);\n            timerId = setTimeout(timerExpired, wait);\n            return invokeFunc(lastCallTime);\n          }\n        }\n        if (timerId === undefined) {\n          timerId = setTimeout(timerExpired, wait);\n        }\n        return result;\n      }\n      debounced.cancel = cancel;\n      debounced.flush = flush;\n      return debounced;\n    }\n\n    /**\n     * Defers invoking the `func` until the current call stack has cleared. Any\n     * additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to defer.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.defer(function(text) {\n     *   console.log(text);\n     * }, 'deferred');\n     * // => Logs 'deferred' after one millisecond.\n     */\n    var defer = baseRest(function(func, args) {\n      return baseDelay(func, 1, args);\n    });\n\n    /**\n     * Invokes `func` after `wait` milliseconds. Any additional arguments are\n     * provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.delay(function(text) {\n     *   console.log(text);\n     * }, 1000, 'later');\n     * // => Logs 'later' after one second.\n     */\n    var delay = baseRest(function(func, wait, args) {\n      return baseDelay(func, toNumber(wait) || 0, args);\n    });\n\n    /**\n     * Creates a function that invokes `func` with arguments reversed.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to flip arguments for.\n     * @returns {Function} Returns the new flipped function.\n     * @example\n     *\n     * var flipped = _.flip(function() {\n     *   return _.toArray(arguments);\n     * });\n     *\n     * flipped('a', 'b', 'c', 'd');\n     * // => ['d', 'c', 'b', 'a']\n     */\n    function flip(func) {\n      return createWrap(func, WRAP_FLIP_FLAG);\n    }\n\n    /**\n     * Creates a function that memoizes the result of `func`. If `resolver` is\n     * provided, it determines the cache key for storing the result based on the\n     * arguments provided to the memoized function. By default, the first argument\n     * provided to the memoized function is used as the map cache key. The `func`\n     * is invoked with the `this` binding of the memoized function.\n     *\n     * **Note:** The cache is exposed as the `cache` property on the memoized\n     * function. Its creation may be customized by replacing the `_.memoize.Cache`\n     * constructor with one whose instances implement the\n     * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n     * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to have its output memoized.\n     * @param {Function} [resolver] The function to resolve the cache key.\n     * @returns {Function} Returns the new memoized function.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     * var other = { 'c': 3, 'd': 4 };\n     *\n     * var values = _.memoize(_.values);\n     * values(object);\n     * // => [1, 2]\n     *\n     * values(other);\n     * // => [3, 4]\n     *\n     * object.a = 2;\n     * values(object);\n     * // => [1, 2]\n     *\n     * // Modify the result cache.\n     * values.cache.set(object, ['a', 'b']);\n     * values(object);\n     * // => ['a', 'b']\n     *\n     * // Replace `_.memoize.Cache`.\n     * _.memoize.Cache = WeakMap;\n     */\n    function memoize(func, resolver) {\n      if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var memoized = function() {\n        var args = arguments,\n            key = resolver ? resolver.apply(this, args) : args[0],\n            cache = memoized.cache;\n\n        if (cache.has(key)) {\n          return cache.get(key);\n        }\n        var result = func.apply(this, args);\n        memoized.cache = cache.set(key, result) || cache;\n        return result;\n      };\n      memoized.cache = new (memoize.Cache || MapCache);\n      return memoized;\n    }\n\n    // Expose `MapCache`.\n    memoize.Cache = MapCache;\n\n    /**\n     * Creates a function that negates the result of the predicate `func`. The\n     * `func` predicate is invoked with the `this` binding and arguments of the\n     * created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} predicate The predicate to negate.\n     * @returns {Function} Returns the new negated function.\n     * @example\n     *\n     * function isEven(n) {\n     *   return n % 2 == 0;\n     * }\n     *\n     * _.filter([1, 2, 3, 4, 5, 6], _.negate(isEven));\n     * // => [1, 3, 5]\n     */\n    function negate(predicate) {\n      if (typeof predicate != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return function() {\n        var args = arguments;\n        switch (args.length) {\n          case 0: return !predicate.call(this);\n          case 1: return !predicate.call(this, args[0]);\n          case 2: return !predicate.call(this, args[0], args[1]);\n          case 3: return !predicate.call(this, args[0], args[1], args[2]);\n        }\n        return !predicate.apply(this, args);\n      };\n    }\n\n    /**\n     * Creates a function that is restricted to invoking `func` once. Repeat calls\n     * to the function return the value of the first invocation. The `func` is\n     * invoked with the `this` binding and arguments of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var initialize = _.once(createApplication);\n     * initialize();\n     * initialize();\n     * // => `createApplication` is invoked once\n     */\n    function once(func) {\n      return before(2, func);\n    }\n\n    /**\n     * Creates a function that invokes `func` with its arguments transformed.\n     *\n     * @static\n     * @since 4.0.0\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to wrap.\n     * @param {...(Function|Function[])} [transforms=[_.identity]]\n     *  The argument transforms.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function doubled(n) {\n     *   return n * 2;\n     * }\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var func = _.overArgs(function(x, y) {\n     *   return [x, y];\n     * }, [square, doubled]);\n     *\n     * func(9, 3);\n     * // => [81, 6]\n     *\n     * func(10, 5);\n     * // => [100, 10]\n     */\n    var overArgs = castRest(function(func, transforms) {\n      transforms = (transforms.length == 1 && isArray(transforms[0]))\n        ? arrayMap(transforms[0], baseUnary(getIteratee()))\n        : arrayMap(baseFlatten(transforms, 1), baseUnary(getIteratee()));\n\n      var funcsLength = transforms.length;\n      return baseRest(function(args) {\n        var index = -1,\n            length = nativeMin(args.length, funcsLength);\n\n        while (++index < length) {\n          args[index] = transforms[index].call(this, args[index]);\n        }\n        return apply(func, this, args);\n      });\n    });\n\n    /**\n     * Creates a function that invokes `func` with `partials` prepended to the\n     * arguments it receives. This method is like `_.bind` except it does **not**\n     * alter the `this` binding.\n     *\n     * The `_.partial.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.2.0\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * function greet(greeting, name) {\n     *   return greeting + ' ' + name;\n     * }\n     *\n     * var sayHelloTo = _.partial(greet, 'hello');\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     *\n     * // Partially applied with placeholders.\n     * var greetFred = _.partial(greet, _, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     */\n    var partial = baseRest(function(func, partials) {\n      var holders = replaceHolders(partials, getHolder(partial));\n      return createWrap(func, WRAP_PARTIAL_FLAG, undefined, partials, holders);\n    });\n\n    /**\n     * This method is like `_.partial` except that partially applied arguments\n     * are appended to the arguments it receives.\n     *\n     * The `_.partialRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * function greet(greeting, name) {\n     *   return greeting + ' ' + name;\n     * }\n     *\n     * var greetFred = _.partialRight(greet, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     *\n     * // Partially applied with placeholders.\n     * var sayHelloTo = _.partialRight(greet, 'hello', _);\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     */\n    var partialRight = baseRest(function(func, partials) {\n      var holders = replaceHolders(partials, getHolder(partialRight));\n      return createWrap(func, WRAP_PARTIAL_RIGHT_FLAG, undefined, partials, holders);\n    });\n\n    /**\n     * Creates a function that invokes `func` with arguments arranged according\n     * to the specified `indexes` where the argument value at the first index is\n     * provided as the first argument, the argument value at the second index is\n     * provided as the second argument, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to rearrange arguments for.\n     * @param {...(number|number[])} indexes The arranged argument indexes.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var rearged = _.rearg(function(a, b, c) {\n     *   return [a, b, c];\n     * }, [2, 0, 1]);\n     *\n     * rearged('b', 'c', 'a')\n     * // => ['a', 'b', 'c']\n     */\n    var rearg = flatRest(function(func, indexes) {\n      return createWrap(func, WRAP_REARG_FLAG, undefined, undefined, undefined, indexes);\n    });\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * created function and arguments from `start` and beyond provided as\n     * an array.\n     *\n     * **Note:** This method is based on the\n     * [rest parameter](https://mdn.io/rest_parameters).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.rest(function(what, names) {\n     *   return what + ' ' + _.initial(names).join(', ') +\n     *     (_.size(names) > 1 ? ', & ' : '') + _.last(names);\n     * });\n     *\n     * say('hello', 'fred', 'barney', 'pebbles');\n     * // => 'hello fred, barney, & pebbles'\n     */\n    function rest(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = start === undefined ? start : toInteger(start);\n      return baseRest(func, start);\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * create function and an array of arguments much like\n     * [`Function#apply`](http://www.ecma-international.org/ecma-262/7.0/#sec-function.prototype.apply).\n     *\n     * **Note:** This method is based on the\n     * [spread operator](https://mdn.io/spread_operator).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Function\n     * @param {Function} func The function to spread arguments over.\n     * @param {number} [start=0] The start position of the spread.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.spread(function(who, what) {\n     *   return who + ' says ' + what;\n     * });\n     *\n     * say(['fred', 'hello']);\n     * // => 'fred says hello'\n     *\n     * var numbers = Promise.all([\n     *   Promise.resolve(40),\n     *   Promise.resolve(36)\n     * ]);\n     *\n     * numbers.then(_.spread(function(x, y) {\n     *   return x + y;\n     * }));\n     * // => a Promise of 76\n     */\n    function spread(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = start == null ? 0 : nativeMax(toInteger(start), 0);\n      return baseRest(function(args) {\n        var array = args[start],\n            otherArgs = castSlice(args, 0, start);\n\n        if (array) {\n          arrayPush(otherArgs, array);\n        }\n        return apply(func, this, otherArgs);\n      });\n    }\n\n    /**\n     * Creates a throttled function that only invokes `func` at most once per\n     * every `wait` milliseconds. The throttled function comes with a `cancel`\n     * method to cancel delayed `func` invocations and a `flush` method to\n     * immediately invoke them. Provide `options` to indicate whether `func`\n     * should be invoked on the leading and/or trailing edge of the `wait`\n     * timeout. The `func` is invoked with the last arguments provided to the\n     * throttled function. Subsequent calls to the throttled function return the\n     * result of the last `func` invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is\n     * invoked on the trailing edge of the timeout only if the throttled function\n     * is invoked more than once during the `wait` timeout.\n     *\n     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n     * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n     *\n     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n     * for details over the differences between `_.throttle` and `_.debounce`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to throttle.\n     * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.leading=true]\n     *  Specify invoking on the leading edge of the timeout.\n     * @param {boolean} [options.trailing=true]\n     *  Specify invoking on the trailing edge of the timeout.\n     * @returns {Function} Returns the new throttled function.\n     * @example\n     *\n     * // Avoid excessively updating the position while scrolling.\n     * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n     *\n     * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n     * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n     * jQuery(element).on('click', throttled);\n     *\n     * // Cancel the trailing throttled invocation.\n     * jQuery(window).on('popstate', throttled.cancel);\n     */\n    function throttle(func, wait, options) {\n      var leading = true,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      if (isObject(options)) {\n        leading = 'leading' in options ? !!options.leading : leading;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n      return debounce(func, wait, {\n        'leading': leading,\n        'maxWait': wait,\n        'trailing': trailing\n      });\n    }\n\n    /**\n     * Creates a function that accepts up to one argument, ignoring any\n     * additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @returns {Function} Returns the new capped function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.unary(parseInt));\n     * // => [6, 8, 10]\n     */\n    function unary(func) {\n      return ary(func, 1);\n    }\n\n    /**\n     * Creates a function that provides `value` to `wrapper` as its first\n     * argument. Any additional arguments provided to the function are appended\n     * to those provided to the `wrapper`. The wrapper is invoked with the `this`\n     * binding of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {*} value The value to wrap.\n     * @param {Function} [wrapper=identity] The wrapper function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var p = _.wrap(_.escape, function(func, text) {\n     *   return '<p>' + func(text) + '</p>';\n     * });\n     *\n     * p('fred, barney, & pebbles');\n     * // => '<p>fred, barney, &amp; pebbles</p>'\n     */\n    function wrap(value, wrapper) {\n      return partial(castFunction(wrapper), value);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Casts `value` as an array if it's not one.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.4.0\n     * @category Lang\n     * @param {*} value The value to inspect.\n     * @returns {Array} Returns the cast array.\n     * @example\n     *\n     * _.castArray(1);\n     * // => [1]\n     *\n     * _.castArray({ 'a': 1 });\n     * // => [{ 'a': 1 }]\n     *\n     * _.castArray('abc');\n     * // => ['abc']\n     *\n     * _.castArray(null);\n     * // => [null]\n     *\n     * _.castArray(undefined);\n     * // => [undefined]\n     *\n     * _.castArray();\n     * // => []\n     *\n     * var array = [1, 2, 3];\n     * console.log(_.castArray(array) === array);\n     * // => true\n     */\n    function castArray() {\n      if (!arguments.length) {\n        return [];\n      }\n      var value = arguments[0];\n      return isArray(value) ? value : [value];\n    }\n\n    /**\n     * Creates a shallow clone of `value`.\n     *\n     * **Note:** This method is loosely based on the\n     * [structured clone algorithm](https://mdn.io/Structured_clone_algorithm)\n     * and supports cloning arrays, array buffers, booleans, date objects, maps,\n     * numbers, `Object` objects, regexes, sets, strings, symbols, and typed\n     * arrays. The own enumerable properties of `arguments` objects are cloned\n     * as plain objects. An empty object is returned for uncloneable values such\n     * as error objects, functions, DOM nodes, and WeakMaps.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @returns {*} Returns the cloned value.\n     * @see _.cloneDeep\n     * @example\n     *\n     * var objects = [{ 'a': 1 }, { 'b': 2 }];\n     *\n     * var shallow = _.clone(objects);\n     * console.log(shallow[0] === objects[0]);\n     * // => true\n     */\n    function clone(value) {\n      return baseClone(value, CLONE_SYMBOLS_FLAG);\n    }\n\n    /**\n     * This method is like `_.clone` except that it accepts `customizer` which\n     * is invoked to produce the cloned value. If `customizer` returns `undefined`,\n     * cloning is handled by the method instead. The `customizer` is invoked with\n     * up to four arguments; (value [, index|key, object, stack]).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @param {Function} [customizer] The function to customize cloning.\n     * @returns {*} Returns the cloned value.\n     * @see _.cloneDeepWith\n     * @example\n     *\n     * function customizer(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(false);\n     *   }\n     * }\n     *\n     * var el = _.cloneWith(document.body, customizer);\n     *\n     * console.log(el === document.body);\n     * // => false\n     * console.log(el.nodeName);\n     * // => 'BODY'\n     * console.log(el.childNodes.length);\n     * // => 0\n     */\n    function cloneWith(value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseClone(value, CLONE_SYMBOLS_FLAG, customizer);\n    }\n\n    /**\n     * This method is like `_.clone` except that it recursively clones `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Lang\n     * @param {*} value The value to recursively clone.\n     * @returns {*} Returns the deep cloned value.\n     * @see _.clone\n     * @example\n     *\n     * var objects = [{ 'a': 1 }, { 'b': 2 }];\n     *\n     * var deep = _.cloneDeep(objects);\n     * console.log(deep[0] === objects[0]);\n     * // => false\n     */\n    function cloneDeep(value) {\n      return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n    }\n\n    /**\n     * This method is like `_.cloneWith` except that it recursively clones `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to recursively clone.\n     * @param {Function} [customizer] The function to customize cloning.\n     * @returns {*} Returns the deep cloned value.\n     * @see _.cloneWith\n     * @example\n     *\n     * function customizer(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(true);\n     *   }\n     * }\n     *\n     * var el = _.cloneDeepWith(document.body, customizer);\n     *\n     * console.log(el === document.body);\n     * // => false\n     * console.log(el.nodeName);\n     * // => 'BODY'\n     * console.log(el.childNodes.length);\n     * // => 20\n     */\n    function cloneDeepWith(value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG, customizer);\n    }\n\n    /**\n     * Checks if `object` conforms to `source` by invoking the predicate\n     * properties of `source` with the corresponding property values of `object`.\n     *\n     * **Note:** This method is equivalent to `_.conforms` when `source` is\n     * partially applied.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.14.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {boolean} Returns `true` if `object` conforms, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     *\n     * _.conformsTo(object, { 'b': function(n) { return n > 1; } });\n     * // => true\n     *\n     * _.conformsTo(object, { 'b': function(n) { return n > 2; } });\n     * // => false\n     */\n    function conformsTo(object, source) {\n      return source == null || baseConformsTo(object, source, keys(source));\n    }\n\n    /**\n     * Performs a\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * comparison between two values to determine if they are equivalent.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     * var other = { 'a': 1 };\n     *\n     * _.eq(object, object);\n     * // => true\n     *\n     * _.eq(object, other);\n     * // => false\n     *\n     * _.eq('a', 'a');\n     * // => true\n     *\n     * _.eq('a', Object('a'));\n     * // => false\n     *\n     * _.eq(NaN, NaN);\n     * // => true\n     */\n    function eq(value, other) {\n      return value === other || (value !== value && other !== other);\n    }\n\n    /**\n     * Checks if `value` is greater than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`,\n     *  else `false`.\n     * @see _.lt\n     * @example\n     *\n     * _.gt(3, 1);\n     * // => true\n     *\n     * _.gt(3, 3);\n     * // => false\n     *\n     * _.gt(1, 3);\n     * // => false\n     */\n    var gt = createRelationalOperation(baseGt);\n\n    /**\n     * Checks if `value` is greater than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than or equal to\n     *  `other`, else `false`.\n     * @see _.lte\n     * @example\n     *\n     * _.gte(3, 1);\n     * // => true\n     *\n     * _.gte(3, 3);\n     * // => true\n     *\n     * _.gte(1, 3);\n     * // => false\n     */\n    var gte = createRelationalOperation(function(value, other) {\n      return value >= other;\n    });\n\n    /**\n     * Checks if `value` is likely an `arguments` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n     *  else `false`.\n     * @example\n     *\n     * _.isArguments(function() { return arguments; }());\n     * // => true\n     *\n     * _.isArguments([1, 2, 3]);\n     * // => false\n     */\n    var isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n      return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n        !propertyIsEnumerable.call(value, 'callee');\n    };\n\n    /**\n     * Checks if `value` is classified as an `Array` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n     * @example\n     *\n     * _.isArray([1, 2, 3]);\n     * // => true\n     *\n     * _.isArray(document.body.children);\n     * // => false\n     *\n     * _.isArray('abc');\n     * // => false\n     *\n     * _.isArray(_.noop);\n     * // => false\n     */\n    var isArray = Array.isArray;\n\n    /**\n     * Checks if `value` is classified as an `ArrayBuffer` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.\n     * @example\n     *\n     * _.isArrayBuffer(new ArrayBuffer(2));\n     * // => true\n     *\n     * _.isArrayBuffer(new Array(2));\n     * // => false\n     */\n    var isArrayBuffer = nodeIsArrayBuffer ? baseUnary(nodeIsArrayBuffer) : baseIsArrayBuffer;\n\n    /**\n     * Checks if `value` is array-like. A value is considered array-like if it's\n     * not a function and has a `value.length` that's an integer greater than or\n     * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n     * @example\n     *\n     * _.isArrayLike([1, 2, 3]);\n     * // => true\n     *\n     * _.isArrayLike(document.body.children);\n     * // => true\n     *\n     * _.isArrayLike('abc');\n     * // => true\n     *\n     * _.isArrayLike(_.noop);\n     * // => false\n     */\n    function isArrayLike(value) {\n      return value != null && isLength(value.length) && !isFunction(value);\n    }\n\n    /**\n     * This method is like `_.isArrayLike` except that it also checks if `value`\n     * is an object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array-like object,\n     *  else `false`.\n     * @example\n     *\n     * _.isArrayLikeObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isArrayLikeObject(document.body.children);\n     * // => true\n     *\n     * _.isArrayLikeObject('abc');\n     * // => false\n     *\n     * _.isArrayLikeObject(_.noop);\n     * // => false\n     */\n    function isArrayLikeObject(value) {\n      return isObjectLike(value) && isArrayLike(value);\n    }\n\n    /**\n     * Checks if `value` is classified as a boolean primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a boolean, else `false`.\n     * @example\n     *\n     * _.isBoolean(false);\n     * // => true\n     *\n     * _.isBoolean(null);\n     * // => false\n     */\n    function isBoolean(value) {\n      return value === true || value === false ||\n        (isObjectLike(value) && baseGetTag(value) == boolTag);\n    }\n\n    /**\n     * Checks if `value` is a buffer.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n     * @example\n     *\n     * _.isBuffer(new Buffer(2));\n     * // => true\n     *\n     * _.isBuffer(new Uint8Array(2));\n     * // => false\n     */\n    var isBuffer = nativeIsBuffer || stubFalse;\n\n    /**\n     * Checks if `value` is classified as a `Date` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n     * @example\n     *\n     * _.isDate(new Date);\n     * // => true\n     *\n     * _.isDate('Mon April 23 2012');\n     * // => false\n     */\n    var isDate = nodeIsDate ? baseUnary(nodeIsDate) : baseIsDate;\n\n    /**\n     * Checks if `value` is likely a DOM element.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a DOM element, else `false`.\n     * @example\n     *\n     * _.isElement(document.body);\n     * // => true\n     *\n     * _.isElement('<body>');\n     * // => false\n     */\n    function isElement(value) {\n      return isObjectLike(value) && value.nodeType === 1 && !isPlainObject(value);\n    }\n\n    /**\n     * Checks if `value` is an empty object, collection, map, or set.\n     *\n     * Objects are considered empty if they have no own enumerable string keyed\n     * properties.\n     *\n     * Array-like values such as `arguments` objects, arrays, buffers, strings, or\n     * jQuery-like collections are considered empty if they have a `length` of `0`.\n     * Similarly, maps and sets are considered empty if they have a `size` of `0`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n     * @example\n     *\n     * _.isEmpty(null);\n     * // => true\n     *\n     * _.isEmpty(true);\n     * // => true\n     *\n     * _.isEmpty(1);\n     * // => true\n     *\n     * _.isEmpty([1, 2, 3]);\n     * // => false\n     *\n     * _.isEmpty({ 'a': 1 });\n     * // => false\n     */\n    function isEmpty(value) {\n      if (value == null) {\n        return true;\n      }\n      if (isArrayLike(value) &&\n          (isArray(value) || typeof value == 'string' || typeof value.splice == 'function' ||\n            isBuffer(value) || isTypedArray(value) || isArguments(value))) {\n        return !value.length;\n      }\n      var tag = getTag(value);\n      if (tag == mapTag || tag == setTag) {\n        return !value.size;\n      }\n      if (isPrototype(value)) {\n        return !baseKeys(value).length;\n      }\n      for (var key in value) {\n        if (hasOwnProperty.call(value, key)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * Performs a deep comparison between two values to determine if they are\n     * equivalent.\n     *\n     * **Note:** This method supports comparing arrays, array buffers, booleans,\n     * date objects, error objects, maps, numbers, `Object` objects, regexes,\n     * sets, strings, symbols, and typed arrays. `Object` objects are compared\n     * by their own, not inherited, enumerable properties. Functions and DOM\n     * nodes are compared by strict equality, i.e. `===`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     * var other = { 'a': 1 };\n     *\n     * _.isEqual(object, other);\n     * // => true\n     *\n     * object === other;\n     * // => false\n     */\n    function isEqual(value, other) {\n      return baseIsEqual(value, other);\n    }\n\n    /**\n     * This method is like `_.isEqual` except that it accepts `customizer` which\n     * is invoked to compare values. If `customizer` returns `undefined`, comparisons\n     * are handled by the method instead. The `customizer` is invoked with up to\n     * six arguments: (objValue, othValue [, index|key, object, other, stack]).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * function isGreeting(value) {\n     *   return /^h(?:i|ello)$/.test(value);\n     * }\n     *\n     * function customizer(objValue, othValue) {\n     *   if (isGreeting(objValue) && isGreeting(othValue)) {\n     *     return true;\n     *   }\n     * }\n     *\n     * var array = ['hello', 'goodbye'];\n     * var other = ['hi', 'goodbye'];\n     *\n     * _.isEqualWith(array, other, customizer);\n     * // => true\n     */\n    function isEqualWith(value, other, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      var result = customizer ? customizer(value, other) : undefined;\n      return result === undefined ? baseIsEqual(value, other, undefined, customizer) : !!result;\n    }\n\n    /**\n     * Checks if `value` is an `Error`, `EvalError`, `RangeError`, `ReferenceError`,\n     * `SyntaxError`, `TypeError`, or `URIError` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an error object, else `false`.\n     * @example\n     *\n     * _.isError(new Error);\n     * // => true\n     *\n     * _.isError(Error);\n     * // => false\n     */\n    function isError(value) {\n      if (!isObjectLike(value)) {\n        return false;\n      }\n      var tag = baseGetTag(value);\n      return tag == errorTag || tag == domExcTag ||\n        (typeof value.message == 'string' && typeof value.name == 'string' && !isPlainObject(value));\n    }\n\n    /**\n     * Checks if `value` is a finite primitive number.\n     *\n     * **Note:** This method is based on\n     * [`Number.isFinite`](https://mdn.io/Number/isFinite).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a finite number, else `false`.\n     * @example\n     *\n     * _.isFinite(3);\n     * // => true\n     *\n     * _.isFinite(Number.MIN_VALUE);\n     * // => true\n     *\n     * _.isFinite(Infinity);\n     * // => false\n     *\n     * _.isFinite('3');\n     * // => false\n     */\n    function isFinite(value) {\n      return typeof value == 'number' && nativeIsFinite(value);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Function` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n     * @example\n     *\n     * _.isFunction(_);\n     * // => true\n     *\n     * _.isFunction(/abc/);\n     * // => false\n     */\n    function isFunction(value) {\n      if (!isObject(value)) {\n        return false;\n      }\n      // The use of `Object#toString` avoids issues with the `typeof` operator\n      // in Safari 9 which returns 'object' for typed arrays and other constructors.\n      var tag = baseGetTag(value);\n      return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n    }\n\n    /**\n     * Checks if `value` is an integer.\n     *\n     * **Note:** This method is based on\n     * [`Number.isInteger`](https://mdn.io/Number/isInteger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an integer, else `false`.\n     * @example\n     *\n     * _.isInteger(3);\n     * // => true\n     *\n     * _.isInteger(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isInteger(Infinity);\n     * // => false\n     *\n     * _.isInteger('3');\n     * // => false\n     */\n    function isInteger(value) {\n      return typeof value == 'number' && value == toInteger(value);\n    }\n\n    /**\n     * Checks if `value` is a valid array-like length.\n     *\n     * **Note:** This method is loosely based on\n     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n     * @example\n     *\n     * _.isLength(3);\n     * // => true\n     *\n     * _.isLength(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isLength(Infinity);\n     * // => false\n     *\n     * _.isLength('3');\n     * // => false\n     */\n    function isLength(value) {\n      return typeof value == 'number' &&\n        value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is the\n     * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n     * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n     * @example\n     *\n     * _.isObject({});\n     * // => true\n     *\n     * _.isObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isObject(_.noop);\n     * // => true\n     *\n     * _.isObject(null);\n     * // => false\n     */\n    function isObject(value) {\n      var type = typeof value;\n      return value != null && (type == 'object' || type == 'function');\n    }\n\n    /**\n     * Checks if `value` is object-like. A value is object-like if it's not `null`\n     * and has a `typeof` result of \"object\".\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n     * @example\n     *\n     * _.isObjectLike({});\n     * // => true\n     *\n     * _.isObjectLike([1, 2, 3]);\n     * // => true\n     *\n     * _.isObjectLike(_.noop);\n     * // => false\n     *\n     * _.isObjectLike(null);\n     * // => false\n     */\n    function isObjectLike(value) {\n      return value != null && typeof value == 'object';\n    }\n\n    /**\n     * Checks if `value` is classified as a `Map` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n     * @example\n     *\n     * _.isMap(new Map);\n     * // => true\n     *\n     * _.isMap(new WeakMap);\n     * // => false\n     */\n    var isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;\n\n    /**\n     * Performs a partial deep comparison between `object` and `source` to\n     * determine if `object` contains equivalent property values.\n     *\n     * **Note:** This method is equivalent to `_.matches` when `source` is\n     * partially applied.\n     *\n     * Partial comparisons will match empty array and empty object `source`\n     * values against any array or object value, respectively. See `_.isEqual`\n     * for a list of supported value comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     *\n     * _.isMatch(object, { 'b': 2 });\n     * // => true\n     *\n     * _.isMatch(object, { 'b': 1 });\n     * // => false\n     */\n    function isMatch(object, source) {\n      return object === source || baseIsMatch(object, source, getMatchData(source));\n    }\n\n    /**\n     * This method is like `_.isMatch` except that it accepts `customizer` which\n     * is invoked to compare values. If `customizer` returns `undefined`, comparisons\n     * are handled by the method instead. The `customizer` is invoked with five\n     * arguments: (objValue, srcValue, index|key, object, source).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * function isGreeting(value) {\n     *   return /^h(?:i|ello)$/.test(value);\n     * }\n     *\n     * function customizer(objValue, srcValue) {\n     *   if (isGreeting(objValue) && isGreeting(srcValue)) {\n     *     return true;\n     *   }\n     * }\n     *\n     * var object = { 'greeting': 'hello' };\n     * var source = { 'greeting': 'hi' };\n     *\n     * _.isMatchWith(object, source, customizer);\n     * // => true\n     */\n    function isMatchWith(object, source, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseIsMatch(object, source, getMatchData(source), customizer);\n    }\n\n    /**\n     * Checks if `value` is `NaN`.\n     *\n     * **Note:** This method is based on\n     * [`Number.isNaN`](https://mdn.io/Number/isNaN) and is not the same as\n     * global [`isNaN`](https://mdn.io/isNaN) which returns `true` for\n     * `undefined` and other non-number values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n     * @example\n     *\n     * _.isNaN(NaN);\n     * // => true\n     *\n     * _.isNaN(new Number(NaN));\n     * // => true\n     *\n     * isNaN(undefined);\n     * // => true\n     *\n     * _.isNaN(undefined);\n     * // => false\n     */\n    function isNaN(value) {\n      // An `NaN` primitive is the only value that is not equal to itself.\n      // Perform the `toStringTag` check first to avoid errors with some\n      // ActiveX objects in IE.\n      return isNumber(value) && value != +value;\n    }\n\n    /**\n     * Checks if `value` is a pristine native function.\n     *\n     * **Note:** This method can't reliably detect native functions in the presence\n     * of the core-js package because core-js circumvents this kind of detection.\n     * Despite multiple requests, the core-js maintainer has made it clear: any\n     * attempt to fix the detection will be obstructed. As a result, we're left\n     * with little choice but to throw an error. Unfortunately, this also affects\n     * packages, like [babel-polyfill](https://www.npmjs.com/package/babel-polyfill),\n     * which rely on core-js.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function,\n     *  else `false`.\n     * @example\n     *\n     * _.isNative(Array.prototype.push);\n     * // => true\n     *\n     * _.isNative(_);\n     * // => false\n     */\n    function isNative(value) {\n      if (isMaskable(value)) {\n        throw new Error(CORE_ERROR_TEXT);\n      }\n      return baseIsNative(value);\n    }\n\n    /**\n     * Checks if `value` is `null`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `null`, else `false`.\n     * @example\n     *\n     * _.isNull(null);\n     * // => true\n     *\n     * _.isNull(void 0);\n     * // => false\n     */\n    function isNull(value) {\n      return value === null;\n    }\n\n    /**\n     * Checks if `value` is `null` or `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is nullish, else `false`.\n     * @example\n     *\n     * _.isNil(null);\n     * // => true\n     *\n     * _.isNil(void 0);\n     * // => true\n     *\n     * _.isNil(NaN);\n     * // => false\n     */\n    function isNil(value) {\n      return value == null;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Number` primitive or object.\n     *\n     * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are\n     * classified as numbers, use the `_.isFinite` method.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a number, else `false`.\n     * @example\n     *\n     * _.isNumber(3);\n     * // => true\n     *\n     * _.isNumber(Number.MIN_VALUE);\n     * // => true\n     *\n     * _.isNumber(Infinity);\n     * // => true\n     *\n     * _.isNumber('3');\n     * // => false\n     */\n    function isNumber(value) {\n      return typeof value == 'number' ||\n        (isObjectLike(value) && baseGetTag(value) == numberTag);\n    }\n\n    /**\n     * Checks if `value` is a plain object, that is, an object created by the\n     * `Object` constructor or one with a `[[Prototype]]` of `null`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.8.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * _.isPlainObject(new Foo);\n     * // => false\n     *\n     * _.isPlainObject([1, 2, 3]);\n     * // => false\n     *\n     * _.isPlainObject({ 'x': 0, 'y': 0 });\n     * // => true\n     *\n     * _.isPlainObject(Object.create(null));\n     * // => true\n     */\n    function isPlainObject(value) {\n      if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n        return false;\n      }\n      var proto = getPrototype(value);\n      if (proto === null) {\n        return true;\n      }\n      var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n      return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n        funcToString.call(Ctor) == objectCtorString;\n    }\n\n    /**\n     * Checks if `value` is classified as a `RegExp` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n     * @example\n     *\n     * _.isRegExp(/abc/);\n     * // => true\n     *\n     * _.isRegExp('/abc/');\n     * // => false\n     */\n    var isRegExp = nodeIsRegExp ? baseUnary(nodeIsRegExp) : baseIsRegExp;\n\n    /**\n     * Checks if `value` is a safe integer. An integer is safe if it's an IEEE-754\n     * double precision number which isn't the result of a rounded unsafe integer.\n     *\n     * **Note:** This method is based on\n     * [`Number.isSafeInteger`](https://mdn.io/Number/isSafeInteger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a safe integer, else `false`.\n     * @example\n     *\n     * _.isSafeInteger(3);\n     * // => true\n     *\n     * _.isSafeInteger(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isSafeInteger(Infinity);\n     * // => false\n     *\n     * _.isSafeInteger('3');\n     * // => false\n     */\n    function isSafeInteger(value) {\n      return isInteger(value) && value >= -MAX_SAFE_INTEGER && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Set` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n     * @example\n     *\n     * _.isSet(new Set);\n     * // => true\n     *\n     * _.isSet(new WeakSet);\n     * // => false\n     */\n    var isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;\n\n    /**\n     * Checks if `value` is classified as a `String` primitive or object.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n     * @example\n     *\n     * _.isString('abc');\n     * // => true\n     *\n     * _.isString(1);\n     * // => false\n     */\n    function isString(value) {\n      return typeof value == 'string' ||\n        (!isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Symbol` primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n     * @example\n     *\n     * _.isSymbol(Symbol.iterator);\n     * // => true\n     *\n     * _.isSymbol('abc');\n     * // => false\n     */\n    function isSymbol(value) {\n      return typeof value == 'symbol' ||\n        (isObjectLike(value) && baseGetTag(value) == symbolTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a typed array.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n     * @example\n     *\n     * _.isTypedArray(new Uint8Array);\n     * // => true\n     *\n     * _.isTypedArray([]);\n     * // => false\n     */\n    var isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n    /**\n     * Checks if `value` is `undefined`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n     * @example\n     *\n     * _.isUndefined(void 0);\n     * // => true\n     *\n     * _.isUndefined(null);\n     * // => false\n     */\n    function isUndefined(value) {\n      return value === undefined;\n    }\n\n    /**\n     * Checks if `value` is classified as a `WeakMap` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a weak map, else `false`.\n     * @example\n     *\n     * _.isWeakMap(new WeakMap);\n     * // => true\n     *\n     * _.isWeakMap(new Map);\n     * // => false\n     */\n    function isWeakMap(value) {\n      return isObjectLike(value) && getTag(value) == weakMapTag;\n    }\n\n    /**\n     * Checks if `value` is classified as a `WeakSet` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a weak set, else `false`.\n     * @example\n     *\n     * _.isWeakSet(new WeakSet);\n     * // => true\n     *\n     * _.isWeakSet(new Set);\n     * // => false\n     */\n    function isWeakSet(value) {\n      return isObjectLike(value) && baseGetTag(value) == weakSetTag;\n    }\n\n    /**\n     * Checks if `value` is less than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`,\n     *  else `false`.\n     * @see _.gt\n     * @example\n     *\n     * _.lt(1, 3);\n     * // => true\n     *\n     * _.lt(3, 3);\n     * // => false\n     *\n     * _.lt(3, 1);\n     * // => false\n     */\n    var lt = createRelationalOperation(baseLt);\n\n    /**\n     * Checks if `value` is less than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than or equal to\n     *  `other`, else `false`.\n     * @see _.gte\n     * @example\n     *\n     * _.lte(1, 3);\n     * // => true\n     *\n     * _.lte(3, 3);\n     * // => true\n     *\n     * _.lte(3, 1);\n     * // => false\n     */\n    var lte = createRelationalOperation(function(value, other) {\n      return value <= other;\n    });\n\n    /**\n     * Converts `value` to an array.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the converted array.\n     * @example\n     *\n     * _.toArray({ 'a': 1, 'b': 2 });\n     * // => [1, 2]\n     *\n     * _.toArray('abc');\n     * // => ['a', 'b', 'c']\n     *\n     * _.toArray(1);\n     * // => []\n     *\n     * _.toArray(null);\n     * // => []\n     */\n    function toArray(value) {\n      if (!value) {\n        return [];\n      }\n      if (isArrayLike(value)) {\n        return isString(value) ? stringToArray(value) : copyArray(value);\n      }\n      if (symIterator && value[symIterator]) {\n        return iteratorToArray(value[symIterator]());\n      }\n      var tag = getTag(value),\n          func = tag == mapTag ? mapToArray : (tag == setTag ? setToArray : values);\n\n      return func(value);\n    }\n\n    /**\n     * Converts `value` to a finite number.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.12.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted number.\n     * @example\n     *\n     * _.toFinite(3.2);\n     * // => 3.2\n     *\n     * _.toFinite(Number.MIN_VALUE);\n     * // => 5e-324\n     *\n     * _.toFinite(Infinity);\n     * // => 1.7976931348623157e+308\n     *\n     * _.toFinite('3.2');\n     * // => 3.2\n     */\n    function toFinite(value) {\n      if (!value) {\n        return value === 0 ? value : 0;\n      }\n      value = toNumber(value);\n      if (value === INFINITY || value === -INFINITY) {\n        var sign = (value < 0 ? -1 : 1);\n        return sign * MAX_INTEGER;\n      }\n      return value === value ? value : 0;\n    }\n\n    /**\n     * Converts `value` to an integer.\n     *\n     * **Note:** This method is loosely based on\n     * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toInteger(3.2);\n     * // => 3\n     *\n     * _.toInteger(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toInteger(Infinity);\n     * // => 1.7976931348623157e+308\n     *\n     * _.toInteger('3.2');\n     * // => 3\n     */\n    function toInteger(value) {\n      var result = toFinite(value),\n          remainder = result % 1;\n\n      return result === result ? (remainder ? result - remainder : result) : 0;\n    }\n\n    /**\n     * Converts `value` to an integer suitable for use as the length of an\n     * array-like object.\n     *\n     * **Note:** This method is based on\n     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toLength(3.2);\n     * // => 3\n     *\n     * _.toLength(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toLength(Infinity);\n     * // => 4294967295\n     *\n     * _.toLength('3.2');\n     * // => 3\n     */\n    function toLength(value) {\n      return value ? baseClamp(toInteger(value), 0, MAX_ARRAY_LENGTH) : 0;\n    }\n\n    /**\n     * Converts `value` to a number.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to process.\n     * @returns {number} Returns the number.\n     * @example\n     *\n     * _.toNumber(3.2);\n     * // => 3.2\n     *\n     * _.toNumber(Number.MIN_VALUE);\n     * // => 5e-324\n     *\n     * _.toNumber(Infinity);\n     * // => Infinity\n     *\n     * _.toNumber('3.2');\n     * // => 3.2\n     */\n    function toNumber(value) {\n      if (typeof value == 'number') {\n        return value;\n      }\n      if (isSymbol(value)) {\n        return NAN;\n      }\n      if (isObject(value)) {\n        var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n        value = isObject(other) ? (other + '') : other;\n      }\n      if (typeof value != 'string') {\n        return value === 0 ? value : +value;\n      }\n      value = baseTrim(value);\n      var isBinary = reIsBinary.test(value);\n      return (isBinary || reIsOctal.test(value))\n        ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n        : (reIsBadHex.test(value) ? NAN : +value);\n    }\n\n    /**\n     * Converts `value` to a plain object flattening inherited enumerable string\n     * keyed properties of `value` to own properties of the plain object.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Object} Returns the converted plain object.\n     * @example\n     *\n     * function Foo() {\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.assign({ 'a': 1 }, new Foo);\n     * // => { 'a': 1, 'b': 2 }\n     *\n     * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n     * // => { 'a': 1, 'b': 2, 'c': 3 }\n     */\n    function toPlainObject(value) {\n      return copyObject(value, keysIn(value));\n    }\n\n    /**\n     * Converts `value` to a safe integer. A safe integer can be compared and\n     * represented correctly.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toSafeInteger(3.2);\n     * // => 3\n     *\n     * _.toSafeInteger(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toSafeInteger(Infinity);\n     * // => 9007199254740991\n     *\n     * _.toSafeInteger('3.2');\n     * // => 3\n     */\n    function toSafeInteger(value) {\n      return value\n        ? baseClamp(toInteger(value), -MAX_SAFE_INTEGER, MAX_SAFE_INTEGER)\n        : (value === 0 ? value : 0);\n    }\n\n    /**\n     * Converts `value` to a string. An empty string is returned for `null`\n     * and `undefined` values. The sign of `-0` is preserved.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.toString(null);\n     * // => ''\n     *\n     * _.toString(-0);\n     * // => '-0'\n     *\n     * _.toString([1, 2, 3]);\n     * // => '1,2,3'\n     */\n    function toString(value) {\n      return value == null ? '' : baseToString(value);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Assigns own enumerable string keyed properties of source objects to the\n     * destination object. Source objects are applied from left to right.\n     * Subsequent sources overwrite property assignments of previous sources.\n     *\n     * **Note:** This method mutates `object` and is loosely based on\n     * [`Object.assign`](https://mdn.io/Object/assign).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.10.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.assignIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * function Bar() {\n     *   this.c = 3;\n     * }\n     *\n     * Foo.prototype.b = 2;\n     * Bar.prototype.d = 4;\n     *\n     * _.assign({ 'a': 0 }, new Foo, new Bar);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    var assign = createAssigner(function(object, source) {\n      if (isPrototype(source) || isArrayLike(source)) {\n        copyObject(source, keys(source), object);\n        return;\n      }\n      for (var key in source) {\n        if (hasOwnProperty.call(source, key)) {\n          assignValue(object, key, source[key]);\n        }\n      }\n    });\n\n    /**\n     * This method is like `_.assign` except that it iterates over own and\n     * inherited source properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias extend\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.assign\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * function Bar() {\n     *   this.c = 3;\n     * }\n     *\n     * Foo.prototype.b = 2;\n     * Bar.prototype.d = 4;\n     *\n     * _.assignIn({ 'a': 0 }, new Foo, new Bar);\n     * // => { 'a': 1, 'b': 2, 'c': 3, 'd': 4 }\n     */\n    var assignIn = createAssigner(function(object, source) {\n      copyObject(source, keysIn(source), object);\n    });\n\n    /**\n     * This method is like `_.assignIn` except that it accepts `customizer`\n     * which is invoked to produce the assigned values. If `customizer` returns\n     * `undefined`, assignment is handled by the method instead. The `customizer`\n     * is invoked with five arguments: (objValue, srcValue, key, object, source).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias extendWith\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @see _.assignWith\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   return _.isUndefined(objValue) ? srcValue : objValue;\n     * }\n     *\n     * var defaults = _.partialRight(_.assignInWith, customizer);\n     *\n     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var assignInWith = createAssigner(function(object, source, srcIndex, customizer) {\n      copyObject(source, keysIn(source), object, customizer);\n    });\n\n    /**\n     * This method is like `_.assign` except that it accepts `customizer`\n     * which is invoked to produce the assigned values. If `customizer` returns\n     * `undefined`, assignment is handled by the method instead. The `customizer`\n     * is invoked with five arguments: (objValue, srcValue, key, object, source).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @see _.assignInWith\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   return _.isUndefined(objValue) ? srcValue : objValue;\n     * }\n     *\n     * var defaults = _.partialRight(_.assignWith, customizer);\n     *\n     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var assignWith = createAssigner(function(object, source, srcIndex, customizer) {\n      copyObject(source, keys(source), object, customizer);\n    });\n\n    /**\n     * Creates an array of values corresponding to `paths` of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Array} Returns the picked values.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };\n     *\n     * _.at(object, ['a[0].b.c', 'a[1]']);\n     * // => [3, 4]\n     */\n    var at = flatRest(baseAt);\n\n    /**\n     * Creates an object that inherits from the `prototype` object. If a\n     * `properties` object is given, its own enumerable string keyed properties\n     * are assigned to the created object.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.3.0\n     * @category Object\n     * @param {Object} prototype The object to inherit from.\n     * @param {Object} [properties] The properties to assign to the object.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * function Shape() {\n     *   this.x = 0;\n     *   this.y = 0;\n     * }\n     *\n     * function Circle() {\n     *   Shape.call(this);\n     * }\n     *\n     * Circle.prototype = _.create(Shape.prototype, {\n     *   'constructor': Circle\n     * });\n     *\n     * var circle = new Circle;\n     * circle instanceof Circle;\n     * // => true\n     *\n     * circle instanceof Shape;\n     * // => true\n     */\n    function create(prototype, properties) {\n      var result = baseCreate(prototype);\n      return properties == null ? result : baseAssign(result, properties);\n    }\n\n    /**\n     * Assigns own and inherited enumerable string keyed properties of source\n     * objects to the destination object for all destination properties that\n     * resolve to `undefined`. Source objects are applied from left to right.\n     * Once a property is set, additional values of the same property are ignored.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.defaultsDeep\n     * @example\n     *\n     * _.defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var defaults = baseRest(function(object, sources) {\n      object = Object(object);\n\n      var index = -1;\n      var length = sources.length;\n      var guard = length > 2 ? sources[2] : undefined;\n\n      if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n        length = 1;\n      }\n\n      while (++index < length) {\n        var source = sources[index];\n        var props = keysIn(source);\n        var propsIndex = -1;\n        var propsLength = props.length;\n\n        while (++propsIndex < propsLength) {\n          var key = props[propsIndex];\n          var value = object[key];\n\n          if (value === undefined ||\n              (eq(value, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n            object[key] = source[key];\n          }\n        }\n      }\n\n      return object;\n    });\n\n    /**\n     * This method is like `_.defaults` except that it recursively assigns\n     * default properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.defaults\n     * @example\n     *\n     * _.defaultsDeep({ 'a': { 'b': 2 } }, { 'a': { 'b': 1, 'c': 3 } });\n     * // => { 'a': { 'b': 2, 'c': 3 } }\n     */\n    var defaultsDeep = baseRest(function(args) {\n      args.push(undefined, customDefaultsMerge);\n      return apply(mergeWith, undefined, args);\n    });\n\n    /**\n     * This method is like `_.find` except that it returns the key of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {string|undefined} Returns the key of the matched element,\n     *  else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findKey(users, function(o) { return o.age < 40; });\n     * // => 'barney' (iteration order is not guaranteed)\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findKey(users, { 'age': 1, 'active': true });\n     * // => 'pebbles'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findKey(users, ['active', false]);\n     * // => 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findKey(users, 'active');\n     * // => 'barney'\n     */\n    function findKey(object, predicate) {\n      return baseFindKey(object, getIteratee(predicate, 3), baseForOwn);\n    }\n\n    /**\n     * This method is like `_.findKey` except that it iterates over elements of\n     * a collection in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {string|undefined} Returns the key of the matched element,\n     *  else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findLastKey(users, function(o) { return o.age < 40; });\n     * // => returns 'pebbles' assuming `_.findKey` returns 'barney'\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findLastKey(users, { 'age': 36, 'active': true });\n     * // => 'barney'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findLastKey(users, ['active', false]);\n     * // => 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findLastKey(users, 'active');\n     * // => 'pebbles'\n     */\n    function findLastKey(object, predicate) {\n      return baseFindKey(object, getIteratee(predicate, 3), baseForOwnRight);\n    }\n\n    /**\n     * Iterates over own and inherited enumerable string keyed properties of an\n     * object and invokes `iteratee` for each property. The iteratee is invoked\n     * with three arguments: (value, key, object). Iteratee functions may exit\n     * iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forInRight\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forIn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a', 'b', then 'c' (iteration order is not guaranteed).\n     */\n    function forIn(object, iteratee) {\n      return object == null\n        ? object\n        : baseFor(object, getIteratee(iteratee, 3), keysIn);\n    }\n\n    /**\n     * This method is like `_.forIn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forInRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'c', 'b', then 'a' assuming `_.forIn` logs 'a', 'b', then 'c'.\n     */\n    function forInRight(object, iteratee) {\n      return object == null\n        ? object\n        : baseForRight(object, getIteratee(iteratee, 3), keysIn);\n    }\n\n    /**\n     * Iterates over own enumerable string keyed properties of an object and\n     * invokes `iteratee` for each property. The iteratee is invoked with three\n     * arguments: (value, key, object). Iteratee functions may exit iteration\n     * early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forOwnRight\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n     */\n    function forOwn(object, iteratee) {\n      return object && baseForOwn(object, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.forOwn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forOwn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwnRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'b' then 'a' assuming `_.forOwn` logs 'a' then 'b'.\n     */\n    function forOwnRight(object, iteratee) {\n      return object && baseForOwnRight(object, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * Creates an array of function property names from own enumerable properties\n     * of `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the function names.\n     * @see _.functionsIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = _.constant('a');\n     *   this.b = _.constant('b');\n     * }\n     *\n     * Foo.prototype.c = _.constant('c');\n     *\n     * _.functions(new Foo);\n     * // => ['a', 'b']\n     */\n    function functions(object) {\n      return object == null ? [] : baseFunctions(object, keys(object));\n    }\n\n    /**\n     * Creates an array of function property names from own and inherited\n     * enumerable properties of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the function names.\n     * @see _.functions\n     * @example\n     *\n     * function Foo() {\n     *   this.a = _.constant('a');\n     *   this.b = _.constant('b');\n     * }\n     *\n     * Foo.prototype.c = _.constant('c');\n     *\n     * _.functionsIn(new Foo);\n     * // => ['a', 'b', 'c']\n     */\n    function functionsIn(object) {\n      return object == null ? [] : baseFunctions(object, keysIn(object));\n    }\n\n    /**\n     * Gets the value at `path` of `object`. If the resolved value is\n     * `undefined`, the `defaultValue` is returned in its place.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.get(object, 'a[0].b.c');\n     * // => 3\n     *\n     * _.get(object, ['a', '0', 'b', 'c']);\n     * // => 3\n     *\n     * _.get(object, 'a.b.c', 'default');\n     * // => 'default'\n     */\n    function get(object, path, defaultValue) {\n      var result = object == null ? undefined : baseGet(object, path);\n      return result === undefined ? defaultValue : result;\n    }\n\n    /**\n     * Checks if `path` is a direct property of `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     * @example\n     *\n     * var object = { 'a': { 'b': 2 } };\n     * var other = _.create({ 'a': _.create({ 'b': 2 }) });\n     *\n     * _.has(object, 'a');\n     * // => true\n     *\n     * _.has(object, 'a.b');\n     * // => true\n     *\n     * _.has(object, ['a', 'b']);\n     * // => true\n     *\n     * _.has(other, 'a');\n     * // => false\n     */\n    function has(object, path) {\n      return object != null && hasPath(object, path, baseHas);\n    }\n\n    /**\n     * Checks if `path` is a direct or inherited property of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     * @example\n     *\n     * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n     *\n     * _.hasIn(object, 'a');\n     * // => true\n     *\n     * _.hasIn(object, 'a.b');\n     * // => true\n     *\n     * _.hasIn(object, ['a', 'b']);\n     * // => true\n     *\n     * _.hasIn(object, 'b');\n     * // => false\n     */\n    function hasIn(object, path) {\n      return object != null && hasPath(object, path, baseHasIn);\n    }\n\n    /**\n     * Creates an object composed of the inverted keys and values of `object`.\n     * If `object` contains duplicate values, subsequent values overwrite\n     * property assignments of previous values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.7.0\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invert(object);\n     * // => { '1': 'c', '2': 'b' }\n     */\n    var invert = createInverter(function(result, value, key) {\n      if (value != null &&\n          typeof value.toString != 'function') {\n        value = nativeObjectToString.call(value);\n      }\n\n      result[value] = key;\n    }, constant(identity));\n\n    /**\n     * This method is like `_.invert` except that the inverted object is generated\n     * from the results of running each element of `object` thru `iteratee`. The\n     * corresponding inverted value of each inverted key is an array of keys\n     * responsible for generating the inverted value. The iteratee is invoked\n     * with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.1.0\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invertBy(object);\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     *\n     * _.invertBy(object, function(value) {\n     *   return 'group' + value;\n     * });\n     * // => { 'group1': ['a', 'c'], 'group2': ['b'] }\n     */\n    var invertBy = createInverter(function(result, value, key) {\n      if (value != null &&\n          typeof value.toString != 'function') {\n        value = nativeObjectToString.call(value);\n      }\n\n      if (hasOwnProperty.call(result, value)) {\n        result[value].push(key);\n      } else {\n        result[value] = [key];\n      }\n    }, getIteratee);\n\n    /**\n     * Invokes the method at `path` of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': [1, 2, 3, 4] } }] };\n     *\n     * _.invoke(object, 'a[0].b.c.slice', 1, 3);\n     * // => [2, 3]\n     */\n    var invoke = baseRest(baseInvoke);\n\n    /**\n     * Creates an array of the own enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects. See the\n     * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n     * for more details.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keys(new Foo);\n     * // => ['a', 'b'] (iteration order is not guaranteed)\n     *\n     * _.keys('hi');\n     * // => ['0', '1']\n     */\n    function keys(object) {\n      return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keysIn(new Foo);\n     * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n     */\n    function keysIn(object) {\n      return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n    }\n\n    /**\n     * The opposite of `_.mapValues`; this method creates an object with the\n     * same values as `object` and keys generated by running each own enumerable\n     * string keyed property of `object` thru `iteratee`. The iteratee is invoked\n     * with three arguments: (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns the new mapped object.\n     * @see _.mapValues\n     * @example\n     *\n     * _.mapKeys({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   return key + value;\n     * });\n     * // => { 'a1': 1, 'b2': 2 }\n     */\n    function mapKeys(object, iteratee) {\n      var result = {};\n      iteratee = getIteratee(iteratee, 3);\n\n      baseForOwn(object, function(value, key, object) {\n        baseAssignValue(result, iteratee(value, key, object), value);\n      });\n      return result;\n    }\n\n    /**\n     * Creates an object with the same keys as `object` and values generated\n     * by running each own enumerable string keyed property of `object` thru\n     * `iteratee`. The iteratee is invoked with three arguments:\n     * (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns the new mapped object.\n     * @see _.mapKeys\n     * @example\n     *\n     * var users = {\n     *   'fred':    { 'user': 'fred',    'age': 40 },\n     *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n     * };\n     *\n     * _.mapValues(users, function(o) { return o.age; });\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.mapValues(users, 'age');\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     */\n    function mapValues(object, iteratee) {\n      var result = {};\n      iteratee = getIteratee(iteratee, 3);\n\n      baseForOwn(object, function(value, key, object) {\n        baseAssignValue(result, key, iteratee(value, key, object));\n      });\n      return result;\n    }\n\n    /**\n     * This method is like `_.assign` except that it recursively merges own and\n     * inherited enumerable string keyed properties of source objects into the\n     * destination object. Source properties that resolve to `undefined` are\n     * skipped if a destination value exists. Array and plain object properties\n     * are merged recursively. Other objects and value types are overridden by\n     * assignment. Source objects are applied from left to right. Subsequent\n     * sources overwrite property assignments of previous sources.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {\n     *   'a': [{ 'b': 2 }, { 'd': 4 }]\n     * };\n     *\n     * var other = {\n     *   'a': [{ 'c': 3 }, { 'e': 5 }]\n     * };\n     *\n     * _.merge(object, other);\n     * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n     */\n    var merge = createAssigner(function(object, source, srcIndex) {\n      baseMerge(object, source, srcIndex);\n    });\n\n    /**\n     * This method is like `_.merge` except that it accepts `customizer` which\n     * is invoked to produce the merged values of the destination and source\n     * properties. If `customizer` returns `undefined`, merging is handled by the\n     * method instead. The `customizer` is invoked with six arguments:\n     * (objValue, srcValue, key, object, source, stack).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} customizer The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   if (_.isArray(objValue)) {\n     *     return objValue.concat(srcValue);\n     *   }\n     * }\n     *\n     * var object = { 'a': [1], 'b': [2] };\n     * var other = { 'a': [3], 'b': [4] };\n     *\n     * _.mergeWith(object, other, customizer);\n     * // => { 'a': [1, 3], 'b': [2, 4] }\n     */\n    var mergeWith = createAssigner(function(object, source, srcIndex, customizer) {\n      baseMerge(object, source, srcIndex, customizer);\n    });\n\n    /**\n     * The opposite of `_.pick`; this method creates an object composed of the\n     * own and inherited enumerable property paths of `object` that are not omitted.\n     *\n     * **Note:** This method is considerably slower than `_.pick`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {...(string|string[])} [paths] The property paths to omit.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.omit(object, ['a', 'c']);\n     * // => { 'b': '2' }\n     */\n    var omit = flatRest(function(object, paths) {\n      var result = {};\n      if (object == null) {\n        return result;\n      }\n      var isDeep = false;\n      paths = arrayMap(paths, function(path) {\n        path = castPath(path, object);\n        isDeep || (isDeep = path.length > 1);\n        return path;\n      });\n      copyObject(object, getAllKeysIn(object), result);\n      if (isDeep) {\n        result = baseClone(result, CLONE_DEEP_FLAG | CLONE_FLAT_FLAG | CLONE_SYMBOLS_FLAG, customOmitClone);\n      }\n      var length = paths.length;\n      while (length--) {\n        baseUnset(result, paths[length]);\n      }\n      return result;\n    });\n\n    /**\n     * The opposite of `_.pickBy`; this method creates an object composed of\n     * the own and inherited enumerable string keyed properties of `object` that\n     * `predicate` doesn't return truthy for. The predicate is invoked with two\n     * arguments: (value, key).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function} [predicate=_.identity] The function invoked per property.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.omitBy(object, _.isNumber);\n     * // => { 'b': '2' }\n     */\n    function omitBy(object, predicate) {\n      return pickBy(object, negate(getIteratee(predicate)));\n    }\n\n    /**\n     * Creates an object composed of the picked `object` properties.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.pick(object, ['a', 'c']);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    var pick = flatRest(function(object, paths) {\n      return object == null ? {} : basePick(object, paths);\n    });\n\n    /**\n     * Creates an object composed of the `object` properties `predicate` returns\n     * truthy for. The predicate is invoked with two arguments: (value, key).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function} [predicate=_.identity] The function invoked per property.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.pickBy(object, _.isNumber);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    function pickBy(object, predicate) {\n      if (object == null) {\n        return {};\n      }\n      var props = arrayMap(getAllKeysIn(object), function(prop) {\n        return [prop];\n      });\n      predicate = getIteratee(predicate);\n      return basePickBy(object, props, function(value, path) {\n        return predicate(value, path[0]);\n      });\n    }\n\n    /**\n     * This method is like `_.get` except that if the resolved value is a\n     * function it's invoked with the `this` binding of its parent object and\n     * its result is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to resolve.\n     * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c1': 3, 'c2': _.constant(4) } }] };\n     *\n     * _.result(object, 'a[0].b.c1');\n     * // => 3\n     *\n     * _.result(object, 'a[0].b.c2');\n     * // => 4\n     *\n     * _.result(object, 'a[0].b.c3', 'default');\n     * // => 'default'\n     *\n     * _.result(object, 'a[0].b.c3', _.constant('default'));\n     * // => 'default'\n     */\n    function result(object, path, defaultValue) {\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length;\n\n      // Ensure the loop is entered when path is empty.\n      if (!length) {\n        length = 1;\n        object = undefined;\n      }\n      while (++index < length) {\n        var value = object == null ? undefined : object[toKey(path[index])];\n        if (value === undefined) {\n          index = length;\n          value = defaultValue;\n        }\n        object = isFunction(value) ? value.call(object) : value;\n      }\n      return object;\n    }\n\n    /**\n     * Sets the value at `path` of `object`. If a portion of `path` doesn't exist,\n     * it's created. Arrays are created for missing index properties while objects\n     * are created for all other missing properties. Use `_.setWith` to customize\n     * `path` creation.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.set(object, 'a[0].b.c', 4);\n     * console.log(object.a[0].b.c);\n     * // => 4\n     *\n     * _.set(object, ['x', '0', 'y', 'z'], 5);\n     * console.log(object.x[0].y.z);\n     * // => 5\n     */\n    function set(object, path, value) {\n      return object == null ? object : baseSet(object, path, value);\n    }\n\n    /**\n     * This method is like `_.set` except that it accepts `customizer` which is\n     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`\n     * path creation is handled by the method instead. The `customizer` is invoked\n     * with three arguments: (nsValue, key, nsObject).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {};\n     *\n     * _.setWith(object, '[0][1]', 'a', Object);\n     * // => { '0': { '1': 'a' } }\n     */\n    function setWith(object, path, value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return object == null ? object : baseSet(object, path, value, customizer);\n    }\n\n    /**\n     * Creates an array of own enumerable string keyed-value pairs for `object`\n     * which can be consumed by `_.fromPairs`. If `object` is a map or set, its\n     * entries are returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias entries\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the key-value pairs.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.toPairs(new Foo);\n     * // => [['a', 1], ['b', 2]] (iteration order is not guaranteed)\n     */\n    var toPairs = createToPairs(keys);\n\n    /**\n     * Creates an array of own and inherited enumerable string keyed-value pairs\n     * for `object` which can be consumed by `_.fromPairs`. If `object` is a map\n     * or set, its entries are returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias entriesIn\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the key-value pairs.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.toPairsIn(new Foo);\n     * // => [['a', 1], ['b', 2], ['c', 3]] (iteration order is not guaranteed)\n     */\n    var toPairsIn = createToPairs(keysIn);\n\n    /**\n     * An alternative to `_.reduce`; this method transforms `object` to a new\n     * `accumulator` object which is the result of running each of its own\n     * enumerable string keyed properties thru `iteratee`, with each invocation\n     * potentially mutating the `accumulator` object. If `accumulator` is not\n     * provided, a new object with the same `[[Prototype]]` will be used. The\n     * iteratee is invoked with four arguments: (accumulator, value, key, object).\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The custom accumulator value.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * _.transform([2, 3, 4], function(result, n) {\n     *   result.push(n *= n);\n     *   return n % 2 == 0;\n     * }, []);\n     * // => [4, 9]\n     *\n     * _.transform({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n     *   (result[value] || (result[value] = [])).push(key);\n     * }, {});\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     */\n    function transform(object, iteratee, accumulator) {\n      var isArr = isArray(object),\n          isArrLike = isArr || isBuffer(object) || isTypedArray(object);\n\n      iteratee = getIteratee(iteratee, 4);\n      if (accumulator == null) {\n        var Ctor = object && object.constructor;\n        if (isArrLike) {\n          accumulator = isArr ? new Ctor : [];\n        }\n        else if (isObject(object)) {\n          accumulator = isFunction(Ctor) ? baseCreate(getPrototype(object)) : {};\n        }\n        else {\n          accumulator = {};\n        }\n      }\n      (isArrLike ? arrayEach : baseForOwn)(object, function(value, index, object) {\n        return iteratee(accumulator, value, index, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * Removes the property at `path` of `object`.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to unset.\n     * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 7 } }] };\n     * _.unset(object, 'a[0].b.c');\n     * // => true\n     *\n     * console.log(object);\n     * // => { 'a': [{ 'b': {} }] };\n     *\n     * _.unset(object, ['a', '0', 'b', 'c']);\n     * // => true\n     *\n     * console.log(object);\n     * // => { 'a': [{ 'b': {} }] };\n     */\n    function unset(object, path) {\n      return object == null ? true : baseUnset(object, path);\n    }\n\n    /**\n     * This method is like `_.set` except that accepts `updater` to produce the\n     * value to set. Use `_.updateWith` to customize `path` creation. The `updater`\n     * is invoked with one argument: (value).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {Function} updater The function to produce the updated value.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.update(object, 'a[0].b.c', function(n) { return n * n; });\n     * console.log(object.a[0].b.c);\n     * // => 9\n     *\n     * _.update(object, 'x[0].y.z', function(n) { return n ? n + 1 : 0; });\n     * console.log(object.x[0].y.z);\n     * // => 0\n     */\n    function update(object, path, updater) {\n      return object == null ? object : baseUpdate(object, path, castFunction(updater));\n    }\n\n    /**\n     * This method is like `_.update` except that it accepts `customizer` which is\n     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`\n     * path creation is handled by the method instead. The `customizer` is invoked\n     * with three arguments: (nsValue, key, nsObject).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {Function} updater The function to produce the updated value.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {};\n     *\n     * _.updateWith(object, '[0][1]', _.constant('a'), Object);\n     * // => { '0': { '1': 'a' } }\n     */\n    function updateWith(object, path, updater, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return object == null ? object : baseUpdate(object, path, castFunction(updater), customizer);\n    }\n\n    /**\n     * Creates an array of the own enumerable string keyed property values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.values(new Foo);\n     * // => [1, 2] (iteration order is not guaranteed)\n     *\n     * _.values('hi');\n     * // => ['h', 'i']\n     */\n    function values(object) {\n      return object == null ? [] : baseValues(object, keys(object));\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable string keyed property\n     * values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.valuesIn(new Foo);\n     * // => [1, 2, 3] (iteration order is not guaranteed)\n     */\n    function valuesIn(object) {\n      return object == null ? [] : baseValues(object, keysIn(object));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Clamps `number` within the inclusive `lower` and `upper` bounds.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Number\n     * @param {number} number The number to clamp.\n     * @param {number} [lower] The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the clamped number.\n     * @example\n     *\n     * _.clamp(-10, -5, 5);\n     * // => -5\n     *\n     * _.clamp(10, -5, 5);\n     * // => 5\n     */\n    function clamp(number, lower, upper) {\n      if (upper === undefined) {\n        upper = lower;\n        lower = undefined;\n      }\n      if (upper !== undefined) {\n        upper = toNumber(upper);\n        upper = upper === upper ? upper : 0;\n      }\n      if (lower !== undefined) {\n        lower = toNumber(lower);\n        lower = lower === lower ? lower : 0;\n      }\n      return baseClamp(toNumber(number), lower, upper);\n    }\n\n    /**\n     * Checks if `n` is between `start` and up to, but not including, `end`. If\n     * `end` is not specified, it's set to `start` with `start` then set to `0`.\n     * If `start` is greater than `end` the params are swapped to support\n     * negative ranges.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.3.0\n     * @category Number\n     * @param {number} number The number to check.\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n     * @see _.range, _.rangeRight\n     * @example\n     *\n     * _.inRange(3, 2, 4);\n     * // => true\n     *\n     * _.inRange(4, 8);\n     * // => true\n     *\n     * _.inRange(4, 2);\n     * // => false\n     *\n     * _.inRange(2, 2);\n     * // => false\n     *\n     * _.inRange(1.2, 2);\n     * // => true\n     *\n     * _.inRange(5.2, 4);\n     * // => false\n     *\n     * _.inRange(-3, -2, -6);\n     * // => true\n     */\n    function inRange(number, start, end) {\n      start = toFinite(start);\n      if (end === undefined) {\n        end = start;\n        start = 0;\n      } else {\n        end = toFinite(end);\n      }\n      number = toNumber(number);\n      return baseInRange(number, start, end);\n    }\n\n    /**\n     * Produces a random number between the inclusive `lower` and `upper` bounds.\n     * If only one argument is provided a number between `0` and the given number\n     * is returned. If `floating` is `true`, or either `lower` or `upper` are\n     * floats, a floating-point number is returned instead of an integer.\n     *\n     * **Note:** JavaScript follows the IEEE-754 standard for resolving\n     * floating-point values which can produce unexpected results.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.7.0\n     * @category Number\n     * @param {number} [lower=0] The lower bound.\n     * @param {number} [upper=1] The upper bound.\n     * @param {boolean} [floating] Specify returning a floating-point number.\n     * @returns {number} Returns the random number.\n     * @example\n     *\n     * _.random(0, 5);\n     * // => an integer between 0 and 5\n     *\n     * _.random(5);\n     * // => also an integer between 0 and 5\n     *\n     * _.random(5, true);\n     * // => a floating-point number between 0 and 5\n     *\n     * _.random(1.2, 5.2);\n     * // => a floating-point number between 1.2 and 5.2\n     */\n    function random(lower, upper, floating) {\n      if (floating && typeof floating != 'boolean' && isIterateeCall(lower, upper, floating)) {\n        upper = floating = undefined;\n      }\n      if (floating === undefined) {\n        if (typeof upper == 'boolean') {\n          floating = upper;\n          upper = undefined;\n        }\n        else if (typeof lower == 'boolean') {\n          floating = lower;\n          lower = undefined;\n        }\n      }\n      if (lower === undefined && upper === undefined) {\n        lower = 0;\n        upper = 1;\n      }\n      else {\n        lower = toFinite(lower);\n        if (upper === undefined) {\n          upper = lower;\n          lower = 0;\n        } else {\n          upper = toFinite(upper);\n        }\n      }\n      if (lower > upper) {\n        var temp = lower;\n        lower = upper;\n        upper = temp;\n      }\n      if (floating || lower % 1 || upper % 1) {\n        var rand = nativeRandom();\n        return nativeMin(lower + (rand * (upper - lower + freeParseFloat('1e-' + ((rand + '').length - 1)))), upper);\n      }\n      return baseRandom(lower, upper);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Converts `string` to [camel case](https://en.wikipedia.org/wiki/CamelCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the camel cased string.\n     * @example\n     *\n     * _.camelCase('Foo Bar');\n     * // => 'fooBar'\n     *\n     * _.camelCase('--foo-bar--');\n     * // => 'fooBar'\n     *\n     * _.camelCase('__FOO_BAR__');\n     * // => 'fooBar'\n     */\n    var camelCase = createCompounder(function(result, word, index) {\n      word = word.toLowerCase();\n      return result + (index ? capitalize(word) : word);\n    });\n\n    /**\n     * Converts the first character of `string` to upper case and the remaining\n     * to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to capitalize.\n     * @returns {string} Returns the capitalized string.\n     * @example\n     *\n     * _.capitalize('FRED');\n     * // => 'Fred'\n     */\n    function capitalize(string) {\n      return upperFirst(toString(string).toLowerCase());\n    }\n\n    /**\n     * Deburrs `string` by converting\n     * [Latin-1 Supplement](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n     * and [Latin Extended-A](https://en.wikipedia.org/wiki/Latin_Extended-A)\n     * letters to basic Latin letters and removing\n     * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to deburr.\n     * @returns {string} Returns the deburred string.\n     * @example\n     *\n     * _.deburr('d\u00E9j\u00E0 vu');\n     * // => 'deja vu'\n     */\n    function deburr(string) {\n      string = toString(string);\n      return string && string.replace(reLatin, deburrLetter).replace(reComboMark, '');\n    }\n\n    /**\n     * Checks if `string` ends with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=string.length] The position to search up to.\n     * @returns {boolean} Returns `true` if `string` ends with `target`,\n     *  else `false`.\n     * @example\n     *\n     * _.endsWith('abc', 'c');\n     * // => true\n     *\n     * _.endsWith('abc', 'b');\n     * // => false\n     *\n     * _.endsWith('abc', 'b', 2);\n     * // => true\n     */\n    function endsWith(string, target, position) {\n      string = toString(string);\n      target = baseToString(target);\n\n      var length = string.length;\n      position = position === undefined\n        ? length\n        : baseClamp(toInteger(position), 0, length);\n\n      var end = position;\n      position -= target.length;\n      return position >= 0 && string.slice(position, end) == target;\n    }\n\n    /**\n     * Converts the characters \"&\", \"<\", \">\", '\"', and \"'\" in `string` to their\n     * corresponding HTML entities.\n     *\n     * **Note:** No other characters are escaped. To escape additional\n     * characters use a third-party library like [_he_](https://mths.be/he).\n     *\n     * Though the \">\" character is escaped for symmetry, characters like\n     * \">\" and \"/\" don't need escaping in HTML and have no special meaning\n     * unless they're part of a tag or unquoted attribute value. See\n     * [Mathias Bynens's article](https://mathiasbynens.be/notes/ambiguous-ampersands)\n     * (under \"semi-related fun fact\") for more details.\n     *\n     * When working with HTML you should always\n     * [quote attribute values](http://wonko.com/post/html-escaping) to reduce\n     * XSS vectors.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escape('fred, barney, & pebbles');\n     * // => 'fred, barney, &amp; pebbles'\n     */\n    function escape(string) {\n      string = toString(string);\n      return (string && reHasUnescapedHtml.test(string))\n        ? string.replace(reUnescapedHtml, escapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Escapes the `RegExp` special characters \"^\", \"$\", \"\\\", \".\", \"*\", \"+\",\n     * \"?\", \"(\", \")\", \"[\", \"]\", \"{\", \"}\", and \"|\" in `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escapeRegExp('[lodash](https://lodash.com/)');\n     * // => '\\[lodash\\]\\(https://lodash\\.com/\\)'\n     */\n    function escapeRegExp(string) {\n      string = toString(string);\n      return (string && reHasRegExpChar.test(string))\n        ? string.replace(reRegExpChar, '\\\\$&')\n        : string;\n    }\n\n    /**\n     * Converts `string` to\n     * [kebab case](https://en.wikipedia.org/wiki/Letter_case#Special_case_styles).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the kebab cased string.\n     * @example\n     *\n     * _.kebabCase('Foo Bar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('fooBar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('__FOO_BAR__');\n     * // => 'foo-bar'\n     */\n    var kebabCase = createCompounder(function(result, word, index) {\n      return result + (index ? '-' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts `string`, as space separated words, to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the lower cased string.\n     * @example\n     *\n     * _.lowerCase('--Foo-Bar--');\n     * // => 'foo bar'\n     *\n     * _.lowerCase('fooBar');\n     * // => 'foo bar'\n     *\n     * _.lowerCase('__FOO_BAR__');\n     * // => 'foo bar'\n     */\n    var lowerCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts the first character of `string` to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.lowerFirst('Fred');\n     * // => 'fred'\n     *\n     * _.lowerFirst('FRED');\n     * // => 'fRED'\n     */\n    var lowerFirst = createCaseFirst('toLowerCase');\n\n    /**\n     * Pads `string` on the left and right sides if it's shorter than `length`.\n     * Padding characters are truncated if they can't be evenly divided by `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.pad('abc', 8);\n     * // => '  abc   '\n     *\n     * _.pad('abc', 8, '_-');\n     * // => '_-abc_-_'\n     *\n     * _.pad('abc', 3);\n     * // => 'abc'\n     */\n    function pad(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      if (!length || strLength >= length) {\n        return string;\n      }\n      var mid = (length - strLength) / 2;\n      return (\n        createPadding(nativeFloor(mid), chars) +\n        string +\n        createPadding(nativeCeil(mid), chars)\n      );\n    }\n\n    /**\n     * Pads `string` on the right side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padEnd('abc', 6);\n     * // => 'abc   '\n     *\n     * _.padEnd('abc', 6, '_-');\n     * // => 'abc_-_'\n     *\n     * _.padEnd('abc', 3);\n     * // => 'abc'\n     */\n    function padEnd(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      return (length && strLength < length)\n        ? (string + createPadding(length - strLength, chars))\n        : string;\n    }\n\n    /**\n     * Pads `string` on the left side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padStart('abc', 6);\n     * // => '   abc'\n     *\n     * _.padStart('abc', 6, '_-');\n     * // => '_-_abc'\n     *\n     * _.padStart('abc', 3);\n     * // => 'abc'\n     */\n    function padStart(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      return (length && strLength < length)\n        ? (createPadding(length - strLength, chars) + string)\n        : string;\n    }\n\n    /**\n     * Converts `string` to an integer of the specified radix. If `radix` is\n     * `undefined` or `0`, a `radix` of `10` is used unless `value` is a\n     * hexadecimal, in which case a `radix` of `16` is used.\n     *\n     * **Note:** This method aligns with the\n     * [ES5 implementation](https://es5.github.io/#x15.1.2.2) of `parseInt`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category String\n     * @param {string} string The string to convert.\n     * @param {number} [radix=10] The radix to interpret `value` by.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.parseInt('08');\n     * // => 8\n     *\n     * _.map(['6', '08', '10'], _.parseInt);\n     * // => [6, 8, 10]\n     */\n    function parseInt(string, radix, guard) {\n      if (guard || radix == null) {\n        radix = 0;\n      } else if (radix) {\n        radix = +radix;\n      }\n      return nativeParseInt(toString(string).replace(reTrimStart, ''), radix || 0);\n    }\n\n    /**\n     * Repeats the given string `n` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to repeat.\n     * @param {number} [n=1] The number of times to repeat the string.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the repeated string.\n     * @example\n     *\n     * _.repeat('*', 3);\n     * // => '***'\n     *\n     * _.repeat('abc', 2);\n     * // => 'abcabc'\n     *\n     * _.repeat('abc', 0);\n     * // => ''\n     */\n    function repeat(string, n, guard) {\n      if ((guard ? isIterateeCall(string, n, guard) : n === undefined)) {\n        n = 1;\n      } else {\n        n = toInteger(n);\n      }\n      return baseRepeat(toString(string), n);\n    }\n\n    /**\n     * Replaces matches for `pattern` in `string` with `replacement`.\n     *\n     * **Note:** This method is based on\n     * [`String#replace`](https://mdn.io/String/replace).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to modify.\n     * @param {RegExp|string} pattern The pattern to replace.\n     * @param {Function|string} replacement The match replacement.\n     * @returns {string} Returns the modified string.\n     * @example\n     *\n     * _.replace('Hi Fred', 'Fred', 'Barney');\n     * // => 'Hi Barney'\n     */\n    function replace() {\n      var args = arguments,\n          string = toString(args[0]);\n\n      return args.length < 3 ? string : string.replace(args[1], args[2]);\n    }\n\n    /**\n     * Converts `string` to\n     * [snake case](https://en.wikipedia.org/wiki/Snake_case).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the snake cased string.\n     * @example\n     *\n     * _.snakeCase('Foo Bar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('fooBar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('--FOO-BAR--');\n     * // => 'foo_bar'\n     */\n    var snakeCase = createCompounder(function(result, word, index) {\n      return result + (index ? '_' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Splits `string` by `separator`.\n     *\n     * **Note:** This method is based on\n     * [`String#split`](https://mdn.io/String/split).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to split.\n     * @param {RegExp|string} separator The separator pattern to split by.\n     * @param {number} [limit] The length to truncate results to.\n     * @returns {Array} Returns the string segments.\n     * @example\n     *\n     * _.split('a-b-c', '-', 2);\n     * // => ['a', 'b']\n     */\n    function split(string, separator, limit) {\n      if (limit && typeof limit != 'number' && isIterateeCall(string, separator, limit)) {\n        separator = limit = undefined;\n      }\n      limit = limit === undefined ? MAX_ARRAY_LENGTH : limit >>> 0;\n      if (!limit) {\n        return [];\n      }\n      string = toString(string);\n      if (string && (\n            typeof separator == 'string' ||\n            (separator != null && !isRegExp(separator))\n          )) {\n        separator = baseToString(separator);\n        if (!separator && hasUnicode(string)) {\n          return castSlice(stringToArray(string), 0, limit);\n        }\n      }\n      return string.split(separator, limit);\n    }\n\n    /**\n     * Converts `string` to\n     * [start case](https://en.wikipedia.org/wiki/Letter_case#Stylistic_or_specialised_usage).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.1.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the start cased string.\n     * @example\n     *\n     * _.startCase('--foo-bar--');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('fooBar');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('__FOO_BAR__');\n     * // => 'FOO BAR'\n     */\n    var startCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + upperFirst(word);\n    });\n\n    /**\n     * Checks if `string` starts with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=0] The position to search from.\n     * @returns {boolean} Returns `true` if `string` starts with `target`,\n     *  else `false`.\n     * @example\n     *\n     * _.startsWith('abc', 'a');\n     * // => true\n     *\n     * _.startsWith('abc', 'b');\n     * // => false\n     *\n     * _.startsWith('abc', 'b', 1);\n     * // => true\n     */\n    function startsWith(string, target, position) {\n      string = toString(string);\n      position = position == null\n        ? 0\n        : baseClamp(toInteger(position), 0, string.length);\n\n      target = baseToString(target);\n      return string.slice(position, position + target.length) == target;\n    }\n\n    /**\n     * Creates a compiled template function that can interpolate data properties\n     * in \"interpolate\" delimiters, HTML-escape interpolated data properties in\n     * \"escape\" delimiters, and execute JavaScript in \"evaluate\" delimiters. Data\n     * properties may be accessed as free variables in the template. If a setting\n     * object is given, it takes precedence over `_.templateSettings` values.\n     *\n     * **Note:** In the development build `_.template` utilizes\n     * [sourceURLs](http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl)\n     * for easier debugging.\n     *\n     * For more information on precompiling templates see\n     * [lodash's custom builds documentation](https://lodash.com/custom-builds).\n     *\n     * For more information on Chrome extension sandboxes see\n     * [Chrome's extensions documentation](https://developer.chrome.com/extensions/sandboxingEval).\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The template string.\n     * @param {Object} [options={}] The options object.\n     * @param {RegExp} [options.escape=_.templateSettings.escape]\n     *  The HTML \"escape\" delimiter.\n     * @param {RegExp} [options.evaluate=_.templateSettings.evaluate]\n     *  The \"evaluate\" delimiter.\n     * @param {Object} [options.imports=_.templateSettings.imports]\n     *  An object to import into the template as free variables.\n     * @param {RegExp} [options.interpolate=_.templateSettings.interpolate]\n     *  The \"interpolate\" delimiter.\n     * @param {string} [options.sourceURL='lodash.templateSources[n]']\n     *  The sourceURL of the compiled template.\n     * @param {string} [options.variable='obj']\n     *  The data object variable name.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the compiled template function.\n     * @example\n     *\n     * // Use the \"interpolate\" delimiter to create a compiled template.\n     * var compiled = _.template('hello <%= user %>!');\n     * compiled({ 'user': 'fred' });\n     * // => 'hello fred!'\n     *\n     * // Use the HTML \"escape\" delimiter to escape data property values.\n     * var compiled = _.template('<b><%- value %></b>');\n     * compiled({ 'value': '<script>' });\n     * // => '<b>&lt;script&gt;</b>'\n     *\n     * // Use the \"evaluate\" delimiter to execute JavaScript and generate HTML.\n     * var compiled = _.template('<% _.forEach(users, function(user) { %><li><%- user %></li><% }); %>');\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // Use the internal `print` function in \"evaluate\" delimiters.\n     * var compiled = _.template('<% print(\"hello \" + user); %>!');\n     * compiled({ 'user': 'barney' });\n     * // => 'hello barney!'\n     *\n     * // Use the ES template literal delimiter as an \"interpolate\" delimiter.\n     * // Disable support by replacing the \"interpolate\" delimiter.\n     * var compiled = _.template('hello ${ user }!');\n     * compiled({ 'user': 'pebbles' });\n     * // => 'hello pebbles!'\n     *\n     * // Use backslashes to treat delimiters as plain text.\n     * var compiled = _.template('<%= \"\\\\<%- value %\\\\>\" %>');\n     * compiled({ 'value': 'ignored' });\n     * // => '<%- value %>'\n     *\n     * // Use the `imports` option to import `jQuery` as `jq`.\n     * var text = '<% jq.each(users, function(user) { %><li><%- user %></li><% }); %>';\n     * var compiled = _.template(text, { 'imports': { 'jq': jQuery } });\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // Use the `sourceURL` option to specify a custom sourceURL for the template.\n     * var compiled = _.template('hello <%= user %>!', { 'sourceURL': '/basic/greeting.jst' });\n     * compiled(data);\n     * // => Find the source of \"greeting.jst\" under the Sources tab or Resources panel of the web inspector.\n     *\n     * // Use the `variable` option to ensure a with-statement isn't used in the compiled template.\n     * var compiled = _.template('hi <%= data.user %>!', { 'variable': 'data' });\n     * compiled.source;\n     * // => function(data) {\n     * //   var __t, __p = '';\n     * //   __p += 'hi ' + ((__t = ( data.user )) == null ? '' : __t) + '!';\n     * //   return __p;\n     * // }\n     *\n     * // Use custom template delimiters.\n     * _.templateSettings.interpolate = /{{([\\s\\S]+?)}}/g;\n     * var compiled = _.template('hello {{ user }}!');\n     * compiled({ 'user': 'mustache' });\n     * // => 'hello mustache!'\n     *\n     * // Use the `source` property to inline compiled templates for meaningful\n     * // line numbers in error messages and stack traces.\n     * fs.writeFileSync(path.join(process.cwd(), 'jst.js'), '\\\n     *   var JST = {\\\n     *     \"main\": ' + _.template(mainText).source + '\\\n     *   };\\\n     * ');\n     */\n    function template(string, options, guard) {\n      // Based on John Resig's `tmpl` implementation\n      // (http://ejohn.org/blog/javascript-micro-templating/)\n      // and Laura Doktorova's doT.js (https://github.com/olado/doT).\n      var settings = lodash.templateSettings;\n\n      if (guard && isIterateeCall(string, options, guard)) {\n        options = undefined;\n      }\n      string = toString(string);\n      options = assignInWith({}, options, settings, customDefaultsAssignIn);\n\n      var imports = assignInWith({}, options.imports, settings.imports, customDefaultsAssignIn),\n          importsKeys = keys(imports),\n          importsValues = baseValues(imports, importsKeys);\n\n      var isEscaping,\n          isEvaluating,\n          index = 0,\n          interpolate = options.interpolate || reNoMatch,\n          source = \"__p += '\";\n\n      // Compile the regexp to match each delimiter.\n      var reDelimiters = RegExp(\n        (options.escape || reNoMatch).source + '|' +\n        interpolate.source + '|' +\n        (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + '|' +\n        (options.evaluate || reNoMatch).source + '|$'\n      , 'g');\n\n      // Use a sourceURL for easier debugging.\n      // The sourceURL gets injected into the source that's eval-ed, so be careful\n      // to normalize all kinds of whitespace, so e.g. newlines (and unicode versions of it) can't sneak in\n      // and escape the comment, thus injecting code that gets evaled.\n      var sourceURL = '//# sourceURL=' +\n        (hasOwnProperty.call(options, 'sourceURL')\n          ? (options.sourceURL + '').replace(/\\s/g, ' ')\n          : ('lodash.templateSources[' + (++templateCounter) + ']')\n        ) + '\\n';\n\n      string.replace(reDelimiters, function(match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {\n        interpolateValue || (interpolateValue = esTemplateValue);\n\n        // Escape characters that can't be included in string literals.\n        source += string.slice(index, offset).replace(reUnescapedString, escapeStringChar);\n\n        // Replace delimiters with snippets.\n        if (escapeValue) {\n          isEscaping = true;\n          source += \"' +\\n__e(\" + escapeValue + \") +\\n'\";\n        }\n        if (evaluateValue) {\n          isEvaluating = true;\n          source += \"';\\n\" + evaluateValue + \";\\n__p += '\";\n        }\n        if (interpolateValue) {\n          source += \"' +\\n((__t = (\" + interpolateValue + \")) == null ? '' : __t) +\\n'\";\n        }\n        index = offset + match.length;\n\n        // The JS engine embedded in Adobe products needs `match` returned in\n        // order to produce the correct `offset` value.\n        return match;\n      });\n\n      source += \"';\\n\";\n\n      // If `variable` is not specified wrap a with-statement around the generated\n      // code to add the data object to the top of the scope chain.\n      var variable = hasOwnProperty.call(options, 'variable') && options.variable;\n      if (!variable) {\n        source = 'with (obj) {\\n' + source + '\\n}\\n';\n      }\n      // Throw an error if a forbidden character was found in `variable`, to prevent\n      // potential command injection attacks.\n      else if (reForbiddenIdentifierChars.test(variable)) {\n        throw new Error(INVALID_TEMPL_VAR_ERROR_TEXT);\n      }\n\n      // Cleanup code by stripping empty strings.\n      source = (isEvaluating ? source.replace(reEmptyStringLeading, '') : source)\n        .replace(reEmptyStringMiddle, '$1')\n        .replace(reEmptyStringTrailing, '$1;');\n\n      // Frame code as the function body.\n      source = 'function(' + (variable || 'obj') + ') {\\n' +\n        (variable\n          ? ''\n          : 'obj || (obj = {});\\n'\n        ) +\n        \"var __t, __p = ''\" +\n        (isEscaping\n           ? ', __e = _.escape'\n           : ''\n        ) +\n        (isEvaluating\n          ? ', __j = Array.prototype.join;\\n' +\n            \"function print() { __p += __j.call(arguments, '') }\\n\"\n          : ';\\n'\n        ) +\n        source +\n        'return __p\\n}';\n\n      var result = attempt(function() {\n        return Function(importsKeys, sourceURL + 'return ' + source)\n          .apply(undefined, importsValues);\n      });\n\n      // Provide the compiled function's source by its `toString` method or\n      // the `source` property as a convenience for inlining compiled templates.\n      result.source = source;\n      if (isError(result)) {\n        throw result;\n      }\n      return result;\n    }\n\n    /**\n     * Converts `string`, as a whole, to lower case just like\n     * [String#toLowerCase](https://mdn.io/toLowerCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the lower cased string.\n     * @example\n     *\n     * _.toLower('--Foo-Bar--');\n     * // => '--foo-bar--'\n     *\n     * _.toLower('fooBar');\n     * // => 'foobar'\n     *\n     * _.toLower('__FOO_BAR__');\n     * // => '__foo_bar__'\n     */\n    function toLower(value) {\n      return toString(value).toLowerCase();\n    }\n\n    /**\n     * Converts `string`, as a whole, to upper case just like\n     * [String#toUpperCase](https://mdn.io/toUpperCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the upper cased string.\n     * @example\n     *\n     * _.toUpper('--foo-bar--');\n     * // => '--FOO-BAR--'\n     *\n     * _.toUpper('fooBar');\n     * // => 'FOOBAR'\n     *\n     * _.toUpper('__foo_bar__');\n     * // => '__FOO_BAR__'\n     */\n    function toUpper(value) {\n      return toString(value).toUpperCase();\n    }\n\n    /**\n     * Removes leading and trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trim('  abc  ');\n     * // => 'abc'\n     *\n     * _.trim('-_-abc-_-', '_-');\n     * // => 'abc'\n     *\n     * _.map(['  foo  ', '  bar  '], _.trim);\n     * // => ['foo', 'bar']\n     */\n    function trim(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return baseTrim(string);\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          chrSymbols = stringToArray(chars),\n          start = charsStartIndex(strSymbols, chrSymbols),\n          end = charsEndIndex(strSymbols, chrSymbols) + 1;\n\n      return castSlice(strSymbols, start, end).join('');\n    }\n\n    /**\n     * Removes trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimEnd('  abc  ');\n     * // => '  abc'\n     *\n     * _.trimEnd('-_-abc-_-', '_-');\n     * // => '-_-abc'\n     */\n    function trimEnd(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.slice(0, trimmedEndIndex(string) + 1);\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          end = charsEndIndex(strSymbols, stringToArray(chars)) + 1;\n\n      return castSlice(strSymbols, 0, end).join('');\n    }\n\n    /**\n     * Removes leading whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimStart('  abc  ');\n     * // => 'abc  '\n     *\n     * _.trimStart('-_-abc-_-', '_-');\n     * // => 'abc-_-'\n     */\n    function trimStart(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.replace(reTrimStart, '');\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          start = charsStartIndex(strSymbols, stringToArray(chars));\n\n      return castSlice(strSymbols, start).join('');\n    }\n\n    /**\n     * Truncates `string` if it's longer than the given maximum string length.\n     * The last characters of the truncated string are replaced with the omission\n     * string which defaults to \"...\".\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to truncate.\n     * @param {Object} [options={}] The options object.\n     * @param {number} [options.length=30] The maximum string length.\n     * @param {string} [options.omission='...'] The string to indicate text is omitted.\n     * @param {RegExp|string} [options.separator] The separator pattern to truncate to.\n     * @returns {string} Returns the truncated string.\n     * @example\n     *\n     * _.truncate('hi-diddly-ho there, neighborino');\n     * // => 'hi-diddly-ho there, neighbo...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': ' '\n     * });\n     * // => 'hi-diddly-ho there,...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': /,? +/\n     * });\n     * // => 'hi-diddly-ho there...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'omission': ' [...]'\n     * });\n     * // => 'hi-diddly-ho there, neig [...]'\n     */\n    function truncate(string, options) {\n      var length = DEFAULT_TRUNC_LENGTH,\n          omission = DEFAULT_TRUNC_OMISSION;\n\n      if (isObject(options)) {\n        var separator = 'separator' in options ? options.separator : separator;\n        length = 'length' in options ? toInteger(options.length) : length;\n        omission = 'omission' in options ? baseToString(options.omission) : omission;\n      }\n      string = toString(string);\n\n      var strLength = string.length;\n      if (hasUnicode(string)) {\n        var strSymbols = stringToArray(string);\n        strLength = strSymbols.length;\n      }\n      if (length >= strLength) {\n        return string;\n      }\n      var end = length - stringSize(omission);\n      if (end < 1) {\n        return omission;\n      }\n      var result = strSymbols\n        ? castSlice(strSymbols, 0, end).join('')\n        : string.slice(0, end);\n\n      if (separator === undefined) {\n        return result + omission;\n      }\n      if (strSymbols) {\n        end += (result.length - end);\n      }\n      if (isRegExp(separator)) {\n        if (string.slice(end).search(separator)) {\n          var match,\n              substring = result;\n\n          if (!separator.global) {\n            separator = RegExp(separator.source, toString(reFlags.exec(separator)) + 'g');\n          }\n          separator.lastIndex = 0;\n          while ((match = separator.exec(substring))) {\n            var newEnd = match.index;\n          }\n          result = result.slice(0, newEnd === undefined ? end : newEnd);\n        }\n      } else if (string.indexOf(baseToString(separator), end) != end) {\n        var index = result.lastIndexOf(separator);\n        if (index > -1) {\n          result = result.slice(0, index);\n        }\n      }\n      return result + omission;\n    }\n\n    /**\n     * The inverse of `_.escape`; this method converts the HTML entities\n     * `&amp;`, `&lt;`, `&gt;`, `&quot;`, and `&#39;` in `string` to\n     * their corresponding characters.\n     *\n     * **Note:** No other HTML entities are unescaped. To unescape additional\n     * HTML entities use a third-party library like [_he_](https://mths.be/he).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.6.0\n     * @category String\n     * @param {string} [string=''] The string to unescape.\n     * @returns {string} Returns the unescaped string.\n     * @example\n     *\n     * _.unescape('fred, barney, &amp; pebbles');\n     * // => 'fred, barney, & pebbles'\n     */\n    function unescape(string) {\n      string = toString(string);\n      return (string && reHasEscapedHtml.test(string))\n        ? string.replace(reEscapedHtml, unescapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Converts `string`, as space separated words, to upper case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the upper cased string.\n     * @example\n     *\n     * _.upperCase('--foo-bar');\n     * // => 'FOO BAR'\n     *\n     * _.upperCase('fooBar');\n     * // => 'FOO BAR'\n     *\n     * _.upperCase('__foo_bar__');\n     * // => 'FOO BAR'\n     */\n    var upperCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + word.toUpperCase();\n    });\n\n    /**\n     * Converts the first character of `string` to upper case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.upperFirst('fred');\n     * // => 'Fred'\n     *\n     * _.upperFirst('FRED');\n     * // => 'FRED'\n     */\n    var upperFirst = createCaseFirst('toUpperCase');\n\n    /**\n     * Splits `string` into an array of its words.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {RegExp|string} [pattern] The pattern to match words.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the words of `string`.\n     * @example\n     *\n     * _.words('fred, barney, & pebbles');\n     * // => ['fred', 'barney', 'pebbles']\n     *\n     * _.words('fred, barney, & pebbles', /[^, ]+/g);\n     * // => ['fred', 'barney', '&', 'pebbles']\n     */\n    function words(string, pattern, guard) {\n      string = toString(string);\n      pattern = guard ? undefined : pattern;\n\n      if (pattern === undefined) {\n        return hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string);\n      }\n      return string.match(pattern) || [];\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Attempts to invoke `func`, returning either the result or the caught error\n     * object. Any additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Function} func The function to attempt.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {*} Returns the `func` result or error object.\n     * @example\n     *\n     * // Avoid throwing errors for invalid selectors.\n     * var elements = _.attempt(function(selector) {\n     *   return document.querySelectorAll(selector);\n     * }, '>_>');\n     *\n     * if (_.isError(elements)) {\n     *   elements = [];\n     * }\n     */\n    var attempt = baseRest(function(func, args) {\n      try {\n        return apply(func, undefined, args);\n      } catch (e) {\n        return isError(e) ? e : new Error(e);\n      }\n    });\n\n    /**\n     * Binds methods of an object to the object itself, overwriting the existing\n     * method.\n     *\n     * **Note:** This method doesn't set the \"length\" property of bound functions.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {Object} object The object to bind and assign the bound methods to.\n     * @param {...(string|string[])} methodNames The object method names to bind.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var view = {\n     *   'label': 'docs',\n     *   'click': function() {\n     *     console.log('clicked ' + this.label);\n     *   }\n     * };\n     *\n     * _.bindAll(view, ['click']);\n     * jQuery(element).on('click', view.click);\n     * // => Logs 'clicked docs' when clicked.\n     */\n    var bindAll = flatRest(function(object, methodNames) {\n      arrayEach(methodNames, function(key) {\n        key = toKey(key);\n        baseAssignValue(object, key, bind(object[key], object));\n      });\n      return object;\n    });\n\n    /**\n     * Creates a function that iterates over `pairs` and invokes the corresponding\n     * function of the first predicate to return truthy. The predicate-function\n     * pairs are invoked with the `this` binding and arguments of the created\n     * function.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {Array} pairs The predicate-function pairs.\n     * @returns {Function} Returns the new composite function.\n     * @example\n     *\n     * var func = _.cond([\n     *   [_.matches({ 'a': 1 }),           _.constant('matches A')],\n     *   [_.conforms({ 'b': _.isNumber }), _.constant('matches B')],\n     *   [_.stubTrue,                      _.constant('no match')]\n     * ]);\n     *\n     * func({ 'a': 1, 'b': 2 });\n     * // => 'matches A'\n     *\n     * func({ 'a': 0, 'b': 1 });\n     * // => 'matches B'\n     *\n     * func({ 'a': '1', 'b': '2' });\n     * // => 'no match'\n     */\n    function cond(pairs) {\n      var length = pairs == null ? 0 : pairs.length,\n          toIteratee = getIteratee();\n\n      pairs = !length ? [] : arrayMap(pairs, function(pair) {\n        if (typeof pair[1] != 'function') {\n          throw new TypeError(FUNC_ERROR_TEXT);\n        }\n        return [toIteratee(pair[0]), pair[1]];\n      });\n\n      return baseRest(function(args) {\n        var index = -1;\n        while (++index < length) {\n          var pair = pairs[index];\n          if (apply(pair[0], this, args)) {\n            return apply(pair[1], this, args);\n          }\n        }\n      });\n    }\n\n    /**\n     * Creates a function that invokes the predicate properties of `source` with\n     * the corresponding property values of a given object, returning `true` if\n     * all predicates return truthy, else `false`.\n     *\n     * **Note:** The created function is equivalent to `_.conformsTo` with\n     * `source` partially applied.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 2, 'b': 1 },\n     *   { 'a': 1, 'b': 2 }\n     * ];\n     *\n     * _.filter(objects, _.conforms({ 'b': function(n) { return n > 1; } }));\n     * // => [{ 'a': 1, 'b': 2 }]\n     */\n    function conforms(source) {\n      return baseConforms(baseClone(source, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that returns `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Util\n     * @param {*} value The value to return from the new function.\n     * @returns {Function} Returns the new constant function.\n     * @example\n     *\n     * var objects = _.times(2, _.constant({ 'a': 1 }));\n     *\n     * console.log(objects);\n     * // => [{ 'a': 1 }, { 'a': 1 }]\n     *\n     * console.log(objects[0] === objects[1]);\n     * // => true\n     */\n    function constant(value) {\n      return function() {\n        return value;\n      };\n    }\n\n    /**\n     * Checks `value` to determine whether a default value should be returned in\n     * its place. The `defaultValue` is returned if `value` is `NaN`, `null`,\n     * or `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.14.0\n     * @category Util\n     * @param {*} value The value to check.\n     * @param {*} defaultValue The default value.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * _.defaultTo(1, 10);\n     * // => 1\n     *\n     * _.defaultTo(undefined, 10);\n     * // => 10\n     */\n    function defaultTo(value, defaultValue) {\n      return (value == null || value !== value) ? defaultValue : value;\n    }\n\n    /**\n     * Creates a function that returns the result of invoking the given functions\n     * with the `this` binding of the created function, where each successive\n     * invocation is supplied the return value of the previous.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [funcs] The functions to invoke.\n     * @returns {Function} Returns the new composite function.\n     * @see _.flowRight\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flow([_.add, square]);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flow = createFlow();\n\n    /**\n     * This method is like `_.flow` except that it creates a function that\n     * invokes the given functions from right to left.\n     *\n     * @static\n     * @since 3.0.0\n     * @memberOf _\n     * @category Util\n     * @param {...(Function|Function[])} [funcs] The functions to invoke.\n     * @returns {Function} Returns the new composite function.\n     * @see _.flow\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flowRight([square, _.add]);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flowRight = createFlow(true);\n\n    /**\n     * This method returns the first argument it receives.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {*} value Any value.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     *\n     * console.log(_.identity(object) === object);\n     * // => true\n     */\n    function identity(value) {\n      return value;\n    }\n\n    /**\n     * Creates a function that invokes `func` with the arguments of the created\n     * function. If `func` is a property name, the created function returns the\n     * property value for a given element. If `func` is an array or object, the\n     * created function returns `true` for elements that contain the equivalent\n     * source properties, otherwise it returns `false`.\n     *\n     * @static\n     * @since 4.0.0\n     * @memberOf _\n     * @category Util\n     * @param {*} [func=_.identity] The value to convert to a callback.\n     * @returns {Function} Returns the callback.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.filter(users, _.iteratee({ 'user': 'barney', 'active': true }));\n     * // => [{ 'user': 'barney', 'age': 36, 'active': true }]\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.filter(users, _.iteratee(['user', 'fred']));\n     * // => [{ 'user': 'fred', 'age': 40 }]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.map(users, _.iteratee('user'));\n     * // => ['barney', 'fred']\n     *\n     * // Create custom iteratee shorthands.\n     * _.iteratee = _.wrap(_.iteratee, function(iteratee, func) {\n     *   return !_.isRegExp(func) ? iteratee(func) : function(string) {\n     *     return func.test(string);\n     *   };\n     * });\n     *\n     * _.filter(['abc', 'def'], /ef/);\n     * // => ['def']\n     */\n    function iteratee(func) {\n      return baseIteratee(typeof func == 'function' ? func : baseClone(func, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that performs a partial deep comparison between a given\n     * object and `source`, returning `true` if the given object has equivalent\n     * property values, else `false`.\n     *\n     * **Note:** The created function is equivalent to `_.isMatch` with `source`\n     * partially applied.\n     *\n     * Partial comparisons will match empty array and empty object `source`\n     * values against any array or object value, respectively. See `_.isEqual`\n     * for a list of supported value comparisons.\n     *\n     * **Note:** Multiple values can be checked by combining several matchers\n     * using `_.overSome`\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 1, 'b': 2, 'c': 3 },\n     *   { 'a': 4, 'b': 5, 'c': 6 }\n     * ];\n     *\n     * _.filter(objects, _.matches({ 'a': 4, 'c': 6 }));\n     * // => [{ 'a': 4, 'b': 5, 'c': 6 }]\n     *\n     * // Checking for several possible values\n     * _.filter(objects, _.overSome([_.matches({ 'a': 1 }), _.matches({ 'a': 4 })]));\n     * // => [{ 'a': 1, 'b': 2, 'c': 3 }, { 'a': 4, 'b': 5, 'c': 6 }]\n     */\n    function matches(source) {\n      return baseMatches(baseClone(source, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that performs a partial deep comparison between the\n     * value at `path` of a given object to `srcValue`, returning `true` if the\n     * object value is equivalent, else `false`.\n     *\n     * **Note:** Partial comparisons will match empty array and empty object\n     * `srcValue` values against any array or object value, respectively. See\n     * `_.isEqual` for a list of supported value comparisons.\n     *\n     * **Note:** Multiple values can be checked by combining several matchers\n     * using `_.overSome`\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Util\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 1, 'b': 2, 'c': 3 },\n     *   { 'a': 4, 'b': 5, 'c': 6 }\n     * ];\n     *\n     * _.find(objects, _.matchesProperty('a', 4));\n     * // => { 'a': 4, 'b': 5, 'c': 6 }\n     *\n     * // Checking for several possible values\n     * _.filter(objects, _.overSome([_.matchesProperty('a', 1), _.matchesProperty('a', 4)]));\n     * // => [{ 'a': 1, 'b': 2, 'c': 3 }, { 'a': 4, 'b': 5, 'c': 6 }]\n     */\n    function matchesProperty(path, srcValue) {\n      return baseMatchesProperty(path, baseClone(srcValue, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that invokes the method at `path` of a given object.\n     * Any additional arguments are provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Util\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new invoker function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': _.constant(2) } },\n     *   { 'a': { 'b': _.constant(1) } }\n     * ];\n     *\n     * _.map(objects, _.method('a.b'));\n     * // => [2, 1]\n     *\n     * _.map(objects, _.method(['a', 'b']));\n     * // => [2, 1]\n     */\n    var method = baseRest(function(path, args) {\n      return function(object) {\n        return baseInvoke(object, path, args);\n      };\n    });\n\n    /**\n     * The opposite of `_.method`; this method creates a function that invokes\n     * the method at a given path of `object`. Any additional arguments are\n     * provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Util\n     * @param {Object} object The object to query.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new invoker function.\n     * @example\n     *\n     * var array = _.times(3, _.constant),\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.methodOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.methodOf(object));\n     * // => [2, 0]\n     */\n    var methodOf = baseRest(function(object, args) {\n      return function(path) {\n        return baseInvoke(object, path, args);\n      };\n    });\n\n    /**\n     * Adds all own enumerable string keyed function properties of a source\n     * object to the destination object. If `object` is a function, then methods\n     * are added to its prototype as well.\n     *\n     * **Note:** Use `_.runInContext` to create a pristine `lodash` function to\n     * avoid conflicts caused by modifying the original.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {Function|Object} [object=lodash] The destination object.\n     * @param {Object} source The object of functions to add.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.chain=true] Specify whether mixins are chainable.\n     * @returns {Function|Object} Returns `object`.\n     * @example\n     *\n     * function vowels(string) {\n     *   return _.filter(string, function(v) {\n     *     return /[aeiou]/i.test(v);\n     *   });\n     * }\n     *\n     * _.mixin({ 'vowels': vowels });\n     * _.vowels('fred');\n     * // => ['e']\n     *\n     * _('fred').vowels().value();\n     * // => ['e']\n     *\n     * _.mixin({ 'vowels': vowels }, { 'chain': false });\n     * _('fred').vowels();\n     * // => ['e']\n     */\n    function mixin(object, source, options) {\n      var props = keys(source),\n          methodNames = baseFunctions(source, props);\n\n      if (options == null &&\n          !(isObject(source) && (methodNames.length || !props.length))) {\n        options = source;\n        source = object;\n        object = this;\n        methodNames = baseFunctions(source, keys(source));\n      }\n      var chain = !(isObject(options) && 'chain' in options) || !!options.chain,\n          isFunc = isFunction(object);\n\n      arrayEach(methodNames, function(methodName) {\n        var func = source[methodName];\n        object[methodName] = func;\n        if (isFunc) {\n          object.prototype[methodName] = function() {\n            var chainAll = this.__chain__;\n            if (chain || chainAll) {\n              var result = object(this.__wrapped__),\n                  actions = result.__actions__ = copyArray(this.__actions__);\n\n              actions.push({ 'func': func, 'args': arguments, 'thisArg': object });\n              result.__chain__ = chainAll;\n              return result;\n            }\n            return func.apply(object, arrayPush([this.value()], arguments));\n          };\n        }\n      });\n\n      return object;\n    }\n\n    /**\n     * Reverts the `_` variable to its previous value and returns a reference to\n     * the `lodash` function.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @returns {Function} Returns the `lodash` function.\n     * @example\n     *\n     * var lodash = _.noConflict();\n     */\n    function noConflict() {\n      if (root._ === this) {\n        root._ = oldDash;\n      }\n      return this;\n    }\n\n    /**\n     * This method returns `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.3.0\n     * @category Util\n     * @example\n     *\n     * _.times(2, _.noop);\n     * // => [undefined, undefined]\n     */\n    function noop() {\n      // No operation performed.\n    }\n\n    /**\n     * Creates a function that gets the argument at index `n`. If `n` is negative,\n     * the nth argument from the end is returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {number} [n=0] The index of the argument to return.\n     * @returns {Function} Returns the new pass-thru function.\n     * @example\n     *\n     * var func = _.nthArg(1);\n     * func('a', 'b', 'c', 'd');\n     * // => 'b'\n     *\n     * var func = _.nthArg(-2);\n     * func('a', 'b', 'c', 'd');\n     * // => 'c'\n     */\n    function nthArg(n) {\n      n = toInteger(n);\n      return baseRest(function(args) {\n        return baseNth(args, n);\n      });\n    }\n\n    /**\n     * Creates a function that invokes `iteratees` with the arguments it receives\n     * and returns their results.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [iteratees=[_.identity]]\n     *  The iteratees to invoke.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.over([Math.max, Math.min]);\n     *\n     * func(1, 2, 3, 4);\n     * // => [4, 1]\n     */\n    var over = createOver(arrayMap);\n\n    /**\n     * Creates a function that checks if **all** of the `predicates` return\n     * truthy when invoked with the arguments it receives.\n     *\n     * Following shorthands are possible for providing predicates.\n     * Pass an `Object` and it will be used as an parameter for `_.matches` to create the predicate.\n     * Pass an `Array` of parameters for `_.matchesProperty` and the predicate will be created using them.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [predicates=[_.identity]]\n     *  The predicates to check.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.overEvery([Boolean, isFinite]);\n     *\n     * func('1');\n     * // => true\n     *\n     * func(null);\n     * // => false\n     *\n     * func(NaN);\n     * // => false\n     */\n    var overEvery = createOver(arrayEvery);\n\n    /**\n     * Creates a function that checks if **any** of the `predicates` return\n     * truthy when invoked with the arguments it receives.\n     *\n     * Following shorthands are possible for providing predicates.\n     * Pass an `Object` and it will be used as an parameter for `_.matches` to create the predicate.\n     * Pass an `Array` of parameters for `_.matchesProperty` and the predicate will be created using them.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [predicates=[_.identity]]\n     *  The predicates to check.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.overSome([Boolean, isFinite]);\n     *\n     * func('1');\n     * // => true\n     *\n     * func(null);\n     * // => true\n     *\n     * func(NaN);\n     * // => false\n     *\n     * var matchesFunc = _.overSome([{ 'a': 1 }, { 'a': 2 }])\n     * var matchesPropertyFunc = _.overSome([['a', 1], ['a', 2]])\n     */\n    var overSome = createOver(arraySome);\n\n    /**\n     * Creates a function that returns the value at `path` of a given object.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Util\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new accessor function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': 2 } },\n     *   { 'a': { 'b': 1 } }\n     * ];\n     *\n     * _.map(objects, _.property('a.b'));\n     * // => [2, 1]\n     *\n     * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n     * // => [1, 2]\n     */\n    function property(path) {\n      return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n    }\n\n    /**\n     * The opposite of `_.property`; this method creates a function that returns\n     * the value at a given path of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Object} object The object to query.\n     * @returns {Function} Returns the new accessor function.\n     * @example\n     *\n     * var array = [0, 1, 2],\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.propertyOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.propertyOf(object));\n     * // => [2, 0]\n     */\n    function propertyOf(object) {\n      return function(path) {\n        return object == null ? undefined : baseGet(object, path);\n      };\n    }\n\n    /**\n     * Creates an array of numbers (positive and/or negative) progressing from\n     * `start` up to, but not including, `end`. A step of `-1` is used if a negative\n     * `start` is specified without an `end` or `step`. If `end` is not specified,\n     * it's set to `start` with `start` then set to `0`.\n     *\n     * **Note:** JavaScript follows the IEEE-754 standard for resolving\n     * floating-point values which can produce unexpected results.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the range of numbers.\n     * @see _.inRange, _.rangeRight\n     * @example\n     *\n     * _.range(4);\n     * // => [0, 1, 2, 3]\n     *\n     * _.range(-4);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 5);\n     * // => [1, 2, 3, 4]\n     *\n     * _.range(0, 20, 5);\n     * // => [0, 5, 10, 15]\n     *\n     * _.range(0, -4, -1);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.range(0);\n     * // => []\n     */\n    var range = createRange();\n\n    /**\n     * This method is like `_.range` except that it populates values in\n     * descending order.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the range of numbers.\n     * @see _.inRange, _.range\n     * @example\n     *\n     * _.rangeRight(4);\n     * // => [3, 2, 1, 0]\n     *\n     * _.rangeRight(-4);\n     * // => [-3, -2, -1, 0]\n     *\n     * _.rangeRight(1, 5);\n     * // => [4, 3, 2, 1]\n     *\n     * _.rangeRight(0, 20, 5);\n     * // => [15, 10, 5, 0]\n     *\n     * _.rangeRight(0, -4, -1);\n     * // => [-3, -2, -1, 0]\n     *\n     * _.rangeRight(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.rangeRight(0);\n     * // => []\n     */\n    var rangeRight = createRange(true);\n\n    /**\n     * This method returns a new empty array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {Array} Returns the new empty array.\n     * @example\n     *\n     * var arrays = _.times(2, _.stubArray);\n     *\n     * console.log(arrays);\n     * // => [[], []]\n     *\n     * console.log(arrays[0] === arrays[1]);\n     * // => false\n     */\n    function stubArray() {\n      return [];\n    }\n\n    /**\n     * This method returns `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {boolean} Returns `false`.\n     * @example\n     *\n     * _.times(2, _.stubFalse);\n     * // => [false, false]\n     */\n    function stubFalse() {\n      return false;\n    }\n\n    /**\n     * This method returns a new empty object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {Object} Returns the new empty object.\n     * @example\n     *\n     * var objects = _.times(2, _.stubObject);\n     *\n     * console.log(objects);\n     * // => [{}, {}]\n     *\n     * console.log(objects[0] === objects[1]);\n     * // => false\n     */\n    function stubObject() {\n      return {};\n    }\n\n    /**\n     * This method returns an empty string.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {string} Returns the empty string.\n     * @example\n     *\n     * _.times(2, _.stubString);\n     * // => ['', '']\n     */\n    function stubString() {\n      return '';\n    }\n\n    /**\n     * This method returns `true`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {boolean} Returns `true`.\n     * @example\n     *\n     * _.times(2, _.stubTrue);\n     * // => [true, true]\n     */\n    function stubTrue() {\n      return true;\n    }\n\n    /**\n     * Invokes the iteratee `n` times, returning an array of the results of\n     * each invocation. The iteratee is invoked with one argument; (index).\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {number} n The number of times to invoke `iteratee`.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.times(3, String);\n     * // => ['0', '1', '2']\n     *\n     *  _.times(4, _.constant(0));\n     * // => [0, 0, 0, 0]\n     */\n    function times(n, iteratee) {\n      n = toInteger(n);\n      if (n < 1 || n > MAX_SAFE_INTEGER) {\n        return [];\n      }\n      var index = MAX_ARRAY_LENGTH,\n          length = nativeMin(n, MAX_ARRAY_LENGTH);\n\n      iteratee = getIteratee(iteratee);\n      n -= MAX_ARRAY_LENGTH;\n\n      var result = baseTimes(length, iteratee);\n      while (++index < n) {\n        iteratee(index);\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to a property path array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the new property path array.\n     * @example\n     *\n     * _.toPath('a.b.c');\n     * // => ['a', 'b', 'c']\n     *\n     * _.toPath('a[0].b.c');\n     * // => ['a', '0', 'b', 'c']\n     */\n    function toPath(value) {\n      if (isArray(value)) {\n        return arrayMap(value, toKey);\n      }\n      return isSymbol(value) ? [value] : copyArray(stringToPath(toString(value)));\n    }\n\n    /**\n     * Generates a unique ID. If `prefix` is given, the ID is appended to it.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {string} [prefix=''] The value to prefix the ID with.\n     * @returns {string} Returns the unique ID.\n     * @example\n     *\n     * _.uniqueId('contact_');\n     * // => 'contact_104'\n     *\n     * _.uniqueId();\n     * // => '105'\n     */\n    function uniqueId(prefix) {\n      var id = ++idCounter;\n      return toString(prefix) + id;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Adds two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.4.0\n     * @category Math\n     * @param {number} augend The first number in an addition.\n     * @param {number} addend The second number in an addition.\n     * @returns {number} Returns the total.\n     * @example\n     *\n     * _.add(6, 4);\n     * // => 10\n     */\n    var add = createMathOperation(function(augend, addend) {\n      return augend + addend;\n    }, 0);\n\n    /**\n     * Computes `number` rounded up to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round up.\n     * @param {number} [precision=0] The precision to round up to.\n     * @returns {number} Returns the rounded up number.\n     * @example\n     *\n     * _.ceil(4.006);\n     * // => 5\n     *\n     * _.ceil(6.004, 2);\n     * // => 6.01\n     *\n     * _.ceil(6040, -2);\n     * // => 6100\n     */\n    var ceil = createRound('ceil');\n\n    /**\n     * Divide two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {number} dividend The first number in a division.\n     * @param {number} divisor The second number in a division.\n     * @returns {number} Returns the quotient.\n     * @example\n     *\n     * _.divide(6, 4);\n     * // => 1.5\n     */\n    var divide = createMathOperation(function(dividend, divisor) {\n      return dividend / divisor;\n    }, 1);\n\n    /**\n     * Computes `number` rounded down to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round down.\n     * @param {number} [precision=0] The precision to round down to.\n     * @returns {number} Returns the rounded down number.\n     * @example\n     *\n     * _.floor(4.006);\n     * // => 4\n     *\n     * _.floor(0.046, 2);\n     * // => 0.04\n     *\n     * _.floor(4060, -2);\n     * // => 4000\n     */\n    var floor = createRound('floor');\n\n    /**\n     * Computes the maximum value of `array`. If `array` is empty or falsey,\n     * `undefined` is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * _.max([4, 2, 8, 6]);\n     * // => 8\n     *\n     * _.max([]);\n     * // => undefined\n     */\n    function max(array) {\n      return (array && array.length)\n        ? baseExtremum(array, identity, baseGt)\n        : undefined;\n    }\n\n    /**\n     * This method is like `_.max` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * the value is ranked. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * _.maxBy(objects, function(o) { return o.n; });\n     * // => { 'n': 2 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.maxBy(objects, 'n');\n     * // => { 'n': 2 }\n     */\n    function maxBy(array, iteratee) {\n      return (array && array.length)\n        ? baseExtremum(array, getIteratee(iteratee, 2), baseGt)\n        : undefined;\n    }\n\n    /**\n     * Computes the mean of the values in `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the mean.\n     * @example\n     *\n     * _.mean([4, 2, 8, 6]);\n     * // => 5\n     */\n    function mean(array) {\n      return baseMean(array, identity);\n    }\n\n    /**\n     * This method is like `_.mean` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the value to be averaged.\n     * The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the mean.\n     * @example\n     *\n     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n     *\n     * _.meanBy(objects, function(o) { return o.n; });\n     * // => 5\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.meanBy(objects, 'n');\n     * // => 5\n     */\n    function meanBy(array, iteratee) {\n      return baseMean(array, getIteratee(iteratee, 2));\n    }\n\n    /**\n     * Computes the minimum value of `array`. If `array` is empty or falsey,\n     * `undefined` is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * _.min([4, 2, 8, 6]);\n     * // => 2\n     *\n     * _.min([]);\n     * // => undefined\n     */\n    function min(array) {\n      return (array && array.length)\n        ? baseExtremum(array, identity, baseLt)\n        : undefined;\n    }\n\n    /**\n     * This method is like `_.min` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * the value is ranked. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * _.minBy(objects, function(o) { return o.n; });\n     * // => { 'n': 1 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.minBy(objects, 'n');\n     * // => { 'n': 1 }\n     */\n    function minBy(array, iteratee) {\n      return (array && array.length)\n        ? baseExtremum(array, getIteratee(iteratee, 2), baseLt)\n        : undefined;\n    }\n\n    /**\n     * Multiply two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {number} multiplier The first number in a multiplication.\n     * @param {number} multiplicand The second number in a multiplication.\n     * @returns {number} Returns the product.\n     * @example\n     *\n     * _.multiply(6, 4);\n     * // => 24\n     */\n    var multiply = createMathOperation(function(multiplier, multiplicand) {\n      return multiplier * multiplicand;\n    }, 1);\n\n    /**\n     * Computes `number` rounded to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round.\n     * @param {number} [precision=0] The precision to round to.\n     * @returns {number} Returns the rounded number.\n     * @example\n     *\n     * _.round(4.006);\n     * // => 4\n     *\n     * _.round(4.006, 2);\n     * // => 4.01\n     *\n     * _.round(4060, -2);\n     * // => 4100\n     */\n    var round = createRound('round');\n\n    /**\n     * Subtract two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {number} minuend The first number in a subtraction.\n     * @param {number} subtrahend The second number in a subtraction.\n     * @returns {number} Returns the difference.\n     * @example\n     *\n     * _.subtract(6, 4);\n     * // => 2\n     */\n    var subtract = createMathOperation(function(minuend, subtrahend) {\n      return minuend - subtrahend;\n    }, 0);\n\n    /**\n     * Computes the sum of the values in `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.4.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * _.sum([4, 2, 8, 6]);\n     * // => 20\n     */\n    function sum(array) {\n      return (array && array.length)\n        ? baseSum(array, identity)\n        : 0;\n    }\n\n    /**\n     * This method is like `_.sum` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the value to be summed.\n     * The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n     *\n     * _.sumBy(objects, function(o) { return o.n; });\n     * // => 20\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sumBy(objects, 'n');\n     * // => 20\n     */\n    function sumBy(array, iteratee) {\n      return (array && array.length)\n        ? baseSum(array, getIteratee(iteratee, 2))\n        : 0;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    // Add methods that return wrapped values in chain sequences.\n    lodash.after = after;\n    lodash.ary = ary;\n    lodash.assign = assign;\n    lodash.assignIn = assignIn;\n    lodash.assignInWith = assignInWith;\n    lodash.assignWith = assignWith;\n    lodash.at = at;\n    lodash.before = before;\n    lodash.bind = bind;\n    lodash.bindAll = bindAll;\n    lodash.bindKey = bindKey;\n    lodash.castArray = castArray;\n    lodash.chain = chain;\n    lodash.chunk = chunk;\n    lodash.compact = compact;\n    lodash.concat = concat;\n    lodash.cond = cond;\n    lodash.conforms = conforms;\n    lodash.constant = constant;\n    lodash.countBy = countBy;\n    lodash.create = create;\n    lodash.curry = curry;\n    lodash.curryRight = curryRight;\n    lodash.debounce = debounce;\n    lodash.defaults = defaults;\n    lodash.defaultsDeep = defaultsDeep;\n    lodash.defer = defer;\n    lodash.delay = delay;\n    lodash.difference = difference;\n    lodash.differenceBy = differenceBy;\n    lodash.differenceWith = differenceWith;\n    lodash.drop = drop;\n    lodash.dropRight = dropRight;\n    lodash.dropRightWhile = dropRightWhile;\n    lodash.dropWhile = dropWhile;\n    lodash.fill = fill;\n    lodash.filter = filter;\n    lodash.flatMap = flatMap;\n    lodash.flatMapDeep = flatMapDeep;\n    lodash.flatMapDepth = flatMapDepth;\n    lodash.flatten = flatten;\n    lodash.flattenDeep = flattenDeep;\n    lodash.flattenDepth = flattenDepth;\n    lodash.flip = flip;\n    lodash.flow = flow;\n    lodash.flowRight = flowRight;\n    lodash.fromPairs = fromPairs;\n    lodash.functions = functions;\n    lodash.functionsIn = functionsIn;\n    lodash.groupBy = groupBy;\n    lodash.initial = initial;\n    lodash.intersection = intersection;\n    lodash.intersectionBy = intersectionBy;\n    lodash.intersectionWith = intersectionWith;\n    lodash.invert = invert;\n    lodash.invertBy = invertBy;\n    lodash.invokeMap = invokeMap;\n    lodash.iteratee = iteratee;\n    lodash.keyBy = keyBy;\n    lodash.keys = keys;\n    lodash.keysIn = keysIn;\n    lodash.map = map;\n    lodash.mapKeys = mapKeys;\n    lodash.mapValues = mapValues;\n    lodash.matches = matches;\n    lodash.matchesProperty = matchesProperty;\n    lodash.memoize = memoize;\n    lodash.merge = merge;\n    lodash.mergeWith = mergeWith;\n    lodash.method = method;\n    lodash.methodOf = methodOf;\n    lodash.mixin = mixin;\n    lodash.negate = negate;\n    lodash.nthArg = nthArg;\n    lodash.omit = omit;\n    lodash.omitBy = omitBy;\n    lodash.once = once;\n    lodash.orderBy = orderBy;\n    lodash.over = over;\n    lodash.overArgs = overArgs;\n    lodash.overEvery = overEvery;\n    lodash.overSome = overSome;\n    lodash.partial = partial;\n    lodash.partialRight = partialRight;\n    lodash.partition = partition;\n    lodash.pick = pick;\n    lodash.pickBy = pickBy;\n    lodash.property = property;\n    lodash.propertyOf = propertyOf;\n    lodash.pull = pull;\n    lodash.pullAll = pullAll;\n    lodash.pullAllBy = pullAllBy;\n    lodash.pullAllWith = pullAllWith;\n    lodash.pullAt = pullAt;\n    lodash.range = range;\n    lodash.rangeRight = rangeRight;\n    lodash.rearg = rearg;\n    lodash.reject = reject;\n    lodash.remove = remove;\n    lodash.rest = rest;\n    lodash.reverse = reverse;\n    lodash.sampleSize = sampleSize;\n    lodash.set = set;\n    lodash.setWith = setWith;\n    lodash.shuffle = shuffle;\n    lodash.slice = slice;\n    lodash.sortBy = sortBy;\n    lodash.sortedUniq = sortedUniq;\n    lodash.sortedUniqBy = sortedUniqBy;\n    lodash.split = split;\n    lodash.spread = spread;\n    lodash.tail = tail;\n    lodash.take = take;\n    lodash.takeRight = takeRight;\n    lodash.takeRightWhile = takeRightWhile;\n    lodash.takeWhile = takeWhile;\n    lodash.tap = tap;\n    lodash.throttle = throttle;\n    lodash.thru = thru;\n    lodash.toArray = toArray;\n    lodash.toPairs = toPairs;\n    lodash.toPairsIn = toPairsIn;\n    lodash.toPath = toPath;\n    lodash.toPlainObject = toPlainObject;\n    lodash.transform = transform;\n    lodash.unary = unary;\n    lodash.union = union;\n    lodash.unionBy = unionBy;\n    lodash.unionWith = unionWith;\n    lodash.uniq = uniq;\n    lodash.uniqBy = uniqBy;\n    lodash.uniqWith = uniqWith;\n    lodash.unset = unset;\n    lodash.unzip = unzip;\n    lodash.unzipWith = unzipWith;\n    lodash.update = update;\n    lodash.updateWith = updateWith;\n    lodash.values = values;\n    lodash.valuesIn = valuesIn;\n    lodash.without = without;\n    lodash.words = words;\n    lodash.wrap = wrap;\n    lodash.xor = xor;\n    lodash.xorBy = xorBy;\n    lodash.xorWith = xorWith;\n    lodash.zip = zip;\n    lodash.zipObject = zipObject;\n    lodash.zipObjectDeep = zipObjectDeep;\n    lodash.zipWith = zipWith;\n\n    // Add aliases.\n    lodash.entries = toPairs;\n    lodash.entriesIn = toPairsIn;\n    lodash.extend = assignIn;\n    lodash.extendWith = assignInWith;\n\n    // Add methods to `lodash.prototype`.\n    mixin(lodash, lodash);\n\n    /*------------------------------------------------------------------------*/\n\n    // Add methods that return unwrapped values in chain sequences.\n    lodash.add = add;\n    lodash.attempt = attempt;\n    lodash.camelCase = camelCase;\n    lodash.capitalize = capitalize;\n    lodash.ceil = ceil;\n    lodash.clamp = clamp;\n    lodash.clone = clone;\n    lodash.cloneDeep = cloneDeep;\n    lodash.cloneDeepWith = cloneDeepWith;\n    lodash.cloneWith = cloneWith;\n    lodash.conformsTo = conformsTo;\n    lodash.deburr = deburr;\n    lodash.defaultTo = defaultTo;\n    lodash.divide = divide;\n    lodash.endsWith = endsWith;\n    lodash.eq = eq;\n    lodash.escape = escape;\n    lodash.escapeRegExp = escapeRegExp;\n    lodash.every = every;\n    lodash.find = find;\n    lodash.findIndex = findIndex;\n    lodash.findKey = findKey;\n    lodash.findLast = findLast;\n    lodash.findLastIndex = findLastIndex;\n    lodash.findLastKey = findLastKey;\n    lodash.floor = floor;\n    lodash.forEach = forEach;\n    lodash.forEachRight = forEachRight;\n    lodash.forIn = forIn;\n    lodash.forInRight = forInRight;\n    lodash.forOwn = forOwn;\n    lodash.forOwnRight = forOwnRight;\n    lodash.get = get;\n    lodash.gt = gt;\n    lodash.gte = gte;\n    lodash.has = has;\n    lodash.hasIn = hasIn;\n    lodash.head = head;\n    lodash.identity = identity;\n    lodash.includes = includes;\n    lodash.indexOf = indexOf;\n    lodash.inRange = inRange;\n    lodash.invoke = invoke;\n    lodash.isArguments = isArguments;\n    lodash.isArray = isArray;\n    lodash.isArrayBuffer = isArrayBuffer;\n    lodash.isArrayLike = isArrayLike;\n    lodash.isArrayLikeObject = isArrayLikeObject;\n    lodash.isBoolean = isBoolean;\n    lodash.isBuffer = isBuffer;\n    lodash.isDate = isDate;\n    lodash.isElement = isElement;\n    lodash.isEmpty = isEmpty;\n    lodash.isEqual = isEqual;\n    lodash.isEqualWith = isEqualWith;\n    lodash.isError = isError;\n    lodash.isFinite = isFinite;\n    lodash.isFunction = isFunction;\n    lodash.isInteger = isInteger;\n    lodash.isLength = isLength;\n    lodash.isMap = isMap;\n    lodash.isMatch = isMatch;\n    lodash.isMatchWith = isMatchWith;\n    lodash.isNaN = isNaN;\n    lodash.isNative = isNative;\n    lodash.isNil = isNil;\n    lodash.isNull = isNull;\n    lodash.isNumber = isNumber;\n    lodash.isObject = isObject;\n    lodash.isObjectLike = isObjectLike;\n    lodash.isPlainObject = isPlainObject;\n    lodash.isRegExp = isRegExp;\n    lodash.isSafeInteger = isSafeInteger;\n    lodash.isSet = isSet;\n    lodash.isString = isString;\n    lodash.isSymbol = isSymbol;\n    lodash.isTypedArray = isTypedArray;\n    lodash.isUndefined = isUndefined;\n    lodash.isWeakMap = isWeakMap;\n    lodash.isWeakSet = isWeakSet;\n    lodash.join = join;\n    lodash.kebabCase = kebabCase;\n    lodash.last = last;\n    lodash.lastIndexOf = lastIndexOf;\n    lodash.lowerCase = lowerCase;\n    lodash.lowerFirst = lowerFirst;\n    lodash.lt = lt;\n    lodash.lte = lte;\n    lodash.max = max;\n    lodash.maxBy = maxBy;\n    lodash.mean = mean;\n    lodash.meanBy = meanBy;\n    lodash.min = min;\n    lodash.minBy = minBy;\n    lodash.stubArray = stubArray;\n    lodash.stubFalse = stubFalse;\n    lodash.stubObject = stubObject;\n    lodash.stubString = stubString;\n    lodash.stubTrue = stubTrue;\n    lodash.multiply = multiply;\n    lodash.nth = nth;\n    lodash.noConflict = noConflict;\n    lodash.noop = noop;\n    lodash.now = now;\n    lodash.pad = pad;\n    lodash.padEnd = padEnd;\n    lodash.padStart = padStart;\n    lodash.parseInt = parseInt;\n    lodash.random = random;\n    lodash.reduce = reduce;\n    lodash.reduceRight = reduceRight;\n    lodash.repeat = repeat;\n    lodash.replace = replace;\n    lodash.result = result;\n    lodash.round = round;\n    lodash.runInContext = runInContext;\n    lodash.sample = sample;\n    lodash.size = size;\n    lodash.snakeCase = snakeCase;\n    lodash.some = some;\n    lodash.sortedIndex = sortedIndex;\n    lodash.sortedIndexBy = sortedIndexBy;\n    lodash.sortedIndexOf = sortedIndexOf;\n    lodash.sortedLastIndex = sortedLastIndex;\n    lodash.sortedLastIndexBy = sortedLastIndexBy;\n    lodash.sortedLastIndexOf = sortedLastIndexOf;\n    lodash.startCase = startCase;\n    lodash.startsWith = startsWith;\n    lodash.subtract = subtract;\n    lodash.sum = sum;\n    lodash.sumBy = sumBy;\n    lodash.template = template;\n    lodash.times = times;\n    lodash.toFinite = toFinite;\n    lodash.toInteger = toInteger;\n    lodash.toLength = toLength;\n    lodash.toLower = toLower;\n    lodash.toNumber = toNumber;\n    lodash.toSafeInteger = toSafeInteger;\n    lodash.toString = toString;\n    lodash.toUpper = toUpper;\n    lodash.trim = trim;\n    lodash.trimEnd = trimEnd;\n    lodash.trimStart = trimStart;\n    lodash.truncate = truncate;\n    lodash.unescape = unescape;\n    lodash.uniqueId = uniqueId;\n    lodash.upperCase = upperCase;\n    lodash.upperFirst = upperFirst;\n\n    // Add aliases.\n    lodash.each = forEach;\n    lodash.eachRight = forEachRight;\n    lodash.first = head;\n\n    mixin(lodash, (function() {\n      var source = {};\n      baseForOwn(lodash, function(func, methodName) {\n        if (!hasOwnProperty.call(lodash.prototype, methodName)) {\n          source[methodName] = func;\n        }\n      });\n      return source;\n    }()), { 'chain': false });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The semantic version number.\n     *\n     * @static\n     * @memberOf _\n     * @type {string}\n     */\n    lodash.VERSION = VERSION;\n\n    // Assign default placeholders.\n    arrayEach(['bind', 'bindKey', 'curry', 'curryRight', 'partial', 'partialRight'], function(methodName) {\n      lodash[methodName].placeholder = lodash;\n    });\n\n    // Add `LazyWrapper` methods for `_.drop` and `_.take` variants.\n    arrayEach(['drop', 'take'], function(methodName, index) {\n      LazyWrapper.prototype[methodName] = function(n) {\n        n = n === undefined ? 1 : nativeMax(toInteger(n), 0);\n\n        var result = (this.__filtered__ && !index)\n          ? new LazyWrapper(this)\n          : this.clone();\n\n        if (result.__filtered__) {\n          result.__takeCount__ = nativeMin(n, result.__takeCount__);\n        } else {\n          result.__views__.push({\n            'size': nativeMin(n, MAX_ARRAY_LENGTH),\n            'type': methodName + (result.__dir__ < 0 ? 'Right' : '')\n          });\n        }\n        return result;\n      };\n\n      LazyWrapper.prototype[methodName + 'Right'] = function(n) {\n        return this.reverse()[methodName](n).reverse();\n      };\n    });\n\n    // Add `LazyWrapper` methods that accept an `iteratee` value.\n    arrayEach(['filter', 'map', 'takeWhile'], function(methodName, index) {\n      var type = index + 1,\n          isFilter = type == LAZY_FILTER_FLAG || type == LAZY_WHILE_FLAG;\n\n      LazyWrapper.prototype[methodName] = function(iteratee) {\n        var result = this.clone();\n        result.__iteratees__.push({\n          'iteratee': getIteratee(iteratee, 3),\n          'type': type\n        });\n        result.__filtered__ = result.__filtered__ || isFilter;\n        return result;\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.head` and `_.last`.\n    arrayEach(['head', 'last'], function(methodName, index) {\n      var takeName = 'take' + (index ? 'Right' : '');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this[takeName](1).value()[0];\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.initial` and `_.tail`.\n    arrayEach(['initial', 'tail'], function(methodName, index) {\n      var dropName = 'drop' + (index ? '' : 'Right');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this.__filtered__ ? new LazyWrapper(this) : this[dropName](1);\n      };\n    });\n\n    LazyWrapper.prototype.compact = function() {\n      return this.filter(identity);\n    };\n\n    LazyWrapper.prototype.find = function(predicate) {\n      return this.filter(predicate).head();\n    };\n\n    LazyWrapper.prototype.findLast = function(predicate) {\n      return this.reverse().find(predicate);\n    };\n\n    LazyWrapper.prototype.invokeMap = baseRest(function(path, args) {\n      if (typeof path == 'function') {\n        return new LazyWrapper(this);\n      }\n      return this.map(function(value) {\n        return baseInvoke(value, path, args);\n      });\n    });\n\n    LazyWrapper.prototype.reject = function(predicate) {\n      return this.filter(negate(getIteratee(predicate)));\n    };\n\n    LazyWrapper.prototype.slice = function(start, end) {\n      start = toInteger(start);\n\n      var result = this;\n      if (result.__filtered__ && (start > 0 || end < 0)) {\n        return new LazyWrapper(result);\n      }\n      if (start < 0) {\n        result = result.takeRight(-start);\n      } else if (start) {\n        result = result.drop(start);\n      }\n      if (end !== undefined) {\n        end = toInteger(end);\n        result = end < 0 ? result.dropRight(-end) : result.take(end - start);\n      }\n      return result;\n    };\n\n    LazyWrapper.prototype.takeRightWhile = function(predicate) {\n      return this.reverse().takeWhile(predicate).reverse();\n    };\n\n    LazyWrapper.prototype.toArray = function() {\n      return this.take(MAX_ARRAY_LENGTH);\n    };\n\n    // Add `LazyWrapper` methods to `lodash.prototype`.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var checkIteratee = /^(?:filter|find|map|reject)|While$/.test(methodName),\n          isTaker = /^(?:head|last)$/.test(methodName),\n          lodashFunc = lodash[isTaker ? ('take' + (methodName == 'last' ? 'Right' : '')) : methodName],\n          retUnwrapped = isTaker || /^find/.test(methodName);\n\n      if (!lodashFunc) {\n        return;\n      }\n      lodash.prototype[methodName] = function() {\n        var value = this.__wrapped__,\n            args = isTaker ? [1] : arguments,\n            isLazy = value instanceof LazyWrapper,\n            iteratee = args[0],\n            useLazy = isLazy || isArray(value);\n\n        var interceptor = function(value) {\n          var result = lodashFunc.apply(lodash, arrayPush([value], args));\n          return (isTaker && chainAll) ? result[0] : result;\n        };\n\n        if (useLazy && checkIteratee && typeof iteratee == 'function' && iteratee.length != 1) {\n          // Avoid lazy use if the iteratee has a \"length\" value other than `1`.\n          isLazy = useLazy = false;\n        }\n        var chainAll = this.__chain__,\n            isHybrid = !!this.__actions__.length,\n            isUnwrapped = retUnwrapped && !chainAll,\n            onlyLazy = isLazy && !isHybrid;\n\n        if (!retUnwrapped && useLazy) {\n          value = onlyLazy ? value : new LazyWrapper(this);\n          var result = func.apply(value, args);\n          result.__actions__.push({ 'func': thru, 'args': [interceptor], 'thisArg': undefined });\n          return new LodashWrapper(result, chainAll);\n        }\n        if (isUnwrapped && onlyLazy) {\n          return func.apply(this, args);\n        }\n        result = this.thru(interceptor);\n        return isUnwrapped ? (isTaker ? result.value()[0] : result.value()) : result;\n      };\n    });\n\n    // Add `Array` methods to `lodash.prototype`.\n    arrayEach(['pop', 'push', 'shift', 'sort', 'splice', 'unshift'], function(methodName) {\n      var func = arrayProto[methodName],\n          chainName = /^(?:push|sort|unshift)$/.test(methodName) ? 'tap' : 'thru',\n          retUnwrapped = /^(?:pop|shift)$/.test(methodName);\n\n      lodash.prototype[methodName] = function() {\n        var args = arguments;\n        if (retUnwrapped && !this.__chain__) {\n          var value = this.value();\n          return func.apply(isArray(value) ? value : [], args);\n        }\n        return this[chainName](function(value) {\n          return func.apply(isArray(value) ? value : [], args);\n        });\n      };\n    });\n\n    // Map minified method names to their real names.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var lodashFunc = lodash[methodName];\n      if (lodashFunc) {\n        var key = lodashFunc.name + '';\n        if (!hasOwnProperty.call(realNames, key)) {\n          realNames[key] = [];\n        }\n        realNames[key].push({ 'name': methodName, 'func': lodashFunc });\n      }\n    });\n\n    realNames[createHybrid(undefined, WRAP_BIND_KEY_FLAG).name] = [{\n      'name': 'wrapper',\n      'func': undefined\n    }];\n\n    // Add methods to `LazyWrapper`.\n    LazyWrapper.prototype.clone = lazyClone;\n    LazyWrapper.prototype.reverse = lazyReverse;\n    LazyWrapper.prototype.value = lazyValue;\n\n    // Add chain sequence methods to the `lodash` wrapper.\n    lodash.prototype.at = wrapperAt;\n    lodash.prototype.chain = wrapperChain;\n    lodash.prototype.commit = wrapperCommit;\n    lodash.prototype.next = wrapperNext;\n    lodash.prototype.plant = wrapperPlant;\n    lodash.prototype.reverse = wrapperReverse;\n    lodash.prototype.toJSON = lodash.prototype.valueOf = lodash.prototype.value = wrapperValue;\n\n    // Add lazy aliases.\n    lodash.prototype.first = lodash.prototype.head;\n\n    if (symIterator) {\n      lodash.prototype[symIterator] = wrapperToIterator;\n    }\n    return lodash;\n  });\n\n  /*--------------------------------------------------------------------------*/\n\n  // Export lodash.\n  var _ = runInContext();\n\n  // Some AMD build optimizers, like r.js, check for condition patterns like:\n  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n    // Expose Lodash on the global object to prevent errors when Lodash is\n    // loaded by a script tag in the presence of an AMD loader.\n    // See http://requirejs.org/docs/errors.html#mismatch for more details.\n    // Use `_.noConflict` to remove Lodash from the global object.\n    root._ = _;\n\n    // Define as an anonymous module so, through path mapping, it can be\n    // referenced as the \"underscore\" module.\n    define(function() {\n      return _;\n    });\n  }\n  // Check for `exports` after `define` in case a build optimizer adds it.\n  else if (freeModule) {\n    // Export for Node.js.\n    (freeModule.exports = _)._ = _;\n    // Export for CommonJS support.\n    freeExports._ = _;\n  }\n  else {\n    // Export to the global object.\n    root._ = _;\n  }\n}.call(this));\n", "// WASM is little endian.\nconst LITTLE_ENDIAN = true\n\nexport default class WasmMemory {\n  private memory: DataView\n\n  constructor(memory: DataView) {\n    this.memory = memory\n  }\n\n  /**\n   * Gets the Float32 value at the specified byte offset from the start of the memory. There is\n   * no alignment constraint; multi-byte values may be fetched from any offset.\n   * @param byteOffset The place in the memory at which the value should be retrieved.\n   */\n  getFloat32(byteOffset: number): number {\n    return this.memory.getFloat32(byteOffset, LITTLE_ENDIAN)\n  }\n\n  /**\n   * Gets the Float64 value at the specified byte offset from the start of the memory. There is\n   * no alignment constraint; multi-byte values may be fetched from any offset.\n   * @param byteOffset The place in the memory at which the value should be retrieved.\n   */\n  getFloat64(byteOffset: number): number {\n    return this.memory.getFloat64(byteOffset, LITTLE_ENDIAN)\n  }\n\n  /**\n   * Gets the Int8 value at the specified byte offset from the start of the memory. There is\n   * no alignment constraint; multi-byte values may be fetched from any offset.\n   * @param byteOffset The place in the memory at which the value should be retrieved.\n   */\n  getInt8(byteOffset: number): number {\n    return this.memory.getInt8(byteOffset)\n  }\n\n  /**\n   * Gets the Int16 value at the specified byte offset from the start of the memory. There is\n   * no alignment constraint; multi-byte values may be fetched from any offset.\n   * @param byteOffset The place in the memory at which the value should be retrieved.\n   */\n  getInt16(byteOffset: number): number {\n    return this.memory.getInt16(byteOffset, LITTLE_ENDIAN)\n  }\n\n  /**\n   * Gets the Int32 value at the specified byte offset from the start of the memory. There is\n   * no alignment constraint; multi-byte values may be fetched from any offset.\n   * @param byteOffset The place in the memory at which the value should be retrieved.\n   */\n  getInt32(byteOffset: number): number {\n    return this.memory.getInt32(byteOffset, LITTLE_ENDIAN)\n  }\n\n  /**\n   * Gets the Uint8 value at the specified byte offset from the start of the memory. There is\n   * no alignment constraint; multi-byte values may be fetched from any offset.\n   * @param byteOffset The place in the memory at which the value should be retrieved.\n   */\n  getUint8(byteOffset: number): number {\n    return this.memory.getUint8(byteOffset)\n  }\n\n  /**\n   * Gets the Uint16 value at the specified byte offset from the start of the memory. There is\n   * no alignment constraint; multi-byte values may be fetched from any offset.\n   * @param byteOffset The place in the memory at which the value should be retrieved.\n   */\n  getUint16(byteOffset: number): number {\n    return this.memory.getUint16(byteOffset, LITTLE_ENDIAN)\n  }\n\n  /**\n   * Gets the Uint32 value at the specified byte offset from the start of the memory. There is\n   * no alignment constraint; multi-byte values may be fetched from any offset.\n   * @param byteOffset The place in the memory at which the value should be retrieved.\n   */\n  getUint32(byteOffset: number): number {\n    return this.memory.getUint32(byteOffset, LITTLE_ENDIAN)\n  }\n\n  /**\n   * Stores an Float32 value at the specified byte offset from the start of the memory.\n   * @param byteOffset The place in the memory at which the value should be set.\n   * @param value The value to set.\n   */\n  setFloat32(byteOffset: number, value: number): void {\n    this.memory.setFloat32(byteOffset, value, LITTLE_ENDIAN)\n  }\n\n  /**\n   * Stores an Float64 value at the specified byte offset from the start of the memory.\n   * @param byteOffset The place in the memory at which the value should be set.\n   * @param value The value to set.\n   */\n  setFloat64(byteOffset: number, value: number): void {\n    this.memory.setFloat64(byteOffset, value, LITTLE_ENDIAN)\n  }\n\n  /**\n   * Stores an Int8 value at the specified byte offset from the start of the memory.\n   * @param byteOffset The place in the memory at which the value should be set.\n   * @param value The value to set.\n   */\n  setInt8(byteOffset: number, value: number): void {\n    this.memory.setInt8(byteOffset, value)\n  }\n\n  /**\n   * Stores an Int16 value at the specified byte offset from the start of the memory.\n   * @param byteOffset The place in the memory at which the value should be set.\n   * @param value The value to set.\n   */\n  setInt16(byteOffset: number, value: number): void {\n    this.memory.setInt16(byteOffset, value, LITTLE_ENDIAN)\n  }\n\n  /**\n   * Stores an Int32 value at the specified byte offset from the start of the memory.\n   * @param byteOffset The place in the memory at which the value should be set.\n   * @param value The value to set.\n   */\n  setInt32(byteOffset: number, value: number): void {\n    this.memory.setInt32(byteOffset, value, LITTLE_ENDIAN)\n  }\n\n  /**\n   * Stores an Uint8 value at the specified byte offset from the start of the memory.\n   * @param byteOffset The place in the memory at which the value should be set.\n   * @param value The value to set.\n   */\n  setUint8(byteOffset: number, value: number): void {\n    this.memory.setUint8(byteOffset, value)\n  }\n\n  /**\n   * Stores an Uint16 value at the specified byte offset from the start of the memory.\n   * @param byteOffset The place in the memory at which the value should be set.\n   * @param value The value to set.\n   */\n  setUint16(byteOffset: number, value: number): void {\n    this.memory.setUint16(byteOffset, value, LITTLE_ENDIAN)\n  }\n\n  /**\n   * Stores an Uint32 value at the specified byte offset from the start of the memory.\n   * @param byteOffset The place in the memory at which the value should be set.\n   * @param value The value to set.\n   */\n  setUint32(byteOffset: number, value: number): void {\n    this.memory.setUint32(byteOffset, value, LITTLE_ENDIAN)\n  }\n\n  /**\n   * Gets the BigInt64 value at the specified byte offset from the start of the memory. There is\n   * no alignment constraint; multi-byte values may be fetched from any offset.\n   * @param byteOffset The place in the memory at which the value should be retrieved.\n   */\n  getBigInt64(byteOffset: number): bigint {\n    return this.memory.getBigInt64(byteOffset, LITTLE_ENDIAN)\n  }\n\n  /**\n   * Gets the BigUint64 value at the specified byte offset from the start of the memory. There is\n   * no alignment constraint; multi-byte values may be fetched from any offset.\n   * @param byteOffset The place in the memory at which the value should be retrieved.\n   */\n  getBigUint64(byteOffset: number): bigint {\n    return this.memory.getBigUint64(byteOffset, LITTLE_ENDIAN)\n  }\n\n  /**\n   * Stores a BigInt64 value at the specified byte offset from the start of the memory.\n   * @param byteOffset The place in the memory at which the value should be set.\n   * @param value The value to set.\n   * @param littleEndian If false or undefined, a big-endian value should be written.\n   */\n  setBigInt64(byteOffset: number, value: bigint): void {\n    this.memory.setBigInt64(byteOffset, value, LITTLE_ENDIAN)\n  }\n\n  /**\n   * Stores a BigUint64 value at the specified byte offset from the start of the memory.\n   * @param byteOffset The place in the memory at which the value should be set.\n   * @param value The value to set.\n   * @param littleEndian If false or undefined, a big-endian value should be written.\n   */\n  setBigUint64(byteOffset: number, value: bigint): void {\n    this.memory.setBigUint64(byteOffset, value, LITTLE_ENDIAN)\n  }\n\n  /**\n   * Replaces the entire memory with the given buffer. Use for warm starts.\n   * @param wasmInitialMemory The memory buffer to set\n   */\n  setBuffer(wasmInitialMemory: Buffer): void {\n    for (let i = 0; i < wasmInitialMemory.length; i++) {\n      this.memory.setUint8(i, wasmInitialMemory[i])\n    }\n  }\n\n  /**\n   * Returns the current byte length of the memory.\n   * @returns Byte length of current memory buffer.\n   */\n  getByteLength(): number {\n    return this.memory.buffer.byteLength\n  }\n\n  /**\n   * Returns an array buffer between in [start, end) range of the memory.\n   * @param start The place in the memory where the slice begins.\n   * @param end Optional: The place in the memory where the slice ends. Default is the end of the memory.\n   * @returns ArrayBuffer containing the slice of the memory.\n   */\n  slice(start: number, end?: number): ArrayBuffer {\n    return this.memory.buffer.slice(start, end)\n  }\n}\n", "import WasmMemory from './WasmMemory'\n\n// In WASM, this is the size of the wasi_iovec_t struct.\nexport const SIZEOF_wasi_iovec_t = 8\n\n// Maximum size of read from the guest memory. Use for all string except the body functions.\nconst MAX_GUEST_STRING_BYTES = 10 * 1024\n\n// Connascence of meaning and values with the wasm_status from mod_wasm.\nexport enum wasm_status {\n  ok = 0, // hostcall finished successfully\n  system_error = 1, // hostcall encountered a system error - this should result in a Wasm trap and is never communicated directly to the guest status\n  not_found = 2, // hostcall could not find the specified resource (header did not exist for example)\n  insufficient_buffer = 3, // hostcall requires a large memory region to copy data back to the host\n  invalid_args_count = 4, // the number of arguments that the hostcall received does not match the number of arguments that the hostcall is expecting\n  invalid_argument = 5, // at least one argument to the hostcall was not valid\n  invalid_operation = 6, // invoking the particular hostcall at the current state of processing is not valid\n  invalid_id = 7, // the resource ID provided to the hostcall is not valid (a more specialized version of invalid_argument)\n  limit_exceeded = 8, // a non-terminating system limit was exceeded\n  client_abandoned = 9, // the client has abandoned the request\n}\n\nexport class WasmError {\n  public status: wasm_status = wasm_status.ok\n  public message?: string\n\n  static ok(): WasmError {\n    return new WasmError(wasm_status.ok, undefined)\n  }\n\n  constructor(status: wasm_status, message?: string) {\n    this.status = status\n    this.message = message\n  }\n}\n\n/// Base class for all Wasm programs providing common functionality.\nexport default class WasmProgram {\n  private instance: WebAssembly.Instance | undefined\n  protected guestErrorMessage?: string\n  protected lastHostErrorMessage: string | undefined\n\n  protected setInstance(instance: WebAssembly.Instance) {\n    this.instance = instance\n  }\n\n  /// Returns the DataView with the memory of the WASM function.\n  protected getGuestMemory(): WasmMemory {\n    // @ts-ignore\n    return new WasmMemory(new DataView(this.instance!.exports.memory.buffer))\n  }\n\n  protected getStringFromGuestMemory(\n    memory: WasmMemory,\n    offset: number,\n    len: number\n  ): string | WasmError {\n    if (len > MAX_GUEST_STRING_BYTES) {\n      return new WasmError(\n        wasm_status.invalid_argument,\n        `(length ${len} > ${MAX_GUEST_STRING_BYTES} bytes) Edge function variable is too long`\n      )\n    }\n    return this.getStringFromGuestMemoryNoLimit(memory, offset, len)\n  }\n\n  protected getStringFromGuestMemoryTruncate(\n    memory: WasmMemory,\n    offset: number,\n    len: number\n  ): string {\n    len = Math.min(len, MAX_GUEST_STRING_BYTES)\n    return this.getStringFromGuestMemoryNoLimit(memory, offset, len)\n  }\n\n  protected getStringFromGuestMemoryNoLimit(\n    memory: WasmMemory,\n    offset: number,\n    len: number\n  ): string {\n    return new TextDecoder().decode(memory.slice(offset, offset + len))\n  }\n\n  protected setStringInGuestMemory(\n    data_offset: number,\n    data_len_offset: number,\n    value: string\n  ): wasm_status {\n    const data = new TextEncoder().encode(value)\n    return this.copyDataToGuestMemory(data, data_offset, data_len_offset)\n  }\n\n  // Used to restore the guest memory to the state immediately after initialization.\n  protected restoreGuestMemory(wasmInitialMemory: Buffer) {\n    this.getGuestMemory().setBuffer(wasmInitialMemory)\n  }\n\n  // Copies the given data into the WASM memory at the given offset.\n  // Connascence of algorithm with the `copy_to_guest` function in the mod_wasm.\n  // See hostcalls.h\n  protected copyDataToGuestMemory(\n    data: Uint8Array,\n    data_offset: number,\n    len_offset: number\n  ): wasm_status {\n    const memory = this.getGuestMemory()\n\n    // Read the length of the data buffer.\n    const len = memory.getUint32(len_offset)\n    // Always write the size of the data into the given len pointer so that guest\n    // can know how much data there is and grow the buffer if needed.\n    memory.setUint32(len_offset, data.byteLength)\n\n    if (data.byteLength === 0) {\n      return wasm_status.ok\n    }\n    if (data.byteLength > len) {\n      // Signal that the guest needs to grow the buffer.\n      return wasm_status.insufficient_buffer\n    }\n\n    // Copy the data into the memory.\n    // TODO: https://jira.atlas.llnw.com/browse/EAPPS-16\n    // Optimize copying of the memory. See details in the JIRA ticket.\n    for (let i = 0; i < data.byteLength; i++) {\n      memory.setUint8(data_offset + i, data[i])\n    }\n    return wasm_status.ok\n  }\n}\n", "import { pick } from 'lodash'\nimport { WasmError, wasm_status } from './WasmProgram'\n\n// The following headers are prohibited from being read by the user.\n// Connascence of meaning with EdgeControl schema. See edgecontrol-scl-schema.json\n// in https://gitlab.edgecastcdn.net/edgecast/customer-config-management/edgecontrol-scl repo.\n// Connascence of meaning with Sailfish mod_wasm common.cc\nconst READ_PROHIBITED_HEADER_NAMES_REGEX = [/^x-ec-.*/i, /^x-edg-.*/i]\nconst READ_ALLOWED_HEADER_NAMES_REGEX = [/^x-edg-experiments-info$/i]\n\n// The following headers are prohibited from being set by the user.\n// Connascence of meaning with EdgeControl schema. See edgecontrol-scl-schema.json\n// in https://gitlab.edgecastcdn.net/edgecast/customer-config-management/edgecontrol-scl repo.\n// Connascence of meaning with Sailfish mod_wasm common.cc\nconst WRITE_PROHIBITED_HEADER_NAMES_REGEX = [\n  /^$/i,\n  /^Accept-Ranges$/i,\n  /^Age$/i,\n  /^Connection$/i,\n  /^Content-Encoding$/i,\n  /^Content-Length$/i,\n  /^Content-Range$/i,\n  /^Date$/i,\n  /^Server$/i,\n  /^Trailer$/i,\n  /^Transfer-Encoding$/i,\n  /^Upgrade$/i,\n  /^Vary$/i,\n  /^Via$/i,\n  /^Warning$/i,\n]\n\n// Connascence of meaning with Sailfish mod_wasm common.cc\n// Checks if the header name contains any of the following characters: \\n, \\r, or \\0, column (:), or space ( )\nconst WEAK_INVALID_HEADER_NAME_REGEX = /([\\n\\r: ]|\\x00)/ // eslint-disable-line no-control-regex\n\n// Connascence of meaning with Sailfish mod_wasm common.cc\n// Checks if the header value contains any of the following characters: \\n, \\r, or \\0\nconst WEAK_INVALID_HEADER_VALUE_REGEX = /([\\n\\r]|\\x00)/ // eslint-disable-line no-control-regex\n\n// Connascence of value with Sailfish mod_wasm.\nconst MAX_HEADER_NAME_LEN = 8 * 1024\n// Connascence of value with Sailfish mod_wasm.\nconst MAX_HEADER_VALUE_LEN = 8 * 1024\n\n// EdgeFunctionHeaders is attached to Requests and Responses to encapsulate their header behavior\nexport default class EdgeFunctionHeaders {\n  _headers: { [name: string]: string | string[] }\n\n  constructor(headers?: { [name: string]: string | string[] } | [string] | any) {\n    // Raw headers are passed in as an array of alternating header names and values.\n    if (Array.isArray(headers)) {\n      this._headers = {}\n      for (let i = 0; i < headers.length; ++i) {\n        const item = headers[i]\n        if (Array.isArray(item)) {\n          // When the item is an array itself, we assume that an array of [key, value] pairs\n          // have been passed and we use the items accordingly.\n          const name = item[0]\n          const value = item[1]\n          this.append(name, value)\n        } else {\n          // When the item is not an array, we assume that the names and values are alternating\n          // in the array, just like Node's rawHeaders.\n          const name = item\n          // Look ahead to get the value.\n          const value = headers[++i]\n          this.append(name, value)\n        }\n      }\n    } else {\n      // This case covers three scenarios for the headers parameter:\n      // 1) headers parameter is an EdgeFunctionHeaders instance, but in the worker thread we lose the\n      //    class information, so we just have to check for the existence of headers._headers. This\n      //    is why one option for the headers parameter is \"| any\"\n      // 2) headers parameters is a dictionary. { [name: string]: string | string[] }\n      // 3) headers parameters is undefined\n      this._headers = headers?._headers || headers || {}\n    }\n  }\n\n  // Find the original key using case insensitive find\n  _getCaseInsensitiveKey(name: string): string {\n    const asLowercase: string = name.toLowerCase()\n    const key = Object.keys(this._headers).find(k => k.toLowerCase() === asLowercase)\n    // If the key is not found, return the original name so we never return undefined\n    return key || name\n  }\n\n  // Ensure the value is an array or string\n  _validateValue(value: unknown): string | string[] {\n    if (Array.isArray(value)) {\n      return value\n    } else if (value === undefined || value === null) {\n      throw Error(`set() header value cannot be ${value}`)\n    }\n    return value.toString()\n  }\n\n  // If there is no existing value, set it to newValue.\n  // If there is an existing string value, convert to it array and push newValue\n  // If there is an existing array value, push newValue to it\n  append(name: string, newValue: unknown) {\n    let value: string | string[] | undefined = this.get(name)\n    let validatedNewValue = this._validateValue(newValue)\n    if (Array.isArray(value)) {\n      // Existing value is an Array, and newValue is an Array\n      if (Array.isArray(validatedNewValue)) {\n        value.push(...validatedNewValue)\n      } else {\n        value.push(validatedNewValue)\n      }\n    } else if (typeof value === 'string') {\n      if (Array.isArray(validatedNewValue)) {\n        // Existing value is a string, and newValue is an Array\n        validatedNewValue.unshift(value)\n        value = validatedNewValue\n      } else {\n        value = [value, validatedNewValue]\n      }\n    } else {\n      value = validatedNewValue\n    }\n    this.set(name, value)\n  }\n\n  check(name: string): boolean {\n    return this.get(name) !== undefined\n  }\n\n  get(name: string): string | string[] | undefined {\n    return this._headers[this._getCaseInsensitiveKey(name)]\n  }\n\n  // `headers` is used to interface with the edge functions and\n  // we only allow the edge function to see the headers that\n  // it is allowed to read.\n  headers(): { [name: string]: string | string[] } {\n    return pick(this._headers, this.allowed_keys())\n  }\n\n  // `key` is used to interface with the edge functions and\n  // we only allow the edge function to see the headers that\n  // it is allowed to read.\n  key(index: number): string {\n    return this.allowed_keys()[index]\n  }\n\n  // Return all the header names that are allowed to be read.\n  allowed_keys() {\n    return Object.keys(this._headers).filter(key =>\n      EdgeFunctionHeaders.is_allowed_read_header_name(key)\n    )\n  }\n\n  remove(name: string): boolean {\n    if (!this.check(name)) {\n      return false\n    }\n\n    delete this._headers[this._getCaseInsensitiveKey(name)]\n    return true\n  }\n\n  set(name: string, value: unknown) {\n    // Always store header values as an array to keep things normalized.\n    if (Array.isArray(value)) {\n      this._headers[this._getCaseInsensitiveKey(name)] = this._validateValue(value)\n    } else {\n      this._headers[this._getCaseInsensitiveKey(name)] = this._validateValue([value])\n    }\n  }\n\n  get_total_bytes(): number {\n    let total_bytes = 0\n    Object.entries(this._headers).forEach(([key, value]) => {\n      // Add 4 bytes for \": \\r\\n\"\n      if (Array.isArray(value)) {\n        value.forEach(v => {\n          total_bytes += key.length + 4 + v.length\n        })\n      } else {\n        total_bytes += key.length + 4 + value.length\n      }\n    })\n    return total_bytes\n  }\n\n  // Connascence of algorithm with Sailfish mod_wasm common.cc.\n  static is_header_name_in_list(name: string, prohibitedHeaderNames: RegExp[]): boolean {\n    return prohibitedHeaderNames.find(regex => name.match(regex)) !== undefined\n  }\n\n  // Connascence of algorithm with Sailfish mod_wasm common.cc.\n  static is_allowed_read_header_name(name: string): boolean {\n    if (EdgeFunctionHeaders.is_header_name_in_list(name, READ_ALLOWED_HEADER_NAMES_REGEX)) {\n      return true\n    }\n\n    return !EdgeFunctionHeaders.is_header_name_in_list(name, READ_PROHIBITED_HEADER_NAMES_REGEX)\n  }\n\n  // Connascence of algorithm with Sailfish mod_wasm common.cc.\n  static is_allowed_write_header_name(name: string): boolean {\n    return (\n      EdgeFunctionHeaders.is_allowed_read_header_name(name) &&\n      !EdgeFunctionHeaders.is_header_name_in_list(name, WRITE_PROHIBITED_HEADER_NAMES_REGEX)\n    )\n  }\n\n  // Connascence of algorithm with Sailfish mod_wasm common.cc.\n  static weak_is_valid_header_name(name: string): boolean {\n    return typeof name === 'string' && !name.match(WEAK_INVALID_HEADER_NAME_REGEX)\n  }\n\n  // Connascence of algorithm with Sailfish mod_wasm common.cc.\n  static weak_is_valid_header_value(value: string): boolean {\n    return typeof value === 'string' && !value.match(WEAK_INVALID_HEADER_VALUE_REGEX)\n  }\n\n  // Connascence of algorithm with Sailfish mod_wasm hostcall.cc.\n  static validate_header_name(name: string): WasmError {\n    if (typeof name !== 'string' || name.length === 0) {\n      return new WasmError(wasm_status.invalid_argument, 'Header name is too short')\n    }\n\n    if (name.length > MAX_HEADER_NAME_LEN) {\n      return new WasmError(\n        wasm_status.invalid_argument,\n        `Header name is too long (length ${name.length} > ${MAX_HEADER_NAME_LEN})`\n      )\n    }\n\n    if (!EdgeFunctionHeaders.weak_is_valid_header_name(name)) {\n      return new WasmError(wasm_status.invalid_argument, `Header name is invalid: ${name}`)\n    }\n\n    return WasmError.ok()\n  }\n\n  // Connascence of algorithm with Sailfish mod_wasm hostcall.cc.\n  static validate_header_value(value: string): WasmError {\n    if (typeof value !== 'string') {\n      return new WasmError(\n        wasm_status.invalid_argument,\n        `Header value must be a string, not ${typeof value}`\n      )\n    }\n\n    if (value.length > MAX_HEADER_VALUE_LEN) {\n      return new WasmError(\n        wasm_status.invalid_argument,\n        `Header value is too long (length ${value.length} > ${MAX_HEADER_VALUE_LEN})`\n      )\n    }\n\n    if (!EdgeFunctionHeaders.weak_is_valid_header_value(value)) {\n      return new WasmError(wasm_status.invalid_argument, `Header value is invalid: ${value}`)\n    }\n\n    return WasmError.ok()\n  }\n}\n", "import EdgeFunctionHeaders from './EdgeFunctionHeaders'\nimport { Buffer } from 'buffer'\n\nexport default class EdgeFunctionResponse {\n  /**\n   * The HTTP status code\n   */\n  statusCode: number\n\n  /**\n   * The HTTP status message. It's undefined by default and if left undefined, the response\n   * should set it to the default status message for the assigned status code.\n   *\n   * Connascence of behavior with Sailfish. See http_message.cc\n   */\n  statusMessage?: string\n\n  /**\n   * The response body as a string or a Buffer\n   */\n  body?: Buffer\n\n  /**\n   * The number of bytes read from the response body so far\n   */\n  bodyBytesRead: number\n\n  /**\n   * The response headers as a dictionary of (name, value) pairs. Value can be a string\n   * or an array of strings when the header appears more than once in the response.\n   * E.g. multiple set-cookie: headers\n   */\n  headers: EdgeFunctionHeaders\n\n  /**\n   * A Response becomes immutable after return statement is called\n   */\n  responseReturned: boolean\n\n  /**\n   * A Response body cannot be appended to after being finalized\n   */\n  responseBodyFinalized: boolean\n\n  /**\n   * A Response body cannot be read after end of stream as been sent.\n   */\n  responseBodyChunksReadEndOfStreamSent: boolean\n\n  /**\n   * Creates a new EdgeFunctionResponse out of any object that fulfils basic interface of a generalized Response.\n   */\n  constructor({\n    statusCode,\n    statusMessage,\n    body,\n    headers,\n  }: {\n    statusCode?: number\n    statusMessage?: string\n    body?: string | Buffer | Uint8Array | ArrayBuffer\n    headers?: { [name: string]: string | string[] }\n  }) {\n    this.statusCode = statusCode || 0 // Connascence of the value in Sailfish. See http_message.h\n    this.statusMessage = statusMessage\n    if (Buffer.isBuffer(body) || typeof body === 'string' || body instanceof Uint8Array) {\n      // Subtle issue here. We must copy the body because the buffer that the response\n      // arrived in is shared by the parent/worker threads and v8.deserialize does shallow copy on buffers.\n      // Hence if we don't copy it, this body will be overwritten by the next response that comes in.\n      // body can be overwritten by the next response that comes in.\n      this.body = Buffer.from(body)\n    }\n    this.bodyBytesRead = 0\n    this.headers = new EdgeFunctionHeaders(headers)\n    this.responseReturned = false\n    this.responseBodyFinalized = false\n    this.responseBodyChunksReadEndOfStreamSent = false\n  }\n\n  hasChunksToRead(): boolean {\n    // Return true if are more chunks to read from the response body, or we have read the chunks,\n    // but not yet sent the end of stream signal.\n    return (\n      !!this.body &&\n      (this.bodyBytesRead < this.body.byteLength || !this.responseBodyChunksReadEndOfStreamSent)\n    )\n  }\n  // When streaming, track the number of bytes read from the response body so far.\n  readStreamingBodyChunk(maxChunkSize: number): Buffer | undefined {\n    return this.readBodyChunk(this.bodyBytesRead, maxChunkSize)\n  }\n\n  // Reads the body chunk. Returns an undefined if the data cannot be read.\n  readBodyChunk(chunkOffset: number, maxChunkSize: number): Buffer | undefined {\n    if (chunkOffset < 0) {\n      throw new Error('chunkOffset must be greater than or equal to 0')\n    }\n    if (maxChunkSize <= 0) {\n      throw new Error('maxChunkSize must be greater than 0')\n    }\n\n    if (!this.body) {\n      return undefined\n    }\n\n    if (chunkOffset >= this.body.byteLength) {\n      this.responseBodyChunksReadEndOfStreamSent = true\n      return undefined\n    }\n\n    const bytesToRead = Math.min(maxChunkSize, this.body.byteLength - chunkOffset)\n    const chunk = this.body.slice(chunkOffset, chunkOffset + bytesToRead)\n    this.bodyBytesRead += chunk.byteLength\n    return chunk\n  }\n\n  static createFromResponse(response: EdgeFunctionResponse) {\n    const clone_response = new EdgeFunctionResponse({\n      statusCode: response.statusCode,\n      statusMessage: response.statusMessage,\n      body: '',\n      headers: response.headers.headers(),\n    })\n    return clone_response\n  }\n}\n", "import { Buffer } from 'buffer'\n\n/**\n * This class provides universal way to serialize and deserialize data\n * which works in NodeJs and browser environment.\n */\nexport class Serializer {\n  static cachedSerializer: any\n\n  static serialize(data: any): Buffer {\n    return this.getSerializerImplementation().serialize(data)\n  }\n\n  static deserialize(data: Buffer): any {\n    return this.getSerializerImplementation().deserialize(data)\n  }\n\n  static getSerializerImplementation = (): {\n    serialize: (data: any) => Buffer\n    deserialize: (data: Buffer) => any\n  } => {\n    // return immediately cached version if available\n    if (this.cachedSerializer) return this.cachedSerializer\n\n    try {\n      // try to load the v8 serializer implementation\n      this.cachedSerializer = require('v8')\n    } catch (e) {\n      // fallback to the simpler implementation for browser environment\n      this.cachedSerializer = {\n        serialize: (data: any) => {\n          return Buffer.from(new TextEncoder().encode(JSON.stringify(data)).buffer)\n        },\n        deserialize: (data: Buffer) => {\n          // The SharedArrayBuffer view cannot be passed to the TextDecoder directly,\n          // that's why we have to copy the data to a new buffer here.\n          const dataCopy = Buffer.alloc(data.length)\n          data.copy(dataCopy)\n          return JSON.parse(new TextDecoder().decode(dataCopy.buffer))\n        },\n      }\n    }\n    return this.cachedSerializer\n  }\n}\n", "// Matches the definition of the `fetch_response_error` enum from mod_wasm.\nconst FetchResponseError = {\n  UNKNOWN: 0,\n  CONNECT_FAILED: 1,\n  CONNECT_TIMEOUT: 2,\n  SSL_CONNECT_FAILED: 3,\n  SSL_CERTIFICATE_VALIDATION_FAILED: 4,\n  BAD_REQUEST: 5,\n  BAD_RESPONSE: 6,\n  TIMEOUT: 7,\n  REENTRANT_LOOP: 8,\n  FORBIDDEN: 9,\n}\n\n// Matches the definition of the `fetch_response_error` enum from mod_wasm.\nconst FetchResponseErrorFriendlyMessage = {\n  [FetchResponseError.UNKNOWN]: 'Unknown',\n  [FetchResponseError.CONNECT_FAILED]: 'Connect Failed',\n  [FetchResponseError.CONNECT_TIMEOUT]: 'Connect Timeout',\n  [FetchResponseError.SSL_CONNECT_FAILED]: 'SSL Connect Failed',\n  [FetchResponseError.SSL_CERTIFICATE_VALIDATION_FAILED]: 'SSL Certificate Validation Failed',\n  [FetchResponseError.BAD_REQUEST]: 'Bad Request',\n  [FetchResponseError.BAD_RESPONSE]: 'Bad Response',\n  [FetchResponseError.TIMEOUT]: 'Timeout',\n  [FetchResponseError.REENTRANT_LOOP]: 'Reentrant loop',\n  [FetchResponseError.FORBIDDEN]: 'Forbidden',\n}\n\nexport function getFetchResponseErrorFriendlyMessage(errorCode: number) {\n  return FetchResponseErrorFriendlyMessage[\n    errorCode as keyof typeof FetchResponseErrorFriendlyMessage\n  ]\n}\n\nexport default FetchResponseError\n", "// Constants used in EdgeFunction*.ts and sdk.js\n// The event constants are copied from sdk/consts.js\nexport const EVENT_ERROR = -1\nexport const EVENT_IO_FETCH = 1\nexport const EVENT_IO_RESPONSE_CHUNK = 2\n\nexport function eventToString(event: number): string {\n  switch (event) {\n    case EVENT_ERROR:\n      return 'EVENT_ERROR'\n    case EVENT_IO_FETCH:\n      return 'EVENT_IO_FETCH'\n    case EVENT_IO_RESPONSE_CHUNK:\n      return 'EVENT_IO_RESPONSE_CHUNK'\n    default:\n      return `Unknown event: ${event}`\n  }\n}\n\nexport const SEMAPHORE_INDEX_WORKER_WAIT = 0\nexport const SEMAPHORE_VALUE_SHOULD_WAIT = 0\nexport const SEMAPHORE_VALUE_SHOULD_WAKE = 1\n", "/**\n * @typedef {object} PrivateData\n * @property {EventTarget} eventTarget The event target.\n * @property {{type:string}} event The original event object.\n * @property {number} eventPhase The current event phase.\n * @property {EventTarget|null} currentTarget The current event target.\n * @property {boolean} canceled The flag to prevent default.\n * @property {boolean} stopped The flag to stop propagation.\n * @property {boolean} immediateStopped The flag to stop propagation immediately.\n * @property {Function|null} passiveListener The listener if the current listener is passive. Otherwise this is null.\n * @property {number} timeStamp The unix time.\n * @private\n */\n\n/**\n * Private data for event wrappers.\n * @type {WeakMap<Event, PrivateData>}\n * @private\n */\nconst privateData = new WeakMap()\n\n/**\n * Cache for wrapper classes.\n * @type {WeakMap<Object, Function>}\n * @private\n */\nconst wrappers = new WeakMap()\n\n/**\n * Get private data.\n * @param {Event} event The event object to get private data.\n * @returns {PrivateData} The private data of the event.\n * @private\n */\nfunction pd(event) {\n    const retv = privateData.get(event)\n    console.assert(\n        retv != null,\n        \"'this' is expected an Event object, but got\",\n        event\n    )\n    return retv\n}\n\n/**\n * https://dom.spec.whatwg.org/#set-the-canceled-flag\n * @param data {PrivateData} private data.\n */\nfunction setCancelFlag(data) {\n    if (data.passiveListener != null) {\n        if (\n            typeof console !== \"undefined\" &&\n            typeof console.error === \"function\"\n        ) {\n            console.error(\n                \"Unable to preventDefault inside passive event listener invocation.\",\n                data.passiveListener\n            )\n        }\n        return\n    }\n    if (!data.event.cancelable) {\n        return\n    }\n\n    data.canceled = true\n    if (typeof data.event.preventDefault === \"function\") {\n        data.event.preventDefault()\n    }\n}\n\n/**\n * @see https://dom.spec.whatwg.org/#interface-event\n * @private\n */\n/**\n * The event wrapper.\n * @constructor\n * @param {EventTarget} eventTarget The event target of this dispatching.\n * @param {Event|{type:string}} event The original event to wrap.\n */\nfunction Event(eventTarget, event) {\n    privateData.set(this, {\n        eventTarget,\n        event,\n        eventPhase: 2,\n        currentTarget: eventTarget,\n        canceled: false,\n        stopped: false,\n        immediateStopped: false,\n        passiveListener: null,\n        timeStamp: event.timeStamp || Date.now(),\n    })\n\n    // https://heycam.github.io/webidl/#Unforgeable\n    Object.defineProperty(this, \"isTrusted\", { value: false, enumerable: true })\n\n    // Define accessors\n    const keys = Object.keys(event)\n    for (let i = 0; i < keys.length; ++i) {\n        const key = keys[i]\n        if (!(key in this)) {\n            Object.defineProperty(this, key, defineRedirectDescriptor(key))\n        }\n    }\n}\n\n// Should be enumerable, but class methods are not enumerable.\nEvent.prototype = {\n    /**\n     * The type of this event.\n     * @type {string}\n     */\n    get type() {\n        return pd(this).event.type\n    },\n\n    /**\n     * The target of this event.\n     * @type {EventTarget}\n     */\n    get target() {\n        return pd(this).eventTarget\n    },\n\n    /**\n     * The target of this event.\n     * @type {EventTarget}\n     */\n    get currentTarget() {\n        return pd(this).currentTarget\n    },\n\n    /**\n     * @returns {EventTarget[]} The composed path of this event.\n     */\n    composedPath() {\n        const currentTarget = pd(this).currentTarget\n        if (currentTarget == null) {\n            return []\n        }\n        return [currentTarget]\n    },\n\n    /**\n     * Constant of NONE.\n     * @type {number}\n     */\n    get NONE() {\n        return 0\n    },\n\n    /**\n     * Constant of CAPTURING_PHASE.\n     * @type {number}\n     */\n    get CAPTURING_PHASE() {\n        return 1\n    },\n\n    /**\n     * Constant of AT_TARGET.\n     * @type {number}\n     */\n    get AT_TARGET() {\n        return 2\n    },\n\n    /**\n     * Constant of BUBBLING_PHASE.\n     * @type {number}\n     */\n    get BUBBLING_PHASE() {\n        return 3\n    },\n\n    /**\n     * The target of this event.\n     * @type {number}\n     */\n    get eventPhase() {\n        return pd(this).eventPhase\n    },\n\n    /**\n     * Stop event bubbling.\n     * @returns {void}\n     */\n    stopPropagation() {\n        const data = pd(this)\n\n        data.stopped = true\n        if (typeof data.event.stopPropagation === \"function\") {\n            data.event.stopPropagation()\n        }\n    },\n\n    /**\n     * Stop event bubbling.\n     * @returns {void}\n     */\n    stopImmediatePropagation() {\n        const data = pd(this)\n\n        data.stopped = true\n        data.immediateStopped = true\n        if (typeof data.event.stopImmediatePropagation === \"function\") {\n            data.event.stopImmediatePropagation()\n        }\n    },\n\n    /**\n     * The flag to be bubbling.\n     * @type {boolean}\n     */\n    get bubbles() {\n        return Boolean(pd(this).event.bubbles)\n    },\n\n    /**\n     * The flag to be cancelable.\n     * @type {boolean}\n     */\n    get cancelable() {\n        return Boolean(pd(this).event.cancelable)\n    },\n\n    /**\n     * Cancel this event.\n     * @returns {void}\n     */\n    preventDefault() {\n        setCancelFlag(pd(this))\n    },\n\n    /**\n     * The flag to indicate cancellation state.\n     * @type {boolean}\n     */\n    get defaultPrevented() {\n        return pd(this).canceled\n    },\n\n    /**\n     * The flag to be composed.\n     * @type {boolean}\n     */\n    get composed() {\n        return Boolean(pd(this).event.composed)\n    },\n\n    /**\n     * The unix time of this event.\n     * @type {number}\n     */\n    get timeStamp() {\n        return pd(this).timeStamp\n    },\n\n    /**\n     * The target of this event.\n     * @type {EventTarget}\n     * @deprecated\n     */\n    get srcElement() {\n        return pd(this).eventTarget\n    },\n\n    /**\n     * The flag to stop event bubbling.\n     * @type {boolean}\n     * @deprecated\n     */\n    get cancelBubble() {\n        return pd(this).stopped\n    },\n    set cancelBubble(value) {\n        if (!value) {\n            return\n        }\n        const data = pd(this)\n\n        data.stopped = true\n        if (typeof data.event.cancelBubble === \"boolean\") {\n            data.event.cancelBubble = true\n        }\n    },\n\n    /**\n     * The flag to indicate cancellation state.\n     * @type {boolean}\n     * @deprecated\n     */\n    get returnValue() {\n        return !pd(this).canceled\n    },\n    set returnValue(value) {\n        if (!value) {\n            setCancelFlag(pd(this))\n        }\n    },\n\n    /**\n     * Initialize this event object. But do nothing under event dispatching.\n     * @param {string} type The event type.\n     * @param {boolean} [bubbles=false] The flag to be possible to bubble up.\n     * @param {boolean} [cancelable=false] The flag to be possible to cancel.\n     * @deprecated\n     */\n    initEvent() {\n        // Do nothing.\n    },\n}\n\n// `constructor` is not enumerable.\nObject.defineProperty(Event.prototype, \"constructor\", {\n    value: Event,\n    configurable: true,\n    writable: true,\n})\n\n// Ensure `event instanceof window.Event` is `true`.\nif (typeof window !== \"undefined\" && typeof window.Event !== \"undefined\") {\n    Object.setPrototypeOf(Event.prototype, window.Event.prototype)\n\n    // Make association for wrappers.\n    wrappers.set(window.Event.prototype, Event)\n}\n\n/**\n * Get the property descriptor to redirect a given property.\n * @param {string} key Property name to define property descriptor.\n * @returns {PropertyDescriptor} The property descriptor to redirect the property.\n * @private\n */\nfunction defineRedirectDescriptor(key) {\n    return {\n        get() {\n            return pd(this).event[key]\n        },\n        set(value) {\n            pd(this).event[key] = value\n        },\n        configurable: true,\n        enumerable: true,\n    }\n}\n\n/**\n * Get the property descriptor to call a given method property.\n * @param {string} key Property name to define property descriptor.\n * @returns {PropertyDescriptor} The property descriptor to call the method property.\n * @private\n */\nfunction defineCallDescriptor(key) {\n    return {\n        value() {\n            const event = pd(this).event\n            return event[key].apply(event, arguments)\n        },\n        configurable: true,\n        enumerable: true,\n    }\n}\n\n/**\n * Define new wrapper class.\n * @param {Function} BaseEvent The base wrapper class.\n * @param {Object} proto The prototype of the original event.\n * @returns {Function} The defined wrapper class.\n * @private\n */\nfunction defineWrapper(BaseEvent, proto) {\n    const keys = Object.keys(proto)\n    if (keys.length === 0) {\n        return BaseEvent\n    }\n\n    /** CustomEvent */\n    function CustomEvent(eventTarget, event) {\n        BaseEvent.call(this, eventTarget, event)\n    }\n\n    CustomEvent.prototype = Object.create(BaseEvent.prototype, {\n        constructor: { value: CustomEvent, configurable: true, writable: true },\n    })\n\n    // Define accessors.\n    for (let i = 0; i < keys.length; ++i) {\n        const key = keys[i]\n        if (!(key in BaseEvent.prototype)) {\n            const descriptor = Object.getOwnPropertyDescriptor(proto, key)\n            const isFunc = typeof descriptor.value === \"function\"\n            Object.defineProperty(\n                CustomEvent.prototype,\n                key,\n                isFunc\n                    ? defineCallDescriptor(key)\n                    : defineRedirectDescriptor(key)\n            )\n        }\n    }\n\n    return CustomEvent\n}\n\n/**\n * Get the wrapper class of a given prototype.\n * @param {Object} proto The prototype of the original event to get its wrapper.\n * @returns {Function} The wrapper class.\n * @private\n */\nfunction getWrapper(proto) {\n    if (proto == null || proto === Object.prototype) {\n        return Event\n    }\n\n    let wrapper = wrappers.get(proto)\n    if (wrapper == null) {\n        wrapper = defineWrapper(getWrapper(Object.getPrototypeOf(proto)), proto)\n        wrappers.set(proto, wrapper)\n    }\n    return wrapper\n}\n\n/**\n * Wrap a given event to management a dispatching.\n * @param {EventTarget} eventTarget The event target of this dispatching.\n * @param {Object} event The event to wrap.\n * @returns {Event} The wrapper instance.\n * @private\n */\nexport function wrapEvent(eventTarget, event) {\n    const Wrapper = getWrapper(Object.getPrototypeOf(event))\n    return new Wrapper(eventTarget, event)\n}\n\n/**\n * Get the immediateStopped flag of a given event.\n * @param {Event} event The event to get.\n * @returns {boolean} The flag to stop propagation immediately.\n * @private\n */\nexport function isStopped(event) {\n    return pd(event).immediateStopped\n}\n\n/**\n * Set the current event phase of a given event.\n * @param {Event} event The event to set current target.\n * @param {number} eventPhase New event phase.\n * @returns {void}\n * @private\n */\nexport function setEventPhase(event, eventPhase) {\n    pd(event).eventPhase = eventPhase\n}\n\n/**\n * Set the current target of a given event.\n * @param {Event} event The event to set current target.\n * @param {EventTarget|null} currentTarget New current target.\n * @returns {void}\n * @private\n */\nexport function setCurrentTarget(event, currentTarget) {\n    pd(event).currentTarget = currentTarget\n}\n\n/**\n * Set a passive listener of a given event.\n * @param {Event} event The event to set current target.\n * @param {Function|null} passiveListener New passive listener.\n * @returns {void}\n * @private\n */\nexport function setPassiveListener(event, passiveListener) {\n    pd(event).passiveListener = passiveListener\n}\n", "import {\n    isStopped,\n    setCurrentTarget,\n    setEventPhase,\n    setPassiveListener,\n    wrapEvent,\n} from \"./event.mjs\"\n\n/**\n * @typedef {object} ListenerNode\n * @property {Function} listener\n * @property {1|2|3} listenerType\n * @property {boolean} passive\n * @property {boolean} once\n * @property {ListenerNode|null} next\n * @private\n */\n\n/**\n * @type {WeakMap<object, Map<string, ListenerNode>>}\n * @private\n */\nconst listenersMap = new WeakMap()\n\n// Listener types\nconst CAPTURE = 1\nconst BUBBLE = 2\nconst ATTRIBUTE = 3\n\n/**\n * Check whether a given value is an object or not.\n * @param {any} x The value to check.\n * @returns {boolean} `true` if the value is an object.\n */\nfunction isObject(x) {\n    return x !== null && typeof x === \"object\" //eslint-disable-line no-restricted-syntax\n}\n\n/**\n * Get listeners.\n * @param {EventTarget} eventTarget The event target to get.\n * @returns {Map<string, ListenerNode>} The listeners.\n * @private\n */\nfunction getListeners(eventTarget) {\n    const listeners = listenersMap.get(eventTarget)\n    if (listeners == null) {\n        throw new TypeError(\n            \"'this' is expected an EventTarget object, but got another value.\"\n        )\n    }\n    return listeners\n}\n\n/**\n * Get the property descriptor for the event attribute of a given event.\n * @param {string} eventName The event name to get property descriptor.\n * @returns {PropertyDescriptor} The property descriptor.\n * @private\n */\nfunction defineEventAttributeDescriptor(eventName) {\n    return {\n        get() {\n            const listeners = getListeners(this)\n            let node = listeners.get(eventName)\n            while (node != null) {\n                if (node.listenerType === ATTRIBUTE) {\n                    return node.listener\n                }\n                node = node.next\n            }\n            return null\n        },\n\n        set(listener) {\n            if (typeof listener !== \"function\" && !isObject(listener)) {\n                listener = null // eslint-disable-line no-param-reassign\n            }\n            const listeners = getListeners(this)\n\n            // Traverse to the tail while removing old value.\n            let prev = null\n            let node = listeners.get(eventName)\n            while (node != null) {\n                if (node.listenerType === ATTRIBUTE) {\n                    // Remove old value.\n                    if (prev !== null) {\n                        prev.next = node.next\n                    } else if (node.next !== null) {\n                        listeners.set(eventName, node.next)\n                    } else {\n                        listeners.delete(eventName)\n                    }\n                } else {\n                    prev = node\n                }\n\n                node = node.next\n            }\n\n            // Add new value.\n            if (listener !== null) {\n                const newNode = {\n                    listener,\n                    listenerType: ATTRIBUTE,\n                    passive: false,\n                    once: false,\n                    next: null,\n                }\n                if (prev === null) {\n                    listeners.set(eventName, newNode)\n                } else {\n                    prev.next = newNode\n                }\n            }\n        },\n        configurable: true,\n        enumerable: true,\n    }\n}\n\n/**\n * Define an event attribute (e.g. `eventTarget.onclick`).\n * @param {Object} eventTargetPrototype The event target prototype to define an event attrbite.\n * @param {string} eventName The event name to define.\n * @returns {void}\n */\nfunction defineEventAttribute(eventTargetPrototype, eventName) {\n    Object.defineProperty(\n        eventTargetPrototype,\n        `on${eventName}`,\n        defineEventAttributeDescriptor(eventName)\n    )\n}\n\n/**\n * Define a custom EventTarget with event attributes.\n * @param {string[]} eventNames Event names for event attributes.\n * @returns {EventTarget} The custom EventTarget.\n * @private\n */\nfunction defineCustomEventTarget(eventNames) {\n    /** CustomEventTarget */\n    function CustomEventTarget() {\n        EventTarget.call(this)\n    }\n\n    CustomEventTarget.prototype = Object.create(EventTarget.prototype, {\n        constructor: {\n            value: CustomEventTarget,\n            configurable: true,\n            writable: true,\n        },\n    })\n\n    for (let i = 0; i < eventNames.length; ++i) {\n        defineEventAttribute(CustomEventTarget.prototype, eventNames[i])\n    }\n\n    return CustomEventTarget\n}\n\n/**\n * EventTarget.\n *\n * - This is constructor if no arguments.\n * - This is a function which returns a CustomEventTarget constructor if there are arguments.\n *\n * For example:\n *\n *     class A extends EventTarget {}\n *     class B extends EventTarget(\"message\") {}\n *     class C extends EventTarget(\"message\", \"error\") {}\n *     class D extends EventTarget([\"message\", \"error\"]) {}\n */\nfunction EventTarget() {\n    /*eslint-disable consistent-return */\n    if (this instanceof EventTarget) {\n        listenersMap.set(this, new Map())\n        return\n    }\n    if (arguments.length === 1 && Array.isArray(arguments[0])) {\n        return defineCustomEventTarget(arguments[0])\n    }\n    if (arguments.length > 0) {\n        const types = new Array(arguments.length)\n        for (let i = 0; i < arguments.length; ++i) {\n            types[i] = arguments[i]\n        }\n        return defineCustomEventTarget(types)\n    }\n    throw new TypeError(\"Cannot call a class as a function\")\n    /*eslint-enable consistent-return */\n}\n\n// Should be enumerable, but class methods are not enumerable.\nEventTarget.prototype = {\n    /**\n     * Add a given listener to this event target.\n     * @param {string} eventName The event name to add.\n     * @param {Function} listener The listener to add.\n     * @param {boolean|{capture?:boolean,passive?:boolean,once?:boolean}} [options] The options for this listener.\n     * @returns {void}\n     */\n    addEventListener(eventName, listener, options) {\n        if (listener == null) {\n            return\n        }\n        if (typeof listener !== \"function\" && !isObject(listener)) {\n            throw new TypeError(\"'listener' should be a function or an object.\")\n        }\n\n        const listeners = getListeners(this)\n        const optionsIsObj = isObject(options)\n        const capture = optionsIsObj\n            ? Boolean(options.capture)\n            : Boolean(options)\n        const listenerType = capture ? CAPTURE : BUBBLE\n        const newNode = {\n            listener,\n            listenerType,\n            passive: optionsIsObj && Boolean(options.passive),\n            once: optionsIsObj && Boolean(options.once),\n            next: null,\n        }\n\n        // Set it as the first node if the first node is null.\n        let node = listeners.get(eventName)\n        if (node === undefined) {\n            listeners.set(eventName, newNode)\n            return\n        }\n\n        // Traverse to the tail while checking duplication..\n        let prev = null\n        while (node != null) {\n            if (\n                node.listener === listener &&\n                node.listenerType === listenerType\n            ) {\n                // Should ignore duplication.\n                return\n            }\n            prev = node\n            node = node.next\n        }\n\n        // Add it.\n        prev.next = newNode\n    },\n\n    /**\n     * Remove a given listener from this event target.\n     * @param {string} eventName The event name to remove.\n     * @param {Function} listener The listener to remove.\n     * @param {boolean|{capture?:boolean,passive?:boolean,once?:boolean}} [options] The options for this listener.\n     * @returns {void}\n     */\n    removeEventListener(eventName, listener, options) {\n        if (listener == null) {\n            return\n        }\n\n        const listeners = getListeners(this)\n        const capture = isObject(options)\n            ? Boolean(options.capture)\n            : Boolean(options)\n        const listenerType = capture ? CAPTURE : BUBBLE\n\n        let prev = null\n        let node = listeners.get(eventName)\n        while (node != null) {\n            if (\n                node.listener === listener &&\n                node.listenerType === listenerType\n            ) {\n                if (prev !== null) {\n                    prev.next = node.next\n                } else if (node.next !== null) {\n                    listeners.set(eventName, node.next)\n                } else {\n                    listeners.delete(eventName)\n                }\n                return\n            }\n\n            prev = node\n            node = node.next\n        }\n    },\n\n    /**\n     * Dispatch a given event.\n     * @param {Event|{type:string}} event The event to dispatch.\n     * @returns {boolean} `false` if canceled.\n     */\n    dispatchEvent(event) {\n        if (event == null || typeof event.type !== \"string\") {\n            throw new TypeError('\"event.type\" should be a string.')\n        }\n\n        // If listeners aren't registered, terminate.\n        const listeners = getListeners(this)\n        const eventName = event.type\n        let node = listeners.get(eventName)\n        if (node == null) {\n            return true\n        }\n\n        // Since we cannot rewrite several properties, so wrap object.\n        const wrappedEvent = wrapEvent(this, event)\n\n        // This doesn't process capturing phase and bubbling phase.\n        // This isn't participating in a tree.\n        let prev = null\n        while (node != null) {\n            // Remove this listener if it's once\n            if (node.once) {\n                if (prev !== null) {\n                    prev.next = node.next\n                } else if (node.next !== null) {\n                    listeners.set(eventName, node.next)\n                } else {\n                    listeners.delete(eventName)\n                }\n            } else {\n                prev = node\n            }\n\n            // Call this listener\n            setPassiveListener(\n                wrappedEvent,\n                node.passive ? node.listener : null\n            )\n            if (typeof node.listener === \"function\") {\n                try {\n                    node.listener.call(this, wrappedEvent)\n                } catch (err) {\n                    if (\n                        typeof console !== \"undefined\" &&\n                        typeof console.error === \"function\"\n                    ) {\n                        console.error(err)\n                    }\n                }\n            } else if (\n                node.listenerType !== ATTRIBUTE &&\n                typeof node.listener.handleEvent === \"function\"\n            ) {\n                node.listener.handleEvent(wrappedEvent)\n            }\n\n            // Break if `event.stopImmediatePropagation` was called.\n            if (isStopped(wrappedEvent)) {\n                break\n            }\n\n            node = node.next\n        }\n        setPassiveListener(wrappedEvent, null)\n        setEventPhase(wrappedEvent, 0)\n        setCurrentTarget(wrappedEvent, null)\n\n        return !wrappedEvent.defaultPrevented\n    },\n}\n\n// `constructor` is not enumerable.\nObject.defineProperty(EventTarget.prototype, \"constructor\", {\n    value: EventTarget,\n    configurable: true,\n    writable: true,\n})\n\n// Ensure `eventTarget instanceof window.EventTarget` is `true`.\nif (\n    typeof window !== \"undefined\" &&\n    typeof window.EventTarget !== \"undefined\"\n) {\n    Object.setPrototypeOf(EventTarget.prototype, window.EventTarget.prototype)\n}\n\nexport { defineEventAttribute, EventTarget }\nexport default EventTarget\n", "import {\n    // Event,\n    EventTarget,\n    // Type,\n    defineEventAttribute,\n} from \"event-target-shim\"\n\n// Known Limitation\n//   Use `any` because the type of `AbortSignal` in `lib.dom.d.ts` is wrong and\n//   to make assignable our `AbortSignal` into that.\n//   https://github.com/Microsoft/TSJS-lib-generator/pull/623\ntype Events = {\n    abort: any // Event & Type<\"abort\">\n}\ntype EventAttributes = {\n    onabort: any // Event & Type<\"abort\">\n}\n\n/**\n * The signal class.\n * @see https://dom.spec.whatwg.org/#abortsignal\n */\nexport default class AbortSignal extends EventTarget<Events, EventAttributes> {\n    /**\n     * AbortSignal cannot be constructed directly.\n     */\n    public constructor() {\n        super()\n        throw new TypeError(\"AbortSignal cannot be constructed directly\")\n    }\n\n    /**\n     * Returns `true` if this `AbortSignal`'s `AbortController` has signaled to abort, and `false` otherwise.\n     */\n    public get aborted(): boolean {\n        const aborted = abortedFlags.get(this)\n        if (typeof aborted !== \"boolean\") {\n            throw new TypeError(\n                `Expected 'this' to be an 'AbortSignal' object, but got ${\n                    this === null ? \"null\" : typeof this\n                }`,\n            )\n        }\n        return aborted\n    }\n}\ndefineEventAttribute(AbortSignal.prototype, \"abort\")\n\n/**\n * Create an AbortSignal object.\n */\nexport function createAbortSignal(): AbortSignal {\n    const signal = Object.create(AbortSignal.prototype)\n    EventTarget.call(signal)\n    abortedFlags.set(signal, false)\n    return signal\n}\n\n/**\n * Abort a given signal.\n */\nexport function abortSignal(signal: AbortSignal): void {\n    if (abortedFlags.get(signal) !== false) {\n        return\n    }\n\n    abortedFlags.set(signal, true)\n    signal.dispatchEvent<\"abort\">({ type: \"abort\" })\n}\n\n/**\n * Aborted flag for each instances.\n */\nconst abortedFlags = new WeakMap<AbortSignal, boolean>()\n\n// Properties should be enumerable.\nObject.defineProperties(AbortSignal.prototype, {\n    aborted: { enumerable: true },\n})\n\n// `toString()` should return `\"[object AbortSignal]\"`\nif (typeof Symbol === \"function\" && typeof Symbol.toStringTag === \"symbol\") {\n    Object.defineProperty(AbortSignal.prototype, Symbol.toStringTag, {\n        configurable: true,\n        value: \"AbortSignal\",\n    })\n}\n", "import AbortSignal, { abortSignal, createAbortSignal } from \"./abort-signal\"\n\n/**\n * The AbortController.\n * @see https://dom.spec.whatwg.org/#abortcontroller\n */\nexport default class AbortController {\n    /**\n     * Initialize this controller.\n     */\n    public constructor() {\n        signals.set(this, createAbortSignal())\n    }\n\n    /**\n     * Returns the `AbortSignal` object associated with this object.\n     */\n    public get signal(): AbortSignal {\n        return getSignal(this)\n    }\n\n    /**\n     * Abort and signal to any observers that the associated activity is to be aborted.\n     */\n    public abort(): void {\n        abortSignal(getSignal(this))\n    }\n}\n\n/**\n * Associated signals.\n */\nconst signals = new WeakMap<AbortController, AbortSignal>()\n\n/**\n * Get the associated signal of a given controller.\n */\nfunction getSignal(controller: AbortController): AbortSignal {\n    const signal = signals.get(controller)\n    if (signal == null) {\n        throw new TypeError(\n            `Expected 'this' to be an 'AbortController' object, but got ${\n                controller === null ? \"null\" : typeof controller\n            }`,\n        )\n    }\n    return signal\n}\n\n// Properties should be enumerable.\nObject.defineProperties(AbortController.prototype, {\n    signal: { enumerable: true },\n    abort: { enumerable: true },\n})\n\nif (typeof Symbol === \"function\" && typeof Symbol.toStringTag === \"symbol\") {\n    Object.defineProperty(AbortController.prototype, Symbol.toStringTag, {\n        configurable: true,\n        value: \"AbortController\",\n    })\n}\n\nexport { AbortController, AbortSignal }\n", "import { join } from 'path'\nimport { Worker } from './Worker'\nimport assert from 'assert'\nimport EdgeFunctionWorkerParams from './EdgeFunctionWorkerParams'\nimport fetch from 'node-fetch'\nimport RequestContext from '../RequestContext'\nimport EdgeFunctionResponse from './EdgeFunctionResponse'\nimport { Origins } from '../../types'\nimport logger from '../../log'\nimport { EdgeFunctionWorkerData } from './EdgeFunctionWorkerData'\nimport { Serializer } from './Serializer'\nimport { Buffer } from 'buffer'\nimport FetchResponseError from './EdgeFunctionFetchError'\nimport { Agent as HttpsAgent } from 'https'\nimport {\n  EVENT_ERROR,\n  EVENT_IO_FETCH,\n  EVENT_IO_RESPONSE_CHUNK,\n  SEMAPHORE_INDEX_WORKER_WAIT,\n  SEMAPHORE_VALUE_SHOULD_WAIT,\n  SEMAPHORE_VALUE_SHOULD_WAKE,\n} from './consts'\n\n// The size of the exchange buffer used for exchanging the data between the main thread and the worker thread.\n// Arbitrarily set to 50MB as assumed sufficient enough for most requests. If the size is exceeded, the worker\n// will throw an error.\nconst EXCHANGE_BUFFER_SIZE = 50000000\n\n// In order to replicate the cold start vs warm start behavior of Sailfish, we\n// track the wasmInitialMemory buffer. When this is undefined then we are in a\n// cold start and need to run the EdgeFunction's init() and run(). When\n// wasmInitialMemory is defined then we are in a warm start and we can skip the\n// init() and just call run(). The EdgeFunction.run() calls writeWasnInitialMemory()\n// on cold start, after init(), to set the wasmInitialMemory buffer. The\n// wasmInitialMemory is a global static so it can be used across multiple\n// instances of EdgeFunctionsWorkerManager. The wasmInitialMemory is posted to\n// the EdgeFunction's parent.run() so it can be set across worker threads.\n// When the user's code is rebuilt, we reset the wasmInitialMemory to undefined.\nlet wasmInitialMemory: Buffer | undefined\n\nexport default class EdgeFunctionsWorkerManager {\n  private context: RequestContext\n  private worker: Worker\n  private semaphore: Int32Array\n  private dataLength: Int32Array\n  private exchangeBuffer: SharedArrayBuffer\n  private channel: MessageChannel\n  private readyResponses: any[] = []\n  private outstandingFetchesCount = 0\n  private enabledResponseBodyChunkCount = 0\n  private workerIsWaiting = false\n  private static fetchImpl = fetch\n\n  constructor(\n    context: RequestContext,\n    rawBody: Buffer | undefined,\n    path: string,\n    sysVars: Map<string, string | Uint8Array>,\n    envVars: Map<string, string>,\n    usrVars: Map<string, string>,\n    httpVars: Map<string, string>\n  ) {\n    this.context = context\n    this.semaphore = new Int32Array(new SharedArrayBuffer(Int32Array.BYTES_PER_ELEMENT * 1))\n    this.exchangeBuffer = new SharedArrayBuffer(Int8Array.BYTES_PER_ELEMENT * EXCHANGE_BUFFER_SIZE)\n    this.dataLength = new Int32Array(new SharedArrayBuffer(Int32Array.BYTES_PER_ELEMENT * 1))\n    this.channel = new MessageChannel()\n    const workerData: EdgeFunctionWorkerData = {\n      semaphore: this.semaphore,\n      exchangeBuffer: this.exchangeBuffer,\n      exchangeBufferSize: EXCHANGE_BUFFER_SIZE,\n      dataLength: this.dataLength,\n      params: new EdgeFunctionWorkerParams(\n        context.getRequest(),\n        rawBody,\n        path,\n        sysVars,\n        envVars,\n        usrVars,\n        httpVars,\n        context.propertyContext.origins\n      ),\n    }\n\n    this.worker = <Worker>new Worker(join(__dirname, this.getWorkerFilename()))\n\n    // Unlike NodeJS worker_threads, the web workers API in browser does not\n    // support passing data to worker via options argument of the constructor.\n    // Instead, we send workerData as a message named 'init' command.\n    this.worker.postMessage({\n      command: 'init',\n      workerData,\n    })\n    Atomics.store(this.semaphore, SEMAPHORE_INDEX_WORKER_WAIT, SEMAPHORE_VALUE_SHOULD_WAIT)\n  }\n\n  // We select the worker file based on the environment. The \"./EdgeFunctionBrowserWorker.js\" file is used in the browser.\n  // Both files are generated from the same EdgeFunctionWorker.ts source file,\n  // but the browser version is bigger and bundled with libraries that ensures compatibility.\n  protected getWorkerFilename(): string {\n    return typeof window === 'undefined'\n      ? './EdgeFunctionWorker.js'\n      : './EdgeFunctionBrowserWorker.js'\n  }\n\n  public async runEdgeFunction(): Promise<EdgeFunctionResponse> {\n    const textDecoder = new TextDecoder()\n    return new Promise((resolve, reject) => {\n      // Receives messages from the worker thread in a form of an array of arguments.\n      // The first argument is always `type` of the message, with the rest of the arguments\n      // being the actual message data, also sent as an array.\n      // @ts-ignore\n\n      this.channel.port2.onmessage = (event: MessageEvent) => {\n        const message: any[] = event.data\n        const type = message.shift()\n\n        switch (type) {\n          case 'done-response': {\n            const response = message.shift()\n            this.worker.terminate()\n            const edgeResponse = new EdgeFunctionResponse(response)\n            resolve(edgeResponse)\n            break\n          }\n          case 'done-error': {\n            const error = message.shift()\n            this.worker.terminate()\n            // We reject with the error object (or whatever!) that we got from the worker thread\n            // so that we show its stack trace (which points to the actual point of failure) rather than\n            // mask it with manager's stack trace which will always be this handler and is thus useless.\n            reject(error)\n            break\n          }\n          case 'done-exception': {\n            const panicString = message.shift()\n            this.worker.terminate()\n            reject(new Error(panicString))\n            break\n          }\n          case 'error': {\n            const error = message.shift()\n            this.worker.terminate()\n            reject(new Error(error))\n            break\n          }\n          case 'stdout': {\n            const buffer = message.shift()\n            this.context?.stdout?.write(buffer)\n            break\n          }\n          case 'stderr': {\n            const buffer = message.shift()\n            this.context?.stderr?.write(buffer)\n            break\n          }\n          case 'wasmInitialMemory': {\n            const buffer = message.shift()\n            wasmInitialMemory = buffer\n            break\n          }\n          case 'wasmClearMemory': {\n            wasmInitialMemory = undefined\n            break\n          }\n          case 'debug': {\n            // Ignore the debug messages as they are only relevant for internal troubleshooting.\n            // If you need to troubleshoot a problem, the writing the received message is easy.\n            const buffer = message.shift()\n            logger.debug(textDecoder.decode(buffer))\n            break\n          }\n          case 'fetch': {\n            const requestId = message.shift()\n            this.issueFetch(requestId, ...message)\n            break\n          }\n          case 'enableResponseBodyChunkEvents': {\n            this.enabledResponseBodyChunkCount++\n            break\n          }\n          case 'consumeNextResponseBodyChunkId': {\n            this.enabledResponseBodyChunkCount--\n            break\n          }\n          case 'queueResponseBodyChunkEvent': {\n            const responseId = message.shift()\n            this.addReadyResponse({\n              event: EVENT_IO_RESPONSE_CHUNK,\n              responseId,\n            })\n            break\n          }\n          case 'waiting': {\n            // Signals to the main thread that the worker is waiting for a message.\n            // If any response is ready, send it to the worker immediately.\n            this.workerIsWaiting = true\n\n            // If there are no pending responses, no body chunks, and no outstanding fetches,\n            // then the worker has made a mistake and should not have waited. Instead\n            // of it waiting forever, we wake it up setting the response to error\n            // of our own.\n            if (\n              this.readyResponses.length === 0 &&\n              this.outstandingFetchesCount === 0 &&\n              this.enabledResponseBodyChunkCount === 0\n            ) {\n              this.addReadyResponse({\n                event: EVENT_ERROR,\n                error: new Error(\n                  'Bad wait: no outstanding fetches, responses, or response body chunks'\n                ),\n              })\n              return\n            }\n\n            if (this.readyResponses.length > 0) {\n              this.sendNextReadyResponse()\n              return\n            }\n\n            break\n          }\n          default:\n            throw new Error(`Unknown message type: ${type}`)\n        }\n      }\n\n      this.worker.postMessage(\n        {\n          command: 'run',\n          port: this.channel.port1,\n          wasmInitialMemory: wasmInitialMemory,\n        },\n        [\n          //@ts-ignore\n          this.channel.port1,\n        ]\n      )\n    })\n  }\n\n  /// Issues a fetch request that was serialized from the worker thread.\n  async issueFetch(requestId: number, ...fetchArgs: any[]) {\n    ++this.outstandingFetchesCount\n    // Sailfish does not follow redirects, so the CLI EdgeFunctions need to emulate that.\n    // Our QuickJs implements redirect on top of this 'basic' Sailfish type of fetch.\n    const [url, options] = fetchArgs\n    options.redirect = 'manual'\n\n    // Update the URL based on fetch origin and local overrides\n    let updatedUrl = new URL(url)\n    if (options.fetchOrigin === undefined) {\n      throw new Error('Fetch failed: request.fetchOrigin is undefined')\n    }\n\n    let fetchOrigin: Origins = options.fetchOrigin\n    if (fetchOrigin.override_host_header) {\n      options.headers['host'] = fetchOrigin.override_host_header\n    }\n\n    const hosts = fetchOrigin.hosts!\n    if (hosts === undefined) {\n      throw new Error('Fetch failed: request.fetchOrigin.hosts is undefined')\n    }\n\n    const randomHostIndex = Math.floor(Math.random() * hosts.length)\n    const randomHost = hosts[randomHostIndex]\n\n    // OriginBackends.location is either a:\n    // * Single Hostname string\n    // * Array of Hostname string\n    // * Array of object with {Port, Hostname}\n    // If we get an array, we choose a random one from it.\n    let location = randomHost.location!\n    if (location === undefined) {\n      throw new Error(\n        `Fetch failed: request.fetchOrigin.hosts[${randomHostIndex}].location is undefined`\n      )\n    }\n\n    let scheme = randomHost.scheme || 'match'\n    if (!['match', 'http', 'https'].includes(scheme)) {\n      throw new Error(\n        `Fetch failed: request.fetchOrigin.hosts[${randomHostIndex}].scheme must be one of 'match', 'http', 'https'`\n      )\n    }\n    if (scheme === 'match') {\n      scheme = updatedUrl.protocol === 'https:' ? 'https' : 'http'\n    }\n    updatedUrl.protocol = scheme + ':'\n    // Remove any custom port from the original request URL (e.g. http://localhost:3001/something)\n    // because in production either the standard port is used which based on the URL scheme\n    // (https -> 443) or custom port defined with your origin configuration.\n    updatedUrl.port = ''\n\n    if (typeof location === 'string') {\n      updatedUrl.hostname = location\n    } else if (Array.isArray(location)) {\n      // Pick a random location from the array.\n      const randomLocation = location[Math.floor(Math.random() * location.length)]\n      if (typeof randomLocation === 'string') {\n        updatedUrl.hostname = randomLocation\n      } else if (typeof randomLocation === 'object') {\n        updatedUrl.hostname = randomLocation.hostname\n        if (randomLocation.port) {\n          updatedUrl.port = randomLocation.port.toString()\n        }\n      }\n    }\n\n    // If a port was not explicitly set, set it based on the protocol.\n    updatedUrl.port = updatedUrl.port || (updatedUrl.protocol === 'https:' ? '443' : '80')\n\n    // This environment variable allows us to override the upstream host so we can test edge functions\n    // against a local web server.\n    const upstreamOverride = process?.env?.['EDGIO_CLI_UPSTREAM_OVERRIDE']\n    if (upstreamOverride) {\n      const upstreamOverrideUrl = new URL(upstreamOverride)\n      updatedUrl.protocol = upstreamOverrideUrl.protocol\n      updatedUrl.hostname = upstreamOverrideUrl.hostname\n      updatedUrl.port = upstreamOverrideUrl.port\n      console.warn(`Overriding upstream ${url} with ${updatedUrl} from EDGIO_CLI_UPSTREAM_OVERRIDE`)\n    }\n\n    let timeout: NodeJS.Timeout\n    // NodeJS accepts 0 ms timeouts but we don't.\n    if (options.fetchTimeout > 0) {\n      const AbortController = globalThis.AbortController || (await import('abort-controller'))\n      const controller = new AbortController()\n      timeout = setTimeout(() => {\n        controller.abort()\n      }, options.fetchTimeout)\n      options.signal = controller.signal\n    }\n\n    const isHttps = updatedUrl.protocol === 'https:'\n    if (isHttps && options.fetchOrigin?.tls_verify?.allow_self_signed_certs) {\n      options.agent = new HttpsAgent({\n        rejectUnauthorized: false, // This will bypass the certificate validation\n      })\n    }\n\n    EdgeFunctionsWorkerManager.fetchImpl(updatedUrl.toString(), options)\n      .then(async response => {\n        const body = await response.buffer()\n        --this.outstandingFetchesCount\n\n        // Now that the body has been decoded, remove the content-encoding header,\n        // as it is no longer valid. Edge functions always work with decoded content\n        // and fetch doesn't even allow access to encoded content but unfortunately\n        // leaves this header in the response.\n        response.headers.delete('content-encoding')\n\n        this.addReadyResponse({\n          event: EVENT_IO_FETCH,\n          requestId,\n          response: new EdgeFunctionResponse({\n            statusCode: response.status,\n            statusMessage: response.statusText,\n            body,\n            headers: response.headers.raw(),\n          }),\n        })\n      })\n      .catch(error => {\n        --this.outstandingFetchesCount\n        this.addReadyResponse({\n          event: EVENT_IO_FETCH,\n          requestId,\n          error_id: this.nodeFetchErrorToId(error),\n        })\n      })\n      .finally(() => {\n        clearTimeout(timeout)\n      })\n  }\n\n  private nodeFetchErrorToId(error: any) {\n    if (error.name === 'AbortError') {\n      return FetchResponseError.TIMEOUT\n    } else {\n      return FetchResponseError.CONNECT_FAILED\n    }\n  }\n\n  private addReadyResponse(response: any) {\n    this.readyResponses.push(response)\n    this.sendNextReadyResponse()\n  }\n\n  private async sendNextReadyResponse() {\n    // If the worker is waiting, it means it's ready to receive the next response\n    // in the shared buffer. This ensures that we don't overwrite the data in the\n    // shared buffer before the worker has finished with it.\n    if (this.workerIsWaiting) {\n      const readyResponse = this.readyResponses.shift()\n      this.copyDataToExchangeBuffer(readyResponse)\n      this.wakeWorker()\n    }\n  }\n\n  private copyDataToExchangeBuffer(data: Buffer) {\n    assert(data)\n\n    // TODO: If the buffer is too large, grow it?\n    // TODO: In this case the new buffer would have to be sent to the worker.\n\n    const serializedData = Serializer.serialize(data)\n    // First set the length of the serialized data.\n    this.dataLength[0] = serializedData.byteLength\n    // Copy the data into the exchange buffer.\n    serializedData.copy(Buffer.from(this.exchangeBuffer))\n  }\n\n  /// Wakes the worker that has been synchronously waiting for the next ready response.\n  /// For why this is required, read EdgeFunctionWorker.\n  private wakeWorker() {\n    assert(this.workerIsWaiting)\n\n    this.workerIsWaiting = false\n    Atomics.store(this.semaphore, SEMAPHORE_INDEX_WORKER_WAIT, SEMAPHORE_VALUE_SHOULD_WAKE)\n    Atomics.notify(this.semaphore, SEMAPHORE_INDEX_WORKER_WAIT)\n  }\n\n  public static clearWasmInitialMemory() {\n    wasmInitialMemory = undefined\n  }\n}\n", "import RequestContext from '../RequestContext'\nimport EdgeFunctionResponse from './EdgeFunctionResponse'\nimport { Buffer } from 'buffer'\nimport EdgeFunctionsWorkerManager from './EdgeFunctionsWorkerManager'\n\n/// Creates, runs, offers services to, kills and otherwise manages Edge Functions.\nexport default class EdgeFunctionsManager {\n  static s_instance: EdgeFunctionsManager = new EdgeFunctionsManager()\n\n  static instance(): EdgeFunctionsManager {\n    return EdgeFunctionsManager.s_instance\n  }\n\n  async runEdgeFunction(\n    context: RequestContext,\n    path: string,\n    sysVars: Map<string, string | Uint8Array>,\n    envVars: Map<string, string>,\n    usrVars: Map<string, string>,\n    httpVars: Map<string, string>,\n    rawBody?: Buffer\n  ): Promise<EdgeFunctionResponse> {\n    // We give the edge functions access to the entire request body if it's not empty.\n    const maybeRawBody = rawBody?.byteLength ? rawBody : undefined\n    const worker = new EdgeFunctionsWorkerManager(\n      context,\n      maybeRawBody,\n      path,\n      sysVars,\n      envVars,\n      usrVars,\n      httpVars\n    )\n    return worker.runEdgeFunction()\n  }\n}\n", "export default class HandlerFinished {\n  readonly reason: string\n\n  constructor(reason: string) {\n    this.reason = reason\n  }\n}\n", "import { EdgeFunction, EdgeFunctionObject, EdgeFunctionPath, Features, Rules } from '../types'\nimport { dirname, join, resolve } from 'path'\n\n/**\n * Gets the js_path specified from the EdgeFunction\n */\nexport function getEdgeFunctionJsPath(edgeFunction: EdgeFunction): EdgeFunctionPath {\n  if (typeof edgeFunction === 'string') {\n    return edgeFunction as EdgeFunctionPath\n  } else if ((edgeFunction as EdgeFunctionObject).js_path) {\n    return (edgeFunction as EdgeFunctionObject).js_path!\n  }\n  throw new Error('Edge function path not specified')\n}\n\n/**\n * Returns an array containing all rules that contain the edge_function feature.\n * @param rules The router rules\n * @returns\n */\nexport function getEdgeFunctionFeatures(rules: Rules[]) {\n  const features: Features[] = []\n\n  forEachFeature(rules, feature => {\n    if (feature.edge_function) {\n      features.push(feature)\n    }\n  })\n\n  return features\n}\n\n/**\n * Returns an array containing all the edge function files\n * referenced by the specified rules.\n * @param rules The router rules\n */\nexport function getEdgeFunctionFiles(rules: Rules[]) {\n  let fileList = new Set<string>()\n\n  for (let feature of getEdgeFunctionFeatures(rules)) {\n    const srcPath = getEdgeFunctionJsPath(feature.edge_function!)\n    const fileGlob = join(resolve(dirname(srcPath)), '*.js')\n    fileList.add(fileGlob)\n  }\n\n  return Array.from(fileList)\n}\n\n/**\n * Calls the specified callback for each feature in the rules array\n * @param rules The rules to traverse\n * @param callback The callback to call with each feature\n */\nexport function forEachFeature(rules: any, callback: (features: Features) => void) {\n  if (Array.isArray(rules)) {\n    for (let item of rules) {\n      forEachFeature(item, callback)\n    }\n  } else if (typeof rules === 'object') {\n    callback(rules)\n\n    for (const key in rules) {\n      forEachFeature(rules[key], callback)\n    }\n  }\n}\n\n/**\n * Converts all edge_function features from the legacy EdgeFunctionPath to EdgeFunctionObject.\n * @param rules The rules to traverse\n */\nexport function forceEdgeFunctionFeatureObject(rules: any, default_version_number: number) {\n  forEachFeature(rules, feature => {\n    if (feature.edge_function) {\n      if (typeof feature.edge_function === 'string') {\n        const js_path = feature.edge_function as EdgeFunctionPath\n\n        feature.edge_function = {\n          js_path: js_path,\n          version: default_version_number,\n        }\n      }\n    }\n  })\n}\n\n/**\n * Returns true when specified rules contain\n * at least one edge_function feature.\n */\nexport function containsEdgeFunctionFeature(rules: Rules[]) {\n  return getEdgeFunctionFeatures(rules).length > 0\n}\n", "import { isCloud } from '../../environment'\nimport Phase from '../Phase'\nimport Mod from './Mod'\nimport EdgeFunctionsManager from '../edge-functions/EdgeFunctionsManager'\nimport log from '../../log'\nimport HandlerFinished from '../HandlerFinished'\nimport { EDGIO_EDGE_FUNCTION_ENV_VARIABLES } from '../../constants'\nimport { extractInterpolationValues } from '../interpolate'\nimport { getEdgeFunctionJsPath } from '../../utils/edgeFunctionUtils'\n\nexport default class ModEdgeFunctions extends Mod {\n  async execute(phase: Phase) {\n    if (this.context.useCacheFile) {\n      // Will get here if the response was found in the cache. In this case we should\n      // not run any edge functions.\n      return\n    }\n\n    const edgeFunctions: string[] = []\n\n    // find all configured edge functions\n    this.context.forEachMatchingRule(rule => {\n      if (rule.edge_function) {\n        edgeFunctions.push(getEdgeFunctionJsPath(rule.edge_function))\n      }\n    })\n\n    // run each edge function\n    for (let edgeFunction of edgeFunctions) {\n      try {\n        const result = await this.run(edgeFunction, phase)\n        if (result.statusCode) {\n          const response = this.context.getResponse()\n          response.statusCode = result.statusCode\n          response.statusMessage = result.statusMessage\n          const headers = result.headers.headers()\n          const keys = Object.keys(headers)\n          for (let i = 0; i < keys.length; i++) {\n            const name = keys[i]\n            const value = headers[name]\n            response.setHeader(name, value)\n          }\n          result.body && response.write(result.body)\n          response.end()\n        } else {\n          // Where there is an exception or response object was not returned, respond with a 534 \"Project Error\"\n          this.set534Response(\n            'The edge function must return a valid Response object on completion.'\n          )\n        }\n      } catch (e: any) {\n        // Unhandled exception in the edge function are caught by quickjs-wasm/quickjs-runtime/src/lib.rs at\n        // this point in the CLI there is no additional information. Must match message returned by SailFish.\n        this.set534Response(`${e.message}`)\n      }\n      throw new HandlerFinished('done with edge function')\n    }\n  }\n\n  private set534Response(msg: string): void {\n    const response = this.context.getResponse()\n    response.statusCode = 534\n    response.statusMessage = 'Project Error'\n    if (isCloud()) {\n      // Do not inclide the full stack trace when running in the cloud\n      response.write(`Project Error in edge function`)\n    } else {\n      response.write(`Edge function failed: ${msg}`) // must match SailFish)\n      log.error(msg)\n    }\n    response.end()\n  }\n\n  /**\n   * Runs the specified edge function.\n   * @param edgeFunction\n   */\n  private async run(edgeFunctionPath: string, phase: Phase) {\n    const bytecode_base64 = this.context.edgeFunctions?.quickjs_bytecode_base64\n    if (!bytecode_base64) {\n      throw new Error('Edge function bytecode not found')\n    }\n    const bytecode = Buffer.from(bytecode_base64, 'base64')\n\n    // Copy the user's 'set_variables:' from the router to the usrVarMap\n    let usrVarMap = new Map()\n    for (const key in this.context.variables) {\n      usrVarMap.set(key, this.context.variables[key])\n    }\n\n    // Set path, bytecode into the sysVarMap\n    let sysVarMap = new Map()\n    sysVarMap.set(EDGIO_EDGE_FUNCTION_ENV_VARIABLES.path, edgeFunctionPath)\n    sysVarMap.set(EDGIO_EDGE_FUNCTION_ENV_VARIABLES.quickjsBytecodeBase64, bytecode)\n    // When running from Node.js if the environment variable `debug` is set to `true` then\n    // map it to the sailfish.conf (\"debug\"=>\"enabled\") key in the sysVarMap.\n    if (process.env?.debug === 'true')\n      sysVarMap.set(EDGIO_EDGE_FUNCTION_ENV_VARIABLES.debug, 'enabled')\n\n    // Set local environmnet variables into envVarMap\n    let envVarMap = new Map()\n    for (const key in process.env) {\n      envVarMap.set(key, process.env[key])\n    }\n\n    // Copy the edgio.config.js `interpolationValues:` into the httpVarMap\n    let httpVarMap = new Map()\n    let interpolationValues = extractInterpolationValues(this.context)\n    for (const key in interpolationValues) {\n      if (\n        key.startsWith('geo_') ||\n        key.startsWith('virt_') ||\n        key.startsWith('wurfl_') ||\n        key === 'path'\n      ) {\n        httpVarMap.set(key, interpolationValues[key])\n      }\n    }\n\n    return await EdgeFunctionsManager.instance().runEdgeFunction(\n      this.context,\n      edgeFunctionPath,\n      sysVarMap,\n      envVarMap,\n      usrVarMap,\n      httpVarMap,\n      this.context.getRequest().rawBody\n    )\n  }\n\n  toString(): string {\n    return 'ModEdgeFunctions'\n  }\n}\n", "/**\n * Parses and returns the content type from a string\n * in normalized format. Type and params are lowercased.\n * @param value\n */\nexport function parseContentType(value: string) {\n  value = value.toLowerCase()\n  const [type, ...params] = value.split(';')\n  return {\n    type,\n    params: params.reduce((acc, param) => {\n      const [key, value] = param.split('=')\n      acc[key.trim()] = value.trim()\n      return acc\n    }, {} as Record<string, string>),\n  }\n}\n", "import Mod from './Mod'\nimport Phase from '../Phase'\nimport { BROTLI_ENCODING, DEFLATE_ENCODING, GZIP_ENCODING, HTTP_HEADERS } from '../../constants'\nimport zlib from 'zlib'\nimport { parseContentType } from '../../utils/headerUtils'\n\n/**\n * A helper function to get the first value from the array, or the value itself if it's not an array.\n */\nconst getFirstOrValue = (value: unknown) => {\n  return <string>(Array.isArray(value) ? value[0] : value)\n}\n\n/**\n * Those content types that will be gzipped are generated from the lists in:\n * our Edgio v1 production Nginx + Edgio v1 production Varnish + default CDN gzip policy\n *\n * Set is not always optimal but in the benchmarks came out on top the most times.\n * It is also the easiest to read and check for correctness.\n *\n * NOTE: this is not related to sailfish, but rather previous implementation of encoding\n * we were returning from app. Therefore, we use this only in production / when not running simulator.\n */\nconst COMPRESSIBLE_TYPES = new Set([\n  'application/atom_xml',\n  'application/javascript',\n  'application/json',\n  'application/rss+xml',\n  'application/vnd.ms-fontobject',\n  'application/x-font-opentype',\n  'application/x-font-ttf',\n  'application/x-javascript',\n  'application/xhtml+xml',\n  'application/xml',\n  'application/xml+rss',\n  'font/eot',\n  'font/opentype',\n  'font/otf',\n  'image/svg+xml',\n  'image/x-icon',\n  'text/css',\n  'text/html',\n  'text/javascript',\n  'text/js',\n  'text/plain',\n])\n\n/**\n * Emulation of Sailfish's mod_transcode\n */\nexport default class ModTranscode extends Mod {\n  async execute(phase: Phase) {\n    // we return early if response is not encodable\n    if (!this.isEncodable()) return\n\n    if (\n      (this.context.useCacheFile && phase === Phase.HandleDocRoot) ||\n      phase === Phase.StreamResponse ||\n      phase === Phase.HandleResponseHeader\n    ) {\n      const request = this.context.getRequest()\n      const response = this.context.getResponse()\n\n      const contentEncoding = getFirstOrValue(response.getHeader(HTTP_HEADERS.contentEncoding))\n      const acceptEncoding = getFirstOrValue(request.getHeader(HTTP_HEADERS.acceptEncoding))\n\n      const BROTLI_ENCODING_REGEX = /\\bbr\\b/\n      const GZIP_ENCODING_REGEX = /\\bgzip\\b/\n      const DEFLATE_ENCODING_REGEX = /\\bdeflate\\b/\n\n      // this will check whether the downstream is ALREADY compatible with the encoding\n      // (which means that encoders are alraday set, and we dont need to do anything)\n      const downstreamIsGzipCompatible = GZIP_ENCODING_REGEX.test(acceptEncoding)\n      const downstreamIsBrotliCompatible = BROTLI_ENCODING_REGEX.test(acceptEncoding)\n      const downstreamIsDeflateCompatible = DEFLATE_ENCODING_REGEX.test(acceptEncoding)\n\n      if (downstreamIsGzipCompatible && contentEncoding === GZIP_ENCODING) {\n        return\n      }\n      if (downstreamIsBrotliCompatible && contentEncoding === BROTLI_ENCODING) {\n        return\n      }\n      if (downstreamIsDeflateCompatible && contentEncoding === DEFLATE_ENCODING) {\n        return\n      }\n\n      // we delete content-length, as we cant know it before reencoding\n      response.removeHeader(HTTP_HEADERS.contentLength)\n      response.setHeader(HTTP_HEADERS.transferEncoding, 'chunked')\n\n      // left here for testing purposes - undefined == default chunk size\n      const chunkSize = undefined\n\n      switch (contentEncoding) {\n        case BROTLI_ENCODING:\n          response.setDecoder(\n            zlib.createBrotliDecompress({\n              chunkSize,\n            })\n          )\n          break\n        case GZIP_ENCODING:\n          response.setDecoder(zlib.createGunzip({ chunkSize }))\n          break\n        case DEFLATE_ENCODING:\n          response.setDecoder(zlib.createInflate({ chunkSize }))\n          break\n      }\n\n      let contentType: string = response.getHeader(HTTP_HEADERS.contentType) as string\n      if (Array.isArray(contentType)) {\n        contentType = contentType[0]\n      }\n      const parsedContentType = contentType && parseContentType(contentType).type.toLowerCase()\n\n      if (\n        this.context.executingSimulator ||\n        (parsedContentType && COMPRESSIBLE_TYPES.has(parsedContentType))\n      ) {\n        // If multiple are compatible,\n        // we'll choose them in the order of: brotli, gzip, deflate\n        if (downstreamIsBrotliCompatible) {\n          response.setEncoder(\n            zlib.createBrotliCompress({\n              chunkSize,\n              params: {\n                // TODO: probably should be settable through some header? is there some spec for it? default is 11, which is 37.29Kbps, 7 is 2.7Mbps etc.\n                // https://quixdb.github.io/squash-benchmark/#results-table\n                [zlib.constants.BROTLI_PARAM_QUALITY]: 5,\n              },\n            })\n          )\n          response.setHeader(HTTP_HEADERS.contentEncoding, BROTLI_ENCODING)\n        } else if (downstreamIsGzipCompatible) {\n          response.setEncoder(zlib.createGzip({ chunkSize }))\n          response.setHeader(HTTP_HEADERS.contentEncoding, GZIP_ENCODING)\n        } else if (downstreamIsDeflateCompatible) {\n          response.setEncoder(zlib.createDeflate({ chunkSize }))\n          response.setHeader(HTTP_HEADERS.contentEncoding, DEFLATE_ENCODING)\n        }\n      } else {\n        response.removeHeader(HTTP_HEADERS.contentEncoding)\n      }\n      response.initDownstream()\n    }\n  }\n\n  // following response codes and methods were copied straight from sailfish -> some status codes arent encoded, and sailfish returns early\n  private isEncodable() {\n    const responseCode = this.context.getResponse().statusCode\n    const method = this.context.getRequest().method.toUpperCase()\n\n    if (method !== 'GET' && method !== 'POST' && method !== 'PUT') {\n      return false\n    }\n\n    return (\n      responseCode < 400 &&\n      ![100, 101, 204, 205, 206, 302, 304, 307].find(invalidCode => invalidCode === responseCode)\n    )\n  }\n\n  toString() {\n    return 'ModTranscode'\n  }\n}\n", "import { RulesVariables } from '../../types'\n\nexport type Operand = number | string | string[] | boolean | RulesVariables\nexport const EQUALS_EXPRESS = '=='\nexport const EQUALS = '==='\nexport const AND = 'and'\nexport const OR = 'or'\nexport const NOT_EQUALS_EXPRESS = '!='\nexport const NOT_EQUALS = '!=='\nexport const MATCHES = '=~'\nexport const NOT_MATCHES = '!~'\nexport const GREATER_THAN = '>'\nexport const GREATER_THAN_OR_EQUALS = '>='\nexport const LESS_THAN = '<'\nexport const LESS_THAN_OR_EQUALS = '<='\nexport const IN = 'in'\nexport const NOT_IN = 'not_in'\n", "import { Boolean, Conditionals, Features, Matches, Rules } from '../../types'\nimport {\n  AND,\n  EQUALS,\n  EQUALS_EXPRESS,\n  GREATER_THAN,\n  GREATER_THAN_OR_EQUALS,\n  IN,\n  LESS_THAN,\n  LESS_THAN_OR_EQUALS,\n  MATCHES,\n  NOT_EQUALS,\n  NOT_EQUALS_EXPRESS,\n  NOT_IN,\n  NOT_MATCHES,\n  OR,\n} from './constants'\n\n/**\n * Config object with callbacks for RulesVisitor\n */\nexport interface RulesVisitorCallbacks {\n  onRuleVisit?: (rule: Rules, ruleIndex: number) => void\n  onMatchesVisit?: (matches: Matches, ruleIndex: number) => void\n  onFeaturesVisit?: (features: Features, ruleIndex: number) => void\n  onConditionalsVisit?: (conditionals: Conditionals, ruleIndex: number) => void\n  onBooleanVisit?: (boolean: Boolean, ruleIndex: number) => void\n  onConditionVisit?: (condition: any[], operator: string, ruleIndex: number) => void\n}\n\nexport class RulesVisitorStop extends Error {}\n\n/**\n * Visitor for Rules which allows to visit each node of the Rules structure\n * and call callbacks for each node type.\n */\nexport default class RulesVisitor {\n  protected callbacks: RulesVisitorCallbacks\n\n  constructor(callbacks: RulesVisitorCallbacks = {}) {\n    this.callbacks = callbacks\n  }\n\n  /**\n   * Sets callback which is triggered when Rule node is visited.\n   * @param callback\n   */\n  public onRuleVisit(callback: (rule: Rules, ruleIndex: number) => void) {\n    this.callbacks.onRuleVisit = callback\n  }\n\n  /**\n   * Sets callback which is triggered when Matches node is visited.\n   * @param callback\n   */\n  public onMatchesVisit(callback: (matches: Matches, ruleIndex: number) => void) {\n    this.callbacks.onMatchesVisit = callback\n  }\n\n  /**\n   * Sets callback which is triggered when Features node is visited.\n   * @param callback\n   */\n  public onFeaturesVisit(callback: (features: Features, ruleIndex: number) => void) {\n    this.callbacks.onFeaturesVisit = callback\n  }\n\n  /**\n   * Sets callback which is triggered when Conditionals node is visited.\n   * @param callback\n   */\n  public onConditionalsVisit(callback: (conditionals: Conditionals, ruleIndex: number) => void) {\n    this.callbacks.onConditionalsVisit = callback\n  }\n\n  /**\n   * Sets callback which is triggered when Boolean node is visited.\n   * @param callback\n   */\n  public onBooleanVisit(callback: (boolean: Boolean, ruleIndex: number) => void) {\n    this.callbacks.onBooleanVisit = callback\n  }\n\n  /**\n   * The visitor visits each node of the Rules structure and calls callbacks for each node type.\n   * This is starting point of the visitor.\n   * @param rules The array of rules\n   * @param parentRuleIndex The index of parent rule if we're visiting nested rules\n   */\n  public visit(rules: Rules[], parentRuleIndex?: number) {\n    try {\n      rules.forEach((rule, ruleIndex) => this.visitRule(rule, parentRuleIndex ?? ruleIndex))\n    } catch (e: any) {\n      if (e instanceof RulesVisitorStop) return\n      // Rethrow unknown error\n      throw e\n    }\n  }\n\n  /**\n   * This method is called when we visit Rule node.\n   * @param rule\n   * @param ruleIndex\n   */\n  protected visitRule(rule: Rules, ruleIndex: number) {\n    this.callbacks?.onRuleVisit?.(rule, ruleIndex)\n\n    if (this.isMatches(rule)) {\n      this.visitMatches(rule as Matches, ruleIndex)\n    } else {\n      this.visitFeaturesOrRules(rule, ruleIndex)\n    }\n  }\n\n  /**\n   * This method is called when we visit Matches node.\n   * @param matches\n   * @param ruleIndex\n   */\n  protected visitMatches(matches: any, ruleIndex: number) {\n    this.callbacks?.onMatchesVisit?.(matches, ruleIndex)\n\n    const ifStatements: Array<Conditionals | Boolean | Features | Rules[]> = matches?.if\n    if (!ifStatements) return\n\n    ifStatements.forEach((ifStatement: any) => {\n      if (this.isConditionals(ifStatement)) {\n        this.visitConditionals(ifStatement, ruleIndex)\n      } else if (this.isBoolean(ifStatement)) {\n        this.visitBoolean(ifStatement, ruleIndex)\n      } else {\n        this.visitFeaturesOrRules(ifStatement, ruleIndex)\n      }\n    })\n  }\n\n  /**\n   * This method is called when we visit Features or Rules node.\n   * @param featuresOrRules\n   * @param ruleIndex\n   */\n  protected visitFeaturesOrRules(featuresOrRules: Features | Rules[], ruleIndex: number) {\n    this.isRules(featuresOrRules)\n      ? this.visit(featuresOrRules, ruleIndex)\n      : this.visitFeatures(featuresOrRules, ruleIndex)\n  }\n\n  /**\n   * This method is called when we visit Features node.\n   * @param features\n   * @param ruleIndex\n   */\n  protected visitFeatures(features: Features, ruleIndex: number) {\n    this.callbacks?.onFeaturesVisit?.(features, ruleIndex)\n  }\n\n  /**\n   * This method is called when we visit Conditionals node.\n   * @param conditionals\n   * @param ruleIndex\n   */\n  protected visitConditionals(conditionals: Conditionals, ruleIndex: number) {\n    this.callbacks?.onConditionalsVisit?.(conditionals, ruleIndex)\n\n    Object.keys(conditionals).forEach(operator => {\n      const condition = conditionals[operator]\n      this.visitCondition(condition, operator, ruleIndex)\n    })\n  }\n\n  /**\n   * This method is called when we visit Condition node.\n   * @param operator\n   * @param condition\n   * @param ruleIndex\n   */\n  protected visitCondition(condition: any[], operator: string, ruleIndex: number) {\n    this.callbacks?.onConditionVisit?.(condition, operator, ruleIndex)\n  }\n\n  /**\n   * This method is called when we visit Boolean node.\n   * @param boolean\n   * @param ruleIndex\n   */\n  protected visitBoolean(boolean: Boolean, ruleIndex: number) {\n    this.callbacks?.onBooleanVisit?.(boolean, ruleIndex)\n\n    const booleanItemHandler = (item: Conditionals | Boolean) => {\n      if (this.isBoolean(item)) return this.visitBoolean(item, ruleIndex)\n      this.visitConditionals(item, ruleIndex)\n    }\n    boolean[AND]?.forEach(booleanItemHandler)\n    boolean[OR]?.forEach(booleanItemHandler)\n  }\n\n  /**\n   * Returns true if passed object is Matches type from Rules\n   * @param rule\n   */\n  protected isMatches(rule: Rules): rule is Matches {\n    return Object.keys(rule).includes('if')\n  }\n\n  /**\n   * Returns true if passed object is Rules[] type from Rules\n   * @param rule\n   */\n  protected isRules(rule: Features | Rules[]): rule is Rules[] {\n    return Array.isArray(rule)\n  }\n\n  /**\n   * Returns true if passed object is Boolean type from Rules\n   * @param condition\n   */\n  protected isBoolean(condition: Boolean | Conditionals | Features): condition is Boolean {\n    return [AND, OR].some(key => Object.keys(condition).includes(key))\n  }\n\n  /**\n   * Returns true if passed object is Conditionals type from Rules\n   * @param condition\n   */\n  protected isConditionals(\n    condition: Boolean | Conditionals | Features\n  ): condition is Conditionals {\n    return [\n      EQUALS_EXPRESS,\n      EQUALS,\n      NOT_EQUALS_EXPRESS,\n      NOT_EQUALS,\n      MATCHES,\n      NOT_MATCHES,\n      GREATER_THAN,\n      GREATER_THAN_OR_EQUALS,\n      LESS_THAN,\n      LESS_THAN_OR_EQUALS,\n      IN,\n      NOT_IN,\n    ].some(key => Object.keys(condition).includes(key))\n  }\n\n  /**\n   * This method can be called from any visit method or callback to immediately stop the visitor.\n   */\n  public stop() {\n    throw new RulesVisitorStop()\n  }\n}\n", "import Mod from './Mod'\nimport Phase from '../Phase'\nimport RulesVisitor from '../rules/RulesVisitor'\nimport { fromEdgeRegex } from '../../utils/toEdgeRegex'\nimport { Features } from '../../types'\nimport { EDGIO_CLOUD_FUNCTIONS_HINT_HEADER, EDGIO_CLOUD_FUNCTIONS_HINTS } from '../../constants'\n\n/**\n * Simulator-only mod (meaning without sailfish counterpart), which streams content if necessary - eg. if reading response from cache, or if set_response_body was set\n */\nexport default class ModStream extends Mod {\n  async execute(phase: Phase) {\n    if (Phase.UriClean === phase) {\n      this.applyStreamingConfig()\n    }\n    if (Phase.HandleResponseDone === phase || Phase.StreamResponse === phase) {\n      await this.stream()\n    }\n  }\n\n  /**\n   * Configures response for streaming\n   * by enabling or disabling it on certain conditions.\n   */\n  protected applyStreamingConfig() {\n    const response = this.context.getResponse()\n    const request = this.context.getRequest()\n    const statusCodePatterns: RegExp[] = this.getCatchStatusCodes()\n\n    response.setIsStreamable(() => {\n      let setResponseBodyFeatureFound = false\n\n      this.context.forEachMatchingRule((features: Features) => {\n        if (features.response?.set_response_body) {\n          setResponseBodyFeatureFound = true\n        }\n      })\n\n      // do not stream if image optimization is enabled\n      if (this.context.optimizeImages) return false\n\n      // do not stream if set_response_body will be executed\n      if (setResponseBodyFeatureFound) return false\n\n      // do not stream if we receive 416 from origin\n      if (response.statusCode === 416) return false\n\n      // do not stream if following redirects\n      if (response.getHeader('location') && this.context.followRedirects) return false\n\n      // do not stream if we receive the status code from origin that should be caught\n      if (statusCodePatterns.find(pattern => pattern.test(response.statusCode.toString()))) {\n        return false\n      }\n\n      const hintHeader = request.getHeader(EDGIO_CLOUD_FUNCTIONS_HINT_HEADER)?.toString()\n      // do not stream if we do proxy with transformRequest or transformResponse\n      if (hintHeader?.includes(EDGIO_CLOUD_FUNCTIONS_HINTS.proxy)) {\n        return false\n      }\n      // do not stream if we do compute\n      if (hintHeader?.includes(EDGIO_CLOUD_FUNCTIONS_HINTS.compute)) {\n        return false\n      }\n      // do not stream if we do serverless redirect\n      if (hintHeader?.includes(EDGIO_CLOUD_FUNCTIONS_HINTS.redirect)) {\n        return false\n      }\n\n      // otherwise enable streaming of response\n      // for EDGIO_CLOUD_FUNCTIONS_HINTS.app and other cases\n      return true\n    })\n  }\n\n  /**\n   * Performs streaming\n   */\n  protected async stream() {\n    // we do not want to stream if we are following redirects\n    if (this.context.followRedirects) return\n\n    const response = this.context.getResponse()\n\n    if (!response.isHeadersStreamed && response.chunks.length > 0) {\n      await this.context.executeStreamResponse()\n    }\n\n    // no matter what, we wait for stream to fully end, to end the simulation processing\n    await response.waitForFlush()\n  }\n\n  /**\n   * Returns the list of regexp status code patterns that we should catch\n   */\n  protected getCatchStatusCodes(): RegExp[] {\n    const statusCodePatterns: RegExp[] = []\n    new RulesVisitor({\n      onConditionVisit: (condition, _operator) => {\n        const leftSide = condition?.[0]\n        const rightSide = condition?.[1]\n\n        // Nothing to do if the rule is not matching status code\n        if (leftSide['response'] !== 'status_code') {\n          return\n        }\n\n        // If status code is matched against a string value, we need to reconstruct the regex pattern\n        if (typeof rightSide === 'string') {\n          return statusCodePatterns.push(fromEdgeRegex(rightSide))\n        }\n\n        // If we have an array of status codes, we need to convert them all to regex patterns\n        if (Array.isArray(rightSide)) {\n          return statusCodePatterns.push(...rightSide.map(code => new RegExp(code)))\n        }\n      },\n    }).visit(this.context.rules)\n\n    return statusCodePatterns\n  }\n\n  toString() {\n    return 'ModStream'\n  }\n}\n", "import log from '../log'\nimport EarlyReturn from './EarlyReturn'\nimport HandlerFinished from './HandlerFinished'\n\nexport default async function executePlan(plan: any) {\n  try {\n    for (let step of plan) {\n      try {\n        for (let mod of step.modules) {\n          const start = new Date().getTime()\n          try {\n            await mod.execute(step.phase)\n          } finally {\n            log.trace(\n              `executed ${step.phase}: ${mod.constructor.name} in ${new Date().getTime() - start}ms`\n            )\n          }\n        }\n      } catch (e) {\n        if (!(e instanceof HandlerFinished)) {\n          throw e\n        }\n      }\n    }\n  } catch (e) {\n    if (!(e instanceof EarlyReturn)) {\n      throw e\n    }\n  }\n}\n", "/**\n * Error thrown when a route pattern cannot be parsed by path-to-regexp\n */\nexport default class InvalidRoutePatternError extends Error {\n  /**\n   * Indicates that the error is user error and that it should be handled as so.\n   */\n  public readonly isUserError: boolean\n\n  constructor(pattern: string) {\n    super(\n      `Route pattern \"${pattern}\" contains invalid syntax. To force exact matching, wrap the path in the 'exact' function.\\n` +\n        `See https://docs.edg.io/guides/performance/cdn_as_code/common_routing_patterns for more information.`\n    ) // istanbul ignore next - this is a known issue with TypeScript\n    this.isUserError = true\n  }\n}\n", "import { pathToRegexp } from 'path-to-regexp'\nimport InvalidRoutePatternError from '../errors/InvalidRoutePatternError'\n\n/**\n * Converts an express-style path string with optional variables to a RegExp instance.\n * @param path\n * @returns\n */\nexport default function toPathRegexp(path?: string): RegExp {\n  /* istanbul ignore else */\n  if (path) {\n    try {\n      return pathToRegexp(path)\n    } catch (e) {\n      throw new InvalidRoutePatternError(path)\n    }\n  } else {\n    // For fallbacks we want everything matched so that we can replace everything if needed.\n    // We insist on total matching with `^` and `$` because some regex replacement algorithms\n    // have issues with correctly applying `.*` in completely greedy manner (e.g. Fastly's `regsuball`)\n    return /^.*$/\n  }\n}\n", "import RulesVisitor, { RulesVisitorCallbacks } from './RulesVisitor'\nimport { Boolean, Conditionals, RulesVariables } from '../../types'\nimport {\n  EQUALS,\n  EQUALS_EXPRESS,\n  GREATER_THAN,\n  GREATER_THAN_OR_EQUALS,\n  IN,\n  LESS_THAN,\n  LESS_THAN_OR_EQUALS,\n  MATCHES,\n  NOT_EQUALS,\n  NOT_EQUALS_EXPRESS,\n  NOT_IN,\n  NOT_MATCHES,\n  OR,\n  AND,\n  Operand,\n} from './constants'\nimport toRegExp from '../toRegExp'\nimport toPathRegexp from '../../utils/toPathRegexp'\n\n/**\n * This operator map provides the functions which are used to evaluate the conditionals.\n * The key is the operator name, the value is the function which accepts two operands (left and right side of condition).\n */\nexport const operatorsMap: { [key: string]: (l: any, r: any) => boolean } = {\n  [EQUALS]: (l: any, r: any) => l === r,\n  [NOT_EQUALS]: (l: any, r: any) => l !== r,\n  [EQUALS_EXPRESS]: (l: any, r: any) => toPathRegexp(<string>r).test(l?.toString() ?? ''),\n  [NOT_EQUALS_EXPRESS]: (l: any, r: any) => !toPathRegexp(<string>r).test(l?.toString() ?? ''),\n  [LESS_THAN]: (l: any, r: any) => Number(l) < Number(r),\n  [LESS_THAN_OR_EQUALS]: (l: any, r: any) => Number(l) <= Number(r),\n  [GREATER_THAN]: (l: any, r: any) => Number(l) > Number(r),\n  [GREATER_THAN_OR_EQUALS]: (l: any, r: any) => Number(l) >= Number(r),\n  [MATCHES]: (l: any, r: any) => toRegExp(<string>r).test(l?.toString() ?? ''),\n  [NOT_MATCHES]: (l: any, r: any) => !toRegExp(<string>r).test(l?.toString() ?? ''),\n  [IN]: (l: any, r: any) => r?.some((item: string | number) => l?.toString() === item?.toString()),\n  [NOT_IN]: (l: any, r: any) =>\n    !r?.some((item: string | number) => l?.toString() === item?.toString()),\n}\n\n/**\n * This callback should accept RulesVariables and return the values for them.\n * If the variable is unknown or not supported, it should return undefined.\n */\nexport type EvalVariableCallback = (variable: RulesVariables) => Operand | undefined\n\n/**\n * Visitor for the Rules which visits each node of the Rules structure\n * and call callbacks for each node type only if the Rule's condition is evaluated to true.\n */\nexport default class RulesConditionalVisitor extends RulesVisitor {\n  // The evalVariableCallback provides condition variables\n  protected evalVariableCallback: EvalVariableCallback\n\n  constructor(evalVariableCallback: EvalVariableCallback, callbacks: RulesVisitorCallbacks = {}) {\n    super(callbacks)\n    this.evalVariableCallback = evalVariableCallback\n  }\n\n  /**\n   * This method is called when we visit Matches node.\n   * It calls visitFeatures/visitRules if the Matches condition is evaluated to true.\n   * @param matches\n   * @param ruleIndex\n   */\n  protected visitMatches(matches: any, ruleIndex: number) {\n    this.callbacks?.onMatchesVisit?.(matches, ruleIndex)\n\n    const ifStatement = matches?.if\n    if (!ifStatement) return\n\n    let conditionIndex = 0\n    while (conditionIndex < matches.if.length) {\n      const ifIndex = conditionIndex\n      const thenIndex = conditionIndex + 1\n      const elseIndex = conditionIndex + 2\n      const isLastCondition = elseIndex === matches.if.length - 1\n\n      const condition = ifStatement[ifIndex]\n      let conditionResult = false\n\n      // Evaluate the condition by evaluating the nested nodes\n      if (this.isConditionals(condition)) {\n        conditionResult = this.evalConditionals(condition, ruleIndex)\n      } else if (this.isBoolean(condition)) {\n        conditionResult = this.evalBoolean(condition, ruleIndex)\n      } else {\n        throw new Error(`Unsupported operator \"${Object.keys(condition).pop()}\".`)\n      }\n\n      // If the condition is met, we visit the 'then' Features,\n      // otherwise we visit the last 'else' Features.\n      if (conditionResult) {\n        this.visitFeaturesOrRules(ifStatement[thenIndex], ruleIndex)\n      } else if (isLastCondition) {\n        this.visitFeaturesOrRules(ifStatement[elseIndex], ruleIndex)\n      }\n\n      // We're done if this is the last Condition in Rule\n      if (isLastCondition) {\n        break\n      }\n\n      // If the condition isn't last, we have an 'else-if' statement.\n      // We update the index to point to the 'if' statement of it, and redo the loop.\n      conditionIndex += 2\n    }\n  }\n\n  /**\n   * Returns true if provided Boolean is evaluated to true.\n   * @param boolean\n   * @param ruleIndex\n   * @example\n   * evalConditionals({\n   *   \"and\": [\n   *     {\n   *       \"==\": [\n   *         {\n   *           \"request\": \"path\"\n   *         },\n   *         \"/:path\"\n   *       ]\n   *     },\n   *     {\n   *       \"or\": [\n   *           {\n   *              \"==\": [\n   *                {\n   *                  \"request\": \"path\"\n   *                },\n   *                \"/:path\"\n   *              ]\n   *           }\n   *       ]\n   *     }\n   *   ]\n   * }) => true\n   */\n  protected evalBoolean(boolean: Boolean, ruleIndex: number): boolean {\n    this.callbacks?.onBooleanVisit?.(boolean, ruleIndex)\n\n    const booleanItemHandler = (item: Conditionals | Boolean) => {\n      if (this.isBoolean(item)) return this.evalBoolean(item, ruleIndex)\n      return this.evalConditionals(item, ruleIndex)\n    }\n    if (boolean[AND]) {\n      return boolean[AND].every(booleanItemHandler)\n    }\n    if (boolean[OR]) {\n      return boolean[OR].some(booleanItemHandler)\n    }\n    return false\n  }\n\n  /**\n   * Returns true if provided Conditionals is met, false otherwise.\n   * @param conditionals\n   * @param ruleIndex\n   * @example\n   * evalConditionals({\n   *     \"==\": [\n   *        {\n   *          \"request\": \"path\"\n   *        },\n   *        \"/:path\"\n   *     ]\n   * }) => true\n   */\n  protected evalConditionals(conditionals: Conditionals, ruleIndex: number): boolean {\n    this.callbacks?.onConditionalsVisit?.(conditionals, ruleIndex)\n\n    const operators = Object.keys(conditionals)\n    if (operators.length !== 1) {\n      throw new Error(\n        `Conditional statements must contain a single operator. The following operators were found: ${operators.join(\n          ', '\n        )}`\n      )\n    }\n\n    const [operator, condition] = Object.entries(conditionals)[0]\n    return this.evalCondition(condition, operator, ruleIndex)\n  }\n\n  /**\n   * Returns true if provided Condition is met, false otherwise.\n   * @param condition\n   * @param operator\n   * @param ruleIndex\n   * @example\n   * evalCondition([\n   *     {\n   *          \"request\": \"path\"\n   *     },\n   *     \"/:path\"\n   * ], \"==\") => true\n   */\n  protected evalCondition(condition: any[], operator: string, ruleIndex: number): boolean {\n    this.callbacks?.onConditionVisit?.(condition, operator, ruleIndex)\n\n    const [left, right] = condition.map((operand: any) => this.evalOperand(operand))\n    return operatorsMap?.[operator]?.(left, right)\n  }\n\n  /**\n   * Evaluates an operands, which may be a constant or RulesVariable instance.\n   * @param operand\n   * @returns\n   */\n  protected evalOperand(operand: Operand): Operand | undefined {\n    if (\n      operand == null ||\n      typeof operand === 'string' ||\n      typeof operand === 'boolean' ||\n      typeof operand === 'number' ||\n      Array.isArray(operand)\n    ) {\n      return operand\n    }\n    return this.evalVariableCallback(<RulesVariables>operand)\n  }\n}\n", "export const AUTO_OPTIONS = {\n  webp: 'webp',\n  saveData: 'save-data',\n  smallest: 'smallest',\n}\n\nexport const FIT_OPTIONS = {\n  crop: 'crop',\n  cover: 'cover',\n  bounds: 'bounds',\n  smart: 'smart',\n  default: 'default',\n}\n\n/**\n * Those content types that are supported by Image Optimizer.\n */\nexport const SUPPORTED_TYPES: {\n  [key: string]: string\n} = {\n  jpg: 'image/jpeg',\n  jpeg: 'image/jpeg',\n  pjpg: 'image/pjpeg',\n  pjpeg: 'image/pjpeg',\n  png: 'image/png',\n  ppng: 'image/ppng',\n  gif: 'image/gif',\n  webp: 'image/webp',\n  tiff: 'image/tiff',\n  tif: 'image/tif',\n}\nexport const SUPPORTED_EXTENSIONS = Object.keys(SUPPORTED_TYPES)\nexport const SUPPORTED_CONTENT_TYPES = Object.values(SUPPORTED_TYPES)\nexport const MAX_IMAGE_SIZE = 10 * 1024 * 1024 // 10 MiB\n\nexport type FitOption = (typeof FIT_OPTIONS)[keyof typeof FIT_OPTIONS]\nexport type AutoOption = (typeof AUTO_OPTIONS)[keyof typeof AUTO_OPTIONS][]\nexport type FormatOption = (typeof SUPPORTED_TYPES)[keyof typeof SUPPORTED_TYPES]\n\nexport type RgbaColor = {\n  r: number\n  g: number\n  b: number\n  alpha: number\n}\n\nexport interface ImageOptimizerOutput {\n  output: Buffer\n  metadata?: ImageOptimizerMetadata\n}\n\nexport interface ImageOptimizerMetadata {\n  inputSize: number\n  outputSize: number\n  inputFormat: string\n  outputFormat: string\n  inputHeight: number\n  outputHeight: number\n  inputWidth: number\n  outputWidth: number\n  outputQuality: number\n  duration: number\n}\n\nexport interface ImageOptimizerConfig {\n  auto?: AutoOption\n  bgColor?: RgbaColor\n  blur?: number\n  canvas?: {\n    width: number\n    height: number\n    xOffset: number\n    yOffset: number\n  }\n  dpr?: number\n  fit?: FitOption\n  format?: FormatOption\n  height?: number\n  width?: number\n  pad?: {\n    top: number\n    bottom: number\n    left: number\n    right: number\n  }\n  quality?: number\n  rotate?: number\n  strip?: boolean\n  trim?: {\n    left: number\n    right: number\n    top: number\n    bottom: number\n  }\n  wurfl?: boolean\n}\n", "// Make sure to import just the types from the sharp module\nimport { type Sharp, type SharpOptions, type FitEnum, type FormatEnum } from 'sharp'\nimport { FIT_OPTIONS, ImageOptimizerOutput, ImageOptimizerConfig } from './types'\nimport logger from '../../log'\n\nexport type sharp = (input: Buffer, options?: SharpOptions) => Sharp\n\n/**\n * The Image Optimizer\n * that can be used to optimize and transform images.\n * See https://docs.edg.io/guides/v7/performance/image_optimization\n * and https://docs.edgecast.com/cdn/Content/HTTP_and_HTTPS_Data_Delivery/Edge-IO.htm#EdgeImageOptimizer\n * for all details and options.\n */\nexport class ImageOptimizer {\n  public readonly config: ImageOptimizerConfig\n  protected cachedSharp?: sharp\n\n  constructor(config: ImageOptimizerConfig = {}) {\n    this.config = config\n  }\n\n  /**\n   * Optimizes the image in the buffer\n   * and returns it as a new buffer.\n   * @param input\n   */\n  async optimize(input: Buffer): Promise<ImageOptimizerOutput> {\n    // Load the sharp module if it's not loaded yet.\n    const sharp = await this.getSharp()\n\n    // Return the original image\n    // if the sharp module is not available.\n    if (!sharp) return { output: input }\n\n    const startTime = performance.now()\n\n    const image = sharp(input)\n    const {\n      format: originalFormat = 'jpg',\n      width: originalWidth = 0,\n      height: originalHeight = 0,\n    } = await image.metadata()\n\n    // The default values should match the values\n    // of the Sailfish's Image Optimizer.\n    const {\n      rotate,\n      trim,\n      blur,\n      pad,\n      fit = 'default',\n      canvas,\n      dpr = 1,\n      strip = true,\n      format = originalFormat,\n      quality = 80,\n      bgColor: background = { r: 255, g: 255, b: 255, alpha: 1 },\n    } = this.config\n\n    const shouldResize = Boolean(this.config.width || this.config.height)\n    const widthRatio = originalWidth / originalHeight\n    const heightRatio = originalHeight / originalWidth\n\n    // Get the new width and height values\n    // and multiply them by the provided device pixel ratio.\n    let height = this.config.height ? this.config.height * dpr : 0\n    let width = this.config.width ? this.config.width * dpr : 0\n\n    // We do some adjustments to the width and height\n    // based on used fit option to match the Sailfish's behavior\n    // as close as possible because the sharp's fit options behave differently.\n    // This is not 100% accurate, but it's good enough for most cases.\n    if (fit === FIT_OPTIONS.smart || fit === FIT_OPTIONS.crop) {\n      width = width || originalWidth\n      height = height || width\n    }\n    if (fit === FIT_OPTIONS.cover) {\n      if (width && !height) {\n        height = width\n        width = 0\n      } else if (!width && height) {\n        height = originalHeight\n        width = originalWidth\n      } else {\n        width = width > height ? width : 0\n        height = height > width ? height : 0\n      }\n    }\n\n    // Calculate the current width and height of the image after resizing\n    // Sharp doesn't allow use to retrieve these updated values\n    // from the image metadata without converting the image to buffer that will add extra overhead.\n    // That's why we need to calculate them manually here.\n    height = height || Math.round((width || originalWidth) * heightRatio)\n    width = width || Math.round((height || originalHeight) * widthRatio)\n\n    // NOTE: The order of the below transformations matters,\n    // so please don't change it unless you check the actual behavior.\n\n    // Resizes the image. We need to maintain the aspect ratio of the image\n    // by default if only one dimension is provided.\n    if (shouldResize)\n      image.resize(width, height, {\n        background,\n        fit: this.toSharpFit(fit),\n      })\n\n    if (rotate) {\n      image.rotate(rotate, {\n        background,\n      })\n    }\n\n    if (blur) {\n      image.blur(blur)\n    }\n\n    // Strip removes all metadata such as EXIF, IPTC-IIM, XMP, etc... from the image.\n    if (!strip) {\n      // NOTE: This method exists but the sharp type definition\n      // is outdated because it's not generated from the source code.\n      // @ts-ignore\n      image?.keepMetadata()\n    }\n\n    // Trim crops the edges of the given size from the image.\n    if (trim) {\n      image.extract({\n        top: this.toPixels(trim.top, height),\n        left: this.toPixels(trim.left, width),\n        width: width - this.toPixels(trim.left, width) - this.toPixels(trim.right, width),\n        height: height - this.toPixels(trim.top, height) - this.toPixels(trim.bottom, height),\n      })\n    }\n\n    // Canvas crops the image to the provided canvas size and offset\n    // if the image is larger than the canvas and pads the image\n    // if the image is smaller than the provided canvas.\n    if (canvas) {\n      const cropWidth = canvas.width + canvas.xOffset > width ? width : canvas.width\n      const cropHeight = canvas.height + canvas.yOffset > height ? height : canvas.height\n\n      const xPadding = canvas.width > width ? canvas.width - width : 0\n      const yPadding = canvas.height > height ? canvas.height - height : 0\n\n      image.extract({\n        top: canvas.yOffset,\n        left: canvas.xOffset,\n        width: cropWidth,\n        height: cropHeight,\n      })\n      image.extend({\n        background,\n        top: yPadding / 2,\n        bottom: yPadding / 2,\n        left: xPadding / 2,\n        right: xPadding / 2,\n      })\n    }\n    // Pad adds border to the image\n    // with the provided background color.\n    if (pad) {\n      image.extend({\n        background,\n        top: this.toPixels(pad.top, height),\n        bottom: this.toPixels(pad.bottom, height),\n        left: this.toPixels(pad.left, width),\n        right: this.toPixels(pad.right, width),\n      })\n    }\n\n    // Quality has no effect on the webp format in toFormat method.\n    // That's why we need to use webp method instead.\n    if (format == 'webp') {\n      image.webp({\n        quality,\n        alphaQuality: quality,\n      })\n    } else if (format) {\n      // Format converts the image to the provided format\n      // and optimizes it based on the provided quality.\n      image.toFormat(format as keyof FormatEnum, {\n        progressive: true,\n        force: true,\n        quality,\n      })\n    }\n\n    // Convert the image back to the buffer.\n    const output = await image.toBuffer()\n\n    // Return the optimized image and metadata\n    // that can be used for debugging purposes.\n    return {\n      output,\n      metadata: {\n        inputSize: input.length,\n        outputSize: output.length,\n        inputFormat: originalFormat,\n        outputFormat: format,\n        inputHeight: originalHeight,\n        outputHeight: height,\n        inputWidth: originalWidth,\n        outputWidth: width,\n        outputQuality: quality,\n        duration: performance.now() - startTime,\n      },\n    }\n  }\n\n  /**\n   * Dynamically loads the sharp module\n   */\n  protected async getSharp(): Promise<sharp | undefined> {\n    try {\n      if (this.cachedSharp) return this.cachedSharp\n\n      // Find the path to the sharp module dynamically\n      // to prevent esbuild from resolving it during the build.\n      const sharpPath = require.resolve('sharp')\n\n      // The sharp module should not be bundled with the @edgio/core in order to reduce the size of the\n      // lambda folder. That's why we're using dynamic import here.\n      this.cachedSharp = (await import(sharpPath)).default\n\n      return this.cachedSharp\n    } catch {\n      logger.error(\n        `[ImageOptimizer] Couldn't load the 'sharp' module. ` +\n          `Edgio Image Optimizer requires the sharp's binaries to be installed for its local simulation, otherwise images will be returned unchanged. ` +\n          `If you see this message, that means your package manager didn't install the 'sharp' module correctly or it's not available for your platform.\\r\\n` +\n          `Possible solutions:\\r\\n` +\n          `\\t1. Run 'npm install --include=optional sharp' or 'yarn add sharp --ignore-engines' if you're using older version of npm/yarn.\\r\\n` +\n          `\\t2. Ensure your package manager supports multi-platform installation: https://sharp.pixelplumbing.com/install#multi-platform\\r\\n` +\n          `\\t3. Add platform-specific dependencies. For example: npm install --os=linux --cpu=x64 sharp\\r\\n` +\n          `\\t4. Check the sharp's installation guide: https://sharp.pixelplumbing.com/install\\r\\n`\n      )\n      return undefined\n    }\n  }\n\n  /**\n   * Calculates the number of pixels for the given value.\n   * The value is treated as percentage of the image size\n   * in case the value is less than 1 and as pixels otherwise.\n   * For example: 0.5 means 50% of the image size after resizing.\n   * For example: 10 means 10px\n   * @param value\n   * @param length\n   */\n  protected toPixels(value: number, length: number) {\n    if (value >= 1) return value\n    return Math.round(value * length)\n  }\n\n  /**\n   * Converts our Image Optimizer fit option\n   * to most similar sharp's fit option.\n   * @param edgioFit\n   */\n  protected toSharpFit(edgioFit: string): keyof FitEnum {\n    const map: {\n      [key: string]: string\n    } = {\n      cover: 'cover',\n      crop: 'cover',\n      bounds: 'outside',\n      smart: 'cover',\n      default: 'fill',\n    }\n    return (map[edgioFit] || map.default) as keyof FitEnum\n  }\n}\n", "export class ImageOptimizerError extends Error {\n  constructor(message: string) {\n    super(message)\n    this.name = 'ImageOptimizerError'\n  }\n}\n", "/**\n * Converts the string HEX color to RGBA object.\n * It accepts the HEX color without the # prefix and with or without alpha.\n * @param hex\n */\nexport function hexToRgba(hex: string):\n  | {\n      r: number\n      g: number\n      b: number\n      alpha: number\n    }\n  | undefined {\n  try {\n    hex = hex.replace('#', '')\n\n    // Handle inputs with not valid length\n    if (hex.length != 6 && hex.length != 8) {\n      return undefined\n    }\n\n    const r = parseInt(hex.slice(0, 2), 16),\n      g = parseInt(hex.slice(2, 4), 16),\n      b = parseInt(hex.slice(4, 6), 16),\n      alpha = hex.length == 8 ? parseInt(hex.slice(6, 8), 16) / 255 : 1\n\n    return { r, g, b, alpha }\n  } catch (e) {\n    return undefined\n  }\n}\n", "import {\n  AUTO_OPTIONS,\n  FIT_OPTIONS,\n  SUPPORTED_EXTENSIONS,\n  SUPPORTED_TYPES,\n  ImageOptimizerConfig,\n} from './types'\nimport { ImageOptimizerError } from './ImageOptimizerError'\nimport LambdaRequest from '../LambdaRequest'\nimport { hexToRgba } from '../../utils/colorUtils'\n\nexport class ImageOptimizerConfigParser {\n  static parseFromRequest(req: LambdaRequest) {\n    const query = req.query\n    const headers = req.headers\n    const config: ImageOptimizerConfig = {}\n\n    // Query string params\n\n    // Syntax: ?bg-color=<COLOR HEX CODE>\n    // Syntax: ?bg-color=<RED>,<GREEN>,<BLUE>\n    // Syntax: ?bg-color=<RED>,<GREEN>,<BLUE>,<ALPHA CHANNEL>\n    if (query['bg-color']) {\n      const values = this.parseStrings(query['bg-color'])\n      if (values.length === 1) {\n        config.bgColor = hexToRgba(values[0])\n      }\n      if (values.length === 3 || values.length === 4) {\n        config.bgColor = {\n          r: Number(values[0]),\n          g: Number(values[1]),\n          b: Number(values[2]),\n          alpha: Number(values[3] || 1),\n        }\n      }\n      if (\n        !config.bgColor ||\n        Object.values(config.bgColor).some(value => isNaN(value) || value < 0 || value > 255) ||\n        config.bgColor.alpha < 0 ||\n        config.bgColor.alpha > 1\n      ) {\n        throw new ImageOptimizerError(\n          `Invalid bg-color option. Valid values are HEX color ('#202020'), RGB ('255,255,0') or RGBA color ('255,255,0,0.5').`\n        )\n      }\n    }\n\n    // Syntax: ?blur=<VALUE 0-100>\n    if (query['blur']) {\n      config.blur = this.parseNumber(query['blur'])\n      if (config.blur && (config.blur <= 0 || config.blur > 100)) {\n        throw new ImageOptimizerError(`Invalid blur option. Value needs to be in range 1-100.`)\n      }\n    }\n\n    // Syntax: ?canvas=<CANVAS WIDTH>,<CANVAS HEIGHT>\n    // Syntax: ?canvas=<CANVAS WIDTH>,<CANVAS HEIGHT>,x<X-COORDINATE>,y<Y-COORDINATE>\n    if (query['canvas']) {\n      const values = this.parseNumbers(query['canvas'])\n      if (values.length < 2 || values.length > 4) {\n        throw new ImageOptimizerError(\n          `Invalid canvas option. Valid format is: 'width,height,xOffset?,yOffset?'`\n        )\n      }\n      config.canvas = {\n        width: values[0],\n        height: values[1],\n        xOffset: values[2] || 0,\n        yOffset: values[3] || 0,\n      }\n    }\n\n    // Syntax: ?dpr=<RATIO 1-10>\n    if (query['dpr']) {\n      config.dpr = this.parseNumber(query['dpr']) || 1\n      if (config.dpr <= 0 || config.dpr > 10) {\n        throw new ImageOptimizerError(`Invalid dpr option. Valid values are 0 < dpr <= 10`)\n      }\n    }\n\n    // Syntax: ?fit=<OPTION>\n    if (query['fit']) {\n      config.fit = this.parseStrings(query['fit']).pop() || ''\n      if (!Object.values(FIT_OPTIONS).includes(config.fit)) {\n        throw new ImageOptimizerError(\n          `Invalid fit option. Valid values are ${Object.values(FIT_OPTIONS).join(', ')}`\n        )\n      }\n    }\n\n    // Syntax: ?format=<OPTION>\n    if (query['format']) {\n      config.format = this.parseStrings(query['format']).shift() || ''\n      if (!SUPPORTED_EXTENSIONS.includes(config.format)) {\n        throw new ImageOptimizerError(\n          `Invalid format option. Valid values are ${SUPPORTED_EXTENSIONS.join(', ')}`\n        )\n      }\n    }\n\n    // Syntax: ?height=<VALUE 1-4096>\n    if (query['height']) {\n      config.height = this.parseNumber(query['height'])\n      if (config.height && (config.height <= 0 || config.height > 4096)) {\n        throw new ImageOptimizerError(`Invalid height option. Value needs to be in range 1-4096.`)\n      }\n    }\n\n    // Syntax: ?width=<VALUE 1-4096>\n    if (query['width']) {\n      config.width = this.parseNumber(query['width'])\n      if (config.width && (config.width <= 0 || config.width > 4096)) {\n        throw new ImageOptimizerError(`Invalid width option. Value needs to be in range 1-4096.`)\n      }\n    }\n\n    // Syntax: ?pad=<TOP>,<RIGHT>,<BOTTOM>,<LEFT>\n    // Syntax: ?pad=<TOP>,<LEFT & RIGHT>,<BOTTOM>\n    // Syntax: ?pad=<TOP & BOTTOM>,<LEFT & RIGHT>\n    // Syntax: ?pad=<ALL POSITIONS>\n    if (query['pad']) {\n      const values = this.parseNumbers(query['pad'])\n      if (values.length < 1 || values.length > 4) {\n        throw new ImageOptimizerError(\n          `Invalid pad option. Valid format is: 'top,right?,bottom?,left?'`\n        )\n      }\n      config.pad = {\n        top: values[0],\n        bottom: values[1] || values[0],\n        left: values[2] || values[0],\n        right: values[3] || values[0],\n      }\n      if (values.length === 3 || values.length === 2) {\n        config.pad.left = values[1]\n        config.pad.right = values[1]\n      }\n    }\n\n    // Syntax: ?quality=<VALUE 0-100>\n    if (query['quality']) {\n      config.quality = this.parseNumber(query['quality'])\n      if (config.quality && (config.quality < 0 || config.quality > 100)) {\n        throw new ImageOptimizerError(`Invalid quality option. Value needs to be in range 0-100.`)\n      }\n    }\n\n    // Syntax: ?rotate=<VALUE 0-360>\n    if (query['rotate']) {\n      config.rotate = this.parseNumber(query['rotate'])\n      if (config.rotate && (config.rotate < 0 || config.rotate > 360)) {\n        throw new ImageOptimizerError(`Invalid rotate option. Value needs to be in range 0-360.`)\n      }\n    }\n\n    // Syntax: ?strip=<BOOLEAN 0-1>\n    if (query['strip']) {\n      config.strip = query['strip'] === '1'\n    }\n\n    // Syntax: ?trim=<TOP>,<RIGHT>,<BOTTOM>,<LEFT>\n    // Syntax: ?trim=<TOP>,<LEFT & RIGHT>,<BOTTOM>\n    // Syntax: ?trim=<TOP & BOTTOM>,<LEFT & RIGHT>\n    // Syntax: ?trim=<ALL POSITIONS>\n    if (query['trim']) {\n      const values = this.parseNumbers(query['trim'])\n      if (values.length < 1 || values.length > 4) {\n        throw new ImageOptimizerError(\n          `Invalid trim option. Valid format is: 'top,right?,bottom?,left?'`\n        )\n      }\n      config.trim = {\n        top: values[0],\n        bottom: values[1] || values[0],\n        left: values[2] || values[0],\n        right: values[3] || values[0],\n      }\n      if (values.length === 3 || values.length === 2) {\n        config.trim.left = values[1]\n        config.trim.right = values[1]\n      }\n    }\n\n    // Syntax: ?wurfl=<BOOLEAN 0-1>\n    if (query['wurfl']) {\n      config.wurfl = query['wurfl'] === '1'\n    }\n\n    // Syntax: ?auto=<OPTION>\n    // Syntax: ?auto=<OPTION>,<OPTION>\n    if (query['auto']) {\n      config.auto = this.parseStrings(query['auto'])\n      if (config.auto.some(option => !Object.values(AUTO_OPTIONS).includes(option))) {\n        throw new ImageOptimizerError(\n          `Invalid auto option. Valid values are ${Object.values(AUTO_OPTIONS).join(', ')}`\n        )\n      }\n\n      // If the auto option is set to webp,\n      // we always convert to webp if the client accepts the webp content-type or all types.\n      // Example: Accept: image/webp,image/apng,image/*,*/*;q=0.8\n      if (\n        config.auto?.includes(AUTO_OPTIONS.webp) &&\n        (headers.accept?.toString().includes(SUPPORTED_TYPES[AUTO_OPTIONS.webp]) ||\n          headers.accept?.toString().includes('*/*'))\n      ) {\n        config.format = AUTO_OPTIONS.webp\n      }\n\n      // If the auto config option contain save-data option and save-data header is sent with 'on' value,\n      // we set the quality to 45% and strip param to true.\n      // Example: save-data: on\n      if (config.auto?.includes(AUTO_OPTIONS.saveData)) {\n        const value = headers['save-data']?.toString()?.toLowerCase()\n        if (value === 'on') {\n          config.quality = 45\n          config.strip = true\n        }\n      }\n\n      // If the auto config option contain the smallest option,\n      // we set the quality to 35% to serve the smallest possible size of image.\n      if (config.auto?.includes(AUTO_OPTIONS.smallest)) {\n        config.quality = 35\n      }\n    }\n\n    // Downlink header reduces image quality to 60% and strips metadata\n    // when the header includes value below 0.5.\n    // Example: downlink: 1.7\n    if (headers['downlink']) {\n      const value = this.parseNumber(headers['downlink'].toString())\n      if (value && value < 0.5) {\n        config.quality = 60\n        config.strip = true\n      }\n    }\n\n    // The DPR request header overrides the dpr query string parameter.\n    // Example: dpr: 2.0\n    if (headers['dpr']) {\n      config.dpr = this.parseNumber(headers['dpr'].toString())\n    }\n\n    // We reduces image quality to 60% and strips metadata\n    // when the request includes an ECT header,\n    // and it is set to a value other than 4g or 3g.\n    // Example: ect: 2g\n    if (headers['ect']) {\n      const value = headers['ect']?.toString()\n      if (value && !['4g', '3g'].includes(value.toLowerCase())) {\n        config.quality = 60\n        config.strip = true\n      }\n    }\n\n    // The viewport-width request header overrides the width and height query string parameters.\n    // Example: viewport-width: 1024\n    if (headers['viewport-width']) {\n      const value = this.parseNumber(headers['viewport-width'].toString())\n      if (value) {\n        config.width = value\n        config.height = undefined\n      }\n    }\n\n    // The width request header overrides the width query string parameters\n    // and the viewport-width header.\n    // Example: width: 320\n    if (headers['width']) {\n      const value = this.parseNumber(headers['width'].toString())\n      config.width = value || config.width\n    }\n\n    return config\n  }\n\n  static parseNumber(value: string | string[] | undefined): number | undefined {\n    const parsed = Number(value?.toString())\n    if (!isNaN(parsed)) return parsed\n    return undefined\n  }\n\n  static parseStrings(value: string | string[] | undefined): string[] {\n    const parsed = typeof value === 'string' ? value.split(',') : value\n    return (parsed || []).filter(item => item.length > 0)\n  }\n\n  static parseNumbers(value: string | string[] | undefined): number[] {\n    return this.parseStrings(value)\n      .map(item => Number(item))\n      .filter(item => !isNaN(item))\n  }\n}\n", "import Mod from './Mod'\nimport Phase from '../Phase'\nimport { isLocal } from '../../environment'\nimport { HTTP_HEADERS } from '../../constants'\nimport { STATUS_CODES } from 'http'\nimport {\n  MAX_IMAGE_SIZE,\n  SUPPORTED_CONTENT_TYPES,\n  SUPPORTED_TYPES,\n  ImageOptimizerConfig,\n} from '../image-optimizer/types'\nimport { ImageOptimizer } from '../image-optimizer/ImageOptimizer'\nimport { ImageOptimizerError } from '../image-optimizer/ImageOptimizerError'\nimport logger from '../../log'\nimport { ImageOptimizerConfigParser } from '../image-optimizer/ImageOptimizerConfigParser'\nimport EarlyReturn from '../EarlyReturn'\n\n/**\n * Emulation of Sailfish's Image Optimizer.\n */\nexport default class ModImageOptimizer extends Mod {\n  protected config: ImageOptimizerConfig = {}\n\n  async execute(phase: Phase) {\n    const res = this.context.getResponse()\n    try {\n      // Check if the Image Optimizer is enabled and parse the config.\n      if (Phase.UriClean === phase) {\n        await this.handleUriClean()\n      }\n      // Perform the actual image optimization.\n      if (Phase.SendRequestContent === phase) {\n        await this.handleSendRequestContent()\n      }\n    } catch (e: any) {\n      if (e instanceof ImageOptimizerError) {\n        logger.error(`[ModImageOptimizer] ${e.message}`)\n\n        // Clear the image in response buffer\n        res.clear()\n\n        // Add header with error details.\n        res.setHeader(HTTP_HEADERS.xEdgeIoStatus, 'ERROR')\n        res.setHeader(HTTP_HEADERS.xEdgeIoError, e.message)\n        res.setHeader(HTTP_HEADERS.contentType, 'text/plain')\n\n        // Set correct status code and message\n        res.statusCode = 400\n        res.statusMessage = STATUS_CODES[400]\n        res.body = `${res.statusCode} - ${res.statusMessage}`\n        res.chunks = [Buffer.from(res.body)]\n\n        await res.end()\n        throw new EarlyReturn('image_optimizer_error')\n      }\n      throw e\n    }\n  }\n\n  /**\n   * In the UriClean phase, we check if the image optimization is enabled\n   * and parse the config from the request query and headers.\n   * This needs to be done before the ModStream runs,\n   * so it can disable the streaming if the image optimization is enabled\n   * for the given request.\n   */\n  protected async handleUriClean() {\n    const req = this.context.getRequest()\n\n    // Check if the Image Optimizer is enabled.\n    // If not, we shouldn't even try to parse the config.\n    this.context.optimizeImages = this.isEnabled()\n    if (!this.context.optimizeImages) return\n\n    // Parse the config from the request query and headers.\n    this.config = ImageOptimizerConfigParser.parseFromRequest(req)\n\n    // Disable the Image Optimizer if no valid config was found\n    // to avoid unnecessary processing.\n    if (Object.keys(this.config).length === 0) {\n      this.context.optimizeImages = false\n      logger.debug(\n        `[ModImageOptimizer] No valid config was found. Disabling the image optimization.`\n      )\n    }\n  }\n\n  /**\n   * In the SendRequestContent phase,\n   * right after the ModProxyCore has fetched the response from the origin\n   * to buffer, we perform the actual image optimization.\n   */\n  protected async handleSendRequestContent() {\n    const req = this.context.getRequest()\n    const res = this.context.getResponse()\n\n    // Do nothing if the Image Optimizer is disabled.\n    if (!this.context.optimizeImages) return\n\n    // We'll just return the response unchanged,\n    // if image cannot be optimized for some reason.\n    if (!this.canOptimize()) {\n      logger.debug(\n        `[ModImageOptimizer] The response cannot be optimized. Leaving the response unchanged.`\n      )\n      return\n    }\n\n    logger.trace(`[ModImageOptimizer] Optimizing the response.`)\n\n    // Optimize the image in the response buffer.\n    const optimizer = new ImageOptimizer(this.config)\n    const { output, metadata } = await optimizer.optimize(res.body as Buffer)\n\n    // Replace the current response buffer with the optimized image.\n    res.clear()\n    res.body = output\n    await res.write(output)\n    await res.end()\n\n    // Set correct content type if the format of the image was changed.\n    if (this.config.format) {\n      res.setHeader(HTTP_HEADERS.contentType, SUPPORTED_TYPES[this.config.format])\n    }\n\n    res.setHeader(HTTP_HEADERS.xEdgeIoStatus, 'OK')\n\n    // Return a debug header with metadata about the optimization, if requested.\n    if (metadata && req.getHeader(HTTP_HEADERS.xEcEdgeIoDebug)) {\n      const {\n        inputSize,\n        outputSize,\n        inputWidth,\n        outputWidth,\n        inputHeight,\n        outputHeight,\n        inputFormat,\n        outputFormat,\n        outputQuality,\n        duration,\n      } = metadata\n      res.setHeader(\n        HTTP_HEADERS.xEcEdgeIoDebug,\n        `ifsz=${inputSize}; idim=${inputWidth}x${inputHeight}; ifmt=${inputFormat}; ofsz=${outputSize}; odim=${outputWidth}x${outputHeight}; ofmt=${outputFormat}; oq=${outputQuality}; ms=${duration}; cpu=1`\n      )\n    }\n  }\n\n  /**\n   * Returns true if the response is compatible with the Image Optimizer\n   * and can be optimized.\n   */\n  protected canOptimize(): boolean {\n    const res = this.context.getResponse()\n\n    const respHeaders = this.context.getResponse().getHeaders()\n    const contentType = respHeaders[HTTP_HEADERS.contentType]?.toString()\n    return Boolean(\n      // The Image Optimizer can only optimize supported image types.\n      contentType &&\n        SUPPORTED_CONTENT_TYPES.includes(contentType) &&\n        // The Image Optimizer can only optimize images up to 10MB.\n        res.body &&\n        Buffer.isBuffer(res.body) &&\n        res.body.length <= MAX_IMAGE_SIZE\n    )\n  }\n\n  /**\n   * Returns true if the Image Optimizer is enabled.\n   */\n  protected isEnabled(): boolean {\n    const res = this.context.getResponse()\n\n    let optimizeImagesFeature = false\n    this.context.forEachMatchingRule(rule => {\n      // Image Optimization can be turned off by setting optimize_images to false in another matched rule.\n      if (rule?.response?.optimize_images !== undefined)\n        optimizeImagesFeature = rule?.response?.optimize_images\n    })\n\n    return Boolean(\n      // The Image Optimizer is only available in the local environment\n      isLocal() &&\n        // The Image Optimizer needs to be enabled in features\n        optimizeImagesFeature &&\n        // The Image Optimizer can be turned off by sending x-ec-edge-io-disable header\n        !res.getHeader(HTTP_HEADERS.xEcEdgeIoDisable)\n    )\n  }\n\n  toString() {\n    return 'ModImageOptimizer'\n  }\n}\n", "import { Features, HttpResponseHeader, Rules, RulesVariables, EdgeFunctions } from '../types'\nimport { parse as parseCookie } from 'cookie'\nimport PropertyContext from './PropertyContext'\nimport Cache, { CacheConfig } from './Cache'\nimport CacheKey from './CacheKey'\nimport first from '../utils/first'\nimport Mod from './mods/Mod'\nimport ModRewrite from './mods/ModRewrite'\nimport ModCache from './mods/ModCache'\nimport ModAccess from './mods/ModAccess'\nimport ModSetEnv from './mods/ModSetEnv'\nimport ModProxyCore from './mods/ModProxyCore'\nimport ModProxyFeatures from './mods/ModProxyFeatures'\nimport ModRedirect from './mods/ModRedirect'\nimport log from '../log'\nimport { EDGIO_CLOUD_FUNCTIONS_HINTS, EDGIO_CLOUD_FUNCTIONS_HINT_HEADER } from '../constants'\nimport { SERVERLESS_ORIGIN_NAME } from '../origins'\nimport Origin from './Origin'\nimport ModEdgeFunctions from './mods/ModEdgeFunctions'\nimport { InterpolationValues } from '../config'\nimport { Writable } from 'stream'\nimport { ComputeFn } from '../router/Router'\nimport { interpolateObject } from './interpolate'\nimport LambdaResponse from './LambdaResponse'\nimport { Device, Location, Variable } from '../router/RouteCriteria'\nimport path from 'path'\nimport LambdaRequest from './LambdaRequest'\nimport ModTranscode from './mods/ModTranscode'\nimport ModStream from './mods/ModStream'\nimport executePlan from './executePlan'\nimport RulesConditionalVisitor from './rules/RulesConditionalVisitor'\nimport { Operand } from './rules/constants'\nimport ModImageOptimizer from './mods/ModImageOptimizer'\nimport Phase from './Phase'\nimport logger from '../log'\n\nexport interface RequestContextParams {\n  request: LambdaRequest\n  response: LambdaResponse\n  propertyContext: PropertyContext\n  rules: Rules[]\n  edgeFunctions?: EdgeFunctions\n  cache?: Cache\n  functions: { [key: string]: ComputeFn }\n  interpolationValues?: InterpolationValues\n  variables?: { [key in Variable]: string }\n  location?: { [key in Location]: string }\n  device?: { [key in Device]: string }\n  stdout?: Writable\n  stderr?: Writable\n}\n\nexport default class RequestContext {\n  private readonly request: LambdaRequest\n  private readonly response: LambdaResponse\n  readonly cookies: { [key: string]: string }\n  readonly variables: { [key: string]: string | undefined }\n  readonly location: { [key: string]: string }\n  readonly device: { [key: string]: string }\n  readonly propertyContext: PropertyContext\n  readonly rules: Rules[]\n  readonly edgeFunctions?: EdgeFunctions\n  readonly cache?: Cache\n  readonly functions: { [key: string]: ComputeFn } = {}\n  readonly interpolationValues?: InterpolationValues\n\n  useCacheFile: boolean = false\n  bypassCache: boolean = false\n  bypassCacheByHonor: boolean = false\n  revalidate: boolean = false\n  followRedirects: boolean = false\n  ignoreUnsatisfiableRanges: boolean = false\n  optimizeImages: boolean = false\n  executingSimulator: boolean = false\n  cacheKey: CacheKey\n  cacheConfig?: CacheConfig\n  originResponseStatus: number | undefined = undefined\n  revalidation: Promise<void> | null = null\n  revalidateResponse: LambdaResponse | null = null\n  returnEarly: boolean = false\n\n  /**\n   * The order of phases and modules to execute when handling a request\n   */\n  simulatorPlan: Array<{ phase: Phase; modules: Mod[] }>\n\n  /**\n   * The subset of phases and modules to execute when revalidating a stale response\n   */\n  revalidatePlan: Array<{ phase: Phase; modules: Mod[] }>\n\n  /**\n   * The order of phases and modules to execute when handling a first chunk of data\n   */\n  writeHeadPlan: Array<{ phase: Phase; modules: Mod[] }>\n\n  /**\n   * The order of phases and modules to execute when we need to stream a response we already have\n   */\n  streamPlan: Array<{ phase: Phase; modules: Mod[] }>\n\n  /**\n   * The order of phases and modules to execute when handling a app request\n   */\n  appPlan: Array<{ phase: Phase; modules: Mod[] }>\n\n  /**\n   * The stdout writable stream to which the edge functions, if there are such, will write.\n   */\n  stdout: Writable = process?.stdout\n\n  /**\n   * The stderr writable stream to which the edge functions, if there are such, will write.\n   */\n  stderr: Writable = process?.stderr\n\n  /**\n   * The URI path the request had when first received\n   */\n  private readonly originalPath: string\n\n  /**\n   * The parsed query string the request had when first received.\n   */\n  private readonly originalQuery?: { [key: string]: string | string[] | undefined }\n\n  private readonly originalQueryString?: string\n\n  constructor({\n    request,\n    response,\n    propertyContext,\n    rules,\n    cache,\n    functions,\n    interpolationValues,\n    variables,\n    location,\n    device,\n    stdout,\n    stderr,\n    edgeFunctions,\n  }: RequestContextParams) {\n    this.request = request\n    this.cacheKey = new CacheKey(request)\n    this.response = response\n    this.propertyContext = propertyContext\n    this.rules = rules\n    this.edgeFunctions = edgeFunctions\n    this.cookies = parseCookie(first((request.headers['cookie'] as string) || ''))\n    this.variables = variables ?? {}\n    this.cache = cache\n    this.originalPath = this.request.path\n    this.originalQuery = this.request.query\n    this.originalQueryString = new URL(request.url, 'http://localhost').search\n    this.functions = functions\n    this.interpolationValues = interpolationValues\n    this.stdout = stdout || process.stdout\n    this.stderr = stderr || process.stderr\n\n    // todo: This is hardcoded value, consider adding an option to override it\n    // this is only used in dev mode, we cannot end in execution plan if we are in dev mode\n    this.device = device ?? {\n      device_os: 'iOS',\n      brand_name: 'Apple',\n      dual_orientation: 'true',\n      html_preferred_dtd: 'html5',\n      image_inlining: 'partial',\n      is_android: 'false',\n      is_app: 'true',\n      is_full_desktop: 'false',\n      is_html_preferred: 'true',\n      is_ios: 'true',\n      is_largescreen: 'true',\n      is_mobile: 'false',\n      is_robot: 'false',\n      is_smartphone: 'false',\n      is_smarttv: 'false',\n      is_tablet: 'false',\n      is_touchscreen: 'false',\n      is_windows_phone: 'false',\n      is_wireless_device: 'false',\n      is_wml_preferred: 'false',\n      marketing_name: 'iPhone',\n      mobile_browser: 'Safari',\n      model_name: 'iPhone',\n      pointing_method: 'touchscreen',\n      preferred_markup: 'html_wi_w3_xhtmlbasic',\n      progressive_download: 'true',\n      release_date: '2011',\n      resolution_height: '1136',\n      resolution_width: '640',\n      ux_full_desktop: 'false',\n      xhtml_support_level: '1',\n    }\n\n    // TODO check that these are accurate\n    // this is only used in dev mode, we cannot end in execution plan if we are in dev mode\n    this.location = location ?? {\n      asn: 'Telia Eesti',\n      city: 'Tallinn',\n      continent: 'Europe',\n      dms_code: '',\n      country: 'EE',\n      latitude: '59.433',\n      longitude: '24.7323',\n      postal_code: '11911',\n      region_code: 'EU',\n    }\n\n    const modRewrite = new ModRewrite(this)\n    const modCache = new ModCache(this)\n    const modAccess = new ModAccess(this)\n    const modSetEnv = new ModSetEnv(this)\n    const modProxyCore = new ModProxyCore(this)\n    const modProxyFeatures = new ModProxyFeatures(this)\n    const modRedirect = new ModRedirect(this)\n    const modEdgeFunctions = new ModEdgeFunctions(this)\n    const modTranscode = new ModTranscode(this)\n    const modStream = new ModStream(this)\n    const modImageOptimizer = new ModImageOptimizer(this)\n\n    this.revalidatePlan = [\n      {\n        phase: Phase.SendRequestContent,\n        modules: [modEdgeFunctions, modProxyCore, modSetEnv, modImageOptimizer],\n      },\n      {\n        phase: Phase.HandleResponseDone,\n        modules: [modRedirect, modSetEnv, modStream, modCache],\n      },\n    ]\n\n    this.simulatorPlan = [\n      {\n        phase: Phase.UriRaw,\n        modules: [modRewrite],\n      },\n      {\n        phase: Phase.UriClean,\n        modules: [\n          modAccess,\n          modRedirect,\n          modSetEnv,\n          modCache,\n          modProxyFeatures,\n          modImageOptimizer,\n          modStream,\n        ],\n      },\n      {\n        phase: Phase.HandleDocRoot,\n        modules: [modCache, modTranscode],\n      },\n      ...this.revalidatePlan,\n    ]\n\n    this.writeHeadPlan = [\n      {\n        phase: Phase.HandleResponseHeader,\n        modules: [modSetEnv, modCache, modTranscode],\n      },\n    ]\n\n    this.streamPlan = [\n      {\n        phase: Phase.StreamResponse,\n        modules: [modTranscode, modStream],\n      },\n    ]\n\n    this.appPlan = [\n      {\n        phase: Phase.StreamResponse,\n        modules: [modTranscode],\n      },\n    ]\n  }\n\n  /**\n   * Executes all phases of the request lifecycle, applying features based on the configured rules.\n   */\n  async executeSimulator(): Promise<void> {\n    this.executingSimulator = true\n    // we setup streaming - this can be disabled through response.DisableStreaming in mods as needed\n    this.response.setOnStream(async () => await this.executeStreamResponse())\n\n    await executePlan(this.simulatorPlan)\n\n    /**\n     * We try to stream for cases, where the response wasnt streamed already.\n     *\n     * We need to do it separately, as we use early returns to stop simulator,\n     * which would cause response not to be streamed. For example with set_done.\n     *\n     * If we wish to avoid this, we should replace EarlyReturn errors with\n     * flag, which every mod can decide to act upon or not.\n     */\n    await executePlan(this.streamPlan)\n\n    // we revalidate, but dont block the downstream processing / sending response back - but still save the promise for simpler testing\n    this.revalidation = new Promise(resolve => this.executeRevalidate().then(resolve))\n  }\n\n  /**\n   * Processes the request based on EDGIO_CLOUD_FUNCTIONS_HINT_HEADER, if present.\n   *\n   * Multiple hints can be provided, separated by comma - where generally last one will be executed.\n   * The exception is redirect, which takes precedence over anything else, as non-compute redirect\n   * doesn't hit the compute at all, and only returns location in header back downstream.\n   *\n   * Multiple hints provide us the flexibility to use compute when the rules arent enough,\n   * WITHOUT changing the functionality.\n   *\n   * Example:\n   *  curl -H \"x-cloud-functions-hint:compute:0\" -v http://127.0.0.1:3000/compute\n   *\n   * @returns true if a hints were handled, otherwise false\n   */\n  async executeServerless(): Promise<boolean> {\n    const hintHeader = this.request.getHeader(EDGIO_CLOUD_FUNCTIONS_HINT_HEADER) as string\n\n    if (!hintHeader) {\n      log.trace('[RequestContext] No cloud function hints found.')\n      return false\n    }\n\n    // We get the serverless and INVERT THE ORDER, as generally the LAST ONE should be executed.\n    // We need to run trim to get rid of extra spaces, which might be added by Sailfish.\n    const hintsWithValue = hintHeader\n      .split(',')\n      .reverse()\n      .map(hintWithValue => hintWithValue.trim())\n\n    // We search for redirect hint - when redirect is defined through edge, it will NEVER hit compute,\n    // therefore we simulate that behaviour, and redirect takes precedence before anything else, and early exits.\n    const redirectHint = hintsWithValue.find(value =>\n      value.startsWith(EDGIO_CLOUD_FUNCTIONS_HINTS.redirect)\n    )\n\n    if (redirectHint) {\n      await this.handleHint(redirectHint)\n    } else {\n      // If redirect isnt found, we just execute the last hint, as they overwrite. Note - Hints are in reverse order here.\n      const hintToRun = hintsWithValue[0]\n      await this.handleHint(hintToRun)\n    }\n\n    // Call end to finish the response\n    await this.response.end()\n\n    // If we aren't in simulator, we need to stream the response.\n    if (!this.executingSimulator) {\n      // We run the response through custom plan, which reencodes the response as needed, streams it.\n      // This is not a plan that matches sailfish - we just use it to reuse mods and existing plan executor.\n      await executePlan(this.streamPlan)\n    }\n\n    return true\n  }\n\n  /**\n   * Processes the request based on provided hint.\n   * @returns true if a hint was handled, otherwise false\n   */\n  async handleHint(hintWithValue: string): Promise<boolean> {\n    log.trace(`[RequestContext] Executing cloud function hint: '${hintWithValue}'`)\n\n    const hint = hintWithValue.split(':').shift() || ''\n    const value = hintWithValue.split(':').pop() || ''\n\n    if (hint === EDGIO_CLOUD_FUNCTIONS_HINTS.app) {\n      // IF we're not inside of simulator, we ALWAYS stream. Otherwise, we must respect what simulator already defined.\n      // The reason is that 'handleHint' function is invoked DIRECTLY in ModProxyCore/Backend.\n      !this.executingSimulator && this.response.setIsStreamable(true)\n      // Will get here when behind the edge to skip directly to fetching the response from the internal app server\n      // started by the connector.\n      await this.executeApp()\n      return true\n    }\n\n    // If value exists, we execute serverless function\n    if (value !== '') {\n      // Will get here when behind the edge to skip directly to running the callback passed to RouteHelper#compute\n      await this.executeCompute(value)\n      return true\n    }\n\n    log.trace(`[RequestContext] Cloud function hint with name '${hint}' was not found.`)\n    return false\n  }\n\n  private async executeApp(): Promise<void> {\n    log.debug(`[RequestContext] skipping to app`)\n    this.response.setOnStream(async () => await this.executeStreamResponse())\n    const appOrigin = this.propertyContext.getOrigin(SERVERLESS_ORIGIN_NAME)\n    await new Origin(appOrigin).fetch(this.request, this.response)\n  }\n\n  private async executeCompute(functionIndex: string): Promise<void> {\n    const fn = this.functions[functionIndex]\n\n    if (!fn) {\n      throw new Error(`Cloud function with index '${functionIndex}' not found.`)\n    }\n\n    log.debug(`[RequestContext] skipping to compute, function #${functionIndex}`)\n    await fn(this.request, this.response, this.propertyContext)\n\n    // Write at least one non-empty chunk\n    // if we don't have any content in the response.\n    // We need to do it because Function URL doesn't return any response,\n    // if we don't write at least one non-empty chunk,\n    // and it waits for write until it times out.\n    // This is workaround for cases when user just sets status code or headers in compute or origin returns empty response.\n    // NOTE: '\\0' doesn't work\n    if (\n      (!this.response.body || this.response.body?.length === 0) &&\n      this.response.chunks.length === 0\n    ) {\n      logger.trace(\n        '[RequestContext] Received empty response from compute. Writing at least one non-empty chunk.'\n      )\n      this.response.body = ' '\n    }\n  }\n\n  /**\n   * Revalidates a cached response, fetching it from the origin and adding it to the cache if possible.\n   */\n  public async executeRevalidate(): Promise<void> {\n    if (this.revalidate) {\n      // we create new, fake response to avoid:\n      //    - rewriting during downstream processing (esp. in dev environment, as the response is sent directly back)\n      //    - having unwanted data from previous response (response headers are not removed in Backend.fetch)\n      // is used only used as a data holder / helper method provider for saving into cache\n      this.revalidateResponse = new LambdaResponse()\n\n      this.useCacheFile = false\n      this.bypassCache = false\n\n      await executePlan(this.revalidatePlan)\n\n      log.debug(`Revalidated ${this.originalPath}.`)\n    }\n  }\n\n  /**\n   * Function responsible for writing / streaming content back to the user, running relevant mods if needed.\n   * We do not care about ending the stream here - that is done after the whole chain processes, in RequestHandler.\n   *\n   * If called after response has been streamed, does nothing.\n   */\n  public async executeStreamResponse(): Promise<void> {\n    const response: LambdaResponse = this.getResponse()\n\n    if (!response.isHeadersStreamed) {\n      // we process mods only if this function is called as part of simulator processing\n      if (this.executingSimulator) {\n        // We need to update the headers through ModSetEnv and ModCache as is done in sailfish.\n        await executePlan(this.writeHeadPlan)\n      } else {\n        // we know we're just streaming app content here - we need to setup encoding pipes - executing simple single mod plan\n        await executePlan(this.appPlan)\n      }\n    }\n    response.stream()\n  }\n\n  /**\n   * Calls the specified callback for each rule that matches the current state.\n   * @param callback\n   */\n  forEachMatchingRule(callback: (features: Features, ruleIndex: number) => void) {\n    new RulesConditionalVisitor(this.evalVariable.bind(this), {\n      onFeaturesVisit: callback,\n    }).visit(this.rules)\n  }\n\n  /**\n   * Calls the specified callback for last matching rule.\n   * @param callback return true to confirm the match\n   */\n  forLastMatchingRule(callback: (features: Features, ruleIndex: number) => boolean) {\n    const conditionalVisitor = new RulesConditionalVisitor(this.evalVariable.bind(this))\n    conditionalVisitor.onFeaturesVisit((features, ruleIndex) => {\n      // When callback returns true, we stop the visitor.\n      if (callback(features, ruleIndex)) conditionalVisitor.stop()\n    })\n    conditionalVisitor.visit(this.rules.slice().reverse())\n  }\n\n  /**\n   * Evaluates a RulesVariable instance based on the current request and response.\n   * @param variable\n   * @returns\n   */\n  private evalVariable(variable: RulesVariables): string | number | boolean | string[] | undefined {\n    if (variable.request) {\n      switch (variable.request) {\n        case 'client_ip':\n          return this.request.socket.remoteAddress\n        case 'pop_code':\n          return process.env.POP_CODE\n        case 'method':\n          return this.request.method.toUpperCase()\n        case 'origin_path':\n          return this.request.path\n        case 'path':\n          return this.originalPath\n        case 'origin_query_string':\n          return this.request.url.split('?')[1]\n        case 'querystring':\n          return this.request.url.split('?')[1]\n        case 'query':\n          return this.originalQueryString\n        case 'scheme':\n          return this.request.secure ? 'https' : 'http'\n        case 'referring_domain': {\n          const referrer = this.request.getHeader('referrer') as string\n          if (referrer) {\n            const splitReferrer = referrer.split('/')\n            if (splitReferrer.length > 2) {\n              // we get just the domain, as defined in edge docs\n              // https://docs.edgecast.com/cdn/Content/HRE/M/Referring-Domain-Literal.htm\n              return referrer.split('/')[2]\n            }\n          }\n          return ''\n        }\n        default: {\n          throw new Error(`Unsupported request property \"${variable.request}\".`)\n        }\n      }\n    } else if (variable['request.header']) {\n      const header = variable['request.header']\n      return first(this.request.getHeader(header) as string | string[])\n    } else if (variable['request.cookie']) {\n      const cookieName = variable['request.cookie']\n      return this.cookies[cookieName]\n    } else if (variable['request.origin_query']) {\n      const param = variable['request.origin_query']\n      return this.request.query && this.request.query[param]\n    } else if (variable.variable) {\n      return this.variables[variable.variable]\n    } else if (variable['request.path']) {\n      const param = variable['request.path']\n      switch (param) {\n        case 'filename':\n          return path.basename(this.request.path)\n        case 'extension':\n          return path.extname(this.request.path)\n        case 'directory':\n          return path.dirname(this.request.path)\n      }\n    } else if (variable.location) {\n      return this.location[variable.location]\n    } else if (variable.random) {\n      return Math.floor(Math.random() * (variable['random'] + 1))\n    } else if (variable.device) {\n      return this.device[variable.device]\n    } else if (variable.response === 'status_code') {\n      return this.originResponseStatus\n    } else {\n      throw new Error(`Unsupported variable \"${Object.keys(variable)[0]}\".`)\n    }\n  }\n\n  getRequest() {\n    return this.request\n  }\n\n  getResponse() {\n    // If revalidateResponse exists, we're in the process of revalidation.\n    return this.revalidateResponse ?? this.response\n  }\n\n  /**\n   * Adds/appends a value to a request header\n   * @param feature\n   * @param forceAppend\n   */\n  setRequestHeader(feature: HttpResponseHeader, forceAppend?: boolean) {\n    return this.setHeader(this.getRequest(), feature, forceAppend)\n  }\n\n  /**\n   * Adds/appends a value to a response header\n   * @param feature\n   * @package forceAppend\n   */\n  setResponseHeader(feature: HttpResponseHeader, forceAppend?: boolean) {\n    return this.setHeader(this.getResponse(), feature, forceAppend)\n  }\n\n  setHeader(\n    target: LambdaRequest | LambdaResponse,\n    feature: HttpResponseHeader,\n    allowMultiple?: boolean\n  ) {\n    const targetFeature = interpolateObject(feature as { [key: string]: string }, this)\n\n    for (let [name, value] of Object.entries(targetFeature)) {\n      const evaluatedValue = this.eval(value!)?.toString()\n\n      if (evaluatedValue) {\n        let outputHeader: string | string[] = evaluatedValue\n        if (name.startsWith('+')) {\n          name = name.substring(1)\n          const curVal = target.getHeader(name)\n          // right now we append to all header values - cant verify this is correct against sailfish at the moment\n          if (curVal) {\n            outputHeader = Array.isArray(curVal)\n              ? curVal.map(value => value + ',' + evaluatedValue)\n              : curVal + ',' + evaluatedValue\n          }\n        } else {\n          const curVal = target.getHeader(name)\n          // array outputs headers in separate entries having the same key\n          if (curVal && allowMultiple) {\n            outputHeader = Array.isArray(curVal)\n              ? [...curVal, evaluatedValue]\n              : [curVal, evaluatedValue]\n          }\n        }\n        target.setHeader(name, outputHeader)\n      } else {\n        target.removeHeader(name)\n      }\n    }\n  }\n\n  /**\n   * Evaluates an operands, which may be a constant or RulesVariable instance.\n   * @param operand\n   * @returns\n   */\n  private eval(operand: Operand): string | number | boolean | string[] | undefined {\n    if (operand == null) {\n      return operand\n    } else if (typeof operand === 'string') {\n      return operand\n    } else if (typeof operand === 'boolean') {\n      return operand\n    } else if (typeof operand === 'number') {\n      return operand\n    } else {\n      return this.evalVariable(<RulesVariables>operand)\n    }\n  }\n\n  /**\n   * Summarizes the context of received request.\n   */\n  summarize(): string {\n    return `${this.request.method.toUpperCase()} ${this.originalPath}${\n      this.originalQueryString || ''\n    }`\n  }\n}\n", "import { Features, Rules } from '../../types'\nimport RulesVisitor from './RulesVisitor'\n\n/**\n * Formatter that allows to format the rules for edge-control.\n */\nexport default class RulesFormatter {\n  protected rulesVisitor: RulesVisitor\n\n  constructor() {\n    this.rulesVisitor = new RulesVisitor({\n      onFeaturesVisit: (features: any) => {\n        this.formatResponseSetResponseBody(features)\n        this.formatCachingMaxAge(features)\n      },\n    })\n  }\n\n  /**\n   * Formats the rules for edge-control.\n   * The rules are deep-cloned by default before we format them.\n   * @param rules\n   * @param clone\n   */\n  public format(rules: Rules[], clone: boolean = true): Rules[] {\n    // Deep-clone the rules by default to get rid of any references to the original.\n    const changedRules = clone ? JSON.parse(JSON.stringify(rules)) : rules\n    this.rulesVisitor.visit(changedRules)\n    return changedRules\n  }\n\n  /**\n   * Transforms set_response_body property by encoding it to base64.\n   * @param features\n   */\n  protected formatResponseSetResponseBody(features: Features) {\n    const { response } = features\n    if (response?.set_response_body) {\n      // set_response_body is expected to be in base64\n      response.set_response_body = Buffer.from(response.set_response_body).toString('base64')\n    }\n  }\n\n  /**\n   * Transforms max_age property with string value by converting it\n   * to equivalent object notation with status codes as keys and time interval as values.\n   * @param features\n   */\n  protected formatCachingMaxAge(features: Features) {\n    const { caching } = features\n\n    if (caching?.max_age && typeof caching?.max_age === 'string') {\n      // when notation with status codes is used we need add\n      // time interval to each status code from cacheable_status_codes array\n      // to preserve the same behavior\n      const statusCodes = [200, ...(caching?.cacheable_status_codes || [])]\n      const timeInterval = caching.max_age\n\n      caching.max_age = {}\n      statusCodes.forEach(\n        statusCode =>\n          (caching.max_age = {\n            ...(caching.max_age as { [key: string]: string }),\n            [statusCode.toString()]: timeInterval,\n          })\n      )\n    }\n  }\n}\n", "'use strict'\r\n\r\nmodule.exports = {\r\n\t\"aliceblue\": [240, 248, 255],\r\n\t\"antiquewhite\": [250, 235, 215],\r\n\t\"aqua\": [0, 255, 255],\r\n\t\"aquamarine\": [127, 255, 212],\r\n\t\"azure\": [240, 255, 255],\r\n\t\"beige\": [245, 245, 220],\r\n\t\"bisque\": [255, 228, 196],\r\n\t\"black\": [0, 0, 0],\r\n\t\"blanchedalmond\": [255, 235, 205],\r\n\t\"blue\": [0, 0, 255],\r\n\t\"blueviolet\": [138, 43, 226],\r\n\t\"brown\": [165, 42, 42],\r\n\t\"burlywood\": [222, 184, 135],\r\n\t\"cadetblue\": [95, 158, 160],\r\n\t\"chartreuse\": [127, 255, 0],\r\n\t\"chocolate\": [210, 105, 30],\r\n\t\"coral\": [255, 127, 80],\r\n\t\"cornflowerblue\": [100, 149, 237],\r\n\t\"cornsilk\": [255, 248, 220],\r\n\t\"crimson\": [220, 20, 60],\r\n\t\"cyan\": [0, 255, 255],\r\n\t\"darkblue\": [0, 0, 139],\r\n\t\"darkcyan\": [0, 139, 139],\r\n\t\"darkgoldenrod\": [184, 134, 11],\r\n\t\"darkgray\": [169, 169, 169],\r\n\t\"darkgreen\": [0, 100, 0],\r\n\t\"darkgrey\": [169, 169, 169],\r\n\t\"darkkhaki\": [189, 183, 107],\r\n\t\"darkmagenta\": [139, 0, 139],\r\n\t\"darkolivegreen\": [85, 107, 47],\r\n\t\"darkorange\": [255, 140, 0],\r\n\t\"darkorchid\": [153, 50, 204],\r\n\t\"darkred\": [139, 0, 0],\r\n\t\"darksalmon\": [233, 150, 122],\r\n\t\"darkseagreen\": [143, 188, 143],\r\n\t\"darkslateblue\": [72, 61, 139],\r\n\t\"darkslategray\": [47, 79, 79],\r\n\t\"darkslategrey\": [47, 79, 79],\r\n\t\"darkturquoise\": [0, 206, 209],\r\n\t\"darkviolet\": [148, 0, 211],\r\n\t\"deeppink\": [255, 20, 147],\r\n\t\"deepskyblue\": [0, 191, 255],\r\n\t\"dimgray\": [105, 105, 105],\r\n\t\"dimgrey\": [105, 105, 105],\r\n\t\"dodgerblue\": [30, 144, 255],\r\n\t\"firebrick\": [178, 34, 34],\r\n\t\"floralwhite\": [255, 250, 240],\r\n\t\"forestgreen\": [34, 139, 34],\r\n\t\"fuchsia\": [255, 0, 255],\r\n\t\"gainsboro\": [220, 220, 220],\r\n\t\"ghostwhite\": [248, 248, 255],\r\n\t\"gold\": [255, 215, 0],\r\n\t\"goldenrod\": [218, 165, 32],\r\n\t\"gray\": [128, 128, 128],\r\n\t\"green\": [0, 128, 0],\r\n\t\"greenyellow\": [173, 255, 47],\r\n\t\"grey\": [128, 128, 128],\r\n\t\"honeydew\": [240, 255, 240],\r\n\t\"hotpink\": [255, 105, 180],\r\n\t\"indianred\": [205, 92, 92],\r\n\t\"indigo\": [75, 0, 130],\r\n\t\"ivory\": [255, 255, 240],\r\n\t\"khaki\": [240, 230, 140],\r\n\t\"lavender\": [230, 230, 250],\r\n\t\"lavenderblush\": [255, 240, 245],\r\n\t\"lawngreen\": [124, 252, 0],\r\n\t\"lemonchiffon\": [255, 250, 205],\r\n\t\"lightblue\": [173, 216, 230],\r\n\t\"lightcoral\": [240, 128, 128],\r\n\t\"lightcyan\": [224, 255, 255],\r\n\t\"lightgoldenrodyellow\": [250, 250, 210],\r\n\t\"lightgray\": [211, 211, 211],\r\n\t\"lightgreen\": [144, 238, 144],\r\n\t\"lightgrey\": [211, 211, 211],\r\n\t\"lightpink\": [255, 182, 193],\r\n\t\"lightsalmon\": [255, 160, 122],\r\n\t\"lightseagreen\": [32, 178, 170],\r\n\t\"lightskyblue\": [135, 206, 250],\r\n\t\"lightslategray\": [119, 136, 153],\r\n\t\"lightslategrey\": [119, 136, 153],\r\n\t\"lightsteelblue\": [176, 196, 222],\r\n\t\"lightyellow\": [255, 255, 224],\r\n\t\"lime\": [0, 255, 0],\r\n\t\"limegreen\": [50, 205, 50],\r\n\t\"linen\": [250, 240, 230],\r\n\t\"magenta\": [255, 0, 255],\r\n\t\"maroon\": [128, 0, 0],\r\n\t\"mediumaquamarine\": [102, 205, 170],\r\n\t\"mediumblue\": [0, 0, 205],\r\n\t\"mediumorchid\": [186, 85, 211],\r\n\t\"mediumpurple\": [147, 112, 219],\r\n\t\"mediumseagreen\": [60, 179, 113],\r\n\t\"mediumslateblue\": [123, 104, 238],\r\n\t\"mediumspringgreen\": [0, 250, 154],\r\n\t\"mediumturquoise\": [72, 209, 204],\r\n\t\"mediumvioletred\": [199, 21, 133],\r\n\t\"midnightblue\": [25, 25, 112],\r\n\t\"mintcream\": [245, 255, 250],\r\n\t\"mistyrose\": [255, 228, 225],\r\n\t\"moccasin\": [255, 228, 181],\r\n\t\"navajowhite\": [255, 222, 173],\r\n\t\"navy\": [0, 0, 128],\r\n\t\"oldlace\": [253, 245, 230],\r\n\t\"olive\": [128, 128, 0],\r\n\t\"olivedrab\": [107, 142, 35],\r\n\t\"orange\": [255, 165, 0],\r\n\t\"orangered\": [255, 69, 0],\r\n\t\"orchid\": [218, 112, 214],\r\n\t\"palegoldenrod\": [238, 232, 170],\r\n\t\"palegreen\": [152, 251, 152],\r\n\t\"paleturquoise\": [175, 238, 238],\r\n\t\"palevioletred\": [219, 112, 147],\r\n\t\"papayawhip\": [255, 239, 213],\r\n\t\"peachpuff\": [255, 218, 185],\r\n\t\"peru\": [205, 133, 63],\r\n\t\"pink\": [255, 192, 203],\r\n\t\"plum\": [221, 160, 221],\r\n\t\"powderblue\": [176, 224, 230],\r\n\t\"purple\": [128, 0, 128],\r\n\t\"rebeccapurple\": [102, 51, 153],\r\n\t\"red\": [255, 0, 0],\r\n\t\"rosybrown\": [188, 143, 143],\r\n\t\"royalblue\": [65, 105, 225],\r\n\t\"saddlebrown\": [139, 69, 19],\r\n\t\"salmon\": [250, 128, 114],\r\n\t\"sandybrown\": [244, 164, 96],\r\n\t\"seagreen\": [46, 139, 87],\r\n\t\"seashell\": [255, 245, 238],\r\n\t\"sienna\": [160, 82, 45],\r\n\t\"silver\": [192, 192, 192],\r\n\t\"skyblue\": [135, 206, 235],\r\n\t\"slateblue\": [106, 90, 205],\r\n\t\"slategray\": [112, 128, 144],\r\n\t\"slategrey\": [112, 128, 144],\r\n\t\"snow\": [255, 250, 250],\r\n\t\"springgreen\": [0, 255, 127],\r\n\t\"steelblue\": [70, 130, 180],\r\n\t\"tan\": [210, 180, 140],\r\n\t\"teal\": [0, 128, 128],\r\n\t\"thistle\": [216, 191, 216],\r\n\t\"tomato\": [255, 99, 71],\r\n\t\"turquoise\": [64, 224, 208],\r\n\t\"violet\": [238, 130, 238],\r\n\t\"wheat\": [245, 222, 179],\r\n\t\"white\": [255, 255, 255],\r\n\t\"whitesmoke\": [245, 245, 245],\r\n\t\"yellow\": [255, 255, 0],\r\n\t\"yellowgreen\": [154, 205, 50]\r\n};\r\n", "/* MIT license */\n/* eslint-disable no-mixed-operators */\nconst cssKeywords = require('color-name');\n\n// NOTE: conversions should only return primitive values (i.e. arrays, or\n//       values that give correct `typeof` results).\n//       do not use box values types (i.e. Number(), String(), etc.)\n\nconst reverseKeywords = {};\nfor (const key of Object.keys(cssKeywords)) {\n\treverseKeywords[cssKeywords[key]] = key;\n}\n\nconst convert = {\n\trgb: {channels: 3, labels: 'rgb'},\n\thsl: {channels: 3, labels: 'hsl'},\n\thsv: {channels: 3, labels: 'hsv'},\n\thwb: {channels: 3, labels: 'hwb'},\n\tcmyk: {channels: 4, labels: 'cmyk'},\n\txyz: {channels: 3, labels: 'xyz'},\n\tlab: {channels: 3, labels: 'lab'},\n\tlch: {channels: 3, labels: 'lch'},\n\thex: {channels: 1, labels: ['hex']},\n\tkeyword: {channels: 1, labels: ['keyword']},\n\tansi16: {channels: 1, labels: ['ansi16']},\n\tansi256: {channels: 1, labels: ['ansi256']},\n\thcg: {channels: 3, labels: ['h', 'c', 'g']},\n\tapple: {channels: 3, labels: ['r16', 'g16', 'b16']},\n\tgray: {channels: 1, labels: ['gray']}\n};\n\nmodule.exports = convert;\n\n// Hide .channels and .labels properties\nfor (const model of Object.keys(convert)) {\n\tif (!('channels' in convert[model])) {\n\t\tthrow new Error('missing channels property: ' + model);\n\t}\n\n\tif (!('labels' in convert[model])) {\n\t\tthrow new Error('missing channel labels property: ' + model);\n\t}\n\n\tif (convert[model].labels.length !== convert[model].channels) {\n\t\tthrow new Error('channel and label counts mismatch: ' + model);\n\t}\n\n\tconst {channels, labels} = convert[model];\n\tdelete convert[model].channels;\n\tdelete convert[model].labels;\n\tObject.defineProperty(convert[model], 'channels', {value: channels});\n\tObject.defineProperty(convert[model], 'labels', {value: labels});\n}\n\nconvert.rgb.hsl = function (rgb) {\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\tconst min = Math.min(r, g, b);\n\tconst max = Math.max(r, g, b);\n\tconst delta = max - min;\n\tlet h;\n\tlet s;\n\n\tif (max === min) {\n\t\th = 0;\n\t} else if (r === max) {\n\t\th = (g - b) / delta;\n\t} else if (g === max) {\n\t\th = 2 + (b - r) / delta;\n\t} else if (b === max) {\n\t\th = 4 + (r - g) / delta;\n\t}\n\n\th = Math.min(h * 60, 360);\n\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\tconst l = (min + max) / 2;\n\n\tif (max === min) {\n\t\ts = 0;\n\t} else if (l <= 0.5) {\n\t\ts = delta / (max + min);\n\t} else {\n\t\ts = delta / (2 - max - min);\n\t}\n\n\treturn [h, s * 100, l * 100];\n};\n\nconvert.rgb.hsv = function (rgb) {\n\tlet rdif;\n\tlet gdif;\n\tlet bdif;\n\tlet h;\n\tlet s;\n\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\tconst v = Math.max(r, g, b);\n\tconst diff = v - Math.min(r, g, b);\n\tconst diffc = function (c) {\n\t\treturn (v - c) / 6 / diff + 1 / 2;\n\t};\n\n\tif (diff === 0) {\n\t\th = 0;\n\t\ts = 0;\n\t} else {\n\t\ts = diff / v;\n\t\trdif = diffc(r);\n\t\tgdif = diffc(g);\n\t\tbdif = diffc(b);\n\n\t\tif (r === v) {\n\t\t\th = bdif - gdif;\n\t\t} else if (g === v) {\n\t\t\th = (1 / 3) + rdif - bdif;\n\t\t} else if (b === v) {\n\t\t\th = (2 / 3) + gdif - rdif;\n\t\t}\n\n\t\tif (h < 0) {\n\t\t\th += 1;\n\t\t} else if (h > 1) {\n\t\t\th -= 1;\n\t\t}\n\t}\n\n\treturn [\n\t\th * 360,\n\t\ts * 100,\n\t\tv * 100\n\t];\n};\n\nconvert.rgb.hwb = function (rgb) {\n\tconst r = rgb[0];\n\tconst g = rgb[1];\n\tlet b = rgb[2];\n\tconst h = convert.rgb.hsl(rgb)[0];\n\tconst w = 1 / 255 * Math.min(r, Math.min(g, b));\n\n\tb = 1 - 1 / 255 * Math.max(r, Math.max(g, b));\n\n\treturn [h, w * 100, b * 100];\n};\n\nconvert.rgb.cmyk = function (rgb) {\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\n\tconst k = Math.min(1 - r, 1 - g, 1 - b);\n\tconst c = (1 - r - k) / (1 - k) || 0;\n\tconst m = (1 - g - k) / (1 - k) || 0;\n\tconst y = (1 - b - k) / (1 - k) || 0;\n\n\treturn [c * 100, m * 100, y * 100, k * 100];\n};\n\nfunction comparativeDistance(x, y) {\n\t/*\n\t\tSee https://en.m.wikipedia.org/wiki/Euclidean_distance#Squared_Euclidean_distance\n\t*/\n\treturn (\n\t\t((x[0] - y[0]) ** 2) +\n\t\t((x[1] - y[1]) ** 2) +\n\t\t((x[2] - y[2]) ** 2)\n\t);\n}\n\nconvert.rgb.keyword = function (rgb) {\n\tconst reversed = reverseKeywords[rgb];\n\tif (reversed) {\n\t\treturn reversed;\n\t}\n\n\tlet currentClosestDistance = Infinity;\n\tlet currentClosestKeyword;\n\n\tfor (const keyword of Object.keys(cssKeywords)) {\n\t\tconst value = cssKeywords[keyword];\n\n\t\t// Compute comparative distance\n\t\tconst distance = comparativeDistance(rgb, value);\n\n\t\t// Check if its less, if so set as closest\n\t\tif (distance < currentClosestDistance) {\n\t\t\tcurrentClosestDistance = distance;\n\t\t\tcurrentClosestKeyword = keyword;\n\t\t}\n\t}\n\n\treturn currentClosestKeyword;\n};\n\nconvert.keyword.rgb = function (keyword) {\n\treturn cssKeywords[keyword];\n};\n\nconvert.rgb.xyz = function (rgb) {\n\tlet r = rgb[0] / 255;\n\tlet g = rgb[1] / 255;\n\tlet b = rgb[2] / 255;\n\n\t// Assume sRGB\n\tr = r > 0.04045 ? (((r + 0.055) / 1.055) ** 2.4) : (r / 12.92);\n\tg = g > 0.04045 ? (((g + 0.055) / 1.055) ** 2.4) : (g / 12.92);\n\tb = b > 0.04045 ? (((b + 0.055) / 1.055) ** 2.4) : (b / 12.92);\n\n\tconst x = (r * 0.4124) + (g * 0.3576) + (b * 0.1805);\n\tconst y = (r * 0.2126) + (g * 0.7152) + (b * 0.0722);\n\tconst z = (r * 0.0193) + (g * 0.1192) + (b * 0.9505);\n\n\treturn [x * 100, y * 100, z * 100];\n};\n\nconvert.rgb.lab = function (rgb) {\n\tconst xyz = convert.rgb.xyz(rgb);\n\tlet x = xyz[0];\n\tlet y = xyz[1];\n\tlet z = xyz[2];\n\n\tx /= 95.047;\n\ty /= 100;\n\tz /= 108.883;\n\n\tx = x > 0.008856 ? (x ** (1 / 3)) : (7.787 * x) + (16 / 116);\n\ty = y > 0.008856 ? (y ** (1 / 3)) : (7.787 * y) + (16 / 116);\n\tz = z > 0.008856 ? (z ** (1 / 3)) : (7.787 * z) + (16 / 116);\n\n\tconst l = (116 * y) - 16;\n\tconst a = 500 * (x - y);\n\tconst b = 200 * (y - z);\n\n\treturn [l, a, b];\n};\n\nconvert.hsl.rgb = function (hsl) {\n\tconst h = hsl[0] / 360;\n\tconst s = hsl[1] / 100;\n\tconst l = hsl[2] / 100;\n\tlet t2;\n\tlet t3;\n\tlet val;\n\n\tif (s === 0) {\n\t\tval = l * 255;\n\t\treturn [val, val, val];\n\t}\n\n\tif (l < 0.5) {\n\t\tt2 = l * (1 + s);\n\t} else {\n\t\tt2 = l + s - l * s;\n\t}\n\n\tconst t1 = 2 * l - t2;\n\n\tconst rgb = [0, 0, 0];\n\tfor (let i = 0; i < 3; i++) {\n\t\tt3 = h + 1 / 3 * -(i - 1);\n\t\tif (t3 < 0) {\n\t\t\tt3++;\n\t\t}\n\n\t\tif (t3 > 1) {\n\t\t\tt3--;\n\t\t}\n\n\t\tif (6 * t3 < 1) {\n\t\t\tval = t1 + (t2 - t1) * 6 * t3;\n\t\t} else if (2 * t3 < 1) {\n\t\t\tval = t2;\n\t\t} else if (3 * t3 < 2) {\n\t\t\tval = t1 + (t2 - t1) * (2 / 3 - t3) * 6;\n\t\t} else {\n\t\t\tval = t1;\n\t\t}\n\n\t\trgb[i] = val * 255;\n\t}\n\n\treturn rgb;\n};\n\nconvert.hsl.hsv = function (hsl) {\n\tconst h = hsl[0];\n\tlet s = hsl[1] / 100;\n\tlet l = hsl[2] / 100;\n\tlet smin = s;\n\tconst lmin = Math.max(l, 0.01);\n\n\tl *= 2;\n\ts *= (l <= 1) ? l : 2 - l;\n\tsmin *= lmin <= 1 ? lmin : 2 - lmin;\n\tconst v = (l + s) / 2;\n\tconst sv = l === 0 ? (2 * smin) / (lmin + smin) : (2 * s) / (l + s);\n\n\treturn [h, sv * 100, v * 100];\n};\n\nconvert.hsv.rgb = function (hsv) {\n\tconst h = hsv[0] / 60;\n\tconst s = hsv[1] / 100;\n\tlet v = hsv[2] / 100;\n\tconst hi = Math.floor(h) % 6;\n\n\tconst f = h - Math.floor(h);\n\tconst p = 255 * v * (1 - s);\n\tconst q = 255 * v * (1 - (s * f));\n\tconst t = 255 * v * (1 - (s * (1 - f)));\n\tv *= 255;\n\n\tswitch (hi) {\n\t\tcase 0:\n\t\t\treturn [v, t, p];\n\t\tcase 1:\n\t\t\treturn [q, v, p];\n\t\tcase 2:\n\t\t\treturn [p, v, t];\n\t\tcase 3:\n\t\t\treturn [p, q, v];\n\t\tcase 4:\n\t\t\treturn [t, p, v];\n\t\tcase 5:\n\t\t\treturn [v, p, q];\n\t}\n};\n\nconvert.hsv.hsl = function (hsv) {\n\tconst h = hsv[0];\n\tconst s = hsv[1] / 100;\n\tconst v = hsv[2] / 100;\n\tconst vmin = Math.max(v, 0.01);\n\tlet sl;\n\tlet l;\n\n\tl = (2 - s) * v;\n\tconst lmin = (2 - s) * vmin;\n\tsl = s * vmin;\n\tsl /= (lmin <= 1) ? lmin : 2 - lmin;\n\tsl = sl || 0;\n\tl /= 2;\n\n\treturn [h, sl * 100, l * 100];\n};\n\n// http://dev.w3.org/csswg/css-color/#hwb-to-rgb\nconvert.hwb.rgb = function (hwb) {\n\tconst h = hwb[0] / 360;\n\tlet wh = hwb[1] / 100;\n\tlet bl = hwb[2] / 100;\n\tconst ratio = wh + bl;\n\tlet f;\n\n\t// Wh + bl cant be > 1\n\tif (ratio > 1) {\n\t\twh /= ratio;\n\t\tbl /= ratio;\n\t}\n\n\tconst i = Math.floor(6 * h);\n\tconst v = 1 - bl;\n\tf = 6 * h - i;\n\n\tif ((i & 0x01) !== 0) {\n\t\tf = 1 - f;\n\t}\n\n\tconst n = wh + f * (v - wh); // Linear interpolation\n\n\tlet r;\n\tlet g;\n\tlet b;\n\t/* eslint-disable max-statements-per-line,no-multi-spaces */\n\tswitch (i) {\n\t\tdefault:\n\t\tcase 6:\n\t\tcase 0: r = v;  g = n;  b = wh; break;\n\t\tcase 1: r = n;  g = v;  b = wh; break;\n\t\tcase 2: r = wh; g = v;  b = n; break;\n\t\tcase 3: r = wh; g = n;  b = v; break;\n\t\tcase 4: r = n;  g = wh; b = v; break;\n\t\tcase 5: r = v;  g = wh; b = n; break;\n\t}\n\t/* eslint-enable max-statements-per-line,no-multi-spaces */\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.cmyk.rgb = function (cmyk) {\n\tconst c = cmyk[0] / 100;\n\tconst m = cmyk[1] / 100;\n\tconst y = cmyk[2] / 100;\n\tconst k = cmyk[3] / 100;\n\n\tconst r = 1 - Math.min(1, c * (1 - k) + k);\n\tconst g = 1 - Math.min(1, m * (1 - k) + k);\n\tconst b = 1 - Math.min(1, y * (1 - k) + k);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.xyz.rgb = function (xyz) {\n\tconst x = xyz[0] / 100;\n\tconst y = xyz[1] / 100;\n\tconst z = xyz[2] / 100;\n\tlet r;\n\tlet g;\n\tlet b;\n\n\tr = (x * 3.2406) + (y * -1.5372) + (z * -0.4986);\n\tg = (x * -0.9689) + (y * 1.8758) + (z * 0.0415);\n\tb = (x * 0.0557) + (y * -0.2040) + (z * 1.0570);\n\n\t// Assume sRGB\n\tr = r > 0.0031308\n\t\t? ((1.055 * (r ** (1.0 / 2.4))) - 0.055)\n\t\t: r * 12.92;\n\n\tg = g > 0.0031308\n\t\t? ((1.055 * (g ** (1.0 / 2.4))) - 0.055)\n\t\t: g * 12.92;\n\n\tb = b > 0.0031308\n\t\t? ((1.055 * (b ** (1.0 / 2.4))) - 0.055)\n\t\t: b * 12.92;\n\n\tr = Math.min(Math.max(0, r), 1);\n\tg = Math.min(Math.max(0, g), 1);\n\tb = Math.min(Math.max(0, b), 1);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.xyz.lab = function (xyz) {\n\tlet x = xyz[0];\n\tlet y = xyz[1];\n\tlet z = xyz[2];\n\n\tx /= 95.047;\n\ty /= 100;\n\tz /= 108.883;\n\n\tx = x > 0.008856 ? (x ** (1 / 3)) : (7.787 * x) + (16 / 116);\n\ty = y > 0.008856 ? (y ** (1 / 3)) : (7.787 * y) + (16 / 116);\n\tz = z > 0.008856 ? (z ** (1 / 3)) : (7.787 * z) + (16 / 116);\n\n\tconst l = (116 * y) - 16;\n\tconst a = 500 * (x - y);\n\tconst b = 200 * (y - z);\n\n\treturn [l, a, b];\n};\n\nconvert.lab.xyz = function (lab) {\n\tconst l = lab[0];\n\tconst a = lab[1];\n\tconst b = lab[2];\n\tlet x;\n\tlet y;\n\tlet z;\n\n\ty = (l + 16) / 116;\n\tx = a / 500 + y;\n\tz = y - b / 200;\n\n\tconst y2 = y ** 3;\n\tconst x2 = x ** 3;\n\tconst z2 = z ** 3;\n\ty = y2 > 0.008856 ? y2 : (y - 16 / 116) / 7.787;\n\tx = x2 > 0.008856 ? x2 : (x - 16 / 116) / 7.787;\n\tz = z2 > 0.008856 ? z2 : (z - 16 / 116) / 7.787;\n\n\tx *= 95.047;\n\ty *= 100;\n\tz *= 108.883;\n\n\treturn [x, y, z];\n};\n\nconvert.lab.lch = function (lab) {\n\tconst l = lab[0];\n\tconst a = lab[1];\n\tconst b = lab[2];\n\tlet h;\n\n\tconst hr = Math.atan2(b, a);\n\th = hr * 360 / 2 / Math.PI;\n\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\tconst c = Math.sqrt(a * a + b * b);\n\n\treturn [l, c, h];\n};\n\nconvert.lch.lab = function (lch) {\n\tconst l = lch[0];\n\tconst c = lch[1];\n\tconst h = lch[2];\n\n\tconst hr = h / 360 * 2 * Math.PI;\n\tconst a = c * Math.cos(hr);\n\tconst b = c * Math.sin(hr);\n\n\treturn [l, a, b];\n};\n\nconvert.rgb.ansi16 = function (args, saturation = null) {\n\tconst [r, g, b] = args;\n\tlet value = saturation === null ? convert.rgb.hsv(args)[2] : saturation; // Hsv -> ansi16 optimization\n\n\tvalue = Math.round(value / 50);\n\n\tif (value === 0) {\n\t\treturn 30;\n\t}\n\n\tlet ansi = 30\n\t\t+ ((Math.round(b / 255) << 2)\n\t\t| (Math.round(g / 255) << 1)\n\t\t| Math.round(r / 255));\n\n\tif (value === 2) {\n\t\tansi += 60;\n\t}\n\n\treturn ansi;\n};\n\nconvert.hsv.ansi16 = function (args) {\n\t// Optimization here; we already know the value and don't need to get\n\t// it converted for us.\n\treturn convert.rgb.ansi16(convert.hsv.rgb(args), args[2]);\n};\n\nconvert.rgb.ansi256 = function (args) {\n\tconst r = args[0];\n\tconst g = args[1];\n\tconst b = args[2];\n\n\t// We use the extended greyscale palette here, with the exception of\n\t// black and white. normal palette only has 4 greyscale shades.\n\tif (r === g && g === b) {\n\t\tif (r < 8) {\n\t\t\treturn 16;\n\t\t}\n\n\t\tif (r > 248) {\n\t\t\treturn 231;\n\t\t}\n\n\t\treturn Math.round(((r - 8) / 247) * 24) + 232;\n\t}\n\n\tconst ansi = 16\n\t\t+ (36 * Math.round(r / 255 * 5))\n\t\t+ (6 * Math.round(g / 255 * 5))\n\t\t+ Math.round(b / 255 * 5);\n\n\treturn ansi;\n};\n\nconvert.ansi16.rgb = function (args) {\n\tlet color = args % 10;\n\n\t// Handle greyscale\n\tif (color === 0 || color === 7) {\n\t\tif (args > 50) {\n\t\t\tcolor += 3.5;\n\t\t}\n\n\t\tcolor = color / 10.5 * 255;\n\n\t\treturn [color, color, color];\n\t}\n\n\tconst mult = (~~(args > 50) + 1) * 0.5;\n\tconst r = ((color & 1) * mult) * 255;\n\tconst g = (((color >> 1) & 1) * mult) * 255;\n\tconst b = (((color >> 2) & 1) * mult) * 255;\n\n\treturn [r, g, b];\n};\n\nconvert.ansi256.rgb = function (args) {\n\t// Handle greyscale\n\tif (args >= 232) {\n\t\tconst c = (args - 232) * 10 + 8;\n\t\treturn [c, c, c];\n\t}\n\n\targs -= 16;\n\n\tlet rem;\n\tconst r = Math.floor(args / 36) / 5 * 255;\n\tconst g = Math.floor((rem = args % 36) / 6) / 5 * 255;\n\tconst b = (rem % 6) / 5 * 255;\n\n\treturn [r, g, b];\n};\n\nconvert.rgb.hex = function (args) {\n\tconst integer = ((Math.round(args[0]) & 0xFF) << 16)\n\t\t+ ((Math.round(args[1]) & 0xFF) << 8)\n\t\t+ (Math.round(args[2]) & 0xFF);\n\n\tconst string = integer.toString(16).toUpperCase();\n\treturn '000000'.substring(string.length) + string;\n};\n\nconvert.hex.rgb = function (args) {\n\tconst match = args.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);\n\tif (!match) {\n\t\treturn [0, 0, 0];\n\t}\n\n\tlet colorString = match[0];\n\n\tif (match[0].length === 3) {\n\t\tcolorString = colorString.split('').map(char => {\n\t\t\treturn char + char;\n\t\t}).join('');\n\t}\n\n\tconst integer = parseInt(colorString, 16);\n\tconst r = (integer >> 16) & 0xFF;\n\tconst g = (integer >> 8) & 0xFF;\n\tconst b = integer & 0xFF;\n\n\treturn [r, g, b];\n};\n\nconvert.rgb.hcg = function (rgb) {\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\tconst max = Math.max(Math.max(r, g), b);\n\tconst min = Math.min(Math.min(r, g), b);\n\tconst chroma = (max - min);\n\tlet grayscale;\n\tlet hue;\n\n\tif (chroma < 1) {\n\t\tgrayscale = min / (1 - chroma);\n\t} else {\n\t\tgrayscale = 0;\n\t}\n\n\tif (chroma <= 0) {\n\t\thue = 0;\n\t} else\n\tif (max === r) {\n\t\thue = ((g - b) / chroma) % 6;\n\t} else\n\tif (max === g) {\n\t\thue = 2 + (b - r) / chroma;\n\t} else {\n\t\thue = 4 + (r - g) / chroma;\n\t}\n\n\thue /= 6;\n\thue %= 1;\n\n\treturn [hue * 360, chroma * 100, grayscale * 100];\n};\n\nconvert.hsl.hcg = function (hsl) {\n\tconst s = hsl[1] / 100;\n\tconst l = hsl[2] / 100;\n\n\tconst c = l < 0.5 ? (2.0 * s * l) : (2.0 * s * (1.0 - l));\n\n\tlet f = 0;\n\tif (c < 1.0) {\n\t\tf = (l - 0.5 * c) / (1.0 - c);\n\t}\n\n\treturn [hsl[0], c * 100, f * 100];\n};\n\nconvert.hsv.hcg = function (hsv) {\n\tconst s = hsv[1] / 100;\n\tconst v = hsv[2] / 100;\n\n\tconst c = s * v;\n\tlet f = 0;\n\n\tif (c < 1.0) {\n\t\tf = (v - c) / (1 - c);\n\t}\n\n\treturn [hsv[0], c * 100, f * 100];\n};\n\nconvert.hcg.rgb = function (hcg) {\n\tconst h = hcg[0] / 360;\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\n\tif (c === 0.0) {\n\t\treturn [g * 255, g * 255, g * 255];\n\t}\n\n\tconst pure = [0, 0, 0];\n\tconst hi = (h % 1) * 6;\n\tconst v = hi % 1;\n\tconst w = 1 - v;\n\tlet mg = 0;\n\n\t/* eslint-disable max-statements-per-line */\n\tswitch (Math.floor(hi)) {\n\t\tcase 0:\n\t\t\tpure[0] = 1; pure[1] = v; pure[2] = 0; break;\n\t\tcase 1:\n\t\t\tpure[0] = w; pure[1] = 1; pure[2] = 0; break;\n\t\tcase 2:\n\t\t\tpure[0] = 0; pure[1] = 1; pure[2] = v; break;\n\t\tcase 3:\n\t\t\tpure[0] = 0; pure[1] = w; pure[2] = 1; break;\n\t\tcase 4:\n\t\t\tpure[0] = v; pure[1] = 0; pure[2] = 1; break;\n\t\tdefault:\n\t\t\tpure[0] = 1; pure[1] = 0; pure[2] = w;\n\t}\n\t/* eslint-enable max-statements-per-line */\n\n\tmg = (1.0 - c) * g;\n\n\treturn [\n\t\t(c * pure[0] + mg) * 255,\n\t\t(c * pure[1] + mg) * 255,\n\t\t(c * pure[2] + mg) * 255\n\t];\n};\n\nconvert.hcg.hsv = function (hcg) {\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\n\tconst v = c + g * (1.0 - c);\n\tlet f = 0;\n\n\tif (v > 0.0) {\n\t\tf = c / v;\n\t}\n\n\treturn [hcg[0], f * 100, v * 100];\n};\n\nconvert.hcg.hsl = function (hcg) {\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\n\tconst l = g * (1.0 - c) + 0.5 * c;\n\tlet s = 0;\n\n\tif (l > 0.0 && l < 0.5) {\n\t\ts = c / (2 * l);\n\t} else\n\tif (l >= 0.5 && l < 1.0) {\n\t\ts = c / (2 * (1 - l));\n\t}\n\n\treturn [hcg[0], s * 100, l * 100];\n};\n\nconvert.hcg.hwb = function (hcg) {\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\tconst v = c + g * (1.0 - c);\n\treturn [hcg[0], (v - c) * 100, (1 - v) * 100];\n};\n\nconvert.hwb.hcg = function (hwb) {\n\tconst w = hwb[1] / 100;\n\tconst b = hwb[2] / 100;\n\tconst v = 1 - b;\n\tconst c = v - w;\n\tlet g = 0;\n\n\tif (c < 1) {\n\t\tg = (v - c) / (1 - c);\n\t}\n\n\treturn [hwb[0], c * 100, g * 100];\n};\n\nconvert.apple.rgb = function (apple) {\n\treturn [(apple[0] / 65535) * 255, (apple[1] / 65535) * 255, (apple[2] / 65535) * 255];\n};\n\nconvert.rgb.apple = function (rgb) {\n\treturn [(rgb[0] / 255) * 65535, (rgb[1] / 255) * 65535, (rgb[2] / 255) * 65535];\n};\n\nconvert.gray.rgb = function (args) {\n\treturn [args[0] / 100 * 255, args[0] / 100 * 255, args[0] / 100 * 255];\n};\n\nconvert.gray.hsl = function (args) {\n\treturn [0, 0, args[0]];\n};\n\nconvert.gray.hsv = convert.gray.hsl;\n\nconvert.gray.hwb = function (gray) {\n\treturn [0, 100, gray[0]];\n};\n\nconvert.gray.cmyk = function (gray) {\n\treturn [0, 0, 0, gray[0]];\n};\n\nconvert.gray.lab = function (gray) {\n\treturn [gray[0], 0, 0];\n};\n\nconvert.gray.hex = function (gray) {\n\tconst val = Math.round(gray[0] / 100 * 255) & 0xFF;\n\tconst integer = (val << 16) + (val << 8) + val;\n\n\tconst string = integer.toString(16).toUpperCase();\n\treturn '000000'.substring(string.length) + string;\n};\n\nconvert.rgb.gray = function (rgb) {\n\tconst val = (rgb[0] + rgb[1] + rgb[2]) / 3;\n\treturn [val / 255 * 100];\n};\n", "const conversions = require('./conversions');\n\n/*\n\tThis function routes a model to all other models.\n\n\tall functions that are routed have a property `.conversion` attached\n\tto the returned synthetic function. This property is an array\n\tof strings, each with the steps in between the 'from' and 'to'\n\tcolor models (inclusive).\n\n\tconversions that are not possible simply are not included.\n*/\n\nfunction buildGraph() {\n\tconst graph = {};\n\t// https://jsperf.com/object-keys-vs-for-in-with-closure/3\n\tconst models = Object.keys(conversions);\n\n\tfor (let len = models.length, i = 0; i < len; i++) {\n\t\tgraph[models[i]] = {\n\t\t\t// http://jsperf.com/1-vs-infinity\n\t\t\t// micro-opt, but this is simple.\n\t\t\tdistance: -1,\n\t\t\tparent: null\n\t\t};\n\t}\n\n\treturn graph;\n}\n\n// https://en.wikipedia.org/wiki/Breadth-first_search\nfunction deriveBFS(fromModel) {\n\tconst graph = buildGraph();\n\tconst queue = [fromModel]; // Unshift -> queue -> pop\n\n\tgraph[fromModel].distance = 0;\n\n\twhile (queue.length) {\n\t\tconst current = queue.pop();\n\t\tconst adjacents = Object.keys(conversions[current]);\n\n\t\tfor (let len = adjacents.length, i = 0; i < len; i++) {\n\t\t\tconst adjacent = adjacents[i];\n\t\t\tconst node = graph[adjacent];\n\n\t\t\tif (node.distance === -1) {\n\t\t\t\tnode.distance = graph[current].distance + 1;\n\t\t\t\tnode.parent = current;\n\t\t\t\tqueue.unshift(adjacent);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn graph;\n}\n\nfunction link(from, to) {\n\treturn function (args) {\n\t\treturn to(from(args));\n\t};\n}\n\nfunction wrapConversion(toModel, graph) {\n\tconst path = [graph[toModel].parent, toModel];\n\tlet fn = conversions[graph[toModel].parent][toModel];\n\n\tlet cur = graph[toModel].parent;\n\twhile (graph[cur].parent) {\n\t\tpath.unshift(graph[cur].parent);\n\t\tfn = link(conversions[graph[cur].parent][cur], fn);\n\t\tcur = graph[cur].parent;\n\t}\n\n\tfn.conversion = path;\n\treturn fn;\n}\n\nmodule.exports = function (fromModel) {\n\tconst graph = deriveBFS(fromModel);\n\tconst conversion = {};\n\n\tconst models = Object.keys(graph);\n\tfor (let len = models.length, i = 0; i < len; i++) {\n\t\tconst toModel = models[i];\n\t\tconst node = graph[toModel];\n\n\t\tif (node.parent === null) {\n\t\t\t// No possible conversion, or this node is the source model.\n\t\t\tcontinue;\n\t\t}\n\n\t\tconversion[toModel] = wrapConversion(toModel, graph);\n\t}\n\n\treturn conversion;\n};\n\n", "const conversions = require('./conversions');\nconst route = require('./route');\n\nconst convert = {};\n\nconst models = Object.keys(conversions);\n\nfunction wrapRaw(fn) {\n\tconst wrappedFn = function (...args) {\n\t\tconst arg0 = args[0];\n\t\tif (arg0 === undefined || arg0 === null) {\n\t\t\treturn arg0;\n\t\t}\n\n\t\tif (arg0.length > 1) {\n\t\t\targs = arg0;\n\t\t}\n\n\t\treturn fn(args);\n\t};\n\n\t// Preserve .conversion property if there is one\n\tif ('conversion' in fn) {\n\t\twrappedFn.conversion = fn.conversion;\n\t}\n\n\treturn wrappedFn;\n}\n\nfunction wrapRounded(fn) {\n\tconst wrappedFn = function (...args) {\n\t\tconst arg0 = args[0];\n\n\t\tif (arg0 === undefined || arg0 === null) {\n\t\t\treturn arg0;\n\t\t}\n\n\t\tif (arg0.length > 1) {\n\t\t\targs = arg0;\n\t\t}\n\n\t\tconst result = fn(args);\n\n\t\t// We're assuming the result is an array here.\n\t\t// see notice in conversions.js; don't use box types\n\t\t// in conversion functions.\n\t\tif (typeof result === 'object') {\n\t\t\tfor (let len = result.length, i = 0; i < len; i++) {\n\t\t\t\tresult[i] = Math.round(result[i]);\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t};\n\n\t// Preserve .conversion property if there is one\n\tif ('conversion' in fn) {\n\t\twrappedFn.conversion = fn.conversion;\n\t}\n\n\treturn wrappedFn;\n}\n\nmodels.forEach(fromModel => {\n\tconvert[fromModel] = {};\n\n\tObject.defineProperty(convert[fromModel], 'channels', {value: conversions[fromModel].channels});\n\tObject.defineProperty(convert[fromModel], 'labels', {value: conversions[fromModel].labels});\n\n\tconst routes = route(fromModel);\n\tconst routeModels = Object.keys(routes);\n\n\trouteModels.forEach(toModel => {\n\t\tconst fn = routes[toModel];\n\n\t\tconvert[fromModel][toModel] = wrapRounded(fn);\n\t\tconvert[fromModel][toModel].raw = wrapRaw(fn);\n\t});\n});\n\nmodule.exports = convert;\n", "'use strict';\n\nconst wrapAnsi16 = (fn, offset) => (...args) => {\n\tconst code = fn(...args);\n\treturn `\\u001B[${code + offset}m`;\n};\n\nconst wrapAnsi256 = (fn, offset) => (...args) => {\n\tconst code = fn(...args);\n\treturn `\\u001B[${38 + offset};5;${code}m`;\n};\n\nconst wrapAnsi16m = (fn, offset) => (...args) => {\n\tconst rgb = fn(...args);\n\treturn `\\u001B[${38 + offset};2;${rgb[0]};${rgb[1]};${rgb[2]}m`;\n};\n\nconst ansi2ansi = n => n;\nconst rgb2rgb = (r, g, b) => [r, g, b];\n\nconst setLazyProperty = (object, property, get) => {\n\tObject.defineProperty(object, property, {\n\t\tget: () => {\n\t\t\tconst value = get();\n\n\t\t\tObject.defineProperty(object, property, {\n\t\t\t\tvalue,\n\t\t\t\tenumerable: true,\n\t\t\t\tconfigurable: true\n\t\t\t});\n\n\t\t\treturn value;\n\t\t},\n\t\tenumerable: true,\n\t\tconfigurable: true\n\t});\n};\n\n/** @type {typeof import('color-convert')} */\nlet colorConvert;\nconst makeDynamicStyles = (wrap, targetSpace, identity, isBackground) => {\n\tif (colorConvert === undefined) {\n\t\tcolorConvert = require('color-convert');\n\t}\n\n\tconst offset = isBackground ? 10 : 0;\n\tconst styles = {};\n\n\tfor (const [sourceSpace, suite] of Object.entries(colorConvert)) {\n\t\tconst name = sourceSpace === 'ansi16' ? 'ansi' : sourceSpace;\n\t\tif (sourceSpace === targetSpace) {\n\t\t\tstyles[name] = wrap(identity, offset);\n\t\t} else if (typeof suite === 'object') {\n\t\t\tstyles[name] = wrap(suite[targetSpace], offset);\n\t\t}\n\t}\n\n\treturn styles;\n};\n\nfunction assembleStyles() {\n\tconst codes = new Map();\n\tconst styles = {\n\t\tmodifier: {\n\t\t\treset: [0, 0],\n\t\t\t// 21 isn't widely supported and 22 does the same thing\n\t\t\tbold: [1, 22],\n\t\t\tdim: [2, 22],\n\t\t\titalic: [3, 23],\n\t\t\tunderline: [4, 24],\n\t\t\tinverse: [7, 27],\n\t\t\thidden: [8, 28],\n\t\t\tstrikethrough: [9, 29]\n\t\t},\n\t\tcolor: {\n\t\t\tblack: [30, 39],\n\t\t\tred: [31, 39],\n\t\t\tgreen: [32, 39],\n\t\t\tyellow: [33, 39],\n\t\t\tblue: [34, 39],\n\t\t\tmagenta: [35, 39],\n\t\t\tcyan: [36, 39],\n\t\t\twhite: [37, 39],\n\n\t\t\t// Bright color\n\t\t\tblackBright: [90, 39],\n\t\t\tredBright: [91, 39],\n\t\t\tgreenBright: [92, 39],\n\t\t\tyellowBright: [93, 39],\n\t\t\tblueBright: [94, 39],\n\t\t\tmagentaBright: [95, 39],\n\t\t\tcyanBright: [96, 39],\n\t\t\twhiteBright: [97, 39]\n\t\t},\n\t\tbgColor: {\n\t\t\tbgBlack: [40, 49],\n\t\t\tbgRed: [41, 49],\n\t\t\tbgGreen: [42, 49],\n\t\t\tbgYellow: [43, 49],\n\t\t\tbgBlue: [44, 49],\n\t\t\tbgMagenta: [45, 49],\n\t\t\tbgCyan: [46, 49],\n\t\t\tbgWhite: [47, 49],\n\n\t\t\t// Bright color\n\t\t\tbgBlackBright: [100, 49],\n\t\t\tbgRedBright: [101, 49],\n\t\t\tbgGreenBright: [102, 49],\n\t\t\tbgYellowBright: [103, 49],\n\t\t\tbgBlueBright: [104, 49],\n\t\t\tbgMagentaBright: [105, 49],\n\t\t\tbgCyanBright: [106, 49],\n\t\t\tbgWhiteBright: [107, 49]\n\t\t}\n\t};\n\n\t// Alias bright black as gray (and grey)\n\tstyles.color.gray = styles.color.blackBright;\n\tstyles.bgColor.bgGray = styles.bgColor.bgBlackBright;\n\tstyles.color.grey = styles.color.blackBright;\n\tstyles.bgColor.bgGrey = styles.bgColor.bgBlackBright;\n\n\tfor (const [groupName, group] of Object.entries(styles)) {\n\t\tfor (const [styleName, style] of Object.entries(group)) {\n\t\t\tstyles[styleName] = {\n\t\t\t\topen: `\\u001B[${style[0]}m`,\n\t\t\t\tclose: `\\u001B[${style[1]}m`\n\t\t\t};\n\n\t\t\tgroup[styleName] = styles[styleName];\n\n\t\t\tcodes.set(style[0], style[1]);\n\t\t}\n\n\t\tObject.defineProperty(styles, groupName, {\n\t\t\tvalue: group,\n\t\t\tenumerable: false\n\t\t});\n\t}\n\n\tObject.defineProperty(styles, 'codes', {\n\t\tvalue: codes,\n\t\tenumerable: false\n\t});\n\n\tstyles.color.close = '\\u001B[39m';\n\tstyles.bgColor.close = '\\u001B[49m';\n\n\tsetLazyProperty(styles.color, 'ansi', () => makeDynamicStyles(wrapAnsi16, 'ansi16', ansi2ansi, false));\n\tsetLazyProperty(styles.color, 'ansi256', () => makeDynamicStyles(wrapAnsi256, 'ansi256', ansi2ansi, false));\n\tsetLazyProperty(styles.color, 'ansi16m', () => makeDynamicStyles(wrapAnsi16m, 'rgb', rgb2rgb, false));\n\tsetLazyProperty(styles.bgColor, 'ansi', () => makeDynamicStyles(wrapAnsi16, 'ansi16', ansi2ansi, true));\n\tsetLazyProperty(styles.bgColor, 'ansi256', () => makeDynamicStyles(wrapAnsi256, 'ansi256', ansi2ansi, true));\n\tsetLazyProperty(styles.bgColor, 'ansi16m', () => makeDynamicStyles(wrapAnsi16m, 'rgb', rgb2rgb, true));\n\n\treturn styles;\n}\n\n// Make the export immutable\nObject.defineProperty(module, 'exports', {\n\tenumerable: true,\n\tget: assembleStyles\n});\n", "'use strict';\n\nmodule.exports = (flag, argv = process.argv) => {\n\tconst prefix = flag.startsWith('-') ? '' : (flag.length === 1 ? '-' : '--');\n\tconst position = argv.indexOf(prefix + flag);\n\tconst terminatorPosition = argv.indexOf('--');\n\treturn position !== -1 && (terminatorPosition === -1 || position < terminatorPosition);\n};\n", "'use strict';\nconst os = require('os');\nconst tty = require('tty');\nconst hasFlag = require('has-flag');\n\nconst {env} = process;\n\nlet forceColor;\nif (hasFlag('no-color') ||\n\thasFlag('no-colors') ||\n\thasFlag('color=false') ||\n\thasFlag('color=never')) {\n\tforceColor = 0;\n} else if (hasFlag('color') ||\n\thasFlag('colors') ||\n\thasFlag('color=true') ||\n\thasFlag('color=always')) {\n\tforceColor = 1;\n}\n\nif ('FORCE_COLOR' in env) {\n\tif (env.FORCE_COLOR === 'true') {\n\t\tforceColor = 1;\n\t} else if (env.FORCE_COLOR === 'false') {\n\t\tforceColor = 0;\n\t} else {\n\t\tforceColor = env.FORCE_COLOR.length === 0 ? 1 : Math.min(parseInt(env.FORCE_COLOR, 10), 3);\n\t}\n}\n\nfunction translateLevel(level) {\n\tif (level === 0) {\n\t\treturn false;\n\t}\n\n\treturn {\n\t\tlevel,\n\t\thasBasic: true,\n\t\thas256: level >= 2,\n\t\thas16m: level >= 3\n\t};\n}\n\nfunction supportsColor(haveStream, streamIsTTY) {\n\tif (forceColor === 0) {\n\t\treturn 0;\n\t}\n\n\tif (hasFlag('color=16m') ||\n\t\thasFlag('color=full') ||\n\t\thasFlag('color=truecolor')) {\n\t\treturn 3;\n\t}\n\n\tif (hasFlag('color=256')) {\n\t\treturn 2;\n\t}\n\n\tif (haveStream && !streamIsTTY && forceColor === undefined) {\n\t\treturn 0;\n\t}\n\n\tconst min = forceColor || 0;\n\n\tif (env.TERM === 'dumb') {\n\t\treturn min;\n\t}\n\n\tif (process.platform === 'win32') {\n\t\t// Windows 10 build 10586 is the first Windows release that supports 256 colors.\n\t\t// Windows 10 build 14931 is the first release that supports 16m/TrueColor.\n\t\tconst osRelease = os.release().split('.');\n\t\tif (\n\t\t\tNumber(osRelease[0]) >= 10 &&\n\t\t\tNumber(osRelease[2]) >= 10586\n\t\t) {\n\t\t\treturn Number(osRelease[2]) >= 14931 ? 3 : 2;\n\t\t}\n\n\t\treturn 1;\n\t}\n\n\tif ('CI' in env) {\n\t\tif (['TRAVIS', 'CIRCLECI', 'APPVEYOR', 'GITLAB_CI', 'GITHUB_ACTIONS', 'BUILDKITE'].some(sign => sign in env) || env.CI_NAME === 'codeship') {\n\t\t\treturn 1;\n\t\t}\n\n\t\treturn min;\n\t}\n\n\tif ('TEAMCITY_VERSION' in env) {\n\t\treturn /^(9\\.(0*[1-9]\\d*)\\.|\\d{2,}\\.)/.test(env.TEAMCITY_VERSION) ? 1 : 0;\n\t}\n\n\tif (env.COLORTERM === 'truecolor') {\n\t\treturn 3;\n\t}\n\n\tif ('TERM_PROGRAM' in env) {\n\t\tconst version = parseInt((env.TERM_PROGRAM_VERSION || '').split('.')[0], 10);\n\n\t\tswitch (env.TERM_PROGRAM) {\n\t\t\tcase 'iTerm.app':\n\t\t\t\treturn version >= 3 ? 3 : 2;\n\t\t\tcase 'Apple_Terminal':\n\t\t\t\treturn 2;\n\t\t\t// No default\n\t\t}\n\t}\n\n\tif (/-256(color)?$/i.test(env.TERM)) {\n\t\treturn 2;\n\t}\n\n\tif (/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(env.TERM)) {\n\t\treturn 1;\n\t}\n\n\tif ('COLORTERM' in env) {\n\t\treturn 1;\n\t}\n\n\treturn min;\n}\n\nfunction getSupportLevel(stream) {\n\tconst level = supportsColor(stream, stream && stream.isTTY);\n\treturn translateLevel(level);\n}\n\nmodule.exports = {\n\tsupportsColor: getSupportLevel,\n\tstdout: translateLevel(supportsColor(true, tty.isatty(1))),\n\tstderr: translateLevel(supportsColor(true, tty.isatty(2)))\n};\n", "'use strict';\n\nconst stringReplaceAll = (string, substring, replacer) => {\n\tlet index = string.indexOf(substring);\n\tif (index === -1) {\n\t\treturn string;\n\t}\n\n\tconst substringLength = substring.length;\n\tlet endIndex = 0;\n\tlet returnValue = '';\n\tdo {\n\t\treturnValue += string.substr(endIndex, index - endIndex) + substring + replacer;\n\t\tendIndex = index + substringLength;\n\t\tindex = string.indexOf(substring, endIndex);\n\t} while (index !== -1);\n\n\treturnValue += string.substr(endIndex);\n\treturn returnValue;\n};\n\nconst stringEncaseCRLFWithFirstIndex = (string, prefix, postfix, index) => {\n\tlet endIndex = 0;\n\tlet returnValue = '';\n\tdo {\n\t\tconst gotCR = string[index - 1] === '\\r';\n\t\treturnValue += string.substr(endIndex, (gotCR ? index - 1 : index) - endIndex) + prefix + (gotCR ? '\\r\\n' : '\\n') + postfix;\n\t\tendIndex = index + 1;\n\t\tindex = string.indexOf('\\n', endIndex);\n\t} while (index !== -1);\n\n\treturnValue += string.substr(endIndex);\n\treturn returnValue;\n};\n\nmodule.exports = {\n\tstringReplaceAll,\n\tstringEncaseCRLFWithFirstIndex\n};\n", "'use strict';\nconst TEMPLATE_REGEX = /(?:\\\\(u(?:[a-f\\d]{4}|\\{[a-f\\d]{1,6}\\})|x[a-f\\d]{2}|.))|(?:\\{(~)?(\\w+(?:\\([^)]*\\))?(?:\\.\\w+(?:\\([^)]*\\))?)*)(?:[ \\t]|(?=\\r?\\n)))|(\\})|((?:.|[\\r\\n\\f])+?)/gi;\nconst STYLE_REGEX = /(?:^|\\.)(\\w+)(?:\\(([^)]*)\\))?/g;\nconst STRING_REGEX = /^(['\"])((?:\\\\.|(?!\\1)[^\\\\])*)\\1$/;\nconst ESCAPE_REGEX = /\\\\(u(?:[a-f\\d]{4}|{[a-f\\d]{1,6}})|x[a-f\\d]{2}|.)|([^\\\\])/gi;\n\nconst ESCAPES = new Map([\n\t['n', '\\n'],\n\t['r', '\\r'],\n\t['t', '\\t'],\n\t['b', '\\b'],\n\t['f', '\\f'],\n\t['v', '\\v'],\n\t['0', '\\0'],\n\t['\\\\', '\\\\'],\n\t['e', '\\u001B'],\n\t['a', '\\u0007']\n]);\n\nfunction unescape(c) {\n\tconst u = c[0] === 'u';\n\tconst bracket = c[1] === '{';\n\n\tif ((u && !bracket && c.length === 5) || (c[0] === 'x' && c.length === 3)) {\n\t\treturn String.fromCharCode(parseInt(c.slice(1), 16));\n\t}\n\n\tif (u && bracket) {\n\t\treturn String.fromCodePoint(parseInt(c.slice(2, -1), 16));\n\t}\n\n\treturn ESCAPES.get(c) || c;\n}\n\nfunction parseArguments(name, arguments_) {\n\tconst results = [];\n\tconst chunks = arguments_.trim().split(/\\s*,\\s*/g);\n\tlet matches;\n\n\tfor (const chunk of chunks) {\n\t\tconst number = Number(chunk);\n\t\tif (!Number.isNaN(number)) {\n\t\t\tresults.push(number);\n\t\t} else if ((matches = chunk.match(STRING_REGEX))) {\n\t\t\tresults.push(matches[2].replace(ESCAPE_REGEX, (m, escape, character) => escape ? unescape(escape) : character));\n\t\t} else {\n\t\t\tthrow new Error(`Invalid Chalk template style argument: ${chunk} (in style '${name}')`);\n\t\t}\n\t}\n\n\treturn results;\n}\n\nfunction parseStyle(style) {\n\tSTYLE_REGEX.lastIndex = 0;\n\n\tconst results = [];\n\tlet matches;\n\n\twhile ((matches = STYLE_REGEX.exec(style)) !== null) {\n\t\tconst name = matches[1];\n\n\t\tif (matches[2]) {\n\t\t\tconst args = parseArguments(name, matches[2]);\n\t\t\tresults.push([name].concat(args));\n\t\t} else {\n\t\t\tresults.push([name]);\n\t\t}\n\t}\n\n\treturn results;\n}\n\nfunction buildStyle(chalk, styles) {\n\tconst enabled = {};\n\n\tfor (const layer of styles) {\n\t\tfor (const style of layer.styles) {\n\t\t\tenabled[style[0]] = layer.inverse ? null : style.slice(1);\n\t\t}\n\t}\n\n\tlet current = chalk;\n\tfor (const [styleName, styles] of Object.entries(enabled)) {\n\t\tif (!Array.isArray(styles)) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (!(styleName in current)) {\n\t\t\tthrow new Error(`Unknown Chalk style: ${styleName}`);\n\t\t}\n\n\t\tcurrent = styles.length > 0 ? current[styleName](...styles) : current[styleName];\n\t}\n\n\treturn current;\n}\n\nmodule.exports = (chalk, temporary) => {\n\tconst styles = [];\n\tconst chunks = [];\n\tlet chunk = [];\n\n\t// eslint-disable-next-line max-params\n\ttemporary.replace(TEMPLATE_REGEX, (m, escapeCharacter, inverse, style, close, character) => {\n\t\tif (escapeCharacter) {\n\t\t\tchunk.push(unescape(escapeCharacter));\n\t\t} else if (style) {\n\t\t\tconst string = chunk.join('');\n\t\t\tchunk = [];\n\t\t\tchunks.push(styles.length === 0 ? string : buildStyle(chalk, styles)(string));\n\t\t\tstyles.push({inverse, styles: parseStyle(style)});\n\t\t} else if (close) {\n\t\t\tif (styles.length === 0) {\n\t\t\t\tthrow new Error('Found extraneous } in Chalk template literal');\n\t\t\t}\n\n\t\t\tchunks.push(buildStyle(chalk, styles)(chunk.join('')));\n\t\t\tchunk = [];\n\t\t\tstyles.pop();\n\t\t} else {\n\t\t\tchunk.push(character);\n\t\t}\n\t});\n\n\tchunks.push(chunk.join(''));\n\n\tif (styles.length > 0) {\n\t\tconst errMessage = `Chalk template literal is missing ${styles.length} closing bracket${styles.length === 1 ? '' : 's'} (\\`}\\`)`;\n\t\tthrow new Error(errMessage);\n\t}\n\n\treturn chunks.join('');\n};\n", "'use strict';\nconst ansiStyles = require('ansi-styles');\nconst {stdout: stdoutColor, stderr: stderrColor} = require('supports-color');\nconst {\n\tstringReplaceAll,\n\tstringEncaseCRLFWithFirstIndex\n} = require('./util');\n\nconst {isArray} = Array;\n\n// `supportsColor.level` \u2192 `ansiStyles.color[name]` mapping\nconst levelMapping = [\n\t'ansi',\n\t'ansi',\n\t'ansi256',\n\t'ansi16m'\n];\n\nconst styles = Object.create(null);\n\nconst applyOptions = (object, options = {}) => {\n\tif (options.level && !(Number.isInteger(options.level) && options.level >= 0 && options.level <= 3)) {\n\t\tthrow new Error('The `level` option should be an integer from 0 to 3');\n\t}\n\n\t// Detect level if not set manually\n\tconst colorLevel = stdoutColor ? stdoutColor.level : 0;\n\tobject.level = options.level === undefined ? colorLevel : options.level;\n};\n\nclass ChalkClass {\n\tconstructor(options) {\n\t\t// eslint-disable-next-line no-constructor-return\n\t\treturn chalkFactory(options);\n\t}\n}\n\nconst chalkFactory = options => {\n\tconst chalk = {};\n\tapplyOptions(chalk, options);\n\n\tchalk.template = (...arguments_) => chalkTag(chalk.template, ...arguments_);\n\n\tObject.setPrototypeOf(chalk, Chalk.prototype);\n\tObject.setPrototypeOf(chalk.template, chalk);\n\n\tchalk.template.constructor = () => {\n\t\tthrow new Error('`chalk.constructor()` is deprecated. Use `new chalk.Instance()` instead.');\n\t};\n\n\tchalk.template.Instance = ChalkClass;\n\n\treturn chalk.template;\n};\n\nfunction Chalk(options) {\n\treturn chalkFactory(options);\n}\n\nfor (const [styleName, style] of Object.entries(ansiStyles)) {\n\tstyles[styleName] = {\n\t\tget() {\n\t\t\tconst builder = createBuilder(this, createStyler(style.open, style.close, this._styler), this._isEmpty);\n\t\t\tObject.defineProperty(this, styleName, {value: builder});\n\t\t\treturn builder;\n\t\t}\n\t};\n}\n\nstyles.visible = {\n\tget() {\n\t\tconst builder = createBuilder(this, this._styler, true);\n\t\tObject.defineProperty(this, 'visible', {value: builder});\n\t\treturn builder;\n\t}\n};\n\nconst usedModels = ['rgb', 'hex', 'keyword', 'hsl', 'hsv', 'hwb', 'ansi', 'ansi256'];\n\nfor (const model of usedModels) {\n\tstyles[model] = {\n\t\tget() {\n\t\t\tconst {level} = this;\n\t\t\treturn function (...arguments_) {\n\t\t\t\tconst styler = createStyler(ansiStyles.color[levelMapping[level]][model](...arguments_), ansiStyles.color.close, this._styler);\n\t\t\t\treturn createBuilder(this, styler, this._isEmpty);\n\t\t\t};\n\t\t}\n\t};\n}\n\nfor (const model of usedModels) {\n\tconst bgModel = 'bg' + model[0].toUpperCase() + model.slice(1);\n\tstyles[bgModel] = {\n\t\tget() {\n\t\t\tconst {level} = this;\n\t\t\treturn function (...arguments_) {\n\t\t\t\tconst styler = createStyler(ansiStyles.bgColor[levelMapping[level]][model](...arguments_), ansiStyles.bgColor.close, this._styler);\n\t\t\t\treturn createBuilder(this, styler, this._isEmpty);\n\t\t\t};\n\t\t}\n\t};\n}\n\nconst proto = Object.defineProperties(() => {}, {\n\t...styles,\n\tlevel: {\n\t\tenumerable: true,\n\t\tget() {\n\t\t\treturn this._generator.level;\n\t\t},\n\t\tset(level) {\n\t\t\tthis._generator.level = level;\n\t\t}\n\t}\n});\n\nconst createStyler = (open, close, parent) => {\n\tlet openAll;\n\tlet closeAll;\n\tif (parent === undefined) {\n\t\topenAll = open;\n\t\tcloseAll = close;\n\t} else {\n\t\topenAll = parent.openAll + open;\n\t\tcloseAll = close + parent.closeAll;\n\t}\n\n\treturn {\n\t\topen,\n\t\tclose,\n\t\topenAll,\n\t\tcloseAll,\n\t\tparent\n\t};\n};\n\nconst createBuilder = (self, _styler, _isEmpty) => {\n\tconst builder = (...arguments_) => {\n\t\tif (isArray(arguments_[0]) && isArray(arguments_[0].raw)) {\n\t\t\t// Called as a template literal, for example: chalk.red`2 + 3 = {bold ${2+3}}`\n\t\t\treturn applyStyle(builder, chalkTag(builder, ...arguments_));\n\t\t}\n\n\t\t// Single argument is hot path, implicit coercion is faster than anything\n\t\t// eslint-disable-next-line no-implicit-coercion\n\t\treturn applyStyle(builder, (arguments_.length === 1) ? ('' + arguments_[0]) : arguments_.join(' '));\n\t};\n\n\t// We alter the prototype because we must return a function, but there is\n\t// no way to create a function with a different prototype\n\tObject.setPrototypeOf(builder, proto);\n\n\tbuilder._generator = self;\n\tbuilder._styler = _styler;\n\tbuilder._isEmpty = _isEmpty;\n\n\treturn builder;\n};\n\nconst applyStyle = (self, string) => {\n\tif (self.level <= 0 || !string) {\n\t\treturn self._isEmpty ? '' : string;\n\t}\n\n\tlet styler = self._styler;\n\n\tif (styler === undefined) {\n\t\treturn string;\n\t}\n\n\tconst {openAll, closeAll} = styler;\n\tif (string.indexOf('\\u001B') !== -1) {\n\t\twhile (styler !== undefined) {\n\t\t\t// Replace any instances already present with a re-opening code\n\t\t\t// otherwise only the part of the string until said closing code\n\t\t\t// will be colored, and the rest will simply be 'plain'.\n\t\t\tstring = stringReplaceAll(string, styler.close, styler.open);\n\n\t\t\tstyler = styler.parent;\n\t\t}\n\t}\n\n\t// We can move both next actions out of loop, because remaining actions in loop won't have\n\t// any/visible effect on parts we add here. Close the styling before a linebreak and reopen\n\t// after next line to fix a bleed issue on macOS: https://github.com/chalk/chalk/pull/92\n\tconst lfIndex = string.indexOf('\\n');\n\tif (lfIndex !== -1) {\n\t\tstring = stringEncaseCRLFWithFirstIndex(string, closeAll, openAll, lfIndex);\n\t}\n\n\treturn openAll + string + closeAll;\n};\n\nlet template;\nconst chalkTag = (chalk, ...strings) => {\n\tconst [firstString] = strings;\n\n\tif (!isArray(firstString) || !isArray(firstString.raw)) {\n\t\t// If chalk() was called by itself or with a string,\n\t\t// return the string itself as a string.\n\t\treturn strings.join(' ');\n\t}\n\n\tconst arguments_ = strings.slice(1);\n\tconst parts = [firstString.raw[0]];\n\n\tfor (let i = 1; i < firstString.length; i++) {\n\t\tparts.push(\n\t\t\tString(arguments_[i - 1]).replace(/[{}\\\\]/g, '\\\\$&'),\n\t\t\tString(firstString.raw[i])\n\t\t);\n\t}\n\n\tif (template === undefined) {\n\t\ttemplate = require('./templates');\n\t}\n\n\treturn template(chalk, parts.join(''));\n};\n\nObject.defineProperties(Chalk.prototype, styles);\n\nconst chalk = Chalk(); // eslint-disable-line new-cap\nchalk.supportsColor = stdoutColor;\nchalk.stderr = Chalk({level: stderrColor ? stderrColor.level : 0}); // eslint-disable-line new-cap\nchalk.stderr.supportsColor = stderrColor;\n\nmodule.exports = chalk;\n", "import { Router } from '../../router'\nimport { Buffer } from 'buffer'\nimport { getEdgeFunctionFeatures, getEdgeFunctionJsPath } from '../../utils/edgeFunctionUtils'\nimport { basename } from 'path'\n\nexport interface FunctionEntry {\n  name: string\n  code: string\n}\n\n/**\n * The abstract base class for edge function builders.\n */\nexport default abstract class EdgeFunctionsBuilder {\n  protected functionDefaultExportName = 'edgeFunctionsDefaultExport'\n  protected indexCodeTemplateFilename = 'edgeFunctionsIndexCodeTemplate.js'\n  protected router: Router = {} as Router\n\n  protected abstract getIndexCodeTemplate(): Promise<string>\n  protected abstract getFunctionCode(\n    srcPath: string,\n    isInitScript: boolean,\n    failOnBuildError: boolean\n  ): string\n  protected abstract build(): Promise<Buffer | undefined>\n\n  /**\n   * @param router The Router\n   */\n  constructor(router: Router) {\n    this.router = router\n  }\n\n  /**\n   * Returns the array of function entries.\n   * Each entry contains the name of the function and the code of function which will return the edge function.\n   * @returns FunctionEntry[]\n   */\n  protected getFunctionEntries(failOnBuildError: boolean): FunctionEntry[] {\n    const features: any[] = getEdgeFunctionFeatures(this.router.rules)\n\n    // Optionally inject the edge_function_init_script path into the list\n    // of edge functions, but only if there are edge functions in the router rules.\n    if (\n      features.length > 0 &&\n      this.router.routerOptions &&\n      this.router.routerOptions.edge_function_init_script\n    ) {\n      const srcPath = this.router.routerOptions.edge_function_init_script\n      features.push({\n        edge_function: srcPath,\n        is_init_script: true, // Tag this as an init script\n      })\n    }\n\n    // Inject each edge_function defined in the router's rules.\n    return features.map(feature => {\n      let srcPath = getEdgeFunctionJsPath(feature.edge_function)\n      // If the path does not have an extension, assume it is a .js file.\n      srcPath = basename(srcPath).indexOf('.') < 0 ? srcPath + '.js' : srcPath\n      const functionCode = this.getFunctionCode(srcPath, feature.is_init_script, failOnBuildError)\n      return {\n        name: feature.is_init_script ? '__edge_function_init_script__' : srcPath,\n        code: `function ${\n          feature.is_init_script ? 'handleHttpInitWrapper' : 'handleHttpRequestWrapper'\n        }() {\n          ${functionCode}\n          return ${this.functionDefaultExportName}\n        }`,\n      }\n    })\n  }\n\n  /**\n   * Returns the final index code with the edge functions map inserted.\n   * @returns\n   */\n  public async getIndexCode(failOnBuildError: boolean) {\n    const functionEntries = this.getFunctionEntries(failOnBuildError)\n    const indexCodeTemplate = await this.getIndexCodeTemplate()\n    return indexCodeTemplate.replace(\n      /[\"'`]__INSERT_EDGE_FUNCTIONS_MAP_HERE__[\"'`]/,\n      `new Map([${functionEntries.map(entry => `['${entry.name}',${entry.code}]`).join(',\\n')}])`\n    )\n  }\n}\n", "\"use strict\";\nvar __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(\n  isNodeMode || !mod || !mod.__esModule ? __defProp(target, \"default\", { value: mod, enumerable: true }) : target,\n  mod\n));\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\n\n// lib/npm/node.ts\nvar node_exports = {};\n__export(node_exports, {\n  analyzeMetafile: () => analyzeMetafile,\n  analyzeMetafileSync: () => analyzeMetafileSync,\n  build: () => build,\n  buildSync: () => buildSync,\n  default: () => node_default,\n  formatMessages: () => formatMessages,\n  formatMessagesSync: () => formatMessagesSync,\n  initialize: () => initialize,\n  serve: () => serve,\n  transform: () => transform,\n  transformSync: () => transformSync,\n  version: () => version\n});\nmodule.exports = __toCommonJS(node_exports);\n\n// lib/shared/stdio_protocol.ts\nfunction encodePacket(packet) {\n  let visit = (value) => {\n    if (value === null) {\n      bb.write8(0);\n    } else if (typeof value === \"boolean\") {\n      bb.write8(1);\n      bb.write8(+value);\n    } else if (typeof value === \"number\") {\n      bb.write8(2);\n      bb.write32(value | 0);\n    } else if (typeof value === \"string\") {\n      bb.write8(3);\n      bb.write(encodeUTF8(value));\n    } else if (value instanceof Uint8Array) {\n      bb.write8(4);\n      bb.write(value);\n    } else if (value instanceof Array) {\n      bb.write8(5);\n      bb.write32(value.length);\n      for (let item of value) {\n        visit(item);\n      }\n    } else {\n      let keys = Object.keys(value);\n      bb.write8(6);\n      bb.write32(keys.length);\n      for (let key of keys) {\n        bb.write(encodeUTF8(key));\n        visit(value[key]);\n      }\n    }\n  };\n  let bb = new ByteBuffer();\n  bb.write32(0);\n  bb.write32(packet.id << 1 | +!packet.isRequest);\n  visit(packet.value);\n  writeUInt32LE(bb.buf, bb.len - 4, 0);\n  return bb.buf.subarray(0, bb.len);\n}\nfunction decodePacket(bytes) {\n  let visit = () => {\n    switch (bb.read8()) {\n      case 0:\n        return null;\n      case 1:\n        return !!bb.read8();\n      case 2:\n        return bb.read32();\n      case 3:\n        return decodeUTF8(bb.read());\n      case 4:\n        return bb.read();\n      case 5: {\n        let count = bb.read32();\n        let value2 = [];\n        for (let i = 0; i < count; i++) {\n          value2.push(visit());\n        }\n        return value2;\n      }\n      case 6: {\n        let count = bb.read32();\n        let value2 = {};\n        for (let i = 0; i < count; i++) {\n          value2[decodeUTF8(bb.read())] = visit();\n        }\n        return value2;\n      }\n      default:\n        throw new Error(\"Invalid packet\");\n    }\n  };\n  let bb = new ByteBuffer(bytes);\n  let id = bb.read32();\n  let isRequest = (id & 1) === 0;\n  id >>>= 1;\n  let value = visit();\n  if (bb.ptr !== bytes.length) {\n    throw new Error(\"Invalid packet\");\n  }\n  return { id, isRequest, value };\n}\nvar ByteBuffer = class {\n  constructor(buf = new Uint8Array(1024)) {\n    this.buf = buf;\n    this.len = 0;\n    this.ptr = 0;\n  }\n  _write(delta) {\n    if (this.len + delta > this.buf.length) {\n      let clone = new Uint8Array((this.len + delta) * 2);\n      clone.set(this.buf);\n      this.buf = clone;\n    }\n    this.len += delta;\n    return this.len - delta;\n  }\n  write8(value) {\n    let offset = this._write(1);\n    this.buf[offset] = value;\n  }\n  write32(value) {\n    let offset = this._write(4);\n    writeUInt32LE(this.buf, value, offset);\n  }\n  write(bytes) {\n    let offset = this._write(4 + bytes.length);\n    writeUInt32LE(this.buf, bytes.length, offset);\n    this.buf.set(bytes, offset + 4);\n  }\n  _read(delta) {\n    if (this.ptr + delta > this.buf.length) {\n      throw new Error(\"Invalid packet\");\n    }\n    this.ptr += delta;\n    return this.ptr - delta;\n  }\n  read8() {\n    return this.buf[this._read(1)];\n  }\n  read32() {\n    return readUInt32LE(this.buf, this._read(4));\n  }\n  read() {\n    let length = this.read32();\n    let bytes = new Uint8Array(length);\n    let ptr = this._read(bytes.length);\n    bytes.set(this.buf.subarray(ptr, ptr + length));\n    return bytes;\n  }\n};\nvar encodeUTF8;\nvar decodeUTF8;\nif (typeof TextEncoder !== \"undefined\" && typeof TextDecoder !== \"undefined\") {\n  let encoder = new TextEncoder();\n  let decoder = new TextDecoder();\n  encodeUTF8 = (text) => encoder.encode(text);\n  decodeUTF8 = (bytes) => decoder.decode(bytes);\n} else if (typeof Buffer !== \"undefined\") {\n  encodeUTF8 = (text) => {\n    let buffer = Buffer.from(text);\n    if (!(buffer instanceof Uint8Array)) {\n      buffer = new Uint8Array(buffer);\n    }\n    return buffer;\n  };\n  decodeUTF8 = (bytes) => {\n    let { buffer, byteOffset, byteLength } = bytes;\n    return Buffer.from(buffer, byteOffset, byteLength).toString();\n  };\n} else {\n  throw new Error(\"No UTF-8 codec found\");\n}\nfunction readUInt32LE(buffer, offset) {\n  return buffer[offset++] | buffer[offset++] << 8 | buffer[offset++] << 16 | buffer[offset++] << 24;\n}\nfunction writeUInt32LE(buffer, value, offset) {\n  buffer[offset++] = value;\n  buffer[offset++] = value >> 8;\n  buffer[offset++] = value >> 16;\n  buffer[offset++] = value >> 24;\n}\n\n// lib/shared/common.ts\nfunction validateTarget(target) {\n  target += \"\";\n  if (target.indexOf(\",\") >= 0)\n    throw new Error(`Invalid target: ${target}`);\n  return target;\n}\nvar canBeAnything = () => null;\nvar mustBeBoolean = (value) => typeof value === \"boolean\" ? null : \"a boolean\";\nvar mustBeBooleanOrObject = (value) => typeof value === \"boolean\" || typeof value === \"object\" && !Array.isArray(value) ? null : \"a boolean or an object\";\nvar mustBeString = (value) => typeof value === \"string\" ? null : \"a string\";\nvar mustBeRegExp = (value) => value instanceof RegExp ? null : \"a RegExp object\";\nvar mustBeInteger = (value) => typeof value === \"number\" && value === (value | 0) ? null : \"an integer\";\nvar mustBeFunction = (value) => typeof value === \"function\" ? null : \"a function\";\nvar mustBeArray = (value) => Array.isArray(value) ? null : \"an array\";\nvar mustBeObject = (value) => typeof value === \"object\" && value !== null && !Array.isArray(value) ? null : \"an object\";\nvar mustBeWebAssemblyModule = (value) => value instanceof WebAssembly.Module ? null : \"a WebAssembly.Module\";\nvar mustBeArrayOrRecord = (value) => typeof value === \"object\" && value !== null ? null : \"an array or an object\";\nvar mustBeObjectOrNull = (value) => typeof value === \"object\" && !Array.isArray(value) ? null : \"an object or null\";\nvar mustBeStringOrBoolean = (value) => typeof value === \"string\" || typeof value === \"boolean\" ? null : \"a string or a boolean\";\nvar mustBeStringOrObject = (value) => typeof value === \"string\" || typeof value === \"object\" && value !== null && !Array.isArray(value) ? null : \"a string or an object\";\nvar mustBeStringOrArray = (value) => typeof value === \"string\" || Array.isArray(value) ? null : \"a string or an array\";\nvar mustBeStringOrUint8Array = (value) => typeof value === \"string\" || value instanceof Uint8Array ? null : \"a string or a Uint8Array\";\nfunction getFlag(object, keys, key, mustBeFn) {\n  let value = object[key];\n  keys[key + \"\"] = true;\n  if (value === void 0)\n    return void 0;\n  let mustBe = mustBeFn(value);\n  if (mustBe !== null)\n    throw new Error(`\"${key}\" must be ${mustBe}`);\n  return value;\n}\nfunction checkForInvalidFlags(object, keys, where) {\n  for (let key in object) {\n    if (!(key in keys)) {\n      throw new Error(`Invalid option ${where}: \"${key}\"`);\n    }\n  }\n}\nfunction validateInitializeOptions(options) {\n  let keys = /* @__PURE__ */ Object.create(null);\n  let wasmURL = getFlag(options, keys, \"wasmURL\", mustBeString);\n  let wasmModule = getFlag(options, keys, \"wasmModule\", mustBeWebAssemblyModule);\n  let worker = getFlag(options, keys, \"worker\", mustBeBoolean);\n  checkForInvalidFlags(options, keys, \"in initialize() call\");\n  return {\n    wasmURL,\n    wasmModule,\n    worker\n  };\n}\nfunction validateMangleCache(mangleCache) {\n  let validated;\n  if (mangleCache !== void 0) {\n    validated = /* @__PURE__ */ Object.create(null);\n    for (let key of Object.keys(mangleCache)) {\n      let value = mangleCache[key];\n      if (typeof value === \"string\" || value === false) {\n        validated[key] = value;\n      } else {\n        throw new Error(`Expected ${JSON.stringify(key)} in mangle cache to map to either a string or false`);\n      }\n    }\n  }\n  return validated;\n}\nfunction pushLogFlags(flags, options, keys, isTTY2, logLevelDefault) {\n  let color = getFlag(options, keys, \"color\", mustBeBoolean);\n  let logLevel = getFlag(options, keys, \"logLevel\", mustBeString);\n  let logLimit = getFlag(options, keys, \"logLimit\", mustBeInteger);\n  if (color !== void 0)\n    flags.push(`--color=${color}`);\n  else if (isTTY2)\n    flags.push(`--color=true`);\n  flags.push(`--log-level=${logLevel || logLevelDefault}`);\n  flags.push(`--log-limit=${logLimit || 0}`);\n}\nfunction pushCommonFlags(flags, options, keys) {\n  let legalComments = getFlag(options, keys, \"legalComments\", mustBeString);\n  let sourceRoot = getFlag(options, keys, \"sourceRoot\", mustBeString);\n  let sourcesContent = getFlag(options, keys, \"sourcesContent\", mustBeBoolean);\n  let target = getFlag(options, keys, \"target\", mustBeStringOrArray);\n  let format = getFlag(options, keys, \"format\", mustBeString);\n  let globalName = getFlag(options, keys, \"globalName\", mustBeString);\n  let mangleProps = getFlag(options, keys, \"mangleProps\", mustBeRegExp);\n  let reserveProps = getFlag(options, keys, \"reserveProps\", mustBeRegExp);\n  let mangleQuoted = getFlag(options, keys, \"mangleQuoted\", mustBeBoolean);\n  let minify = getFlag(options, keys, \"minify\", mustBeBoolean);\n  let minifySyntax = getFlag(options, keys, \"minifySyntax\", mustBeBoolean);\n  let minifyWhitespace = getFlag(options, keys, \"minifyWhitespace\", mustBeBoolean);\n  let minifyIdentifiers = getFlag(options, keys, \"minifyIdentifiers\", mustBeBoolean);\n  let drop = getFlag(options, keys, \"drop\", mustBeArray);\n  let charset = getFlag(options, keys, \"charset\", mustBeString);\n  let treeShaking = getFlag(options, keys, \"treeShaking\", mustBeBoolean);\n  let ignoreAnnotations = getFlag(options, keys, \"ignoreAnnotations\", mustBeBoolean);\n  let jsx = getFlag(options, keys, \"jsx\", mustBeString);\n  let jsxFactory = getFlag(options, keys, \"jsxFactory\", mustBeString);\n  let jsxFragment = getFlag(options, keys, \"jsxFragment\", mustBeString);\n  let jsxImportSource = getFlag(options, keys, \"jsxImportSource\", mustBeString);\n  let jsxDev = getFlag(options, keys, \"jsxDev\", mustBeBoolean);\n  let define = getFlag(options, keys, \"define\", mustBeObject);\n  let logOverride = getFlag(options, keys, \"logOverride\", mustBeObject);\n  let supported = getFlag(options, keys, \"supported\", mustBeObject);\n  let pure = getFlag(options, keys, \"pure\", mustBeArray);\n  let keepNames = getFlag(options, keys, \"keepNames\", mustBeBoolean);\n  let platform = getFlag(options, keys, \"platform\", mustBeString);\n  if (legalComments)\n    flags.push(`--legal-comments=${legalComments}`);\n  if (sourceRoot !== void 0)\n    flags.push(`--source-root=${sourceRoot}`);\n  if (sourcesContent !== void 0)\n    flags.push(`--sources-content=${sourcesContent}`);\n  if (target) {\n    if (Array.isArray(target))\n      flags.push(`--target=${Array.from(target).map(validateTarget).join(\",\")}`);\n    else\n      flags.push(`--target=${validateTarget(target)}`);\n  }\n  if (format)\n    flags.push(`--format=${format}`);\n  if (globalName)\n    flags.push(`--global-name=${globalName}`);\n  if (platform)\n    flags.push(`--platform=${platform}`);\n  if (minify)\n    flags.push(\"--minify\");\n  if (minifySyntax)\n    flags.push(\"--minify-syntax\");\n  if (minifyWhitespace)\n    flags.push(\"--minify-whitespace\");\n  if (minifyIdentifiers)\n    flags.push(\"--minify-identifiers\");\n  if (charset)\n    flags.push(`--charset=${charset}`);\n  if (treeShaking !== void 0)\n    flags.push(`--tree-shaking=${treeShaking}`);\n  if (ignoreAnnotations)\n    flags.push(`--ignore-annotations`);\n  if (drop)\n    for (let what of drop)\n      flags.push(`--drop:${what}`);\n  if (mangleProps)\n    flags.push(`--mangle-props=${mangleProps.source}`);\n  if (reserveProps)\n    flags.push(`--reserve-props=${reserveProps.source}`);\n  if (mangleQuoted !== void 0)\n    flags.push(`--mangle-quoted=${mangleQuoted}`);\n  if (jsx)\n    flags.push(`--jsx=${jsx}`);\n  if (jsxFactory)\n    flags.push(`--jsx-factory=${jsxFactory}`);\n  if (jsxFragment)\n    flags.push(`--jsx-fragment=${jsxFragment}`);\n  if (jsxImportSource)\n    flags.push(`--jsx-import-source=${jsxImportSource}`);\n  if (jsxDev)\n    flags.push(`--jsx-dev`);\n  if (define) {\n    for (let key in define) {\n      if (key.indexOf(\"=\") >= 0)\n        throw new Error(`Invalid define: ${key}`);\n      flags.push(`--define:${key}=${define[key]}`);\n    }\n  }\n  if (logOverride) {\n    for (let key in logOverride) {\n      if (key.indexOf(\"=\") >= 0)\n        throw new Error(`Invalid log override: ${key}`);\n      flags.push(`--log-override:${key}=${logOverride[key]}`);\n    }\n  }\n  if (supported) {\n    for (let key in supported) {\n      if (key.indexOf(\"=\") >= 0)\n        throw new Error(`Invalid supported: ${key}`);\n      flags.push(`--supported:${key}=${supported[key]}`);\n    }\n  }\n  if (pure)\n    for (let fn of pure)\n      flags.push(`--pure:${fn}`);\n  if (keepNames)\n    flags.push(`--keep-names`);\n}\nfunction flagsForBuildOptions(callName, options, isTTY2, logLevelDefault, writeDefault) {\n  var _a2;\n  let flags = [];\n  let entries = [];\n  let keys = /* @__PURE__ */ Object.create(null);\n  let stdinContents = null;\n  let stdinResolveDir = null;\n  let watchMode = null;\n  pushLogFlags(flags, options, keys, isTTY2, logLevelDefault);\n  pushCommonFlags(flags, options, keys);\n  let sourcemap = getFlag(options, keys, \"sourcemap\", mustBeStringOrBoolean);\n  let bundle = getFlag(options, keys, \"bundle\", mustBeBoolean);\n  let watch = getFlag(options, keys, \"watch\", mustBeBooleanOrObject);\n  let splitting = getFlag(options, keys, \"splitting\", mustBeBoolean);\n  let preserveSymlinks = getFlag(options, keys, \"preserveSymlinks\", mustBeBoolean);\n  let metafile = getFlag(options, keys, \"metafile\", mustBeBoolean);\n  let outfile = getFlag(options, keys, \"outfile\", mustBeString);\n  let outdir = getFlag(options, keys, \"outdir\", mustBeString);\n  let outbase = getFlag(options, keys, \"outbase\", mustBeString);\n  let tsconfig = getFlag(options, keys, \"tsconfig\", mustBeString);\n  let resolveExtensions = getFlag(options, keys, \"resolveExtensions\", mustBeArray);\n  let nodePathsInput = getFlag(options, keys, \"nodePaths\", mustBeArray);\n  let mainFields = getFlag(options, keys, \"mainFields\", mustBeArray);\n  let conditions = getFlag(options, keys, \"conditions\", mustBeArray);\n  let external = getFlag(options, keys, \"external\", mustBeArray);\n  let loader = getFlag(options, keys, \"loader\", mustBeObject);\n  let outExtension = getFlag(options, keys, \"outExtension\", mustBeObject);\n  let publicPath = getFlag(options, keys, \"publicPath\", mustBeString);\n  let entryNames = getFlag(options, keys, \"entryNames\", mustBeString);\n  let chunkNames = getFlag(options, keys, \"chunkNames\", mustBeString);\n  let assetNames = getFlag(options, keys, \"assetNames\", mustBeString);\n  let inject = getFlag(options, keys, \"inject\", mustBeArray);\n  let banner = getFlag(options, keys, \"banner\", mustBeObject);\n  let footer = getFlag(options, keys, \"footer\", mustBeObject);\n  let entryPoints = getFlag(options, keys, \"entryPoints\", mustBeArrayOrRecord);\n  let absWorkingDir = getFlag(options, keys, \"absWorkingDir\", mustBeString);\n  let stdin = getFlag(options, keys, \"stdin\", mustBeObject);\n  let write = (_a2 = getFlag(options, keys, \"write\", mustBeBoolean)) != null ? _a2 : writeDefault;\n  let allowOverwrite = getFlag(options, keys, \"allowOverwrite\", mustBeBoolean);\n  let incremental = getFlag(options, keys, \"incremental\", mustBeBoolean) === true;\n  let mangleCache = getFlag(options, keys, \"mangleCache\", mustBeObject);\n  keys.plugins = true;\n  checkForInvalidFlags(options, keys, `in ${callName}() call`);\n  if (sourcemap)\n    flags.push(`--sourcemap${sourcemap === true ? \"\" : `=${sourcemap}`}`);\n  if (bundle)\n    flags.push(\"--bundle\");\n  if (allowOverwrite)\n    flags.push(\"--allow-overwrite\");\n  if (watch) {\n    flags.push(\"--watch\");\n    if (typeof watch === \"boolean\") {\n      watchMode = {};\n    } else {\n      let watchKeys = /* @__PURE__ */ Object.create(null);\n      let onRebuild = getFlag(watch, watchKeys, \"onRebuild\", mustBeFunction);\n      checkForInvalidFlags(watch, watchKeys, `on \"watch\" in ${callName}() call`);\n      watchMode = { onRebuild };\n    }\n  }\n  if (splitting)\n    flags.push(\"--splitting\");\n  if (preserveSymlinks)\n    flags.push(\"--preserve-symlinks\");\n  if (metafile)\n    flags.push(`--metafile`);\n  if (outfile)\n    flags.push(`--outfile=${outfile}`);\n  if (outdir)\n    flags.push(`--outdir=${outdir}`);\n  if (outbase)\n    flags.push(`--outbase=${outbase}`);\n  if (tsconfig)\n    flags.push(`--tsconfig=${tsconfig}`);\n  if (resolveExtensions) {\n    let values = [];\n    for (let value of resolveExtensions) {\n      value += \"\";\n      if (value.indexOf(\",\") >= 0)\n        throw new Error(`Invalid resolve extension: ${value}`);\n      values.push(value);\n    }\n    flags.push(`--resolve-extensions=${values.join(\",\")}`);\n  }\n  if (publicPath)\n    flags.push(`--public-path=${publicPath}`);\n  if (entryNames)\n    flags.push(`--entry-names=${entryNames}`);\n  if (chunkNames)\n    flags.push(`--chunk-names=${chunkNames}`);\n  if (assetNames)\n    flags.push(`--asset-names=${assetNames}`);\n  if (mainFields) {\n    let values = [];\n    for (let value of mainFields) {\n      value += \"\";\n      if (value.indexOf(\",\") >= 0)\n        throw new Error(`Invalid main field: ${value}`);\n      values.push(value);\n    }\n    flags.push(`--main-fields=${values.join(\",\")}`);\n  }\n  if (conditions) {\n    let values = [];\n    for (let value of conditions) {\n      value += \"\";\n      if (value.indexOf(\",\") >= 0)\n        throw new Error(`Invalid condition: ${value}`);\n      values.push(value);\n    }\n    flags.push(`--conditions=${values.join(\",\")}`);\n  }\n  if (external)\n    for (let name of external)\n      flags.push(`--external:${name}`);\n  if (banner) {\n    for (let type in banner) {\n      if (type.indexOf(\"=\") >= 0)\n        throw new Error(`Invalid banner file type: ${type}`);\n      flags.push(`--banner:${type}=${banner[type]}`);\n    }\n  }\n  if (footer) {\n    for (let type in footer) {\n      if (type.indexOf(\"=\") >= 0)\n        throw new Error(`Invalid footer file type: ${type}`);\n      flags.push(`--footer:${type}=${footer[type]}`);\n    }\n  }\n  if (inject)\n    for (let path3 of inject)\n      flags.push(`--inject:${path3}`);\n  if (loader) {\n    for (let ext in loader) {\n      if (ext.indexOf(\"=\") >= 0)\n        throw new Error(`Invalid loader extension: ${ext}`);\n      flags.push(`--loader:${ext}=${loader[ext]}`);\n    }\n  }\n  if (outExtension) {\n    for (let ext in outExtension) {\n      if (ext.indexOf(\"=\") >= 0)\n        throw new Error(`Invalid out extension: ${ext}`);\n      flags.push(`--out-extension:${ext}=${outExtension[ext]}`);\n    }\n  }\n  if (entryPoints) {\n    if (Array.isArray(entryPoints)) {\n      for (let entryPoint of entryPoints) {\n        entries.push([\"\", entryPoint + \"\"]);\n      }\n    } else {\n      for (let [key, value] of Object.entries(entryPoints)) {\n        entries.push([key + \"\", value + \"\"]);\n      }\n    }\n  }\n  if (stdin) {\n    let stdinKeys = /* @__PURE__ */ Object.create(null);\n    let contents = getFlag(stdin, stdinKeys, \"contents\", mustBeStringOrUint8Array);\n    let resolveDir = getFlag(stdin, stdinKeys, \"resolveDir\", mustBeString);\n    let sourcefile = getFlag(stdin, stdinKeys, \"sourcefile\", mustBeString);\n    let loader2 = getFlag(stdin, stdinKeys, \"loader\", mustBeString);\n    checkForInvalidFlags(stdin, stdinKeys, 'in \"stdin\" object');\n    if (sourcefile)\n      flags.push(`--sourcefile=${sourcefile}`);\n    if (loader2)\n      flags.push(`--loader=${loader2}`);\n    if (resolveDir)\n      stdinResolveDir = resolveDir + \"\";\n    if (typeof contents === \"string\")\n      stdinContents = encodeUTF8(contents);\n    else if (contents instanceof Uint8Array)\n      stdinContents = contents;\n  }\n  let nodePaths = [];\n  if (nodePathsInput) {\n    for (let value of nodePathsInput) {\n      value += \"\";\n      nodePaths.push(value);\n    }\n  }\n  return {\n    entries,\n    flags,\n    write,\n    stdinContents,\n    stdinResolveDir,\n    absWorkingDir,\n    incremental,\n    nodePaths,\n    watch: watchMode,\n    mangleCache: validateMangleCache(mangleCache)\n  };\n}\nfunction flagsForTransformOptions(callName, options, isTTY2, logLevelDefault) {\n  let flags = [];\n  let keys = /* @__PURE__ */ Object.create(null);\n  pushLogFlags(flags, options, keys, isTTY2, logLevelDefault);\n  pushCommonFlags(flags, options, keys);\n  let sourcemap = getFlag(options, keys, \"sourcemap\", mustBeStringOrBoolean);\n  let tsconfigRaw = getFlag(options, keys, \"tsconfigRaw\", mustBeStringOrObject);\n  let sourcefile = getFlag(options, keys, \"sourcefile\", mustBeString);\n  let loader = getFlag(options, keys, \"loader\", mustBeString);\n  let banner = getFlag(options, keys, \"banner\", mustBeString);\n  let footer = getFlag(options, keys, \"footer\", mustBeString);\n  let mangleCache = getFlag(options, keys, \"mangleCache\", mustBeObject);\n  checkForInvalidFlags(options, keys, `in ${callName}() call`);\n  if (sourcemap)\n    flags.push(`--sourcemap=${sourcemap === true ? \"external\" : sourcemap}`);\n  if (tsconfigRaw)\n    flags.push(`--tsconfig-raw=${typeof tsconfigRaw === \"string\" ? tsconfigRaw : JSON.stringify(tsconfigRaw)}`);\n  if (sourcefile)\n    flags.push(`--sourcefile=${sourcefile}`);\n  if (loader)\n    flags.push(`--loader=${loader}`);\n  if (banner)\n    flags.push(`--banner=${banner}`);\n  if (footer)\n    flags.push(`--footer=${footer}`);\n  return {\n    flags,\n    mangleCache: validateMangleCache(mangleCache)\n  };\n}\nfunction createChannel(streamIn) {\n  let responseCallbacks = /* @__PURE__ */ new Map();\n  let pluginCallbacks = /* @__PURE__ */ new Map();\n  let watchCallbacks = /* @__PURE__ */ new Map();\n  let serveCallbacks = /* @__PURE__ */ new Map();\n  let closeData = null;\n  let nextRequestID = 0;\n  let nextBuildKey = 0;\n  let stdout = new Uint8Array(16 * 1024);\n  let stdoutUsed = 0;\n  let readFromStdout = (chunk) => {\n    let limit = stdoutUsed + chunk.length;\n    if (limit > stdout.length) {\n      let swap = new Uint8Array(limit * 2);\n      swap.set(stdout);\n      stdout = swap;\n    }\n    stdout.set(chunk, stdoutUsed);\n    stdoutUsed += chunk.length;\n    let offset = 0;\n    while (offset + 4 <= stdoutUsed) {\n      let length = readUInt32LE(stdout, offset);\n      if (offset + 4 + length > stdoutUsed) {\n        break;\n      }\n      offset += 4;\n      handleIncomingPacket(stdout.subarray(offset, offset + length));\n      offset += length;\n    }\n    if (offset > 0) {\n      stdout.copyWithin(0, offset, stdoutUsed);\n      stdoutUsed -= offset;\n    }\n  };\n  let afterClose = (error) => {\n    closeData = { reason: error ? \": \" + (error.message || error) : \"\" };\n    const text = \"The service was stopped\" + closeData.reason;\n    for (let callback of responseCallbacks.values()) {\n      callback(text, null);\n    }\n    responseCallbacks.clear();\n    for (let callbacks of serveCallbacks.values()) {\n      callbacks.onWait(text);\n    }\n    serveCallbacks.clear();\n    for (let callback of watchCallbacks.values()) {\n      try {\n        callback(new Error(text), null);\n      } catch (e) {\n        console.error(e);\n      }\n    }\n    watchCallbacks.clear();\n  };\n  let sendRequest = (refs, value, callback) => {\n    if (closeData)\n      return callback(\"The service is no longer running\" + closeData.reason, null);\n    let id = nextRequestID++;\n    responseCallbacks.set(id, (error, response) => {\n      try {\n        callback(error, response);\n      } finally {\n        if (refs)\n          refs.unref();\n      }\n    });\n    if (refs)\n      refs.ref();\n    streamIn.writeToStdin(encodePacket({ id, isRequest: true, value }));\n  };\n  let sendResponse = (id, value) => {\n    if (closeData)\n      throw new Error(\"The service is no longer running\" + closeData.reason);\n    streamIn.writeToStdin(encodePacket({ id, isRequest: false, value }));\n  };\n  let handleRequest = async (id, request) => {\n    try {\n      switch (request.command) {\n        case \"ping\": {\n          sendResponse(id, {});\n          break;\n        }\n        case \"on-start\": {\n          let callback = pluginCallbacks.get(request.key);\n          if (!callback)\n            sendResponse(id, {});\n          else\n            sendResponse(id, await callback(request));\n          break;\n        }\n        case \"on-resolve\": {\n          let callback = pluginCallbacks.get(request.key);\n          if (!callback)\n            sendResponse(id, {});\n          else\n            sendResponse(id, await callback(request));\n          break;\n        }\n        case \"on-load\": {\n          let callback = pluginCallbacks.get(request.key);\n          if (!callback)\n            sendResponse(id, {});\n          else\n            sendResponse(id, await callback(request));\n          break;\n        }\n        case \"serve-request\": {\n          let callbacks = serveCallbacks.get(request.key);\n          if (callbacks && callbacks.onRequest)\n            callbacks.onRequest(request.args);\n          sendResponse(id, {});\n          break;\n        }\n        case \"serve-wait\": {\n          let callbacks = serveCallbacks.get(request.key);\n          if (callbacks)\n            callbacks.onWait(request.error);\n          sendResponse(id, {});\n          break;\n        }\n        case \"watch-rebuild\": {\n          let callback = watchCallbacks.get(request.key);\n          try {\n            if (callback)\n              callback(null, request.args);\n          } catch (err) {\n            console.error(err);\n          }\n          sendResponse(id, {});\n          break;\n        }\n        default:\n          throw new Error(`Invalid command: ` + request.command);\n      }\n    } catch (e) {\n      sendResponse(id, { errors: [extractErrorMessageV8(e, streamIn, null, void 0, \"\")] });\n    }\n  };\n  let isFirstPacket = true;\n  let handleIncomingPacket = (bytes) => {\n    if (isFirstPacket) {\n      isFirstPacket = false;\n      let binaryVersion = String.fromCharCode(...bytes);\n      if (binaryVersion !== \"0.14.54\") {\n        throw new Error(`Cannot start service: Host version \"${\"0.14.54\"}\" does not match binary version ${JSON.stringify(binaryVersion)}`);\n      }\n      return;\n    }\n    let packet = decodePacket(bytes);\n    if (packet.isRequest) {\n      handleRequest(packet.id, packet.value);\n    } else {\n      let callback = responseCallbacks.get(packet.id);\n      responseCallbacks.delete(packet.id);\n      if (packet.value.error)\n        callback(packet.value.error, {});\n      else\n        callback(null, packet.value);\n    }\n  };\n  let handlePlugins = async (initialOptions, plugins, buildKey, stash, refs) => {\n    let onStartCallbacks = [];\n    let onEndCallbacks = [];\n    let onResolveCallbacks = {};\n    let onLoadCallbacks = {};\n    let nextCallbackID = 0;\n    let i = 0;\n    let requestPlugins = [];\n    let isSetupDone = false;\n    plugins = [...plugins];\n    for (let item of plugins) {\n      let keys = {};\n      if (typeof item !== \"object\")\n        throw new Error(`Plugin at index ${i} must be an object`);\n      const name = getFlag(item, keys, \"name\", mustBeString);\n      if (typeof name !== \"string\" || name === \"\")\n        throw new Error(`Plugin at index ${i} is missing a name`);\n      try {\n        let setup = getFlag(item, keys, \"setup\", mustBeFunction);\n        if (typeof setup !== \"function\")\n          throw new Error(`Plugin is missing a setup function`);\n        checkForInvalidFlags(item, keys, `on plugin ${JSON.stringify(name)}`);\n        let plugin = {\n          name,\n          onResolve: [],\n          onLoad: []\n        };\n        i++;\n        let resolve = (path3, options = {}) => {\n          if (!isSetupDone)\n            throw new Error('Cannot call \"resolve\" before plugin setup has completed');\n          if (typeof path3 !== \"string\")\n            throw new Error(`The path to resolve must be a string`);\n          let keys2 = /* @__PURE__ */ Object.create(null);\n          let pluginName = getFlag(options, keys2, \"pluginName\", mustBeString);\n          let importer = getFlag(options, keys2, \"importer\", mustBeString);\n          let namespace = getFlag(options, keys2, \"namespace\", mustBeString);\n          let resolveDir = getFlag(options, keys2, \"resolveDir\", mustBeString);\n          let kind = getFlag(options, keys2, \"kind\", mustBeString);\n          let pluginData = getFlag(options, keys2, \"pluginData\", canBeAnything);\n          checkForInvalidFlags(options, keys2, \"in resolve() call\");\n          return new Promise((resolve2, reject) => {\n            const request = {\n              command: \"resolve\",\n              path: path3,\n              key: buildKey,\n              pluginName: name\n            };\n            if (pluginName != null)\n              request.pluginName = pluginName;\n            if (importer != null)\n              request.importer = importer;\n            if (namespace != null)\n              request.namespace = namespace;\n            if (resolveDir != null)\n              request.resolveDir = resolveDir;\n            if (kind != null)\n              request.kind = kind;\n            if (pluginData != null)\n              request.pluginData = stash.store(pluginData);\n            sendRequest(refs, request, (error, response) => {\n              if (error !== null)\n                reject(new Error(error));\n              else\n                resolve2({\n                  errors: replaceDetailsInMessages(response.errors, stash),\n                  warnings: replaceDetailsInMessages(response.warnings, stash),\n                  path: response.path,\n                  external: response.external,\n                  sideEffects: response.sideEffects,\n                  namespace: response.namespace,\n                  suffix: response.suffix,\n                  pluginData: stash.load(response.pluginData)\n                });\n            });\n          });\n        };\n        let promise = setup({\n          initialOptions,\n          resolve,\n          onStart(callback2) {\n            let registeredText = `This error came from the \"onStart\" callback registered here:`;\n            let registeredNote = extractCallerV8(new Error(registeredText), streamIn, \"onStart\");\n            onStartCallbacks.push({ name, callback: callback2, note: registeredNote });\n          },\n          onEnd(callback2) {\n            let registeredText = `This error came from the \"onEnd\" callback registered here:`;\n            let registeredNote = extractCallerV8(new Error(registeredText), streamIn, \"onEnd\");\n            onEndCallbacks.push({ name, callback: callback2, note: registeredNote });\n          },\n          onResolve(options, callback2) {\n            let registeredText = `This error came from the \"onResolve\" callback registered here:`;\n            let registeredNote = extractCallerV8(new Error(registeredText), streamIn, \"onResolve\");\n            let keys2 = {};\n            let filter = getFlag(options, keys2, \"filter\", mustBeRegExp);\n            let namespace = getFlag(options, keys2, \"namespace\", mustBeString);\n            checkForInvalidFlags(options, keys2, `in onResolve() call for plugin ${JSON.stringify(name)}`);\n            if (filter == null)\n              throw new Error(`onResolve() call is missing a filter`);\n            let id = nextCallbackID++;\n            onResolveCallbacks[id] = { name, callback: callback2, note: registeredNote };\n            plugin.onResolve.push({ id, filter: filter.source, namespace: namespace || \"\" });\n          },\n          onLoad(options, callback2) {\n            let registeredText = `This error came from the \"onLoad\" callback registered here:`;\n            let registeredNote = extractCallerV8(new Error(registeredText), streamIn, \"onLoad\");\n            let keys2 = {};\n            let filter = getFlag(options, keys2, \"filter\", mustBeRegExp);\n            let namespace = getFlag(options, keys2, \"namespace\", mustBeString);\n            checkForInvalidFlags(options, keys2, `in onLoad() call for plugin ${JSON.stringify(name)}`);\n            if (filter == null)\n              throw new Error(`onLoad() call is missing a filter`);\n            let id = nextCallbackID++;\n            onLoadCallbacks[id] = { name, callback: callback2, note: registeredNote };\n            plugin.onLoad.push({ id, filter: filter.source, namespace: namespace || \"\" });\n          },\n          esbuild: streamIn.esbuild\n        });\n        if (promise)\n          await promise;\n        requestPlugins.push(plugin);\n      } catch (e) {\n        return { ok: false, error: e, pluginName: name };\n      }\n    }\n    const callback = async (request) => {\n      switch (request.command) {\n        case \"on-start\": {\n          let response = { errors: [], warnings: [] };\n          await Promise.all(onStartCallbacks.map(async ({ name, callback: callback2, note }) => {\n            try {\n              let result = await callback2();\n              if (result != null) {\n                if (typeof result !== \"object\")\n                  throw new Error(`Expected onStart() callback in plugin ${JSON.stringify(name)} to return an object`);\n                let keys = {};\n                let errors = getFlag(result, keys, \"errors\", mustBeArray);\n                let warnings = getFlag(result, keys, \"warnings\", mustBeArray);\n                checkForInvalidFlags(result, keys, `from onStart() callback in plugin ${JSON.stringify(name)}`);\n                if (errors != null)\n                  response.errors.push(...sanitizeMessages(errors, \"errors\", stash, name));\n                if (warnings != null)\n                  response.warnings.push(...sanitizeMessages(warnings, \"warnings\", stash, name));\n              }\n            } catch (e) {\n              response.errors.push(extractErrorMessageV8(e, streamIn, stash, note && note(), name));\n            }\n          }));\n          return response;\n        }\n        case \"on-resolve\": {\n          let response = {}, name = \"\", callback2, note;\n          for (let id of request.ids) {\n            try {\n              ({ name, callback: callback2, note } = onResolveCallbacks[id]);\n              let result = await callback2({\n                path: request.path,\n                importer: request.importer,\n                namespace: request.namespace,\n                resolveDir: request.resolveDir,\n                kind: request.kind,\n                pluginData: stash.load(request.pluginData)\n              });\n              if (result != null) {\n                if (typeof result !== \"object\")\n                  throw new Error(`Expected onResolve() callback in plugin ${JSON.stringify(name)} to return an object`);\n                let keys = {};\n                let pluginName = getFlag(result, keys, \"pluginName\", mustBeString);\n                let path3 = getFlag(result, keys, \"path\", mustBeString);\n                let namespace = getFlag(result, keys, \"namespace\", mustBeString);\n                let suffix = getFlag(result, keys, \"suffix\", mustBeString);\n                let external = getFlag(result, keys, \"external\", mustBeBoolean);\n                let sideEffects = getFlag(result, keys, \"sideEffects\", mustBeBoolean);\n                let pluginData = getFlag(result, keys, \"pluginData\", canBeAnything);\n                let errors = getFlag(result, keys, \"errors\", mustBeArray);\n                let warnings = getFlag(result, keys, \"warnings\", mustBeArray);\n                let watchFiles = getFlag(result, keys, \"watchFiles\", mustBeArray);\n                let watchDirs = getFlag(result, keys, \"watchDirs\", mustBeArray);\n                checkForInvalidFlags(result, keys, `from onResolve() callback in plugin ${JSON.stringify(name)}`);\n                response.id = id;\n                if (pluginName != null)\n                  response.pluginName = pluginName;\n                if (path3 != null)\n                  response.path = path3;\n                if (namespace != null)\n                  response.namespace = namespace;\n                if (suffix != null)\n                  response.suffix = suffix;\n                if (external != null)\n                  response.external = external;\n                if (sideEffects != null)\n                  response.sideEffects = sideEffects;\n                if (pluginData != null)\n                  response.pluginData = stash.store(pluginData);\n                if (errors != null)\n                  response.errors = sanitizeMessages(errors, \"errors\", stash, name);\n                if (warnings != null)\n                  response.warnings = sanitizeMessages(warnings, \"warnings\", stash, name);\n                if (watchFiles != null)\n                  response.watchFiles = sanitizeStringArray(watchFiles, \"watchFiles\");\n                if (watchDirs != null)\n                  response.watchDirs = sanitizeStringArray(watchDirs, \"watchDirs\");\n                break;\n              }\n            } catch (e) {\n              return { id, errors: [extractErrorMessageV8(e, streamIn, stash, note && note(), name)] };\n            }\n          }\n          return response;\n        }\n        case \"on-load\": {\n          let response = {}, name = \"\", callback2, note;\n          for (let id of request.ids) {\n            try {\n              ({ name, callback: callback2, note } = onLoadCallbacks[id]);\n              let result = await callback2({\n                path: request.path,\n                namespace: request.namespace,\n                suffix: request.suffix,\n                pluginData: stash.load(request.pluginData)\n              });\n              if (result != null) {\n                if (typeof result !== \"object\")\n                  throw new Error(`Expected onLoad() callback in plugin ${JSON.stringify(name)} to return an object`);\n                let keys = {};\n                let pluginName = getFlag(result, keys, \"pluginName\", mustBeString);\n                let contents = getFlag(result, keys, \"contents\", mustBeStringOrUint8Array);\n                let resolveDir = getFlag(result, keys, \"resolveDir\", mustBeString);\n                let pluginData = getFlag(result, keys, \"pluginData\", canBeAnything);\n                let loader = getFlag(result, keys, \"loader\", mustBeString);\n                let errors = getFlag(result, keys, \"errors\", mustBeArray);\n                let warnings = getFlag(result, keys, \"warnings\", mustBeArray);\n                let watchFiles = getFlag(result, keys, \"watchFiles\", mustBeArray);\n                let watchDirs = getFlag(result, keys, \"watchDirs\", mustBeArray);\n                checkForInvalidFlags(result, keys, `from onLoad() callback in plugin ${JSON.stringify(name)}`);\n                response.id = id;\n                if (pluginName != null)\n                  response.pluginName = pluginName;\n                if (contents instanceof Uint8Array)\n                  response.contents = contents;\n                else if (contents != null)\n                  response.contents = encodeUTF8(contents);\n                if (resolveDir != null)\n                  response.resolveDir = resolveDir;\n                if (pluginData != null)\n                  response.pluginData = stash.store(pluginData);\n                if (loader != null)\n                  response.loader = loader;\n                if (errors != null)\n                  response.errors = sanitizeMessages(errors, \"errors\", stash, name);\n                if (warnings != null)\n                  response.warnings = sanitizeMessages(warnings, \"warnings\", stash, name);\n                if (watchFiles != null)\n                  response.watchFiles = sanitizeStringArray(watchFiles, \"watchFiles\");\n                if (watchDirs != null)\n                  response.watchDirs = sanitizeStringArray(watchDirs, \"watchDirs\");\n                break;\n              }\n            } catch (e) {\n              return { id, errors: [extractErrorMessageV8(e, streamIn, stash, note && note(), name)] };\n            }\n          }\n          return response;\n        }\n        default:\n          throw new Error(`Invalid command: ` + request.command);\n      }\n    };\n    let runOnEndCallbacks = (result, logPluginError, done) => done();\n    if (onEndCallbacks.length > 0) {\n      runOnEndCallbacks = (result, logPluginError, done) => {\n        (async () => {\n          for (const { name, callback: callback2, note } of onEndCallbacks) {\n            try {\n              await callback2(result);\n            } catch (e) {\n              result.errors.push(await new Promise((resolve) => logPluginError(e, name, note && note(), resolve)));\n            }\n          }\n        })().then(done);\n      };\n    }\n    isSetupDone = true;\n    let refCount = 0;\n    return {\n      ok: true,\n      requestPlugins,\n      runOnEndCallbacks,\n      pluginRefs: {\n        ref() {\n          if (++refCount === 1)\n            pluginCallbacks.set(buildKey, callback);\n        },\n        unref() {\n          if (--refCount === 0)\n            pluginCallbacks.delete(buildKey);\n        }\n      }\n    };\n  };\n  let buildServeData = (refs, options, request, key) => {\n    let keys = {};\n    let port = getFlag(options, keys, \"port\", mustBeInteger);\n    let host = getFlag(options, keys, \"host\", mustBeString);\n    let servedir = getFlag(options, keys, \"servedir\", mustBeString);\n    let onRequest = getFlag(options, keys, \"onRequest\", mustBeFunction);\n    let onWait;\n    let wait = new Promise((resolve, reject) => {\n      onWait = (error) => {\n        serveCallbacks.delete(key);\n        if (error !== null)\n          reject(new Error(error));\n        else\n          resolve();\n      };\n    });\n    request.serve = {};\n    checkForInvalidFlags(options, keys, `in serve() call`);\n    if (port !== void 0)\n      request.serve.port = port;\n    if (host !== void 0)\n      request.serve.host = host;\n    if (servedir !== void 0)\n      request.serve.servedir = servedir;\n    serveCallbacks.set(key, {\n      onRequest,\n      onWait\n    });\n    return {\n      wait,\n      stop() {\n        sendRequest(refs, { command: \"serve-stop\", key }, () => {\n        });\n      }\n    };\n  };\n  const buildLogLevelDefault = \"warning\";\n  const transformLogLevelDefault = \"silent\";\n  let buildOrServe = (args) => {\n    let key = nextBuildKey++;\n    const details = createObjectStash();\n    let plugins;\n    let { refs, options, isTTY: isTTY2, callback } = args;\n    if (typeof options === \"object\") {\n      let value = options.plugins;\n      if (value !== void 0) {\n        if (!Array.isArray(value))\n          throw new Error(`\"plugins\" must be an array`);\n        plugins = value;\n      }\n    }\n    let logPluginError = (e, pluginName, note, done) => {\n      let flags = [];\n      try {\n        pushLogFlags(flags, options, {}, isTTY2, buildLogLevelDefault);\n      } catch {\n      }\n      const message = extractErrorMessageV8(e, streamIn, details, note, pluginName);\n      sendRequest(refs, { command: \"error\", flags, error: message }, () => {\n        message.detail = details.load(message.detail);\n        done(message);\n      });\n    };\n    let handleError = (e, pluginName) => {\n      logPluginError(e, pluginName, void 0, (error) => {\n        callback(failureErrorWithLog(\"Build failed\", [error], []), null);\n      });\n    };\n    if (plugins && plugins.length > 0) {\n      if (streamIn.isSync)\n        return handleError(new Error(\"Cannot use plugins in synchronous API calls\"), \"\");\n      handlePlugins(options, plugins, key, details, refs).then(\n        (result) => {\n          if (!result.ok) {\n            handleError(result.error, result.pluginName);\n          } else {\n            try {\n              buildOrServeContinue({\n                ...args,\n                key,\n                details,\n                logPluginError,\n                requestPlugins: result.requestPlugins,\n                runOnEndCallbacks: result.runOnEndCallbacks,\n                pluginRefs: result.pluginRefs\n              });\n            } catch (e) {\n              handleError(e, \"\");\n            }\n          }\n        },\n        (e) => handleError(e, \"\")\n      );\n    } else {\n      try {\n        buildOrServeContinue({\n          ...args,\n          key,\n          details,\n          logPluginError,\n          requestPlugins: null,\n          runOnEndCallbacks: (result, logPluginError2, done) => done(),\n          pluginRefs: null\n        });\n      } catch (e) {\n        handleError(e, \"\");\n      }\n    }\n  };\n  let buildOrServeContinue = ({\n    callName,\n    refs: callerRefs,\n    serveOptions,\n    options,\n    isTTY: isTTY2,\n    defaultWD: defaultWD2,\n    callback,\n    key,\n    details,\n    logPluginError,\n    requestPlugins,\n    runOnEndCallbacks,\n    pluginRefs\n  }) => {\n    const refs = {\n      ref() {\n        if (pluginRefs)\n          pluginRefs.ref();\n        if (callerRefs)\n          callerRefs.ref();\n      },\n      unref() {\n        if (pluginRefs)\n          pluginRefs.unref();\n        if (callerRefs)\n          callerRefs.unref();\n      }\n    };\n    let writeDefault = !streamIn.isWriteUnavailable;\n    let {\n      entries,\n      flags,\n      write,\n      stdinContents,\n      stdinResolveDir,\n      absWorkingDir,\n      incremental,\n      nodePaths,\n      watch,\n      mangleCache\n    } = flagsForBuildOptions(callName, options, isTTY2, buildLogLevelDefault, writeDefault);\n    let request = {\n      command: \"build\",\n      key,\n      entries,\n      flags,\n      write,\n      stdinContents,\n      stdinResolveDir,\n      absWorkingDir: absWorkingDir || defaultWD2,\n      incremental,\n      nodePaths\n    };\n    if (requestPlugins)\n      request.plugins = requestPlugins;\n    if (mangleCache)\n      request.mangleCache = mangleCache;\n    let serve2 = serveOptions && buildServeData(refs, serveOptions, request, key);\n    let rebuild;\n    let stop;\n    let copyResponseToResult = (response, result) => {\n      if (response.outputFiles)\n        result.outputFiles = response.outputFiles.map(convertOutputFiles);\n      if (response.metafile)\n        result.metafile = JSON.parse(response.metafile);\n      if (response.mangleCache)\n        result.mangleCache = response.mangleCache;\n      if (response.writeToStdout !== void 0)\n        console.log(decodeUTF8(response.writeToStdout).replace(/\\n$/, \"\"));\n    };\n    let buildResponseToResult = (response, callback2) => {\n      let result = {\n        errors: replaceDetailsInMessages(response.errors, details),\n        warnings: replaceDetailsInMessages(response.warnings, details)\n      };\n      copyResponseToResult(response, result);\n      runOnEndCallbacks(result, logPluginError, () => {\n        if (result.errors.length > 0) {\n          return callback2(failureErrorWithLog(\"Build failed\", result.errors, result.warnings), null);\n        }\n        if (response.rebuild) {\n          if (!rebuild) {\n            let isDisposed = false;\n            rebuild = () => new Promise((resolve, reject) => {\n              if (isDisposed || closeData)\n                throw new Error(\"Cannot rebuild\");\n              sendRequest(\n                refs,\n                { command: \"rebuild\", key },\n                (error2, response2) => {\n                  if (error2) {\n                    const message = { id: \"\", pluginName: \"\", text: error2, location: null, notes: [], detail: void 0 };\n                    return callback2(failureErrorWithLog(\"Build failed\", [message], []), null);\n                  }\n                  buildResponseToResult(response2, (error3, result3) => {\n                    if (error3)\n                      reject(error3);\n                    else\n                      resolve(result3);\n                  });\n                }\n              );\n            });\n            refs.ref();\n            rebuild.dispose = () => {\n              if (isDisposed)\n                return;\n              isDisposed = true;\n              sendRequest(refs, { command: \"rebuild-dispose\", key }, () => {\n              });\n              refs.unref();\n            };\n          }\n          result.rebuild = rebuild;\n        }\n        if (response.watch) {\n          if (!stop) {\n            let isStopped = false;\n            refs.ref();\n            stop = () => {\n              if (isStopped)\n                return;\n              isStopped = true;\n              watchCallbacks.delete(key);\n              sendRequest(refs, { command: \"watch-stop\", key }, () => {\n              });\n              refs.unref();\n            };\n            if (watch) {\n              watchCallbacks.set(key, (serviceStopError, watchResponse) => {\n                if (serviceStopError) {\n                  if (watch.onRebuild)\n                    watch.onRebuild(serviceStopError, null);\n                  return;\n                }\n                let result2 = {\n                  errors: replaceDetailsInMessages(watchResponse.errors, details),\n                  warnings: replaceDetailsInMessages(watchResponse.warnings, details)\n                };\n                copyResponseToResult(watchResponse, result2);\n                runOnEndCallbacks(result2, logPluginError, () => {\n                  if (result2.errors.length > 0) {\n                    if (watch.onRebuild)\n                      watch.onRebuild(failureErrorWithLog(\"Build failed\", result2.errors, result2.warnings), null);\n                    return;\n                  }\n                  if (watchResponse.rebuildID !== void 0)\n                    result2.rebuild = rebuild;\n                  result2.stop = stop;\n                  if (watch.onRebuild)\n                    watch.onRebuild(null, result2);\n                });\n              });\n            }\n          }\n          result.stop = stop;\n        }\n        callback2(null, result);\n      });\n    };\n    if (write && streamIn.isWriteUnavailable)\n      throw new Error(`The \"write\" option is unavailable in this environment`);\n    if (incremental && streamIn.isSync)\n      throw new Error(`Cannot use \"incremental\" with a synchronous build`);\n    if (watch && streamIn.isSync)\n      throw new Error(`Cannot use \"watch\" with a synchronous build`);\n    sendRequest(refs, request, (error, response) => {\n      if (error)\n        return callback(new Error(error), null);\n      if (serve2) {\n        let serveResponse = response;\n        let isStopped = false;\n        refs.ref();\n        let result = {\n          port: serveResponse.port,\n          host: serveResponse.host,\n          wait: serve2.wait,\n          stop() {\n            if (isStopped)\n              return;\n            isStopped = true;\n            serve2.stop();\n            refs.unref();\n          }\n        };\n        refs.ref();\n        serve2.wait.then(refs.unref, refs.unref);\n        return callback(null, result);\n      }\n      return buildResponseToResult(response, callback);\n    });\n  };\n  let transform2 = ({ callName, refs, input, options, isTTY: isTTY2, fs: fs3, callback }) => {\n    const details = createObjectStash();\n    let start = (inputPath) => {\n      try {\n        if (typeof input !== \"string\" && !(input instanceof Uint8Array))\n          throw new Error('The input to \"transform\" must be a string or a Uint8Array');\n        let {\n          flags,\n          mangleCache\n        } = flagsForTransformOptions(callName, options, isTTY2, transformLogLevelDefault);\n        let request = {\n          command: \"transform\",\n          flags,\n          inputFS: inputPath !== null,\n          input: inputPath !== null ? encodeUTF8(inputPath) : typeof input === \"string\" ? encodeUTF8(input) : input\n        };\n        if (mangleCache)\n          request.mangleCache = mangleCache;\n        sendRequest(refs, request, (error, response) => {\n          if (error)\n            return callback(new Error(error), null);\n          let errors = replaceDetailsInMessages(response.errors, details);\n          let warnings = replaceDetailsInMessages(response.warnings, details);\n          let outstanding = 1;\n          let next = () => {\n            if (--outstanding === 0) {\n              let result = { warnings, code: response.code, map: response.map };\n              if (response.mangleCache)\n                result.mangleCache = response == null ? void 0 : response.mangleCache;\n              callback(null, result);\n            }\n          };\n          if (errors.length > 0)\n            return callback(failureErrorWithLog(\"Transform failed\", errors, warnings), null);\n          if (response.codeFS) {\n            outstanding++;\n            fs3.readFile(response.code, (err, contents) => {\n              if (err !== null) {\n                callback(err, null);\n              } else {\n                response.code = contents;\n                next();\n              }\n            });\n          }\n          if (response.mapFS) {\n            outstanding++;\n            fs3.readFile(response.map, (err, contents) => {\n              if (err !== null) {\n                callback(err, null);\n              } else {\n                response.map = contents;\n                next();\n              }\n            });\n          }\n          next();\n        });\n      } catch (e) {\n        let flags = [];\n        try {\n          pushLogFlags(flags, options, {}, isTTY2, transformLogLevelDefault);\n        } catch {\n        }\n        const error = extractErrorMessageV8(e, streamIn, details, void 0, \"\");\n        sendRequest(refs, { command: \"error\", flags, error }, () => {\n          error.detail = details.load(error.detail);\n          callback(failureErrorWithLog(\"Transform failed\", [error], []), null);\n        });\n      }\n    };\n    if ((typeof input === \"string\" || input instanceof Uint8Array) && input.length > 1024 * 1024) {\n      let next = start;\n      start = () => fs3.writeFile(input, next);\n    }\n    start(null);\n  };\n  let formatMessages2 = ({ callName, refs, messages, options, callback }) => {\n    let result = sanitizeMessages(messages, \"messages\", null, \"\");\n    if (!options)\n      throw new Error(`Missing second argument in ${callName}() call`);\n    let keys = {};\n    let kind = getFlag(options, keys, \"kind\", mustBeString);\n    let color = getFlag(options, keys, \"color\", mustBeBoolean);\n    let terminalWidth = getFlag(options, keys, \"terminalWidth\", mustBeInteger);\n    checkForInvalidFlags(options, keys, `in ${callName}() call`);\n    if (kind === void 0)\n      throw new Error(`Missing \"kind\" in ${callName}() call`);\n    if (kind !== \"error\" && kind !== \"warning\")\n      throw new Error(`Expected \"kind\" to be \"error\" or \"warning\" in ${callName}() call`);\n    let request = {\n      command: \"format-msgs\",\n      messages: result,\n      isWarning: kind === \"warning\"\n    };\n    if (color !== void 0)\n      request.color = color;\n    if (terminalWidth !== void 0)\n      request.terminalWidth = terminalWidth;\n    sendRequest(refs, request, (error, response) => {\n      if (error)\n        return callback(new Error(error), null);\n      callback(null, response.messages);\n    });\n  };\n  let analyzeMetafile2 = ({ callName, refs, metafile, options, callback }) => {\n    if (options === void 0)\n      options = {};\n    let keys = {};\n    let color = getFlag(options, keys, \"color\", mustBeBoolean);\n    let verbose = getFlag(options, keys, \"verbose\", mustBeBoolean);\n    checkForInvalidFlags(options, keys, `in ${callName}() call`);\n    let request = {\n      command: \"analyze-metafile\",\n      metafile\n    };\n    if (color !== void 0)\n      request.color = color;\n    if (verbose !== void 0)\n      request.verbose = verbose;\n    sendRequest(refs, request, (error, response) => {\n      if (error)\n        return callback(new Error(error), null);\n      callback(null, response.result);\n    });\n  };\n  return {\n    readFromStdout,\n    afterClose,\n    service: {\n      buildOrServe,\n      transform: transform2,\n      formatMessages: formatMessages2,\n      analyzeMetafile: analyzeMetafile2\n    }\n  };\n}\nfunction createObjectStash() {\n  const map = /* @__PURE__ */ new Map();\n  let nextID = 0;\n  return {\n    load(id) {\n      return map.get(id);\n    },\n    store(value) {\n      if (value === void 0)\n        return -1;\n      const id = nextID++;\n      map.set(id, value);\n      return id;\n    }\n  };\n}\nfunction extractCallerV8(e, streamIn, ident) {\n  let note;\n  let tried = false;\n  return () => {\n    if (tried)\n      return note;\n    tried = true;\n    try {\n      let lines = (e.stack + \"\").split(\"\\n\");\n      lines.splice(1, 1);\n      let location = parseStackLinesV8(streamIn, lines, ident);\n      if (location) {\n        note = { text: e.message, location };\n        return note;\n      }\n    } catch {\n    }\n  };\n}\nfunction extractErrorMessageV8(e, streamIn, stash, note, pluginName) {\n  let text = \"Internal error\";\n  let location = null;\n  try {\n    text = (e && e.message || e) + \"\";\n  } catch {\n  }\n  try {\n    location = parseStackLinesV8(streamIn, (e.stack + \"\").split(\"\\n\"), \"\");\n  } catch {\n  }\n  return { id: \"\", pluginName, text, location, notes: note ? [note] : [], detail: stash ? stash.store(e) : -1 };\n}\nfunction parseStackLinesV8(streamIn, lines, ident) {\n  let at = \"    at \";\n  if (streamIn.readFileSync && !lines[0].startsWith(at) && lines[1].startsWith(at)) {\n    for (let i = 1; i < lines.length; i++) {\n      let line = lines[i];\n      if (!line.startsWith(at))\n        continue;\n      line = line.slice(at.length);\n      while (true) {\n        let match = /^(?:new |async )?\\S+ \\((.*)\\)$/.exec(line);\n        if (match) {\n          line = match[1];\n          continue;\n        }\n        match = /^eval at \\S+ \\((.*)\\)(?:, \\S+:\\d+:\\d+)?$/.exec(line);\n        if (match) {\n          line = match[1];\n          continue;\n        }\n        match = /^(\\S+):(\\d+):(\\d+)$/.exec(line);\n        if (match) {\n          let contents;\n          try {\n            contents = streamIn.readFileSync(match[1], \"utf8\");\n          } catch {\n            break;\n          }\n          let lineText = contents.split(/\\r\\n|\\r|\\n|\\u2028|\\u2029/)[+match[2] - 1] || \"\";\n          let column = +match[3] - 1;\n          let length = lineText.slice(column, column + ident.length) === ident ? ident.length : 0;\n          return {\n            file: match[1],\n            namespace: \"file\",\n            line: +match[2],\n            column: encodeUTF8(lineText.slice(0, column)).length,\n            length: encodeUTF8(lineText.slice(column, column + length)).length,\n            lineText: lineText + \"\\n\" + lines.slice(1).join(\"\\n\"),\n            suggestion: \"\"\n          };\n        }\n        break;\n      }\n    }\n  }\n  return null;\n}\nfunction failureErrorWithLog(text, errors, warnings) {\n  let limit = 5;\n  let summary = errors.length < 1 ? \"\" : ` with ${errors.length} error${errors.length < 2 ? \"\" : \"s\"}:` + errors.slice(0, limit + 1).map((e, i) => {\n    if (i === limit)\n      return \"\\n...\";\n    if (!e.location)\n      return `\nerror: ${e.text}`;\n    let { file, line, column } = e.location;\n    let pluginText = e.pluginName ? `[plugin: ${e.pluginName}] ` : \"\";\n    return `\n${file}:${line}:${column}: ERROR: ${pluginText}${e.text}`;\n  }).join(\"\");\n  let error = new Error(`${text}${summary}`);\n  error.errors = errors;\n  error.warnings = warnings;\n  return error;\n}\nfunction replaceDetailsInMessages(messages, stash) {\n  for (const message of messages) {\n    message.detail = stash.load(message.detail);\n  }\n  return messages;\n}\nfunction sanitizeLocation(location, where) {\n  if (location == null)\n    return null;\n  let keys = {};\n  let file = getFlag(location, keys, \"file\", mustBeString);\n  let namespace = getFlag(location, keys, \"namespace\", mustBeString);\n  let line = getFlag(location, keys, \"line\", mustBeInteger);\n  let column = getFlag(location, keys, \"column\", mustBeInteger);\n  let length = getFlag(location, keys, \"length\", mustBeInteger);\n  let lineText = getFlag(location, keys, \"lineText\", mustBeString);\n  let suggestion = getFlag(location, keys, \"suggestion\", mustBeString);\n  checkForInvalidFlags(location, keys, where);\n  return {\n    file: file || \"\",\n    namespace: namespace || \"\",\n    line: line || 0,\n    column: column || 0,\n    length: length || 0,\n    lineText: lineText || \"\",\n    suggestion: suggestion || \"\"\n  };\n}\nfunction sanitizeMessages(messages, property, stash, fallbackPluginName) {\n  let messagesClone = [];\n  let index = 0;\n  for (const message of messages) {\n    let keys = {};\n    let id = getFlag(message, keys, \"id\", mustBeString);\n    let pluginName = getFlag(message, keys, \"pluginName\", mustBeString);\n    let text = getFlag(message, keys, \"text\", mustBeString);\n    let location = getFlag(message, keys, \"location\", mustBeObjectOrNull);\n    let notes = getFlag(message, keys, \"notes\", mustBeArray);\n    let detail = getFlag(message, keys, \"detail\", canBeAnything);\n    let where = `in element ${index} of \"${property}\"`;\n    checkForInvalidFlags(message, keys, where);\n    let notesClone = [];\n    if (notes) {\n      for (const note of notes) {\n        let noteKeys = {};\n        let noteText = getFlag(note, noteKeys, \"text\", mustBeString);\n        let noteLocation = getFlag(note, noteKeys, \"location\", mustBeObjectOrNull);\n        checkForInvalidFlags(note, noteKeys, where);\n        notesClone.push({\n          text: noteText || \"\",\n          location: sanitizeLocation(noteLocation, where)\n        });\n      }\n    }\n    messagesClone.push({\n      id: id || \"\",\n      pluginName: pluginName || fallbackPluginName,\n      text: text || \"\",\n      location: sanitizeLocation(location, where),\n      notes: notesClone,\n      detail: stash ? stash.store(detail) : -1\n    });\n    index++;\n  }\n  return messagesClone;\n}\nfunction sanitizeStringArray(values, property) {\n  const result = [];\n  for (const value of values) {\n    if (typeof value !== \"string\")\n      throw new Error(`${JSON.stringify(property)} must be an array of strings`);\n    result.push(value);\n  }\n  return result;\n}\nfunction convertOutputFiles({ path: path3, contents }) {\n  let text = null;\n  return {\n    path: path3,\n    contents,\n    get text() {\n      const binary = this.contents;\n      if (text === null || binary !== contents) {\n        contents = binary;\n        text = decodeUTF8(binary);\n      }\n      return text;\n    }\n  };\n}\n\n// lib/npm/node-platform.ts\nvar fs = require(\"fs\");\nvar os = require(\"os\");\nvar path = require(\"path\");\nvar ESBUILD_BINARY_PATH = process.env.ESBUILD_BINARY_PATH || ESBUILD_BINARY_PATH;\nvar knownWindowsPackages = {\n  \"win32 arm64 LE\": \"esbuild-windows-arm64\",\n  \"win32 ia32 LE\": \"esbuild-windows-32\",\n  \"win32 x64 LE\": \"esbuild-windows-64\"\n};\nvar knownUnixlikePackages = {\n  \"android arm64 LE\": \"esbuild-android-arm64\",\n  \"darwin arm64 LE\": \"esbuild-darwin-arm64\",\n  \"darwin x64 LE\": \"esbuild-darwin-64\",\n  \"freebsd arm64 LE\": \"esbuild-freebsd-arm64\",\n  \"freebsd x64 LE\": \"esbuild-freebsd-64\",\n  \"linux arm LE\": \"esbuild-linux-arm\",\n  \"linux arm64 LE\": \"esbuild-linux-arm64\",\n  \"linux ia32 LE\": \"esbuild-linux-32\",\n  \"linux mips64el LE\": \"esbuild-linux-mips64le\",\n  \"linux ppc64 LE\": \"esbuild-linux-ppc64le\",\n  \"linux riscv64 LE\": \"esbuild-linux-riscv64\",\n  \"linux s390x BE\": \"esbuild-linux-s390x\",\n  \"linux x64 LE\": \"esbuild-linux-64\",\n  \"linux loong64 LE\": \"@esbuild/linux-loong64\",\n  \"netbsd x64 LE\": \"esbuild-netbsd-64\",\n  \"openbsd x64 LE\": \"esbuild-openbsd-64\",\n  \"sunos x64 LE\": \"esbuild-sunos-64\"\n};\nvar knownWebAssemblyFallbackPackages = {\n  \"android x64 LE\": \"esbuild-android-64\"\n};\nfunction pkgAndSubpathForCurrentPlatform() {\n  let pkg;\n  let subpath;\n  let isWASM = false;\n  let platformKey = `${process.platform} ${os.arch()} ${os.endianness()}`;\n  if (platformKey in knownWindowsPackages) {\n    pkg = knownWindowsPackages[platformKey];\n    subpath = \"esbuild.exe\";\n  } else if (platformKey in knownUnixlikePackages) {\n    pkg = knownUnixlikePackages[platformKey];\n    subpath = \"bin/esbuild\";\n  } else if (platformKey in knownWebAssemblyFallbackPackages) {\n    pkg = knownWebAssemblyFallbackPackages[platformKey];\n    subpath = \"bin/esbuild\";\n    isWASM = true;\n  } else {\n    throw new Error(`Unsupported platform: ${platformKey}`);\n  }\n  return { pkg, subpath, isWASM };\n}\nfunction pkgForSomeOtherPlatform() {\n  const libMainJS = require.resolve(\"esbuild\");\n  const nodeModulesDirectory = path.dirname(path.dirname(path.dirname(libMainJS)));\n  if (path.basename(nodeModulesDirectory) === \"node_modules\") {\n    for (const unixKey in knownUnixlikePackages) {\n      try {\n        const pkg = knownUnixlikePackages[unixKey];\n        if (fs.existsSync(path.join(nodeModulesDirectory, pkg)))\n          return pkg;\n      } catch {\n      }\n    }\n    for (const windowsKey in knownWindowsPackages) {\n      try {\n        const pkg = knownWindowsPackages[windowsKey];\n        if (fs.existsSync(path.join(nodeModulesDirectory, pkg)))\n          return pkg;\n      } catch {\n      }\n    }\n  }\n  return null;\n}\nfunction downloadedBinPath(pkg, subpath) {\n  const esbuildLibDir = path.dirname(require.resolve(\"esbuild\"));\n  return path.join(esbuildLibDir, `downloaded-${pkg}-${path.basename(subpath)}`);\n}\nfunction generateBinPath() {\n  if (ESBUILD_BINARY_PATH) {\n    return { binPath: ESBUILD_BINARY_PATH, isWASM: false };\n  }\n  const { pkg, subpath, isWASM } = pkgAndSubpathForCurrentPlatform();\n  let binPath;\n  try {\n    binPath = require.resolve(`${pkg}/${subpath}`);\n  } catch (e) {\n    binPath = downloadedBinPath(pkg, subpath);\n    if (!fs.existsSync(binPath)) {\n      try {\n        require.resolve(pkg);\n      } catch {\n        const otherPkg = pkgForSomeOtherPlatform();\n        if (otherPkg) {\n          throw new Error(`\nYou installed esbuild on another platform than the one you're currently using.\nThis won't work because esbuild is written with native code and needs to\ninstall a platform-specific binary executable.\n\nSpecifically the \"${otherPkg}\" package is present but this platform\nneeds the \"${pkg}\" package instead. People often get into this\nsituation by installing esbuild on Windows or macOS and copying \"node_modules\"\ninto a Docker image that runs Linux, or by copying \"node_modules\" between\nWindows and WSL environments.\n\nIf you are installing with npm, you can try not copying the \"node_modules\"\ndirectory when you copy the files over, and running \"npm ci\" or \"npm install\"\non the destination platform after the copy. Or you could consider using yarn\ninstead which has built-in support for installing a package on multiple\nplatforms simultaneously.\n\nIf you are installing with yarn, you can try listing both this platform and the\nother platform in your \".yarnrc.yml\" file using the \"supportedArchitectures\"\nfeature: https://yarnpkg.com/configuration/yarnrc/#supportedArchitectures\nKeep in mind that this means multiple copies of esbuild will be present.\n\nAnother alternative is to use the \"esbuild-wasm\" package instead, which works\nthe same way on all platforms. But it comes with a heavy performance cost and\ncan sometimes be 10x slower than the \"esbuild\" package, so you may also not\nwant to do that.\n`);\n        }\n        throw new Error(`The package \"${pkg}\" could not be found, and is needed by esbuild.\n\nIf you are installing esbuild with npm, make sure that you don't specify the\n\"--no-optional\" flag. The \"optionalDependencies\" package.json feature is used\nby esbuild to install the correct binary executable for your current platform.`);\n      }\n      throw e;\n    }\n  }\n  let isYarnPnP = false;\n  try {\n    require(\"pnpapi\");\n    isYarnPnP = true;\n  } catch (e) {\n  }\n  if (isYarnPnP) {\n    const esbuildLibDir = path.dirname(require.resolve(\"esbuild\"));\n    const binTargetPath = path.join(esbuildLibDir, `pnpapi-${pkg}-${path.basename(subpath)}`);\n    if (!fs.existsSync(binTargetPath)) {\n      fs.copyFileSync(binPath, binTargetPath);\n      fs.chmodSync(binTargetPath, 493);\n    }\n    return { binPath: binTargetPath, isWASM };\n  }\n  return { binPath, isWASM };\n}\n\n// lib/npm/node.ts\nvar child_process = require(\"child_process\");\nvar crypto = require(\"crypto\");\nvar path2 = require(\"path\");\nvar fs2 = require(\"fs\");\nvar os2 = require(\"os\");\nvar tty = require(\"tty\");\nvar worker_threads;\nif (process.env.ESBUILD_WORKER_THREADS !== \"0\") {\n  try {\n    worker_threads = require(\"worker_threads\");\n  } catch {\n  }\n  let [major, minor] = process.versions.node.split(\".\");\n  if (+major < 12 || +major === 12 && +minor < 17 || +major === 13 && +minor < 13) {\n    worker_threads = void 0;\n  }\n}\nvar _a;\nvar isInternalWorkerThread = ((_a = worker_threads == null ? void 0 : worker_threads.workerData) == null ? void 0 : _a.esbuildVersion) === \"0.14.54\";\nvar esbuildCommandAndArgs = () => {\n  if ((!ESBUILD_BINARY_PATH || false) && (path2.basename(__filename) !== \"main.js\" || path2.basename(__dirname) !== \"lib\")) {\n    throw new Error(\n      `The esbuild JavaScript API cannot be bundled. Please mark the \"esbuild\" package as external so it's not included in the bundle.\n\nMore information: The file containing the code for esbuild's JavaScript API (${__filename}) does not appear to be inside the esbuild package on the file system, which usually means that the esbuild package was bundled into another file. This is problematic because the API needs to run a binary executable inside the esbuild package which is located using a relative path from the API code to the executable. If the esbuild package is bundled, the relative path will be incorrect and the executable won't be found.`\n    );\n  }\n  if (false) {\n    return [\"node\", [path2.join(__dirname, \"..\", \"bin\", \"esbuild\")]];\n  }\n  const { binPath, isWASM } = generateBinPath();\n  if (isWASM) {\n    return [\"node\", [binPath]];\n  } else {\n    return [binPath, []];\n  }\n};\nvar isTTY = () => tty.isatty(2);\nvar fsSync = {\n  readFile(tempFile, callback) {\n    try {\n      let contents = fs2.readFileSync(tempFile, \"utf8\");\n      try {\n        fs2.unlinkSync(tempFile);\n      } catch {\n      }\n      callback(null, contents);\n    } catch (err) {\n      callback(err, null);\n    }\n  },\n  writeFile(contents, callback) {\n    try {\n      let tempFile = randomFileName();\n      fs2.writeFileSync(tempFile, contents);\n      callback(tempFile);\n    } catch {\n      callback(null);\n    }\n  }\n};\nvar fsAsync = {\n  readFile(tempFile, callback) {\n    try {\n      fs2.readFile(tempFile, \"utf8\", (err, contents) => {\n        try {\n          fs2.unlink(tempFile, () => callback(err, contents));\n        } catch {\n          callback(err, contents);\n        }\n      });\n    } catch (err) {\n      callback(err, null);\n    }\n  },\n  writeFile(contents, callback) {\n    try {\n      let tempFile = randomFileName();\n      fs2.writeFile(tempFile, contents, (err) => err !== null ? callback(null) : callback(tempFile));\n    } catch {\n      callback(null);\n    }\n  }\n};\nvar version = \"0.14.54\";\nvar build = (options) => ensureServiceIsRunning().build(options);\nvar serve = (serveOptions, buildOptions) => ensureServiceIsRunning().serve(serveOptions, buildOptions);\nvar transform = (input, options) => ensureServiceIsRunning().transform(input, options);\nvar formatMessages = (messages, options) => ensureServiceIsRunning().formatMessages(messages, options);\nvar analyzeMetafile = (messages, options) => ensureServiceIsRunning().analyzeMetafile(messages, options);\nvar buildSync = (options) => {\n  if (worker_threads && !isInternalWorkerThread) {\n    if (!workerThreadService)\n      workerThreadService = startWorkerThreadService(worker_threads);\n    return workerThreadService.buildSync(options);\n  }\n  let result;\n  runServiceSync((service) => service.buildOrServe({\n    callName: \"buildSync\",\n    refs: null,\n    serveOptions: null,\n    options,\n    isTTY: isTTY(),\n    defaultWD,\n    callback: (err, res) => {\n      if (err)\n        throw err;\n      result = res;\n    }\n  }));\n  return result;\n};\nvar transformSync = (input, options) => {\n  if (worker_threads && !isInternalWorkerThread) {\n    if (!workerThreadService)\n      workerThreadService = startWorkerThreadService(worker_threads);\n    return workerThreadService.transformSync(input, options);\n  }\n  let result;\n  runServiceSync((service) => service.transform({\n    callName: \"transformSync\",\n    refs: null,\n    input,\n    options: options || {},\n    isTTY: isTTY(),\n    fs: fsSync,\n    callback: (err, res) => {\n      if (err)\n        throw err;\n      result = res;\n    }\n  }));\n  return result;\n};\nvar formatMessagesSync = (messages, options) => {\n  if (worker_threads && !isInternalWorkerThread) {\n    if (!workerThreadService)\n      workerThreadService = startWorkerThreadService(worker_threads);\n    return workerThreadService.formatMessagesSync(messages, options);\n  }\n  let result;\n  runServiceSync((service) => service.formatMessages({\n    callName: \"formatMessagesSync\",\n    refs: null,\n    messages,\n    options,\n    callback: (err, res) => {\n      if (err)\n        throw err;\n      result = res;\n    }\n  }));\n  return result;\n};\nvar analyzeMetafileSync = (metafile, options) => {\n  if (worker_threads && !isInternalWorkerThread) {\n    if (!workerThreadService)\n      workerThreadService = startWorkerThreadService(worker_threads);\n    return workerThreadService.analyzeMetafileSync(metafile, options);\n  }\n  let result;\n  runServiceSync((service) => service.analyzeMetafile({\n    callName: \"analyzeMetafileSync\",\n    refs: null,\n    metafile: typeof metafile === \"string\" ? metafile : JSON.stringify(metafile),\n    options,\n    callback: (err, res) => {\n      if (err)\n        throw err;\n      result = res;\n    }\n  }));\n  return result;\n};\nvar initializeWasCalled = false;\nvar initialize = (options) => {\n  options = validateInitializeOptions(options || {});\n  if (options.wasmURL)\n    throw new Error(`The \"wasmURL\" option only works in the browser`);\n  if (options.wasmModule)\n    throw new Error(`The \"wasmModule\" option only works in the browser`);\n  if (options.worker)\n    throw new Error(`The \"worker\" option only works in the browser`);\n  if (initializeWasCalled)\n    throw new Error('Cannot call \"initialize\" more than once');\n  ensureServiceIsRunning();\n  initializeWasCalled = true;\n  return Promise.resolve();\n};\nvar defaultWD = process.cwd();\nvar longLivedService;\nvar ensureServiceIsRunning = () => {\n  if (longLivedService)\n    return longLivedService;\n  let [command, args] = esbuildCommandAndArgs();\n  let child = child_process.spawn(command, args.concat(`--service=${\"0.14.54\"}`, \"--ping\"), {\n    windowsHide: true,\n    stdio: [\"pipe\", \"pipe\", \"inherit\"],\n    cwd: defaultWD\n  });\n  let { readFromStdout, afterClose, service } = createChannel({\n    writeToStdin(bytes) {\n      child.stdin.write(bytes, (err) => {\n        if (err)\n          afterClose(err);\n      });\n    },\n    readFileSync: fs2.readFileSync,\n    isSync: false,\n    isWriteUnavailable: false,\n    esbuild: node_exports\n  });\n  child.stdin.on(\"error\", afterClose);\n  child.on(\"error\", afterClose);\n  const stdin = child.stdin;\n  const stdout = child.stdout;\n  stdout.on(\"data\", readFromStdout);\n  stdout.on(\"end\", afterClose);\n  let refCount = 0;\n  child.unref();\n  if (stdin.unref) {\n    stdin.unref();\n  }\n  if (stdout.unref) {\n    stdout.unref();\n  }\n  const refs = {\n    ref() {\n      if (++refCount === 1)\n        child.ref();\n    },\n    unref() {\n      if (--refCount === 0)\n        child.unref();\n    }\n  };\n  longLivedService = {\n    build: (options) => {\n      return new Promise((resolve, reject) => {\n        service.buildOrServe({\n          callName: \"build\",\n          refs,\n          serveOptions: null,\n          options,\n          isTTY: isTTY(),\n          defaultWD,\n          callback: (err, res) => err ? reject(err) : resolve(res)\n        });\n      });\n    },\n    serve: (serveOptions, buildOptions) => {\n      if (serveOptions === null || typeof serveOptions !== \"object\")\n        throw new Error(\"The first argument must be an object\");\n      return new Promise((resolve, reject) => service.buildOrServe({\n        callName: \"serve\",\n        refs,\n        serveOptions,\n        options: buildOptions,\n        isTTY: isTTY(),\n        defaultWD,\n        callback: (err, res) => err ? reject(err) : resolve(res)\n      }));\n    },\n    transform: (input, options) => {\n      return new Promise((resolve, reject) => service.transform({\n        callName: \"transform\",\n        refs,\n        input,\n        options: options || {},\n        isTTY: isTTY(),\n        fs: fsAsync,\n        callback: (err, res) => err ? reject(err) : resolve(res)\n      }));\n    },\n    formatMessages: (messages, options) => {\n      return new Promise((resolve, reject) => service.formatMessages({\n        callName: \"formatMessages\",\n        refs,\n        messages,\n        options,\n        callback: (err, res) => err ? reject(err) : resolve(res)\n      }));\n    },\n    analyzeMetafile: (metafile, options) => {\n      return new Promise((resolve, reject) => service.analyzeMetafile({\n        callName: \"analyzeMetafile\",\n        refs,\n        metafile: typeof metafile === \"string\" ? metafile : JSON.stringify(metafile),\n        options,\n        callback: (err, res) => err ? reject(err) : resolve(res)\n      }));\n    }\n  };\n  return longLivedService;\n};\nvar runServiceSync = (callback) => {\n  let [command, args] = esbuildCommandAndArgs();\n  let stdin = new Uint8Array();\n  let { readFromStdout, afterClose, service } = createChannel({\n    writeToStdin(bytes) {\n      if (stdin.length !== 0)\n        throw new Error(\"Must run at most one command\");\n      stdin = bytes;\n    },\n    isSync: true,\n    isWriteUnavailable: false,\n    esbuild: node_exports\n  });\n  callback(service);\n  let stdout = child_process.execFileSync(command, args.concat(`--service=${\"0.14.54\"}`), {\n    cwd: defaultWD,\n    windowsHide: true,\n    input: stdin,\n    maxBuffer: +process.env.ESBUILD_MAX_BUFFER || 16 * 1024 * 1024\n  });\n  readFromStdout(stdout);\n  afterClose(null);\n};\nvar randomFileName = () => {\n  return path2.join(os2.tmpdir(), `esbuild-${crypto.randomBytes(32).toString(\"hex\")}`);\n};\nvar workerThreadService = null;\nvar startWorkerThreadService = (worker_threads2) => {\n  let { port1: mainPort, port2: workerPort } = new worker_threads2.MessageChannel();\n  let worker = new worker_threads2.Worker(__filename, {\n    workerData: { workerPort, defaultWD, esbuildVersion: \"0.14.54\" },\n    transferList: [workerPort],\n    execArgv: []\n  });\n  let nextID = 0;\n  let fakeBuildError = (text) => {\n    let error = new Error(`Build failed with 1 error:\nerror: ${text}`);\n    let errors = [{ id: \"\", pluginName: \"\", text, location: null, notes: [], detail: void 0 }];\n    error.errors = errors;\n    error.warnings = [];\n    return error;\n  };\n  let validateBuildSyncOptions = (options) => {\n    if (!options)\n      return;\n    let plugins = options.plugins;\n    let incremental = options.incremental;\n    let watch = options.watch;\n    if (plugins && plugins.length > 0)\n      throw fakeBuildError(`Cannot use plugins in synchronous API calls`);\n    if (incremental)\n      throw fakeBuildError(`Cannot use \"incremental\" with a synchronous build`);\n    if (watch)\n      throw fakeBuildError(`Cannot use \"watch\" with a synchronous build`);\n  };\n  let applyProperties = (object, properties) => {\n    for (let key in properties) {\n      object[key] = properties[key];\n    }\n  };\n  let runCallSync = (command, args) => {\n    let id = nextID++;\n    let sharedBuffer = new SharedArrayBuffer(8);\n    let sharedBufferView = new Int32Array(sharedBuffer);\n    let msg = { sharedBuffer, id, command, args };\n    worker.postMessage(msg);\n    let status = Atomics.wait(sharedBufferView, 0, 0);\n    if (status !== \"ok\" && status !== \"not-equal\")\n      throw new Error(\"Internal error: Atomics.wait() failed: \" + status);\n    let { message: { id: id2, resolve, reject, properties } } = worker_threads2.receiveMessageOnPort(mainPort);\n    if (id !== id2)\n      throw new Error(`Internal error: Expected id ${id} but got id ${id2}`);\n    if (reject) {\n      applyProperties(reject, properties);\n      throw reject;\n    }\n    return resolve;\n  };\n  worker.unref();\n  return {\n    buildSync(options) {\n      validateBuildSyncOptions(options);\n      return runCallSync(\"build\", [options]);\n    },\n    transformSync(input, options) {\n      return runCallSync(\"transform\", [input, options]);\n    },\n    formatMessagesSync(messages, options) {\n      return runCallSync(\"formatMessages\", [messages, options]);\n    },\n    analyzeMetafileSync(metafile, options) {\n      return runCallSync(\"analyzeMetafile\", [metafile, options]);\n    }\n  };\n};\nvar startSyncServiceWorker = () => {\n  let workerPort = worker_threads.workerData.workerPort;\n  let parentPort = worker_threads.parentPort;\n  let extractProperties = (object) => {\n    let properties = {};\n    if (object && typeof object === \"object\") {\n      for (let key in object) {\n        properties[key] = object[key];\n      }\n    }\n    return properties;\n  };\n  try {\n    let service = ensureServiceIsRunning();\n    defaultWD = worker_threads.workerData.defaultWD;\n    parentPort.on(\"message\", (msg) => {\n      (async () => {\n        let { sharedBuffer, id, command, args } = msg;\n        let sharedBufferView = new Int32Array(sharedBuffer);\n        try {\n          switch (command) {\n            case \"build\":\n              workerPort.postMessage({ id, resolve: await service.build(args[0]) });\n              break;\n            case \"transform\":\n              workerPort.postMessage({ id, resolve: await service.transform(args[0], args[1]) });\n              break;\n            case \"formatMessages\":\n              workerPort.postMessage({ id, resolve: await service.formatMessages(args[0], args[1]) });\n              break;\n            case \"analyzeMetafile\":\n              workerPort.postMessage({ id, resolve: await service.analyzeMetafile(args[0], args[1]) });\n              break;\n            default:\n              throw new Error(`Invalid command: ${command}`);\n          }\n        } catch (reject) {\n          workerPort.postMessage({ id, reject, properties: extractProperties(reject) });\n        }\n        Atomics.add(sharedBufferView, 0, 1);\n        Atomics.notify(sharedBufferView, 0, Infinity);\n      })();\n    });\n  } catch (reject) {\n    parentPort.on(\"message\", (msg) => {\n      let { sharedBuffer, id } = msg;\n      let sharedBufferView = new Int32Array(sharedBuffer);\n      workerPort.postMessage({ id, reject, properties: extractProperties(reject) });\n      Atomics.add(sharedBufferView, 0, 1);\n      Atomics.notify(sharedBufferView, 0, Infinity);\n    });\n  }\n};\nif (isInternalWorkerThread) {\n  startSyncServiceWorker();\n}\nvar node_default = node_exports;\n// Annotate the CommonJS export names for ESM import in node:\n0 && (module.exports = {\n  analyzeMetafile,\n  analyzeMetafileSync,\n  build,\n  buildSync,\n  formatMessages,\n  formatMessagesSync,\n  initialize,\n  serve,\n  transform,\n  transformSync,\n  version\n});\n", "/**\n * This class is responsible for loading wasm files.\n */\nexport default class EdgeFunctionsWasmManager {\n  static cache: { [key: string]: ArrayBuffer } = {}\n\n  /**\n   * Returns the code of wasm file and ensures\n   * that it is loaded only once.\n   */\n  static async getWasmFileFromCache(filename: string): Promise<ArrayBuffer> {\n    if (this.cache[filename]) return this.cache[filename]\n    this.cache[filename] = await this.getWasmFile(filename)\n    return this.cache[filename]\n  }\n\n  /**\n   * Returns the code of the QuickJS compiler\n   */\n  static async getQuickjsCompilerBytes(): Promise<ArrayBuffer> {\n    return this.getWasmFileFromCache('quickjs-llrt-compiler.wasm')\n  }\n\n  /**\n   * Returns the code of the QuickJS runtime\n   */\n  static async getQuickjsRuntimeBytes(): Promise<ArrayBuffer> {\n    return this.getWasmFileFromCache('quickjs-llrt-runtime.wasm')\n  }\n\n  /**\n   * Loads the WASM file from the filesystem or from the network depending on the used environment\n   * and returns the content of the file as a Buffer.\n   * When running in the browser the file is fetch from the root of the domain.\n   * @param filename\n   */\n  static async getWasmFile(filename: string): Promise<ArrayBuffer> {\n    try {\n      // Nodejs environment\n      const { join } = require('path')\n      const { promises } = require('fs')\n      return promises.readFile(join(__dirname, filename))\n    } catch {\n      // Browser environment\n      const res = await fetch(`/${filename}`)\n      return res.arrayBuffer()\n    }\n  }\n}\n", "import WasmProgram, { SIZEOF_wasi_iovec_t, wasm_status } from './WasmProgram'\nimport { Buffer } from 'buffer'\nimport EdgeFunctionsWasmManager from './EdgeFunctionsWasmManager'\n\n/// Encapsulates execution of quickjs-compiler Wasm program.\nclass EdgeFunctionCompilation extends WasmProgram {\n  private source: string\n  private sourceFilename: string\n  private error: string | undefined\n  private bytecode: Buffer | undefined\n\n  constructor(source: string, sourceFilename: string) {\n    super()\n    this.source = source\n    this.sourceFilename = sourceFilename\n  }\n\n  async run(): Promise<Buffer> {\n    // Load the quickjs-compiler once per lifetime of the instance.\n    const wasmBytes = await EdgeFunctionsWasmManager.getQuickjsCompilerBytes()\n    const importObject = this.getQuickJsImportObject(this.source, this.sourceFilename)\n    // Do not use WebAssembly.Instance() here due to Buffer limits in browser environments.\n    const { instance } = await WebAssembly.instantiate(wasmBytes, importObject)\n    this.setInstance(instance)\n\n    // `run` is the entry point of the WASM module.\n    // @ts-ignore\n    this.instance.exports.run()\n\n    if (this.bytecode) {\n      return this.bytecode\n    } else if (this.error) {\n      throw new Error(this.error)\n    } else {\n      throw new Error('Compilation neither generated bytecode nor an error.')\n    }\n  }\n\n  /// Returns the import object for the QuickJS WASM function which includes both WASI\n  /// interface and custom hostcalls as defined in the Sailfish repository.\n  private getQuickJsImportObject(source: string, sourceFilename: string) {\n    return {\n      env: {\n        hostcall_get_last_host_error_message: (\n          message_offset: number,\n          message_len: number\n        ): wasm_status => {\n          if (!this.lastHostErrorMessage) {\n            return wasm_status.not_found\n          }\n\n          return this.setStringInGuestMemory(message_offset, message_len, this.lastHostErrorMessage)\n        },\n        hostcall_set_guest_error_message: (\n          message_offset: number,\n          message_len: number\n        ): wasm_status => {\n          const memory = this.getGuestMemory()\n          this.guestErrorMessage = this.getStringFromGuestMemoryTruncate(\n            memory,\n            message_offset,\n            message_len\n          )\n          return wasm_status.ok\n        },\n        hostcall_compiler_read_javascript_filename: (\n          data_offset: number,\n          data_len_offset: number\n        ): wasm_status => {\n          return this.setStringInGuestMemory(data_offset, data_len_offset, sourceFilename)\n        },\n        hostcall_compiler_read_javascript: (\n          data_offset: number,\n          data_len_offset: number\n        ): wasm_status => {\n          return this.setStringInGuestMemory(data_offset, data_len_offset, source)\n        },\n        hostcall_compiler_write_bytecode: (data_offset: number, data_len: number) => {\n          const memory = super.getGuestMemory()\n          const data = memory.slice(data_offset, data_offset + data_len)\n          this.bytecode = Buffer.from(data)\n        },\n        hostcall_panic_hook: (msg_offset: number, msg_length: number) => {\n          const memory = this.getGuestMemory()\n          const msg = this.getStringFromGuestMemoryTruncate(memory, msg_offset, msg_length)\n          this.error = msg\n        },\n      },\n      wasi_snapshot_preview1: {\n        fd_write: (\n          fd: number,\n          iovs_offset: number,\n          iovs_length: number,\n          bw_offset: number\n        ): number => {\n          const STDOUT_FD = 1\n          const STDERR_FD = 2\n\n          // Only accept writes to stdout/stderr\n          if (fd != STDOUT_FD && fd != STDERR_FD) {\n            throw new WebAssembly.RuntimeError('Write not allowed')\n          }\n\n          const memory = this.getGuestMemory()\n          let bytesWritten = 0\n          // Write all the buffers as they were given to us.\n          for (let i = 0; i < iovs_length; i++) {\n            const iov_base = memory.getUint32(iovs_offset + SIZEOF_wasi_iovec_t * i)\n            const iov_len = memory.getUint32(\n              iovs_offset + SIZEOF_wasi_iovec_t * i + Uint32Array.BYTES_PER_ELEMENT\n            )\n\n            const iovs = Buffer.from(memory.slice(iov_base, iov_base + iov_len))\n\n            switch (fd) {\n              case STDOUT_FD:\n                process?.stdout?.write(iovs)\n                break\n              case STDERR_FD:\n                process?.stderr?.write(iovs)\n                break\n              default:\n                throw new WebAssembly.RuntimeError('Write not allowed')\n            }\n\n            bytesWritten += iov_len\n          }\n          memory.setUint32(bw_offset, bytesWritten)\n\n          return 0\n        },\n        environ_get: (..._args: any[]) => {\n          throw new WebAssembly.RuntimeError('environ_get not supported')\n        },\n        // This function is always called so we are forced to implement it.\n        // environ_sizes_get is supposed to write the number of arguments but we don't allow access to any arguments.\n        environ_sizes_get: (environCountPtr: number, environBufSizePtr: number) => {\n          const memory = this.getGuestMemory()\n          memory.setUint32(environCountPtr, 0)\n          memory.setUint32(environBufSizePtr, 0)\n          return 0\n        },\n        clock_time_get: (_clockId: number, _precision: number, tsOffset: number) => {\n          const memory = this.getGuestMemory()\n          // We don't expose any clocks so we just return 0.\n          memory.setBigUint64(tsOffset, BigInt(0))\n        },\n        fd_close: (..._args: any[]) => {\n          throw new WebAssembly.RuntimeError('fs_close not supported')\n        },\n        fd_fdstat_get: (..._args: any[]) => {\n          throw new WebAssembly.RuntimeError('fd_fdstat_get not supported')\n        },\n        fd_prestat_get: (..._args: any[]) => {\n          throw new WebAssembly.RuntimeError('fd_prestat_get not supported')\n        },\n        fd_prestat_dir_name: (..._args: any[]) => {\n          throw new WebAssembly.RuntimeError('fd_prestat_dir_name not supported')\n        },\n        fd_read: (...args: any[]) => {\n          throw new WebAssembly.RuntimeError('fd_read not supported')\n        },\n        fd_seek: (..._args: any[]) => {\n          throw new WebAssembly.RuntimeError('fd_seek not supported')\n        },\n        proc_exit: (exitCode: number) => {\n          throw new WebAssembly.RuntimeError(`Compilation terminated with error code ${exitCode}`)\n        },\n        sched_yield: (...args: any[]) => {\n          throw new WebAssembly.RuntimeError('sched_yield not supported')\n        },\n      },\n    }\n  }\n}\n\n/// Compiles the given edge function and returns the compiled bytecode.\nexport async function compileEdgeFunction(source: string, sourceFilename: string): Promise<Buffer> {\n  const compilation = new EdgeFunctionCompilation(source, sourceFilename)\n  return await compilation.run()\n}\n", "/*!\n * path-root-regex <https://github.com/jonschlinkert/path-root-regex>\n *\n * Copyright (c) 2016, Jon Schlinkert.\n * Licensed under the MIT License.\n */\n\n'use strict';\n\nmodule.exports = function() {\n  // Regex is modified from the split device regex in the node.js path module.\n  return /^([a-zA-Z]:|[\\\\\\/]{2}[^\\\\\\/]+[\\\\\\/]+[^\\\\\\/]+)?([\\\\\\/])?/;\n};\n", "/*!\n * path-root <https://github.com/jonschlinkert/path-root>\n *\n * Copyright (c) 2016, Jon Schlinkert.\n * Licensed under the MIT License.\n */\n\n'use strict';\n\nvar pathRootRegex = require('path-root-regex');\n\nmodule.exports = function(filepath) {\n  if (typeof filepath !== 'string') {\n    throw new TypeError('expected a string');\n  }\n\n  var match = pathRootRegex().exec(filepath);\n  if (match) {\n    return match[0];\n  }\n};\n", "export default function rethrowUnlessCode(maybeError: unknown, ...codes: Array<string>) {\n  if (maybeError !== null && typeof maybeError === 'object') {\n    const code = (maybeError as { code: any }).code;\n    for (const allowed of codes) {\n      if (code === allowed) {\n        return;\n      }\n    }\n  }\n\n  throw maybeError;\n}\n", "'use strict';\n\nfunction includes(array: [string], entry: string) {\n  for (let i = 0; i < array.length; i++) {\n    if (array[i] === entry) {\n      return true;\n    }\n  }\n  return false;\n}\n/*\n * utility to detect if node is respective symlinks or not\n */\nexport = function (process: any) {\n  return !!process.env.NODE_PRESERVE_SYMLINKS || includes(process.execArgv, '--preserve-symlinks');\n};\n", "'use strict';\n// credit goes to https://github.com/davecombs\n// extracted in part from: https://github.com/stefanpenner/hash-for-dep/blob/15b2ebcf22024ceb2eb7907f8c412ae40f87b15e/lib/resolve-package-path.js#L1\n//\nimport fs = require('fs');\nimport path = require('path');\nimport pathRoot = require('path-root');\n\nimport Cache = require('./cache');\nimport CacheGroup = require('./cache-group');\nimport rethrowUnlessCode from './rethrow-unless-code';\n\n/*\n * Define a regex that will match against the 'name' value passed into\n * resolvePackagePath. The regex corresponds to the following test:\n *   Match any of the following 3 alternatives:\n *\n *  1) dot, then optional second dot, then / or nothing    i.e.  .  ./  ..  ../        OR\n *  2) /                                                   i.e.  /                     OR\n *  3) (A-Za-z colon - [optional]), then / or \\            i.e. optional drive letter + colon, then / or \\\n *\n * Basically, the three choices mean \"explicitly relative or absolute path, on either\n * Unix/Linux or Windows\"\n */\n\nconst ABSOLUTE_OR_RELATIVE_PATH_REGEX = /^(?:\\.\\.?(?:\\/|$)|\\/|([A-Za-z]:)?[/\\\\])/;\n\nimport shouldPreserveSymlinks = require('./should-preserve-symlinks');\nconst PRESERVE_SYMLINKS = shouldPreserveSymlinks(process);\n/*\n * Resolve the real path for a file. Return null if does not\n * exist or is not a file or FIFO, return the real path otherwise.\n *\n * Cache the result in the passed-in cache for performance,\n * keyed on the filePath passed in.\n *\n * NOTE: Because this is a private method, it does not attempt to normalize\n * the path passed in - it assumes the caller has done that.\n *\n * @private\n * @method _getRealFilePath\n * @param {Cache} realFilePathCache the Cache object to cache the real (resolved)\n * path in, keyed by filePath. See lib/cache.js and lib/cache-group.js\n * @param {String} filePath the path to the file of interest (which must have\n * been normalized, but not necessarily resolved to a real path).\n * @return {String} real path or null\n */\nfunction _getRealFilePath(realFilePathCache: Cache, filePath: string) {\n  if (realFilePathCache.has(filePath)) {\n    return realFilePathCache.get(filePath); // could be null\n  }\n\n  let realPath = null; // null = 'FILE NOT FOUND'\n\n  try {\n    const stat = fs.statSync(filePath);\n\n    // I don't know if Node would handle having the filePath actually\n    // be a FIFO, but as the following is also part of the node-resolution\n    // algorithm in resolve.sync(), we'll do the same check here.\n    if (stat.isFile() || stat.isFIFO()) {\n      if (PRESERVE_SYMLINKS) {\n        realPath = filePath;\n      } else {\n        realPath = fs.realpathSync(filePath);\n      }\n    }\n  } catch (e) {\n    rethrowUnlessCode(e, 'ENOENT');\n  }\n\n  realFilePathCache.set(filePath, realPath);\n\n  return realPath;\n}\n\n/*\n * Resolve the real path for a directory, return null if does not\n * exist or is not a directory, return the real path otherwise.\n *\n * @param {Cache} realDirectoryPathCache the Cache object to cache the real (resolved)\n * path in, keyed by directoryPath. See lib/cache.js and lib/cache-group.js\n * @param {String} directoryPath the path to the directory of interest (which must have\n * been normalized, but not necessarily resolved to a real path).\n * @return {String} real path or null\n */\nfunction _getRealDirectoryPath(realDirectoryPathCache: Cache, directoryPath: string) {\n  if (realDirectoryPathCache.has(directoryPath)) {\n    return realDirectoryPathCache.get(directoryPath); // could be null\n  }\n\n  let realPath = null;\n\n  try {\n    const stat = fs.statSync(directoryPath);\n\n    if (stat.isDirectory()) {\n      if (PRESERVE_SYMLINKS) {\n        realPath = directoryPath;\n      } else {\n        realPath = fs.realpathSync(directoryPath);\n      }\n    }\n  } catch (e) {\n    rethrowUnlessCode(e, 'ENOENT', 'ENOTDIR');\n  }\n\n  realDirectoryPathCache.set(directoryPath, realPath);\n\n  return realPath;\n}\n\n/*\n * Given a package 'name' and starting directory, resolve to a real (existing) file path.\n *\n * Do it similar to how it is done in resolve.sync() - travel up the directory hierarchy,\n * attaching 'node-modules' to each directory and seeing if the directory exists and\n * has the relevant 'package.json' file we're searching for. It is *much* faster than\n * resolve.sync(), because we don't test that the requested name is a directory.\n * This routine assumes that it is only called when we don't already have\n * the cached entry.\n *\n * NOTE: it is valid for 'name' to be an absolute or relative path.\n * Because this is an internal routine, we'll require that 'dir' be non-empty\n * if this is called, to make things simpler (see resolvePackagePath).\n *\n * @param realFilePathCache the cache containing the real paths corresponding to\n *   various file and directory paths (which may or may not be already resolved).\n *\n * @param name the 'name' of the module, i.e. x in require(x), but with\n *   '/package.json' on the end. It is NOT referring to a directory (so we don't\n *   have to do the directory checks that resolve.sync does).\n *   NOTE: because this is an internal routine, for speed it does not check\n *   that '/package.json' is actually the end of the name.\n *\n * @param dir the directory (MUST BE non-empty, and valid) to start from, appending the name to the\n *   directory and checking that the file exists. Go up the directory hierarchy from there.\n *   if name is itself an absolute path,\n *\n * @result the path to the actual package.json file that's found, or null if not.\n */\nfunction _findPackagePath(realFilePathCache: Cache, name: string, dir: string) {\n  const fsRoot = pathRoot(dir);\n  let currPath = dir;\n\n  while (currPath !== fsRoot) {\n    // when testing for 'node_modules', need to allow names like NODE_MODULES,\n    // which can occur with case-insensitive OSes.\n    let endsWithNodeModules = path.basename(currPath).toLowerCase() === 'node_modules';\n\n    let filePath = path.join(currPath, endsWithNodeModules ? '' : 'node_modules', name);\n\n    let realPath = _getRealFilePath(realFilePathCache, filePath);\n\n    if (realPath) {\n      return realPath;\n    }\n\n    if (endsWithNodeModules) {\n      // go up past the ending node_modules directory so the next dirname\n      // goes up past that (if ending in node_modules, going up just one\n      // directory below will then add 'node_modules' on the next loop and\n      // re-process this same node_modules directory.\n      currPath = path.dirname(currPath);\n    }\n\n    currPath = path.dirname(currPath);\n  }\n\n  return null;\n}\n\n/*\n * Resolve the path to the nearest `package.json` from the given initial search\n * directory.\n *\n * @param  {Cache} findUpCache - a cache of memoized results that is\n * prioritized to avoid I/O.\n *\n * @param {string} initialSearchDir - the normalized path to start searching\n * from.\n *\n * @return {string | null} - the deepest directory on the path to root from\n * `initialSearchDir` that contains a {{package.json}}, or `null` if no such\n * directory exists.\n */\nfunction _findUpPackagePath(findUpCache: Cache, initialSearchDir: string) {\n  let previous;\n  let dir = initialSearchDir;\n  let maybePackageJsonPath;\n  let result = null;\n\n  do {\n    if (findUpCache.has(dir)) {\n      result = findUpCache.get(dir);\n      break;\n    }\n\n    maybePackageJsonPath = path.join(dir, 'package.json');\n    if (fs.existsSync(maybePackageJsonPath)) {\n      result = maybePackageJsonPath;\n      break;\n    }\n\n    previous = dir;\n    dir = path.dirname(dir);\n  } while (dir !== previous);\n\n  findUpCache.set(initialSearchDir, result);\n\n  return result;\n}\n\n/*\n * Resolve the path to a module's package.json file, if it exists. The\n * name and dir are as in hashForDep and ModuleEntry.locate.\n *\n *  @param caches an instance of CacheGroup where information will be cached\n *  during processing.\n *\n *  @param name the 'name' of the module.  The name may also be a path,\n *  either relative or absolute. The path must be to a module DIRECTORY, NOT to the\n *  package.json file in the directory, as we attach 'package.json' here.\n *\n *  @param dir (optional) the root directory to run the path resolution from.\n *  if dir is not provided, __dirname for this module is used instead.\n *\n *  @return the realPath corresponding to the module's package.json file, or null\n *  if that file is not found or is not a file.\n *\n * Note: 'name' is expected in the format expected for require(x), i.e., it is\n * resolved using the Node path-normalization rules.\n */\nfunction resolvePackagePath(caches: CacheGroup, name?: string, dir?: string) {\n  if (typeof name !== 'string' || name.length === 0) {\n    throw new TypeError(\"resolvePackagePath: 'name' must be a non-zero-length string.\");\n  }\n\n  // Perform tests similar to those in resolve.sync().\n  let basedir = dir || __dirname;\n\n  // Ensure that basedir is an absolute path at this point. If it does not refer to\n  // a real directory, go up the path until a real directory is found, or return an error.\n\n  // BUG!: this will never throw an exception, at least on Unix/Linux. If the path is\n  // relative, path.resolve() will make it absolute by putting the current directory\n  // before it, so it won't fail. If the path is already absolute, / will always be\n  // valid, so again it won't fail.\n  let absoluteStart = path.resolve(basedir);\n\n  while (_getRealDirectoryPath(caches.REAL_DIRECTORY_PATH, absoluteStart) === null) {\n    absoluteStart = path.dirname(absoluteStart);\n  }\n\n  if (!absoluteStart) {\n    let error = new TypeError(\n      \"resolvePackagePath: 'dir' or one of the parent directories in its path must refer to a valid directory.\",\n    );\n    (error as any).code = 'MODULE_NOT_FOUND';\n    throw error;\n  }\n\n  if (ABSOLUTE_OR_RELATIVE_PATH_REGEX.test(name)) {\n    let res = path.resolve(absoluteStart, name);\n    return _getRealFilePath(caches.REAL_FILE_PATH, path.join(res, 'package.json'));\n\n    // XXX Do we need to handle the core(x) case too? Not sure.\n  } else {\n    return _findPackagePath(caches.REAL_FILE_PATH, path.join(name, 'package.json'), absoluteStart);\n  }\n}\n\nexport = resolvePackagePath;\nresolvePackagePath._findPackagePath = _findPackagePath;\nresolvePackagePath._findUpPackagePath = _findUpPackagePath;\nresolvePackagePath._getRealFilePath = _getRealFilePath;\nresolvePackagePath._getRealDirectoryPath = _getRealDirectoryPath;\n", "'use strict';\n\nfunction makeCache() {\n  // object with no prototype\n  const cache = Object.create(null);\n\n  // force the jit to immediately realize this object is a dictionary. This\n  // should prevent the JIT from going wastefully one direction (fast mode)\n  // then going another (dict mode) after\n  cache['_cache'] = 1;\n  delete cache['_cache'];\n\n  return cache;\n}\n\nexport = class Cache {\n  _store: { [key: string]: string };\n  constructor() {\n    this._store = makeCache();\n  }\n\n  set(key: string, value: any) {\n    return (this._store[key] = value);\n  }\n\n  get(key: string) {\n    return this._store[key];\n  }\n\n  has(key: string) {\n    return key in this._store;\n  }\n\n  delete(key: string) {\n    delete this._store[key];\n  }\n\n  get size() {\n    return Object.keys(this._store).length;\n  }\n};\n", "'use strict';\n\nimport Cache = require('./cache');\n\n/*\n * CacheGroup is used to both speed up and ensure consistency of hashForDep.\n *\n * The CacheGroup contains three separate caches:\n *\n *  - MODULE_ENTRY: the cache of realPathKey => ModuleEntry objects.\n *    Each ModuleEntry contains information about a particular module\n *    found during hash-for-dep processing.  realPathKey is a hash\n *    of the resolved real path to the module's package.json file.\n *\n *    Having the real path means that when resolving dependencies, we can\n *    take the resolved paths, hash them and check quickly for cache entries,\n *    speeding creation of the cache. Because many modules may refer to\n *    the same module as a dependency, this eliminates duplication and having\n *    to reread package.json files.\n *\n *    However, that also means we need a second cache to map from the original\n *    name and dir passed to hashForDep to the final resolved path for the\n *    module's package.json file.\n *\n *  - PATH: the cache of nameDirKey => realPathKey. nameDirKey is a hash of the\n *    combination of the name and starting directory passed to hashForDep.\n *    realPathKey is a hash of the resulting real path to the relevant package.json file.\n *\n *  - REAL_FILE_PATH: the cache of filePath => resolved realPath for relevant files.\n *    When determining the location of a file, the file path may involve links.\n *    This cache is keyed on the original file path, with a value of the real path.\n *    This cache helps to speed up path resolution in both cases by minimizing\n *    the use of costly 'fs.statSync' calls.\n *\n *  - REAL_DIRECTORY_PATH: the cache of filePath => resolved realPath for relevant directories.\n *    When determining the location of a file by going up the node_modules chain,\n *    paths to intervening directories may contain links. Similar to REAL_FILE_PATH,\n *    this cache is keyed on the original directory path, with a value of the real path.\n *    This cache helps to speed up path resolution in both cases by minimizing\n *    the use of costly 'fs.statSync' calls.\n *\n * Note: when discussing 'real paths' above, the paths are normalized by routines\n * like path.join() or path.resolve(). We do nothing beyond that (e.g., we do not attempt\n * to force the paths into POSIX style.)\n */\nexport = class CacheGroup {\n  MODULE_ENTRY = new Cache();\n  PATH = new Cache();\n  REAL_FILE_PATH = new Cache();\n  REAL_DIRECTORY_PATH = new Cache();\n  constructor() {\n    Object.freeze(this);\n  }\n};\n", "'use strict';\n\nimport path from 'path';\nimport customResolvePackagePath from './resolve-package-path';\nimport rethrowUnlessCode from './rethrow-unless-code';\nconst ALLOWED_ERROR_CODES = [\n  // resolve package error codes\n  'MODULE_NOT_FOUND',\n\n  // Yarn PnP Error Codes\n  'UNDECLARED_DEPENDENCY',\n  'MISSING_PEER_DEPENDENCY',\n  'MISSING_DEPENDENCY'\n];\n\nimport CacheGroup = require('./cache-group');\nimport Cache = require('./cache');\nconst getRealFilePath = customResolvePackagePath._getRealFilePath;\nconst getRealDirectoryPath = customResolvePackagePath._getRealDirectoryPath;\nconst __findUpPackagePath = customResolvePackagePath._findUpPackagePath;\n\nlet CACHE = new CacheGroup();\nlet FIND_UP_CACHE = new Cache();\nlet pnp: any;\n\ntry {\n  // eslint-disable-next-line node/no-missing-require\n  pnp = require('pnpapi');\n} catch (error) {\n  // not in Yarn PnP; not a problem\n}\n\n/**\n * Search each directory in the absolute path `baseDir`, from leaf to root, for\n * a `package.json`, and return the first match, or `null` if no `package.json`\n * was found.\n *\n * @public\n * @param {string} baseDir - an absolute path in which to search for a `package.json`\n * @param {CacheGroup|boolean} [_cache] (optional)\n *  * if true: will choose the default global cache\n *  * if false: will not cache\n *  * if undefined or omitted, will choose the default global cache\n *  * otherwise we assume the argument is an external cache of the form provided by resolve-package-path/lib/cache-group.js\n *\n * @return {string|null} a full path to the resolved package.json if found or null if not\n */\nfunction _findUpPackagePath(baseDir: string, _cache?: Cache | boolean) {\n  let cache;\n  if (_cache === undefined || _cache === null || _cache === true) {\n    // if no cache specified, or if cache is true then use the global cache\n    cache = FIND_UP_CACHE;\n  } else if (_cache === false) {\n    // if cache is explicity false, create a throw-away cache;\n    cache = new Cache();\n  } else {\n    // otherwise, assume the user has provided an alternative cache for the following form:\n    // provided by resolve-package-path/lib/cache-group.js\n    cache = _cache;\n  }\n\n  let absoluteStart = path.resolve(baseDir);\n\n  return __findUpPackagePath(cache, absoluteStart);\n}\n\n/*\n * @public\n *\n * @method resolvePackagePathSync\n * @param {string} name name of the dependency module.\n * @param {string} baseDir root dir to run the resolve from\n * @param {Boolean|CustomCache} (optional)\n *  * if true: will choose the default global cache\n *  * if false: will not cache\n *  * if undefined or omitted, will choose the default global cache\n *  * otherwise we assume the argument is an external cache of the form provided by resolve-package-path/lib/cache-group.js\n *\n * @return {string|null} a full path to the resolved package.json if found or null if not\n */\nexport = resolvePackagePath;\nfunction resolvePackagePath(\n  target: string,\n  baseDir: string,\n  _cache?: CacheGroup | boolean,\n): string | null {\n  let cache;\n\n  if (_cache === undefined || _cache === null || _cache === true) {\n    // if no cache specified, or if cache is true then use the global cache\n    cache = CACHE;\n  } else if (_cache === false) {\n    // if cache is explicity false, create a throw-away cache;\n    cache = new CacheGroup();\n  } else {\n    // otherwise, assume the user has provided an alternative cache for the following form:\n    // provided by resolve-package-path/lib/cache-group.js\n    cache = _cache;\n  }\n\n  if (baseDir.charAt(baseDir.length - 1) !== path.sep) {\n    baseDir = `${baseDir}${path.sep}`;\n  }\n\n  const key = target + '\\x00' + baseDir;\n\n  let pkgPath;\n\n  if (cache.PATH.has(key)) {\n    pkgPath = cache.PATH.get(key);\n  } else {\n    try {\n      // the custom `pnp` code here can be removed when yarn 1.13 is the\n      // current release. This is due to Yarn 1.13 and resolve interoperating\n      // together seamlessly.\n      pkgPath = pnp\n        ? pnp.resolveToUnqualified(target + '/package.json', baseDir)\n        : customResolvePackagePath(cache, target, baseDir);\n    } catch (e) {\n      rethrowUnlessCode(e,  ...ALLOWED_ERROR_CODES);\n      pkgPath = null;\n    }\n\n    cache.PATH.set(key, pkgPath);\n  }\n  return pkgPath;\n}\n\nresolvePackagePath._resetCache = function () {\n  CACHE = new CacheGroup();\n  FIND_UP_CACHE = new Cache();\n};\n// eslint-disable-next-line no-redeclare\nmodule resolvePackagePath {\n  export let _CACHE: CacheGroup;\n  export let _FIND_UP_CACHE = FIND_UP_CACHE;\n  export let findUpPackagePath = _findUpPackagePath;\n}\nObject.defineProperty(resolvePackagePath, '_CACHE', {\n  get: function () {\n    return CACHE;\n  },\n});\nObject.defineProperty(resolvePackagePath, '_FIND_UP_CACHE', {\n  get: function () {\n    return FIND_UP_CACHE;\n  },\n});\n\nresolvePackagePath.getRealFilePath = function (filePath: string) {\n  return getRealFilePath(CACHE.REAL_FILE_PATH, filePath);\n};\n\nresolvePackagePath.getRealDirectoryPath = function (directoryPath: string) {\n  return getRealDirectoryPath(CACHE.REAL_DIRECTORY_PATH, directoryPath);\n};\n", "import resolvePackagePath from 'resolve-package-path'\nimport { dirname, join } from 'path'\n\n/**\n * Returns the path to a file within a node package\n * @param pkg The name of a node package\n * @param file The path to the file within the package\n * @return A file path\n */\nexport default function resolveInPackage(pkg: string, ...file: string[]) {\n  let path = resolvePackagePath(pkg, __dirname) || resolvePackagePath(pkg, process.cwd())\n  if (!path) return undefined\n\n  const packagePath = dirname(path)\n  return join(packagePath, ...file)\n}\n", "import { existsSync } from 'fs'\nimport { join } from 'path'\nimport resolveInPackage from './resolveInPackage'\nimport { EdgioRuntimeGlobal } from '../lambda/global.helpers'\nimport Config from '../config'\n\n/**\n * The .edgio build directory\n */\nexport const EDGIO_DIR = '.edgio'\n\n/**\n * The destination directory with entrypoint for lambda function.\n * This directory contains two directories: internal and app.\n */\nexport const LAMBDA_DIR = join(EDGIO_DIR, 'lambda')\n\n/**\n * The name of destination directory for our internal JS files such as\n * handler, backends, router etc...\n */\nexport const JS_INTERNAL_DIR_NAME = 'internal'\n\n/**\n * The relative path to destination directory for our internal JS files such as\n * handler, backends, router etc...\n */\nexport const JS_INTERNAL_DIR = join(LAMBDA_DIR, JS_INTERNAL_DIR_NAME)\n\n/**\n * The name of destination directory for user's file with JS code\n * with server and its dependencies\n */\nexport const JS_APP_DIR_NAME = 'app'\n\n/**\n * The relative path to destination directory for user's file with JS code\n * with server and its dependencies\n */\nexport const JS_APP_DIR = join(LAMBDA_DIR, JS_APP_DIR_NAME)\n\n/**\n * The name of the bundled edge functions index file\n */\nexport const EDGE_FUNCTIONS_INDEX_FILENAME = '__edge-functions-index__.js'\n\n/**\n * The name of the file containing edge function source code\n */\nexport const EDGE_FUNCTION_SOURCES_FILENAME = '__edge-function-sources__.json'\n\n/**\n * The name of the bundled edge functions file\n */\nexport const EDGE_FUNCTIONS_BUNDLE_FILENAME = 'edge-function.js'\n\n/**\n * The path of the bundled edge functions file\n */\nexport const EDGE_FUNCTIONS_BUNDLE_PATH = join(JS_INTERNAL_DIR, EDGE_FUNCTIONS_BUNDLE_FILENAME)\n\n/**\n * The path to the edge functions index file\n */\nexport const EDGE_FUNCTIONS_INDEX_PATH = join(JS_INTERNAL_DIR, EDGE_FUNCTIONS_INDEX_FILENAME)\n\n/**\n * The name of the bundled edge functions index compiled QuickJS bytecode file\n */\nexport const EDGE_FUNCTIONS_QUICKJS_BYTECODE_FILENAME = '__edge-functions__.qbc'\n\n/**\n * The path to the bundled edge functions index compiled QuickJS bytecode file\n */\nexport const EDGE_FUNCTIONS_QUICKJS_BYTECODE_PATH = join(\n  JS_INTERNAL_DIR,\n  EDGE_FUNCTIONS_QUICKJS_BYTECODE_FILENAME\n)\n\n/**\n * The destination directory for static assets\n */\nexport const ASSETS_DIR = join(EDGIO_DIR, 's3')\nexport const PERMANENT_ASSETS_DIR = join(EDGIO_DIR, 's3-permanent')\n\n/**\n * The directory into which source code is copied for debugging purposes\n */\nexport const SOURCES_DIR = join(EDGIO_DIR, 'src')\n\n/**\n * The directory for temporary files during the build process.\n * This directory is cleaned after the build process is complete.\n */\nexport const TMP_DIR = join(EDGIO_DIR, 'tmp')\n\n/**\n * The name of the compiled routes file\n */\nexport const ROUTES_FILE_NAME = 'routes.cjs'\n\n/**\n * The name of the compiled edgio config file\n */\nexport const CONFIG_FILE_NAME = 'edgio.config.cjs'\n\n/**\n * The static asset manifest file name\n * @private\n */\nexport const STATIC_ASSET_MANIFEST_FILE_NAME = 'static-asset-manifest.json'\n\n/**\n * The static asset expiration file name\n * @private\n */\nexport const STATIC_ASSET_EXPIRATION_FILE_NAME = 'static-asset-expiration.json'\n\n/**\n * Returns the destination path within the lambda dir for the specified backend\n * @param backend A backend name\n * @return a file path\n */\nexport function pathForBackend(backend: string) {\n  return join('__backends__', `${backend}.cjs`)\n}\n\nexport const getEntryPoint = (\n  entry: 'dev' | 'prod',\n  appDir: string,\n  connector: string = '@edgio/core'\n) => {\n  // If the connector is a relative path,\n  // we assume that the user wants to use custom connector\n  if (connector?.startsWith('.')) {\n    const entryFile =\n      [\n        join(appDir, connector, `${entry}.cjs`), // CommonJS - use require\n        join(appDir, connector, `${entry}.mjs`), // ES Module - use import\n        join(appDir, connector, `${entry}.js`), // Treating as CommonJS - use require\n      ].find(file => existsSync(file)) || ''\n    if (entryFile && existsSync(entryFile)) {\n      return entryFile\n    }\n    return undefined\n  }\n\n  // Try to find the entry file in the connector package\n  // and fallback to @edgio/core package\n  // if the provided connector doesn't have the specified entry file.\n  // NOTE: The fallback here is important because some connectors\n  // have only dev file but not prod file.\n  return (\n    [\n      resolveInPackage(connector, `${entry}.js`),\n      resolveInPackage('@edgio/connectors', `${entry}.js`),\n      resolveInPackage('@edgio/core', `${entry}.js`),\n    ].find(file => file && existsSync(file)) || ''\n  )\n}\n\n/**\n * Gets the path to static-asset-manifest.json file\n * @returns\n */\nexport function getStaticAssetManifestPath() {\n  if (EdgioRuntimeGlobal.runtimeOptions?.fs.edgio.lambda.internal.staticAssetManifest)\n    return EdgioRuntimeGlobal.runtimeOptions?.fs.edgio.lambda.internal.staticAssetManifest.value\n\n  const filePath = join(getJsInternalPath(), STATIC_ASSET_MANIFEST_FILE_NAME)\n\n  if (!existsSync(filePath)) {\n    throw new Error(`The '${filePath}' file was not found. Please try to re-run 'edgio build'.`)\n  }\n\n  return filePath\n}\n\n/**\n * Returns the path to the routes.js file with the router.\n * @param config The config from edgio.config.js\n * @param cwd The current working directory\n * @returns\n */\nexport function getSrcRouterPath(config?: Config) {\n  const folder = process.cwd()\n\n  const result = (\n    config?.routes\n      ? [join(process.cwd(), config.routes)]\n      : [join(folder, 'routes.js'), join(folder, 'routes.ts'), join(folder, 'routes.cjs')]\n  ).find(existsSync)\n\n  if (result == null) {\n    const srcFile = config?.routes || `routes.js, routes.ts, or routes.cjs`\n\n    throw new Error(\n      `Edgio routes file not found. Please create ${srcFile} in the root directory of your project.`\n    )\n  }\n  return result\n}\n\n/**\n * Gets the path to edgio.config.js file\n * @returns\n */\nexport function getSrcConfigPath() {\n  // When app is running in production mode,\n  // the built config file from the internal folder is returned.\n  // Otherwise, the config file from the project root folder is returned.\n  const folder = process.cwd()\n\n  const result = [\n    join(folder, 'edgio.config.js'),\n    join(folder, 'edgio.config.ts'),\n    join(folder, 'edgio.config.cjs'),\n  ].find(existsSync)\n\n  if (result == null) {\n    throw new Error(\n      'Edgio config file not found. Please create edgio.config.js or edgio.config.cjs in the root directory of your project.'\n    )\n  }\n\n  return result\n}\n\n/**\n * Gets the path to '.edgio/lambda/internal/routes.cjs file\n * @returns\n */\nexport function getRoutesPath() {\n  return EdgioRuntimeGlobal.runtimeOptions?.fs.edgio.lambda.internal.routes ?? getSrcRouterPath()\n}\n\n/**\n * Gets the path to '.edgio/lambda/internal/edgio.config.cjs file\n * @returns\n */\nexport function getConfigPath() {\n  return (\n    EdgioRuntimeGlobal.runtimeOptions?.fs.edgio.lambda.internal.config.value ?? getSrcConfigPath()\n  )\n}\n\n/**\n * Returns the path to the '.edgio/lambda/internal' folder\n * with our edgio's JS files such as routes.cjs or edgio.config.cjs.\n * @returns\n */\nexport function getJsInternalPath(): string {\n  return (\n    EdgioRuntimeGlobal.runtimeOptions?.fs.edgio.lambda.internal.value ??\n    join(process.cwd(), JS_INTERNAL_DIR)\n  )\n}\n", "import {\n  EDGE_FUNCTIONS_INDEX_FILENAME,\n  EDGE_FUNCTIONS_BUNDLE_FILENAME,\n  EDGE_FUNCTIONS_QUICKJS_BYTECODE_FILENAME,\n  SOURCES_DIR,\n  getJsInternalPath,\n} from '../paths'\nimport { join } from 'path'\n\nexport function getIndexPath() {\n  return join(getJsInternalPath(), EDGE_FUNCTIONS_INDEX_FILENAME)\n}\n\nexport function getBundlePath() {\n  return join(SOURCES_DIR, EDGE_FUNCTIONS_BUNDLE_FILENAME)\n}\n\nexport function getQuickJSBytecodePath() {\n  return join(getJsInternalPath(), EDGE_FUNCTIONS_QUICKJS_BYTECODE_FILENAME)\n}\n", "// This file was generated. Do not modify manually!\nvar astralIdentifierCodes = [509, 0, 227, 0, 150, 4, 294, 9, 1368, 2, 2, 1, 6, 3, 41, 2, 5, 0, 166, 1, 574, 3, 9, 9, 370, 1, 81, 2, 71, 10, 50, 3, 123, 2, 54, 14, 32, 10, 3, 1, 11, 3, 46, 10, 8, 0, 46, 9, 7, 2, 37, 13, 2, 9, 6, 1, 45, 0, 13, 2, 49, 13, 9, 3, 2, 11, 83, 11, 7, 0, 3, 0, 158, 11, 6, 9, 7, 3, 56, 1, 2, 6, 3, 1, 3, 2, 10, 0, 11, 1, 3, 6, 4, 4, 193, 17, 10, 9, 5, 0, 82, 19, 13, 9, 214, 6, 3, 8, 28, 1, 83, 16, 16, 9, 82, 12, 9, 9, 84, 14, 5, 9, 243, 14, 166, 9, 71, 5, 2, 1, 3, 3, 2, 0, 2, 1, 13, 9, 120, 6, 3, 6, 4, 0, 29, 9, 41, 6, 2, 3, 9, 0, 10, 10, 47, 15, 406, 7, 2, 7, 17, 9, 57, 21, 2, 13, 123, 5, 4, 0, 2, 1, 2, 6, 2, 0, 9, 9, 49, 4, 2, 1, 2, 4, 9, 9, 330, 3, 10, 1, 2, 0, 49, 6, 4, 4, 14, 9, 5351, 0, 7, 14, 13835, 9, 87, 9, 39, 4, 60, 6, 26, 9, 1014, 0, 2, 54, 8, 3, 82, 0, 12, 1, 19628, 1, 4706, 45, 3, 22, 543, 4, 4, 5, 9, 7, 3, 6, 31, 3, 149, 2, 1418, 49, 513, 54, 5, 49, 9, 0, 15, 0, 23, 4, 2, 14, 1361, 6, 2, 16, 3, 6, 2, 1, 2, 4, 101, 0, 161, 6, 10, 9, 357, 0, 62, 13, 499, 13, 983, 6, 110, 6, 6, 9, 4759, 9, 787719, 239];\n\n// This file was generated. Do not modify manually!\nvar astralIdentifierStartCodes = [0, 11, 2, 25, 2, 18, 2, 1, 2, 14, 3, 13, 35, 122, 70, 52, 268, 28, 4, 48, 48, 31, 14, 29, 6, 37, 11, 29, 3, 35, 5, 7, 2, 4, 43, 157, 19, 35, 5, 35, 5, 39, 9, 51, 13, 10, 2, 14, 2, 6, 2, 1, 2, 10, 2, 14, 2, 6, 2, 1, 68, 310, 10, 21, 11, 7, 25, 5, 2, 41, 2, 8, 70, 5, 3, 0, 2, 43, 2, 1, 4, 0, 3, 22, 11, 22, 10, 30, 66, 18, 2, 1, 11, 21, 11, 25, 71, 55, 7, 1, 65, 0, 16, 3, 2, 2, 2, 28, 43, 28, 4, 28, 36, 7, 2, 27, 28, 53, 11, 21, 11, 18, 14, 17, 111, 72, 56, 50, 14, 50, 14, 35, 349, 41, 7, 1, 79, 28, 11, 0, 9, 21, 43, 17, 47, 20, 28, 22, 13, 52, 58, 1, 3, 0, 14, 44, 33, 24, 27, 35, 30, 0, 3, 0, 9, 34, 4, 0, 13, 47, 15, 3, 22, 0, 2, 0, 36, 17, 2, 24, 20, 1, 64, 6, 2, 0, 2, 3, 2, 14, 2, 9, 8, 46, 39, 7, 3, 1, 3, 21, 2, 6, 2, 1, 2, 4, 4, 0, 19, 0, 13, 4, 159, 52, 19, 3, 21, 2, 31, 47, 21, 1, 2, 0, 185, 46, 42, 3, 37, 47, 21, 0, 60, 42, 14, 0, 72, 26, 38, 6, 186, 43, 117, 63, 32, 7, 3, 0, 3, 7, 2, 1, 2, 23, 16, 0, 2, 0, 95, 7, 3, 38, 17, 0, 2, 0, 29, 0, 11, 39, 8, 0, 22, 0, 12, 45, 20, 0, 19, 72, 264, 8, 2, 36, 18, 0, 50, 29, 113, 6, 2, 1, 2, 37, 22, 0, 26, 5, 2, 1, 2, 31, 15, 0, 328, 18, 16, 0, 2, 12, 2, 33, 125, 0, 80, 921, 103, 110, 18, 195, 2637, 96, 16, 1071, 18, 5, 4026, 582, 8634, 568, 8, 30, 18, 78, 18, 29, 19, 47, 17, 3, 32, 20, 6, 18, 689, 63, 129, 74, 6, 0, 67, 12, 65, 1, 2, 0, 29, 6135, 9, 1237, 43, 8, 8936, 3, 2, 6, 2, 1, 2, 290, 16, 0, 30, 2, 3, 0, 15, 3, 9, 395, 2309, 106, 6, 12, 4, 8, 8, 9, 5991, 84, 2, 70, 2, 1, 3, 0, 3, 1, 3, 3, 2, 11, 2, 0, 2, 6, 2, 64, 2, 3, 3, 7, 2, 6, 2, 27, 2, 3, 2, 4, 2, 0, 4, 6, 2, 339, 3, 24, 2, 24, 2, 30, 2, 24, 2, 30, 2, 24, 2, 30, 2, 24, 2, 30, 2, 24, 2, 7, 1845, 30, 7, 5, 262, 61, 147, 44, 11, 6, 17, 0, 322, 29, 19, 43, 485, 27, 757, 6, 2, 3, 2, 1, 2, 14, 2, 196, 60, 67, 8, 0, 1205, 3, 2, 26, 2, 1, 2, 0, 3, 0, 2, 9, 2, 3, 2, 0, 2, 0, 7, 0, 5, 0, 2, 0, 2, 0, 2, 2, 2, 1, 2, 0, 3, 0, 2, 0, 2, 0, 2, 0, 2, 0, 2, 1, 2, 0, 3, 3, 2, 6, 2, 3, 2, 3, 2, 0, 2, 9, 2, 16, 6, 2, 2, 4, 2, 16, 4421, 42719, 33, 4153, 7, 221, 3, 5761, 15, 7472, 16, 621, 2467, 541, 1507, 4938, 6, 4191];\n\n// This file was generated. Do not modify manually!\nvar nonASCIIidentifierChars = \"\\u200c\\u200d\\xb7\\u0300-\\u036f\\u0387\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u0669\\u0670\\u06d6-\\u06dc\\u06df-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u06f0-\\u06f9\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07c0-\\u07c9\\u07eb-\\u07f3\\u07fd\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0859-\\u085b\\u0898-\\u089f\\u08ca-\\u08e1\\u08e3-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09cb-\\u09cd\\u09d7\\u09e2\\u09e3\\u09e6-\\u09ef\\u09fe\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2\\u0ae3\\u0ae6-\\u0aef\\u0afa-\\u0aff\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b55-\\u0b57\\u0b62\\u0b63\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c00-\\u0c04\\u0c3c\\u0c3e-\\u0c44\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0c66-\\u0c6f\\u0c81-\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0ce6-\\u0cef\\u0cf3\\u0d00-\\u0d03\\u0d3b\\u0d3c\\u0d3e-\\u0d44\\u0d46-\\u0d48\\u0d4a-\\u0d4d\\u0d57\\u0d62\\u0d63\\u0d66-\\u0d6f\\u0d81-\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0de6-\\u0def\\u0df2\\u0df3\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0e50-\\u0e59\\u0eb1\\u0eb4-\\u0ebc\\u0ec8-\\u0ece\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f3e\\u0f3f\\u0f71-\\u0f84\\u0f86\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102b-\\u103e\\u1040-\\u1049\\u1056-\\u1059\\u105e-\\u1060\\u1062-\\u1064\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u1369-\\u1371\\u1712-\\u1715\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b4-\\u17d3\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u180f-\\u1819\\u18a9\\u1920-\\u192b\\u1930-\\u193b\\u1946-\\u194f\\u19d0-\\u19da\\u1a17-\\u1a1b\\u1a55-\\u1a5e\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1ab0-\\u1abd\\u1abf-\\u1ace\\u1b00-\\u1b04\\u1b34-\\u1b44\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1b80-\\u1b82\\u1ba1-\\u1bad\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c24-\\u1c37\\u1c40-\\u1c49\\u1c50-\\u1c59\\u1cd0-\\u1cd2\\u1cd4-\\u1ce8\\u1ced\\u1cf4\\u1cf7-\\u1cf9\\u1dc0-\\u1dff\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2cef-\\u2cf1\\u2d7f\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\u30fb\\ua620-\\ua629\\ua66f\\ua674-\\ua67d\\ua69e\\ua69f\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua823-\\ua827\\ua82c\\ua880\\ua881\\ua8b4-\\ua8c5\\ua8d0-\\ua8d9\\ua8e0-\\ua8f1\\ua8ff-\\ua909\\ua926-\\ua92d\\ua947-\\ua953\\ua980-\\ua983\\ua9b3-\\ua9c0\\ua9d0-\\ua9d9\\ua9e5\\ua9f0-\\ua9f9\\uaa29-\\uaa36\\uaa43\\uaa4c\\uaa4d\\uaa50-\\uaa59\\uaa7b-\\uaa7d\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uaaeb-\\uaaef\\uaaf5\\uaaf6\\uabe3-\\uabea\\uabec\\uabed\\uabf0-\\uabf9\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe2f\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f\\uff65\";\n\n// This file was generated. Do not modify manually!\nvar nonASCIIidentifierStartChars = \"\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u037f\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u052f\\u0531-\\u0556\\u0559\\u0560-\\u0588\\u05d0-\\u05ea\\u05ef-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u0860-\\u086a\\u0870-\\u0887\\u0889-\\u088e\\u08a0-\\u08c9\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u09fc\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0af9\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c39\\u0c3d\\u0c58-\\u0c5a\\u0c5d\\u0c60\\u0c61\\u0c80\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cdd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d04-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d54-\\u0d56\\u0d5f-\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e86-\\u0e8a\\u0e8c-\\u0ea3\\u0ea5\\u0ea7-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f5\\u13f8-\\u13fd\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f8\\u1700-\\u1711\\u171f-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1878\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191e\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19b0-\\u19c9\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4c\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1c80-\\u1c88\\u1c90-\\u1cba\\u1cbd-\\u1cbf\\u1ce9-\\u1cec\\u1cee-\\u1cf3\\u1cf5\\u1cf6\\u1cfa\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2118-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309b-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312f\\u3131-\\u318e\\u31a0-\\u31bf\\u31f0-\\u31ff\\u3400-\\u4dbf\\u4e00-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua69d\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua7ca\\ua7d0\\ua7d1\\ua7d3\\ua7d5-\\ua7d9\\ua7f2-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua8fd\\ua8fe\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\ua9e0-\\ua9e4\\ua9e6-\\ua9ef\\ua9fa-\\ua9fe\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa7e-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uab30-\\uab5a\\uab5c-\\uab69\\uab70-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc\";\n\n// These are a run-length and offset encoded representation of the\n// >0xffff code points that are a valid part of identifiers. The\n// offset starts at 0x10000, and each pair of numbers represents an\n// offset to the next range, and then a size of the range.\n\n// Reserved word lists for various dialects of the language\n\nvar reservedWords = {\n  3: \"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile\",\n  5: \"class enum extends super const export import\",\n  6: \"enum\",\n  strict: \"implements interface let package private protected public static yield\",\n  strictBind: \"eval arguments\"\n};\n\n// And the keywords\n\nvar ecma5AndLessKeywords = \"break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this\";\n\nvar keywords$1 = {\n  5: ecma5AndLessKeywords,\n  \"5module\": ecma5AndLessKeywords + \" export import\",\n  6: ecma5AndLessKeywords + \" const class extends export import super\"\n};\n\nvar keywordRelationalOperator = /^in(stanceof)?$/;\n\n// ## Character categories\n\nvar nonASCIIidentifierStart = new RegExp(\"[\" + nonASCIIidentifierStartChars + \"]\");\nvar nonASCIIidentifier = new RegExp(\"[\" + nonASCIIidentifierStartChars + nonASCIIidentifierChars + \"]\");\n\n// This has a complexity linear to the value of the code. The\n// assumption is that looking up astral identifier characters is\n// rare.\nfunction isInAstralSet(code, set) {\n  var pos = 0x10000;\n  for (var i = 0; i < set.length; i += 2) {\n    pos += set[i];\n    if (pos > code) { return false }\n    pos += set[i + 1];\n    if (pos >= code) { return true }\n  }\n  return false\n}\n\n// Test whether a given character code starts an identifier.\n\nfunction isIdentifierStart(code, astral) {\n  if (code < 65) { return code === 36 }\n  if (code < 91) { return true }\n  if (code < 97) { return code === 95 }\n  if (code < 123) { return true }\n  if (code <= 0xffff) { return code >= 0xaa && nonASCIIidentifierStart.test(String.fromCharCode(code)) }\n  if (astral === false) { return false }\n  return isInAstralSet(code, astralIdentifierStartCodes)\n}\n\n// Test whether a given character is part of an identifier.\n\nfunction isIdentifierChar(code, astral) {\n  if (code < 48) { return code === 36 }\n  if (code < 58) { return true }\n  if (code < 65) { return false }\n  if (code < 91) { return true }\n  if (code < 97) { return code === 95 }\n  if (code < 123) { return true }\n  if (code <= 0xffff) { return code >= 0xaa && nonASCIIidentifier.test(String.fromCharCode(code)) }\n  if (astral === false) { return false }\n  return isInAstralSet(code, astralIdentifierStartCodes) || isInAstralSet(code, astralIdentifierCodes)\n}\n\n// ## Token types\n\n// The assignment of fine-grained, information-carrying type objects\n// allows the tokenizer to store the information it has about a\n// token in a way that is very cheap for the parser to look up.\n\n// All token type variables start with an underscore, to make them\n// easy to recognize.\n\n// The `beforeExpr` property is used to disambiguate between regular\n// expressions and divisions. It is set on all token types that can\n// be followed by an expression (thus, a slash after them would be a\n// regular expression).\n//\n// The `startsExpr` property is used to check if the token ends a\n// `yield` expression. It is set on all token types that either can\n// directly start an expression (like a quotation mark) or can\n// continue an expression (like the body of a string).\n//\n// `isLoop` marks a keyword as starting a loop, which is important\n// to know when parsing a label, in order to allow or disallow\n// continue jumps to that label.\n\nvar TokenType = function TokenType(label, conf) {\n  if ( conf === void 0 ) conf = {};\n\n  this.label = label;\n  this.keyword = conf.keyword;\n  this.beforeExpr = !!conf.beforeExpr;\n  this.startsExpr = !!conf.startsExpr;\n  this.isLoop = !!conf.isLoop;\n  this.isAssign = !!conf.isAssign;\n  this.prefix = !!conf.prefix;\n  this.postfix = !!conf.postfix;\n  this.binop = conf.binop || null;\n  this.updateContext = null;\n};\n\nfunction binop(name, prec) {\n  return new TokenType(name, {beforeExpr: true, binop: prec})\n}\nvar beforeExpr = {beforeExpr: true}, startsExpr = {startsExpr: true};\n\n// Map keyword names to token types.\n\nvar keywords = {};\n\n// Succinct definitions of keyword token types\nfunction kw(name, options) {\n  if ( options === void 0 ) options = {};\n\n  options.keyword = name;\n  return keywords[name] = new TokenType(name, options)\n}\n\nvar types$1 = {\n  num: new TokenType(\"num\", startsExpr),\n  regexp: new TokenType(\"regexp\", startsExpr),\n  string: new TokenType(\"string\", startsExpr),\n  name: new TokenType(\"name\", startsExpr),\n  privateId: new TokenType(\"privateId\", startsExpr),\n  eof: new TokenType(\"eof\"),\n\n  // Punctuation token types.\n  bracketL: new TokenType(\"[\", {beforeExpr: true, startsExpr: true}),\n  bracketR: new TokenType(\"]\"),\n  braceL: new TokenType(\"{\", {beforeExpr: true, startsExpr: true}),\n  braceR: new TokenType(\"}\"),\n  parenL: new TokenType(\"(\", {beforeExpr: true, startsExpr: true}),\n  parenR: new TokenType(\")\"),\n  comma: new TokenType(\",\", beforeExpr),\n  semi: new TokenType(\";\", beforeExpr),\n  colon: new TokenType(\":\", beforeExpr),\n  dot: new TokenType(\".\"),\n  question: new TokenType(\"?\", beforeExpr),\n  questionDot: new TokenType(\"?.\"),\n  arrow: new TokenType(\"=>\", beforeExpr),\n  template: new TokenType(\"template\"),\n  invalidTemplate: new TokenType(\"invalidTemplate\"),\n  ellipsis: new TokenType(\"...\", beforeExpr),\n  backQuote: new TokenType(\"`\", startsExpr),\n  dollarBraceL: new TokenType(\"${\", {beforeExpr: true, startsExpr: true}),\n\n  // Operators. These carry several kinds of properties to help the\n  // parser use them properly (the presence of these properties is\n  // what categorizes them as operators).\n  //\n  // `binop`, when present, specifies that this operator is a binary\n  // operator, and will refer to its precedence.\n  //\n  // `prefix` and `postfix` mark the operator as a prefix or postfix\n  // unary operator.\n  //\n  // `isAssign` marks all of `=`, `+=`, `-=` etcetera, which act as\n  // binary operators with a very low precedence, that should result\n  // in AssignmentExpression nodes.\n\n  eq: new TokenType(\"=\", {beforeExpr: true, isAssign: true}),\n  assign: new TokenType(\"_=\", {beforeExpr: true, isAssign: true}),\n  incDec: new TokenType(\"++/--\", {prefix: true, postfix: true, startsExpr: true}),\n  prefix: new TokenType(\"!/~\", {beforeExpr: true, prefix: true, startsExpr: true}),\n  logicalOR: binop(\"||\", 1),\n  logicalAND: binop(\"&&\", 2),\n  bitwiseOR: binop(\"|\", 3),\n  bitwiseXOR: binop(\"^\", 4),\n  bitwiseAND: binop(\"&\", 5),\n  equality: binop(\"==/!=/===/!==\", 6),\n  relational: binop(\"</>/<=/>=\", 7),\n  bitShift: binop(\"<</>>/>>>\", 8),\n  plusMin: new TokenType(\"+/-\", {beforeExpr: true, binop: 9, prefix: true, startsExpr: true}),\n  modulo: binop(\"%\", 10),\n  star: binop(\"*\", 10),\n  slash: binop(\"/\", 10),\n  starstar: new TokenType(\"**\", {beforeExpr: true}),\n  coalesce: binop(\"??\", 1),\n\n  // Keyword token types.\n  _break: kw(\"break\"),\n  _case: kw(\"case\", beforeExpr),\n  _catch: kw(\"catch\"),\n  _continue: kw(\"continue\"),\n  _debugger: kw(\"debugger\"),\n  _default: kw(\"default\", beforeExpr),\n  _do: kw(\"do\", {isLoop: true, beforeExpr: true}),\n  _else: kw(\"else\", beforeExpr),\n  _finally: kw(\"finally\"),\n  _for: kw(\"for\", {isLoop: true}),\n  _function: kw(\"function\", startsExpr),\n  _if: kw(\"if\"),\n  _return: kw(\"return\", beforeExpr),\n  _switch: kw(\"switch\"),\n  _throw: kw(\"throw\", beforeExpr),\n  _try: kw(\"try\"),\n  _var: kw(\"var\"),\n  _const: kw(\"const\"),\n  _while: kw(\"while\", {isLoop: true}),\n  _with: kw(\"with\"),\n  _new: kw(\"new\", {beforeExpr: true, startsExpr: true}),\n  _this: kw(\"this\", startsExpr),\n  _super: kw(\"super\", startsExpr),\n  _class: kw(\"class\", startsExpr),\n  _extends: kw(\"extends\", beforeExpr),\n  _export: kw(\"export\"),\n  _import: kw(\"import\", startsExpr),\n  _null: kw(\"null\", startsExpr),\n  _true: kw(\"true\", startsExpr),\n  _false: kw(\"false\", startsExpr),\n  _in: kw(\"in\", {beforeExpr: true, binop: 7}),\n  _instanceof: kw(\"instanceof\", {beforeExpr: true, binop: 7}),\n  _typeof: kw(\"typeof\", {beforeExpr: true, prefix: true, startsExpr: true}),\n  _void: kw(\"void\", {beforeExpr: true, prefix: true, startsExpr: true}),\n  _delete: kw(\"delete\", {beforeExpr: true, prefix: true, startsExpr: true})\n};\n\n// Matches a whole line break (where CRLF is considered a single\n// line break). Used to count lines.\n\nvar lineBreak = /\\r\\n?|\\n|\\u2028|\\u2029/;\nvar lineBreakG = new RegExp(lineBreak.source, \"g\");\n\nfunction isNewLine(code) {\n  return code === 10 || code === 13 || code === 0x2028 || code === 0x2029\n}\n\nfunction nextLineBreak(code, from, end) {\n  if ( end === void 0 ) end = code.length;\n\n  for (var i = from; i < end; i++) {\n    var next = code.charCodeAt(i);\n    if (isNewLine(next))\n      { return i < end - 1 && next === 13 && code.charCodeAt(i + 1) === 10 ? i + 2 : i + 1 }\n  }\n  return -1\n}\n\nvar nonASCIIwhitespace = /[\\u1680\\u2000-\\u200a\\u202f\\u205f\\u3000\\ufeff]/;\n\nvar skipWhiteSpace = /(?:\\s|\\/\\/.*|\\/\\*[^]*?\\*\\/)*/g;\n\nvar ref = Object.prototype;\nvar hasOwnProperty = ref.hasOwnProperty;\nvar toString = ref.toString;\n\nvar hasOwn = Object.hasOwn || (function (obj, propName) { return (\n  hasOwnProperty.call(obj, propName)\n); });\n\nvar isArray = Array.isArray || (function (obj) { return (\n  toString.call(obj) === \"[object Array]\"\n); });\n\nvar regexpCache = Object.create(null);\n\nfunction wordsRegexp(words) {\n  return regexpCache[words] || (regexpCache[words] = new RegExp(\"^(?:\" + words.replace(/ /g, \"|\") + \")$\"))\n}\n\nfunction codePointToString(code) {\n  // UTF-16 Decoding\n  if (code <= 0xFFFF) { return String.fromCharCode(code) }\n  code -= 0x10000;\n  return String.fromCharCode((code >> 10) + 0xD800, (code & 1023) + 0xDC00)\n}\n\nvar loneSurrogate = /(?:[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])/;\n\n// These are used when `options.locations` is on, for the\n// `startLoc` and `endLoc` properties.\n\nvar Position = function Position(line, col) {\n  this.line = line;\n  this.column = col;\n};\n\nPosition.prototype.offset = function offset (n) {\n  return new Position(this.line, this.column + n)\n};\n\nvar SourceLocation = function SourceLocation(p, start, end) {\n  this.start = start;\n  this.end = end;\n  if (p.sourceFile !== null) { this.source = p.sourceFile; }\n};\n\n// The `getLineInfo` function is mostly useful when the\n// `locations` option is off (for performance reasons) and you\n// want to find the line/column position for a given character\n// offset. `input` should be the code string that the offset refers\n// into.\n\nfunction getLineInfo(input, offset) {\n  for (var line = 1, cur = 0;;) {\n    var nextBreak = nextLineBreak(input, cur, offset);\n    if (nextBreak < 0) { return new Position(line, offset - cur) }\n    ++line;\n    cur = nextBreak;\n  }\n}\n\n// A second argument must be given to configure the parser process.\n// These options are recognized (only `ecmaVersion` is required):\n\nvar defaultOptions = {\n  // `ecmaVersion` indicates the ECMAScript version to parse. Must be\n  // either 3, 5, 6 (or 2015), 7 (2016), 8 (2017), 9 (2018), 10\n  // (2019), 11 (2020), 12 (2021), 13 (2022), 14 (2023), or `\"latest\"`\n  // (the latest version the library supports). This influences\n  // support for strict mode, the set of reserved words, and support\n  // for new syntax features.\n  ecmaVersion: null,\n  // `sourceType` indicates the mode the code should be parsed in.\n  // Can be either `\"script\"` or `\"module\"`. This influences global\n  // strict mode and parsing of `import` and `export` declarations.\n  sourceType: \"script\",\n  // `onInsertedSemicolon` can be a callback that will be called when\n  // a semicolon is automatically inserted. It will be passed the\n  // position of the inserted semicolon as an offset, and if\n  // `locations` is enabled, it is given the location as a `{line,\n  // column}` object as second argument.\n  onInsertedSemicolon: null,\n  // `onTrailingComma` is similar to `onInsertedSemicolon`, but for\n  // trailing commas.\n  onTrailingComma: null,\n  // By default, reserved words are only enforced if ecmaVersion >= 5.\n  // Set `allowReserved` to a boolean value to explicitly turn this on\n  // an off. When this option has the value \"never\", reserved words\n  // and keywords can also not be used as property names.\n  allowReserved: null,\n  // When enabled, a return at the top level is not considered an\n  // error.\n  allowReturnOutsideFunction: false,\n  // When enabled, import/export statements are not constrained to\n  // appearing at the top of the program, and an import.meta expression\n  // in a script isn't considered an error.\n  allowImportExportEverywhere: false,\n  // By default, await identifiers are allowed to appear at the top-level scope only if ecmaVersion >= 2022.\n  // When enabled, await identifiers are allowed to appear at the top-level scope,\n  // but they are still not allowed in non-async functions.\n  allowAwaitOutsideFunction: null,\n  // When enabled, super identifiers are not constrained to\n  // appearing in methods and do not raise an error when they appear elsewhere.\n  allowSuperOutsideMethod: null,\n  // When enabled, hashbang directive in the beginning of file is\n  // allowed and treated as a line comment. Enabled by default when\n  // `ecmaVersion` >= 2023.\n  allowHashBang: false,\n  // By default, the parser will verify that private properties are\n  // only used in places where they are valid and have been declared.\n  // Set this to false to turn such checks off.\n  checkPrivateFields: true,\n  // When `locations` is on, `loc` properties holding objects with\n  // `start` and `end` properties in `{line, column}` form (with\n  // line being 1-based and column 0-based) will be attached to the\n  // nodes.\n  locations: false,\n  // A function can be passed as `onToken` option, which will\n  // cause Acorn to call that function with object in the same\n  // format as tokens returned from `tokenizer().getToken()`. Note\n  // that you are not allowed to call the parser from the\n  // callback\u2014that will corrupt its internal state.\n  onToken: null,\n  // A function can be passed as `onComment` option, which will\n  // cause Acorn to call that function with `(block, text, start,\n  // end)` parameters whenever a comment is skipped. `block` is a\n  // boolean indicating whether this is a block (`/* */`) comment,\n  // `text` is the content of the comment, and `start` and `end` are\n  // character offsets that denote the start and end of the comment.\n  // When the `locations` option is on, two more parameters are\n  // passed, the full `{line, column}` locations of the start and\n  // end of the comments. Note that you are not allowed to call the\n  // parser from the callback\u2014that will corrupt its internal state.\n  // When this option has an array as value, objects representing the\n  // comments are pushed to it.\n  onComment: null,\n  // Nodes have their start and end characters offsets recorded in\n  // `start` and `end` properties (directly on the node, rather than\n  // the `loc` object, which holds line/column data. To also add a\n  // [semi-standardized][range] `range` property holding a `[start,\n  // end]` array with the same numbers, set the `ranges` option to\n  // `true`.\n  //\n  // [range]: https://bugzilla.mozilla.org/show_bug.cgi?id=745678\n  ranges: false,\n  // It is possible to parse multiple files into a single AST by\n  // passing the tree produced by parsing the first file as\n  // `program` option in subsequent parses. This will add the\n  // toplevel forms of the parsed file to the `Program` (top) node\n  // of an existing parse tree.\n  program: null,\n  // When `locations` is on, you can pass this to record the source\n  // file in every node's `loc` object.\n  sourceFile: null,\n  // This value, if given, is stored in every node, whether\n  // `locations` is on or off.\n  directSourceFile: null,\n  // When enabled, parenthesized expressions are represented by\n  // (non-standard) ParenthesizedExpression nodes\n  preserveParens: false\n};\n\n// Interpret and default an options object\n\nvar warnedAboutEcmaVersion = false;\n\nfunction getOptions(opts) {\n  var options = {};\n\n  for (var opt in defaultOptions)\n    { options[opt] = opts && hasOwn(opts, opt) ? opts[opt] : defaultOptions[opt]; }\n\n  if (options.ecmaVersion === \"latest\") {\n    options.ecmaVersion = 1e8;\n  } else if (options.ecmaVersion == null) {\n    if (!warnedAboutEcmaVersion && typeof console === \"object\" && console.warn) {\n      warnedAboutEcmaVersion = true;\n      console.warn(\"Since Acorn 8.0.0, options.ecmaVersion is required.\\nDefaulting to 2020, but this will stop working in the future.\");\n    }\n    options.ecmaVersion = 11;\n  } else if (options.ecmaVersion >= 2015) {\n    options.ecmaVersion -= 2009;\n  }\n\n  if (options.allowReserved == null)\n    { options.allowReserved = options.ecmaVersion < 5; }\n\n  if (!opts || opts.allowHashBang == null)\n    { options.allowHashBang = options.ecmaVersion >= 14; }\n\n  if (isArray(options.onToken)) {\n    var tokens = options.onToken;\n    options.onToken = function (token) { return tokens.push(token); };\n  }\n  if (isArray(options.onComment))\n    { options.onComment = pushComment(options, options.onComment); }\n\n  return options\n}\n\nfunction pushComment(options, array) {\n  return function(block, text, start, end, startLoc, endLoc) {\n    var comment = {\n      type: block ? \"Block\" : \"Line\",\n      value: text,\n      start: start,\n      end: end\n    };\n    if (options.locations)\n      { comment.loc = new SourceLocation(this, startLoc, endLoc); }\n    if (options.ranges)\n      { comment.range = [start, end]; }\n    array.push(comment);\n  }\n}\n\n// Each scope gets a bitset that may contain these flags\nvar\n    SCOPE_TOP = 1,\n    SCOPE_FUNCTION = 2,\n    SCOPE_ASYNC = 4,\n    SCOPE_GENERATOR = 8,\n    SCOPE_ARROW = 16,\n    SCOPE_SIMPLE_CATCH = 32,\n    SCOPE_SUPER = 64,\n    SCOPE_DIRECT_SUPER = 128,\n    SCOPE_CLASS_STATIC_BLOCK = 256,\n    SCOPE_VAR = SCOPE_TOP | SCOPE_FUNCTION | SCOPE_CLASS_STATIC_BLOCK;\n\nfunction functionFlags(async, generator) {\n  return SCOPE_FUNCTION | (async ? SCOPE_ASYNC : 0) | (generator ? SCOPE_GENERATOR : 0)\n}\n\n// Used in checkLVal* and declareName to determine the type of a binding\nvar\n    BIND_NONE = 0, // Not a binding\n    BIND_VAR = 1, // Var-style binding\n    BIND_LEXICAL = 2, // Let- or const-style binding\n    BIND_FUNCTION = 3, // Function declaration\n    BIND_SIMPLE_CATCH = 4, // Simple (identifier pattern) catch binding\n    BIND_OUTSIDE = 5; // Special case for function names as bound inside the function\n\nvar Parser = function Parser(options, input, startPos) {\n  this.options = options = getOptions(options);\n  this.sourceFile = options.sourceFile;\n  this.keywords = wordsRegexp(keywords$1[options.ecmaVersion >= 6 ? 6 : options.sourceType === \"module\" ? \"5module\" : 5]);\n  var reserved = \"\";\n  if (options.allowReserved !== true) {\n    reserved = reservedWords[options.ecmaVersion >= 6 ? 6 : options.ecmaVersion === 5 ? 5 : 3];\n    if (options.sourceType === \"module\") { reserved += \" await\"; }\n  }\n  this.reservedWords = wordsRegexp(reserved);\n  var reservedStrict = (reserved ? reserved + \" \" : \"\") + reservedWords.strict;\n  this.reservedWordsStrict = wordsRegexp(reservedStrict);\n  this.reservedWordsStrictBind = wordsRegexp(reservedStrict + \" \" + reservedWords.strictBind);\n  this.input = String(input);\n\n  // Used to signal to callers of `readWord1` whether the word\n  // contained any escape sequences. This is needed because words with\n  // escape sequences must not be interpreted as keywords.\n  this.containsEsc = false;\n\n  // Set up token state\n\n  // The current position of the tokenizer in the input.\n  if (startPos) {\n    this.pos = startPos;\n    this.lineStart = this.input.lastIndexOf(\"\\n\", startPos - 1) + 1;\n    this.curLine = this.input.slice(0, this.lineStart).split(lineBreak).length;\n  } else {\n    this.pos = this.lineStart = 0;\n    this.curLine = 1;\n  }\n\n  // Properties of the current token:\n  // Its type\n  this.type = types$1.eof;\n  // For tokens that include more information than their type, the value\n  this.value = null;\n  // Its start and end offset\n  this.start = this.end = this.pos;\n  // And, if locations are used, the {line, column} object\n  // corresponding to those offsets\n  this.startLoc = this.endLoc = this.curPosition();\n\n  // Position information for the previous token\n  this.lastTokEndLoc = this.lastTokStartLoc = null;\n  this.lastTokStart = this.lastTokEnd = this.pos;\n\n  // The context stack is used to superficially track syntactic\n  // context to predict whether a regular expression is allowed in a\n  // given position.\n  this.context = this.initialContext();\n  this.exprAllowed = true;\n\n  // Figure out if it's a module code.\n  this.inModule = options.sourceType === \"module\";\n  this.strict = this.inModule || this.strictDirective(this.pos);\n\n  // Used to signify the start of a potential arrow function\n  this.potentialArrowAt = -1;\n  this.potentialArrowInForAwait = false;\n\n  // Positions to delayed-check that yield/await does not exist in default parameters.\n  this.yieldPos = this.awaitPos = this.awaitIdentPos = 0;\n  // Labels in scope.\n  this.labels = [];\n  // Thus-far undefined exports.\n  this.undefinedExports = Object.create(null);\n\n  // If enabled, skip leading hashbang line.\n  if (this.pos === 0 && options.allowHashBang && this.input.slice(0, 2) === \"#!\")\n    { this.skipLineComment(2); }\n\n  // Scope tracking for duplicate variable names (see scope.js)\n  this.scopeStack = [];\n  this.enterScope(SCOPE_TOP);\n\n  // For RegExp validation\n  this.regexpState = null;\n\n  // The stack of private names.\n  // Each element has two properties: 'declared' and 'used'.\n  // When it exited from the outermost class definition, all used private names must be declared.\n  this.privateNameStack = [];\n};\n\nvar prototypeAccessors = { inFunction: { configurable: true },inGenerator: { configurable: true },inAsync: { configurable: true },canAwait: { configurable: true },allowSuper: { configurable: true },allowDirectSuper: { configurable: true },treatFunctionsAsVar: { configurable: true },allowNewDotTarget: { configurable: true },inClassStaticBlock: { configurable: true } };\n\nParser.prototype.parse = function parse () {\n  var node = this.options.program || this.startNode();\n  this.nextToken();\n  return this.parseTopLevel(node)\n};\n\nprototypeAccessors.inFunction.get = function () { return (this.currentVarScope().flags & SCOPE_FUNCTION) > 0 };\n\nprototypeAccessors.inGenerator.get = function () { return (this.currentVarScope().flags & SCOPE_GENERATOR) > 0 && !this.currentVarScope().inClassFieldInit };\n\nprototypeAccessors.inAsync.get = function () { return (this.currentVarScope().flags & SCOPE_ASYNC) > 0 && !this.currentVarScope().inClassFieldInit };\n\nprototypeAccessors.canAwait.get = function () {\n  for (var i = this.scopeStack.length - 1; i >= 0; i--) {\n    var scope = this.scopeStack[i];\n    if (scope.inClassFieldInit || scope.flags & SCOPE_CLASS_STATIC_BLOCK) { return false }\n    if (scope.flags & SCOPE_FUNCTION) { return (scope.flags & SCOPE_ASYNC) > 0 }\n  }\n  return (this.inModule && this.options.ecmaVersion >= 13) || this.options.allowAwaitOutsideFunction\n};\n\nprototypeAccessors.allowSuper.get = function () {\n  var ref = this.currentThisScope();\n    var flags = ref.flags;\n    var inClassFieldInit = ref.inClassFieldInit;\n  return (flags & SCOPE_SUPER) > 0 || inClassFieldInit || this.options.allowSuperOutsideMethod\n};\n\nprototypeAccessors.allowDirectSuper.get = function () { return (this.currentThisScope().flags & SCOPE_DIRECT_SUPER) > 0 };\n\nprototypeAccessors.treatFunctionsAsVar.get = function () { return this.treatFunctionsAsVarInScope(this.currentScope()) };\n\nprototypeAccessors.allowNewDotTarget.get = function () {\n  var ref = this.currentThisScope();\n    var flags = ref.flags;\n    var inClassFieldInit = ref.inClassFieldInit;\n  return (flags & (SCOPE_FUNCTION | SCOPE_CLASS_STATIC_BLOCK)) > 0 || inClassFieldInit\n};\n\nprototypeAccessors.inClassStaticBlock.get = function () {\n  return (this.currentVarScope().flags & SCOPE_CLASS_STATIC_BLOCK) > 0\n};\n\nParser.extend = function extend () {\n    var plugins = [], len = arguments.length;\n    while ( len-- ) plugins[ len ] = arguments[ len ];\n\n  var cls = this;\n  for (var i = 0; i < plugins.length; i++) { cls = plugins[i](cls); }\n  return cls\n};\n\nParser.parse = function parse (input, options) {\n  return new this(options, input).parse()\n};\n\nParser.parseExpressionAt = function parseExpressionAt (input, pos, options) {\n  var parser = new this(options, input, pos);\n  parser.nextToken();\n  return parser.parseExpression()\n};\n\nParser.tokenizer = function tokenizer (input, options) {\n  return new this(options, input)\n};\n\nObject.defineProperties( Parser.prototype, prototypeAccessors );\n\nvar pp$9 = Parser.prototype;\n\n// ## Parser utilities\n\nvar literal = /^(?:'((?:\\\\.|[^'\\\\])*?)'|\"((?:\\\\.|[^\"\\\\])*?)\")/;\npp$9.strictDirective = function(start) {\n  if (this.options.ecmaVersion < 5) { return false }\n  for (;;) {\n    // Try to find string literal.\n    skipWhiteSpace.lastIndex = start;\n    start += skipWhiteSpace.exec(this.input)[0].length;\n    var match = literal.exec(this.input.slice(start));\n    if (!match) { return false }\n    if ((match[1] || match[2]) === \"use strict\") {\n      skipWhiteSpace.lastIndex = start + match[0].length;\n      var spaceAfter = skipWhiteSpace.exec(this.input), end = spaceAfter.index + spaceAfter[0].length;\n      var next = this.input.charAt(end);\n      return next === \";\" || next === \"}\" ||\n        (lineBreak.test(spaceAfter[0]) &&\n         !(/[(`.[+\\-/*%<>=,?^&]/.test(next) || next === \"!\" && this.input.charAt(end + 1) === \"=\"))\n    }\n    start += match[0].length;\n\n    // Skip semicolon, if any.\n    skipWhiteSpace.lastIndex = start;\n    start += skipWhiteSpace.exec(this.input)[0].length;\n    if (this.input[start] === \";\")\n      { start++; }\n  }\n};\n\n// Predicate that tests whether the next token is of the given\n// type, and if yes, consumes it as a side effect.\n\npp$9.eat = function(type) {\n  if (this.type === type) {\n    this.next();\n    return true\n  } else {\n    return false\n  }\n};\n\n// Tests whether parsed token is a contextual keyword.\n\npp$9.isContextual = function(name) {\n  return this.type === types$1.name && this.value === name && !this.containsEsc\n};\n\n// Consumes contextual keyword if possible.\n\npp$9.eatContextual = function(name) {\n  if (!this.isContextual(name)) { return false }\n  this.next();\n  return true\n};\n\n// Asserts that following token is given contextual keyword.\n\npp$9.expectContextual = function(name) {\n  if (!this.eatContextual(name)) { this.unexpected(); }\n};\n\n// Test whether a semicolon can be inserted at the current position.\n\npp$9.canInsertSemicolon = function() {\n  return this.type === types$1.eof ||\n    this.type === types$1.braceR ||\n    lineBreak.test(this.input.slice(this.lastTokEnd, this.start))\n};\n\npp$9.insertSemicolon = function() {\n  if (this.canInsertSemicolon()) {\n    if (this.options.onInsertedSemicolon)\n      { this.options.onInsertedSemicolon(this.lastTokEnd, this.lastTokEndLoc); }\n    return true\n  }\n};\n\n// Consume a semicolon, or, failing that, see if we are allowed to\n// pretend that there is a semicolon at this position.\n\npp$9.semicolon = function() {\n  if (!this.eat(types$1.semi) && !this.insertSemicolon()) { this.unexpected(); }\n};\n\npp$9.afterTrailingComma = function(tokType, notNext) {\n  if (this.type === tokType) {\n    if (this.options.onTrailingComma)\n      { this.options.onTrailingComma(this.lastTokStart, this.lastTokStartLoc); }\n    if (!notNext)\n      { this.next(); }\n    return true\n  }\n};\n\n// Expect a token of a given type. If found, consume it, otherwise,\n// raise an unexpected token error.\n\npp$9.expect = function(type) {\n  this.eat(type) || this.unexpected();\n};\n\n// Raise an unexpected token error.\n\npp$9.unexpected = function(pos) {\n  this.raise(pos != null ? pos : this.start, \"Unexpected token\");\n};\n\nvar DestructuringErrors = function DestructuringErrors() {\n  this.shorthandAssign =\n  this.trailingComma =\n  this.parenthesizedAssign =\n  this.parenthesizedBind =\n  this.doubleProto =\n    -1;\n};\n\npp$9.checkPatternErrors = function(refDestructuringErrors, isAssign) {\n  if (!refDestructuringErrors) { return }\n  if (refDestructuringErrors.trailingComma > -1)\n    { this.raiseRecoverable(refDestructuringErrors.trailingComma, \"Comma is not permitted after the rest element\"); }\n  var parens = isAssign ? refDestructuringErrors.parenthesizedAssign : refDestructuringErrors.parenthesizedBind;\n  if (parens > -1) { this.raiseRecoverable(parens, isAssign ? \"Assigning to rvalue\" : \"Parenthesized pattern\"); }\n};\n\npp$9.checkExpressionErrors = function(refDestructuringErrors, andThrow) {\n  if (!refDestructuringErrors) { return false }\n  var shorthandAssign = refDestructuringErrors.shorthandAssign;\n  var doubleProto = refDestructuringErrors.doubleProto;\n  if (!andThrow) { return shorthandAssign >= 0 || doubleProto >= 0 }\n  if (shorthandAssign >= 0)\n    { this.raise(shorthandAssign, \"Shorthand property assignments are valid only in destructuring patterns\"); }\n  if (doubleProto >= 0)\n    { this.raiseRecoverable(doubleProto, \"Redefinition of __proto__ property\"); }\n};\n\npp$9.checkYieldAwaitInDefaultParams = function() {\n  if (this.yieldPos && (!this.awaitPos || this.yieldPos < this.awaitPos))\n    { this.raise(this.yieldPos, \"Yield expression cannot be a default value\"); }\n  if (this.awaitPos)\n    { this.raise(this.awaitPos, \"Await expression cannot be a default value\"); }\n};\n\npp$9.isSimpleAssignTarget = function(expr) {\n  if (expr.type === \"ParenthesizedExpression\")\n    { return this.isSimpleAssignTarget(expr.expression) }\n  return expr.type === \"Identifier\" || expr.type === \"MemberExpression\"\n};\n\nvar pp$8 = Parser.prototype;\n\n// ### Statement parsing\n\n// Parse a program. Initializes the parser, reads any number of\n// statements, and wraps them in a Program node.  Optionally takes a\n// `program` argument.  If present, the statements will be appended\n// to its body instead of creating a new node.\n\npp$8.parseTopLevel = function(node) {\n  var exports = Object.create(null);\n  if (!node.body) { node.body = []; }\n  while (this.type !== types$1.eof) {\n    var stmt = this.parseStatement(null, true, exports);\n    node.body.push(stmt);\n  }\n  if (this.inModule)\n    { for (var i = 0, list = Object.keys(this.undefinedExports); i < list.length; i += 1)\n      {\n        var name = list[i];\n\n        this.raiseRecoverable(this.undefinedExports[name].start, (\"Export '\" + name + \"' is not defined\"));\n      } }\n  this.adaptDirectivePrologue(node.body);\n  this.next();\n  node.sourceType = this.options.sourceType;\n  return this.finishNode(node, \"Program\")\n};\n\nvar loopLabel = {kind: \"loop\"}, switchLabel = {kind: \"switch\"};\n\npp$8.isLet = function(context) {\n  if (this.options.ecmaVersion < 6 || !this.isContextual(\"let\")) { return false }\n  skipWhiteSpace.lastIndex = this.pos;\n  var skip = skipWhiteSpace.exec(this.input);\n  var next = this.pos + skip[0].length, nextCh = this.input.charCodeAt(next);\n  // For ambiguous cases, determine if a LexicalDeclaration (or only a\n  // Statement) is allowed here. If context is not empty then only a Statement\n  // is allowed. However, `let [` is an explicit negative lookahead for\n  // ExpressionStatement, so special-case it first.\n  if (nextCh === 91 || nextCh === 92) { return true } // '[', '/'\n  if (context) { return false }\n\n  if (nextCh === 123 || nextCh > 0xd7ff && nextCh < 0xdc00) { return true } // '{', astral\n  if (isIdentifierStart(nextCh, true)) {\n    var pos = next + 1;\n    while (isIdentifierChar(nextCh = this.input.charCodeAt(pos), true)) { ++pos; }\n    if (nextCh === 92 || nextCh > 0xd7ff && nextCh < 0xdc00) { return true }\n    var ident = this.input.slice(next, pos);\n    if (!keywordRelationalOperator.test(ident)) { return true }\n  }\n  return false\n};\n\n// check 'async [no LineTerminator here] function'\n// - 'async /*foo*/ function' is OK.\n// - 'async /*\\n*/ function' is invalid.\npp$8.isAsyncFunction = function() {\n  if (this.options.ecmaVersion < 8 || !this.isContextual(\"async\"))\n    { return false }\n\n  skipWhiteSpace.lastIndex = this.pos;\n  var skip = skipWhiteSpace.exec(this.input);\n  var next = this.pos + skip[0].length, after;\n  return !lineBreak.test(this.input.slice(this.pos, next)) &&\n    this.input.slice(next, next + 8) === \"function\" &&\n    (next + 8 === this.input.length ||\n     !(isIdentifierChar(after = this.input.charCodeAt(next + 8)) || after > 0xd7ff && after < 0xdc00))\n};\n\n// Parse a single statement.\n//\n// If expecting a statement and finding a slash operator, parse a\n// regular expression literal. This is to handle cases like\n// `if (foo) /blah/.exec(foo)`, where looking at the previous token\n// does not help.\n\npp$8.parseStatement = function(context, topLevel, exports) {\n  var starttype = this.type, node = this.startNode(), kind;\n\n  if (this.isLet(context)) {\n    starttype = types$1._var;\n    kind = \"let\";\n  }\n\n  // Most types of statements are recognized by the keyword they\n  // start with. Many are trivial to parse, some require a bit of\n  // complexity.\n\n  switch (starttype) {\n  case types$1._break: case types$1._continue: return this.parseBreakContinueStatement(node, starttype.keyword)\n  case types$1._debugger: return this.parseDebuggerStatement(node)\n  case types$1._do: return this.parseDoStatement(node)\n  case types$1._for: return this.parseForStatement(node)\n  case types$1._function:\n    // Function as sole body of either an if statement or a labeled statement\n    // works, but not when it is part of a labeled statement that is the sole\n    // body of an if statement.\n    if ((context && (this.strict || context !== \"if\" && context !== \"label\")) && this.options.ecmaVersion >= 6) { this.unexpected(); }\n    return this.parseFunctionStatement(node, false, !context)\n  case types$1._class:\n    if (context) { this.unexpected(); }\n    return this.parseClass(node, true)\n  case types$1._if: return this.parseIfStatement(node)\n  case types$1._return: return this.parseReturnStatement(node)\n  case types$1._switch: return this.parseSwitchStatement(node)\n  case types$1._throw: return this.parseThrowStatement(node)\n  case types$1._try: return this.parseTryStatement(node)\n  case types$1._const: case types$1._var:\n    kind = kind || this.value;\n    if (context && kind !== \"var\") { this.unexpected(); }\n    return this.parseVarStatement(node, kind)\n  case types$1._while: return this.parseWhileStatement(node)\n  case types$1._with: return this.parseWithStatement(node)\n  case types$1.braceL: return this.parseBlock(true, node)\n  case types$1.semi: return this.parseEmptyStatement(node)\n  case types$1._export:\n  case types$1._import:\n    if (this.options.ecmaVersion > 10 && starttype === types$1._import) {\n      skipWhiteSpace.lastIndex = this.pos;\n      var skip = skipWhiteSpace.exec(this.input);\n      var next = this.pos + skip[0].length, nextCh = this.input.charCodeAt(next);\n      if (nextCh === 40 || nextCh === 46) // '(' or '.'\n        { return this.parseExpressionStatement(node, this.parseExpression()) }\n    }\n\n    if (!this.options.allowImportExportEverywhere) {\n      if (!topLevel)\n        { this.raise(this.start, \"'import' and 'export' may only appear at the top level\"); }\n      if (!this.inModule)\n        { this.raise(this.start, \"'import' and 'export' may appear only with 'sourceType: module'\"); }\n    }\n    return starttype === types$1._import ? this.parseImport(node) : this.parseExport(node, exports)\n\n    // If the statement does not start with a statement keyword or a\n    // brace, it's an ExpressionStatement or LabeledStatement. We\n    // simply start parsing an expression, and afterwards, if the\n    // next token is a colon and the expression was a simple\n    // Identifier node, we switch to interpreting it as a label.\n  default:\n    if (this.isAsyncFunction()) {\n      if (context) { this.unexpected(); }\n      this.next();\n      return this.parseFunctionStatement(node, true, !context)\n    }\n\n    var maybeName = this.value, expr = this.parseExpression();\n    if (starttype === types$1.name && expr.type === \"Identifier\" && this.eat(types$1.colon))\n      { return this.parseLabeledStatement(node, maybeName, expr, context) }\n    else { return this.parseExpressionStatement(node, expr) }\n  }\n};\n\npp$8.parseBreakContinueStatement = function(node, keyword) {\n  var isBreak = keyword === \"break\";\n  this.next();\n  if (this.eat(types$1.semi) || this.insertSemicolon()) { node.label = null; }\n  else if (this.type !== types$1.name) { this.unexpected(); }\n  else {\n    node.label = this.parseIdent();\n    this.semicolon();\n  }\n\n  // Verify that there is an actual destination to break or\n  // continue to.\n  var i = 0;\n  for (; i < this.labels.length; ++i) {\n    var lab = this.labels[i];\n    if (node.label == null || lab.name === node.label.name) {\n      if (lab.kind != null && (isBreak || lab.kind === \"loop\")) { break }\n      if (node.label && isBreak) { break }\n    }\n  }\n  if (i === this.labels.length) { this.raise(node.start, \"Unsyntactic \" + keyword); }\n  return this.finishNode(node, isBreak ? \"BreakStatement\" : \"ContinueStatement\")\n};\n\npp$8.parseDebuggerStatement = function(node) {\n  this.next();\n  this.semicolon();\n  return this.finishNode(node, \"DebuggerStatement\")\n};\n\npp$8.parseDoStatement = function(node) {\n  this.next();\n  this.labels.push(loopLabel);\n  node.body = this.parseStatement(\"do\");\n  this.labels.pop();\n  this.expect(types$1._while);\n  node.test = this.parseParenExpression();\n  if (this.options.ecmaVersion >= 6)\n    { this.eat(types$1.semi); }\n  else\n    { this.semicolon(); }\n  return this.finishNode(node, \"DoWhileStatement\")\n};\n\n// Disambiguating between a `for` and a `for`/`in` or `for`/`of`\n// loop is non-trivial. Basically, we have to parse the init `var`\n// statement or expression, disallowing the `in` operator (see\n// the second parameter to `parseExpression`), and then check\n// whether the next token is `in` or `of`. When there is no init\n// part (semicolon immediately after the opening parenthesis), it\n// is a regular `for` loop.\n\npp$8.parseForStatement = function(node) {\n  this.next();\n  var awaitAt = (this.options.ecmaVersion >= 9 && this.canAwait && this.eatContextual(\"await\")) ? this.lastTokStart : -1;\n  this.labels.push(loopLabel);\n  this.enterScope(0);\n  this.expect(types$1.parenL);\n  if (this.type === types$1.semi) {\n    if (awaitAt > -1) { this.unexpected(awaitAt); }\n    return this.parseFor(node, null)\n  }\n  var isLet = this.isLet();\n  if (this.type === types$1._var || this.type === types$1._const || isLet) {\n    var init$1 = this.startNode(), kind = isLet ? \"let\" : this.value;\n    this.next();\n    this.parseVar(init$1, true, kind);\n    this.finishNode(init$1, \"VariableDeclaration\");\n    if ((this.type === types$1._in || (this.options.ecmaVersion >= 6 && this.isContextual(\"of\"))) && init$1.declarations.length === 1) {\n      if (this.options.ecmaVersion >= 9) {\n        if (this.type === types$1._in) {\n          if (awaitAt > -1) { this.unexpected(awaitAt); }\n        } else { node.await = awaitAt > -1; }\n      }\n      return this.parseForIn(node, init$1)\n    }\n    if (awaitAt > -1) { this.unexpected(awaitAt); }\n    return this.parseFor(node, init$1)\n  }\n  var startsWithLet = this.isContextual(\"let\"), isForOf = false;\n  var refDestructuringErrors = new DestructuringErrors;\n  var init = this.parseExpression(awaitAt > -1 ? \"await\" : true, refDestructuringErrors);\n  if (this.type === types$1._in || (isForOf = this.options.ecmaVersion >= 6 && this.isContextual(\"of\"))) {\n    if (this.options.ecmaVersion >= 9) {\n      if (this.type === types$1._in) {\n        if (awaitAt > -1) { this.unexpected(awaitAt); }\n      } else { node.await = awaitAt > -1; }\n    }\n    if (startsWithLet && isForOf) { this.raise(init.start, \"The left-hand side of a for-of loop may not start with 'let'.\"); }\n    this.toAssignable(init, false, refDestructuringErrors);\n    this.checkLValPattern(init);\n    return this.parseForIn(node, init)\n  } else {\n    this.checkExpressionErrors(refDestructuringErrors, true);\n  }\n  if (awaitAt > -1) { this.unexpected(awaitAt); }\n  return this.parseFor(node, init)\n};\n\npp$8.parseFunctionStatement = function(node, isAsync, declarationPosition) {\n  this.next();\n  return this.parseFunction(node, FUNC_STATEMENT | (declarationPosition ? 0 : FUNC_HANGING_STATEMENT), false, isAsync)\n};\n\npp$8.parseIfStatement = function(node) {\n  this.next();\n  node.test = this.parseParenExpression();\n  // allow function declarations in branches, but only in non-strict mode\n  node.consequent = this.parseStatement(\"if\");\n  node.alternate = this.eat(types$1._else) ? this.parseStatement(\"if\") : null;\n  return this.finishNode(node, \"IfStatement\")\n};\n\npp$8.parseReturnStatement = function(node) {\n  if (!this.inFunction && !this.options.allowReturnOutsideFunction)\n    { this.raise(this.start, \"'return' outside of function\"); }\n  this.next();\n\n  // In `return` (and `break`/`continue`), the keywords with\n  // optional arguments, we eagerly look for a semicolon or the\n  // possibility to insert one.\n\n  if (this.eat(types$1.semi) || this.insertSemicolon()) { node.argument = null; }\n  else { node.argument = this.parseExpression(); this.semicolon(); }\n  return this.finishNode(node, \"ReturnStatement\")\n};\n\npp$8.parseSwitchStatement = function(node) {\n  this.next();\n  node.discriminant = this.parseParenExpression();\n  node.cases = [];\n  this.expect(types$1.braceL);\n  this.labels.push(switchLabel);\n  this.enterScope(0);\n\n  // Statements under must be grouped (by label) in SwitchCase\n  // nodes. `cur` is used to keep the node that we are currently\n  // adding statements to.\n\n  var cur;\n  for (var sawDefault = false; this.type !== types$1.braceR;) {\n    if (this.type === types$1._case || this.type === types$1._default) {\n      var isCase = this.type === types$1._case;\n      if (cur) { this.finishNode(cur, \"SwitchCase\"); }\n      node.cases.push(cur = this.startNode());\n      cur.consequent = [];\n      this.next();\n      if (isCase) {\n        cur.test = this.parseExpression();\n      } else {\n        if (sawDefault) { this.raiseRecoverable(this.lastTokStart, \"Multiple default clauses\"); }\n        sawDefault = true;\n        cur.test = null;\n      }\n      this.expect(types$1.colon);\n    } else {\n      if (!cur) { this.unexpected(); }\n      cur.consequent.push(this.parseStatement(null));\n    }\n  }\n  this.exitScope();\n  if (cur) { this.finishNode(cur, \"SwitchCase\"); }\n  this.next(); // Closing brace\n  this.labels.pop();\n  return this.finishNode(node, \"SwitchStatement\")\n};\n\npp$8.parseThrowStatement = function(node) {\n  this.next();\n  if (lineBreak.test(this.input.slice(this.lastTokEnd, this.start)))\n    { this.raise(this.lastTokEnd, \"Illegal newline after throw\"); }\n  node.argument = this.parseExpression();\n  this.semicolon();\n  return this.finishNode(node, \"ThrowStatement\")\n};\n\n// Reused empty array added for node fields that are always empty.\n\nvar empty$1 = [];\n\npp$8.parseCatchClauseParam = function() {\n  var param = this.parseBindingAtom();\n  var simple = param.type === \"Identifier\";\n  this.enterScope(simple ? SCOPE_SIMPLE_CATCH : 0);\n  this.checkLValPattern(param, simple ? BIND_SIMPLE_CATCH : BIND_LEXICAL);\n  this.expect(types$1.parenR);\n\n  return param\n};\n\npp$8.parseTryStatement = function(node) {\n  this.next();\n  node.block = this.parseBlock();\n  node.handler = null;\n  if (this.type === types$1._catch) {\n    var clause = this.startNode();\n    this.next();\n    if (this.eat(types$1.parenL)) {\n      clause.param = this.parseCatchClauseParam();\n    } else {\n      if (this.options.ecmaVersion < 10) { this.unexpected(); }\n      clause.param = null;\n      this.enterScope(0);\n    }\n    clause.body = this.parseBlock(false);\n    this.exitScope();\n    node.handler = this.finishNode(clause, \"CatchClause\");\n  }\n  node.finalizer = this.eat(types$1._finally) ? this.parseBlock() : null;\n  if (!node.handler && !node.finalizer)\n    { this.raise(node.start, \"Missing catch or finally clause\"); }\n  return this.finishNode(node, \"TryStatement\")\n};\n\npp$8.parseVarStatement = function(node, kind, allowMissingInitializer) {\n  this.next();\n  this.parseVar(node, false, kind, allowMissingInitializer);\n  this.semicolon();\n  return this.finishNode(node, \"VariableDeclaration\")\n};\n\npp$8.parseWhileStatement = function(node) {\n  this.next();\n  node.test = this.parseParenExpression();\n  this.labels.push(loopLabel);\n  node.body = this.parseStatement(\"while\");\n  this.labels.pop();\n  return this.finishNode(node, \"WhileStatement\")\n};\n\npp$8.parseWithStatement = function(node) {\n  if (this.strict) { this.raise(this.start, \"'with' in strict mode\"); }\n  this.next();\n  node.object = this.parseParenExpression();\n  node.body = this.parseStatement(\"with\");\n  return this.finishNode(node, \"WithStatement\")\n};\n\npp$8.parseEmptyStatement = function(node) {\n  this.next();\n  return this.finishNode(node, \"EmptyStatement\")\n};\n\npp$8.parseLabeledStatement = function(node, maybeName, expr, context) {\n  for (var i$1 = 0, list = this.labels; i$1 < list.length; i$1 += 1)\n    {\n    var label = list[i$1];\n\n    if (label.name === maybeName)\n      { this.raise(expr.start, \"Label '\" + maybeName + \"' is already declared\");\n  } }\n  var kind = this.type.isLoop ? \"loop\" : this.type === types$1._switch ? \"switch\" : null;\n  for (var i = this.labels.length - 1; i >= 0; i--) {\n    var label$1 = this.labels[i];\n    if (label$1.statementStart === node.start) {\n      // Update information about previous labels on this node\n      label$1.statementStart = this.start;\n      label$1.kind = kind;\n    } else { break }\n  }\n  this.labels.push({name: maybeName, kind: kind, statementStart: this.start});\n  node.body = this.parseStatement(context ? context.indexOf(\"label\") === -1 ? context + \"label\" : context : \"label\");\n  this.labels.pop();\n  node.label = expr;\n  return this.finishNode(node, \"LabeledStatement\")\n};\n\npp$8.parseExpressionStatement = function(node, expr) {\n  node.expression = expr;\n  this.semicolon();\n  return this.finishNode(node, \"ExpressionStatement\")\n};\n\n// Parse a semicolon-enclosed block of statements, handling `\"use\n// strict\"` declarations when `allowStrict` is true (used for\n// function bodies).\n\npp$8.parseBlock = function(createNewLexicalScope, node, exitStrict) {\n  if ( createNewLexicalScope === void 0 ) createNewLexicalScope = true;\n  if ( node === void 0 ) node = this.startNode();\n\n  node.body = [];\n  this.expect(types$1.braceL);\n  if (createNewLexicalScope) { this.enterScope(0); }\n  while (this.type !== types$1.braceR) {\n    var stmt = this.parseStatement(null);\n    node.body.push(stmt);\n  }\n  if (exitStrict) { this.strict = false; }\n  this.next();\n  if (createNewLexicalScope) { this.exitScope(); }\n  return this.finishNode(node, \"BlockStatement\")\n};\n\n// Parse a regular `for` loop. The disambiguation code in\n// `parseStatement` will already have parsed the init statement or\n// expression.\n\npp$8.parseFor = function(node, init) {\n  node.init = init;\n  this.expect(types$1.semi);\n  node.test = this.type === types$1.semi ? null : this.parseExpression();\n  this.expect(types$1.semi);\n  node.update = this.type === types$1.parenR ? null : this.parseExpression();\n  this.expect(types$1.parenR);\n  node.body = this.parseStatement(\"for\");\n  this.exitScope();\n  this.labels.pop();\n  return this.finishNode(node, \"ForStatement\")\n};\n\n// Parse a `for`/`in` and `for`/`of` loop, which are almost\n// same from parser's perspective.\n\npp$8.parseForIn = function(node, init) {\n  var isForIn = this.type === types$1._in;\n  this.next();\n\n  if (\n    init.type === \"VariableDeclaration\" &&\n    init.declarations[0].init != null &&\n    (\n      !isForIn ||\n      this.options.ecmaVersion < 8 ||\n      this.strict ||\n      init.kind !== \"var\" ||\n      init.declarations[0].id.type !== \"Identifier\"\n    )\n  ) {\n    this.raise(\n      init.start,\n      ((isForIn ? \"for-in\" : \"for-of\") + \" loop variable declaration may not have an initializer\")\n    );\n  }\n  node.left = init;\n  node.right = isForIn ? this.parseExpression() : this.parseMaybeAssign();\n  this.expect(types$1.parenR);\n  node.body = this.parseStatement(\"for\");\n  this.exitScope();\n  this.labels.pop();\n  return this.finishNode(node, isForIn ? \"ForInStatement\" : \"ForOfStatement\")\n};\n\n// Parse a list of variable declarations.\n\npp$8.parseVar = function(node, isFor, kind, allowMissingInitializer) {\n  node.declarations = [];\n  node.kind = kind;\n  for (;;) {\n    var decl = this.startNode();\n    this.parseVarId(decl, kind);\n    if (this.eat(types$1.eq)) {\n      decl.init = this.parseMaybeAssign(isFor);\n    } else if (!allowMissingInitializer && kind === \"const\" && !(this.type === types$1._in || (this.options.ecmaVersion >= 6 && this.isContextual(\"of\")))) {\n      this.unexpected();\n    } else if (!allowMissingInitializer && decl.id.type !== \"Identifier\" && !(isFor && (this.type === types$1._in || this.isContextual(\"of\")))) {\n      this.raise(this.lastTokEnd, \"Complex binding patterns require an initialization value\");\n    } else {\n      decl.init = null;\n    }\n    node.declarations.push(this.finishNode(decl, \"VariableDeclarator\"));\n    if (!this.eat(types$1.comma)) { break }\n  }\n  return node\n};\n\npp$8.parseVarId = function(decl, kind) {\n  decl.id = this.parseBindingAtom();\n  this.checkLValPattern(decl.id, kind === \"var\" ? BIND_VAR : BIND_LEXICAL, false);\n};\n\nvar FUNC_STATEMENT = 1, FUNC_HANGING_STATEMENT = 2, FUNC_NULLABLE_ID = 4;\n\n// Parse a function declaration or literal (depending on the\n// `statement & FUNC_STATEMENT`).\n\n// Remove `allowExpressionBody` for 7.0.0, as it is only called with false\npp$8.parseFunction = function(node, statement, allowExpressionBody, isAsync, forInit) {\n  this.initFunction(node);\n  if (this.options.ecmaVersion >= 9 || this.options.ecmaVersion >= 6 && !isAsync) {\n    if (this.type === types$1.star && (statement & FUNC_HANGING_STATEMENT))\n      { this.unexpected(); }\n    node.generator = this.eat(types$1.star);\n  }\n  if (this.options.ecmaVersion >= 8)\n    { node.async = !!isAsync; }\n\n  if (statement & FUNC_STATEMENT) {\n    node.id = (statement & FUNC_NULLABLE_ID) && this.type !== types$1.name ? null : this.parseIdent();\n    if (node.id && !(statement & FUNC_HANGING_STATEMENT))\n      // If it is a regular function declaration in sloppy mode, then it is\n      // subject to Annex B semantics (BIND_FUNCTION). Otherwise, the binding\n      // mode depends on properties of the current scope (see\n      // treatFunctionsAsVar).\n      { this.checkLValSimple(node.id, (this.strict || node.generator || node.async) ? this.treatFunctionsAsVar ? BIND_VAR : BIND_LEXICAL : BIND_FUNCTION); }\n  }\n\n  var oldYieldPos = this.yieldPos, oldAwaitPos = this.awaitPos, oldAwaitIdentPos = this.awaitIdentPos;\n  this.yieldPos = 0;\n  this.awaitPos = 0;\n  this.awaitIdentPos = 0;\n  this.enterScope(functionFlags(node.async, node.generator));\n\n  if (!(statement & FUNC_STATEMENT))\n    { node.id = this.type === types$1.name ? this.parseIdent() : null; }\n\n  this.parseFunctionParams(node);\n  this.parseFunctionBody(node, allowExpressionBody, false, forInit);\n\n  this.yieldPos = oldYieldPos;\n  this.awaitPos = oldAwaitPos;\n  this.awaitIdentPos = oldAwaitIdentPos;\n  return this.finishNode(node, (statement & FUNC_STATEMENT) ? \"FunctionDeclaration\" : \"FunctionExpression\")\n};\n\npp$8.parseFunctionParams = function(node) {\n  this.expect(types$1.parenL);\n  node.params = this.parseBindingList(types$1.parenR, false, this.options.ecmaVersion >= 8);\n  this.checkYieldAwaitInDefaultParams();\n};\n\n// Parse a class declaration or literal (depending on the\n// `isStatement` parameter).\n\npp$8.parseClass = function(node, isStatement) {\n  this.next();\n\n  // ecma-262 14.6 Class Definitions\n  // A class definition is always strict mode code.\n  var oldStrict = this.strict;\n  this.strict = true;\n\n  this.parseClassId(node, isStatement);\n  this.parseClassSuper(node);\n  var privateNameMap = this.enterClassBody();\n  var classBody = this.startNode();\n  var hadConstructor = false;\n  classBody.body = [];\n  this.expect(types$1.braceL);\n  while (this.type !== types$1.braceR) {\n    var element = this.parseClassElement(node.superClass !== null);\n    if (element) {\n      classBody.body.push(element);\n      if (element.type === \"MethodDefinition\" && element.kind === \"constructor\") {\n        if (hadConstructor) { this.raiseRecoverable(element.start, \"Duplicate constructor in the same class\"); }\n        hadConstructor = true;\n      } else if (element.key && element.key.type === \"PrivateIdentifier\" && isPrivateNameConflicted(privateNameMap, element)) {\n        this.raiseRecoverable(element.key.start, (\"Identifier '#\" + (element.key.name) + \"' has already been declared\"));\n      }\n    }\n  }\n  this.strict = oldStrict;\n  this.next();\n  node.body = this.finishNode(classBody, \"ClassBody\");\n  this.exitClassBody();\n  return this.finishNode(node, isStatement ? \"ClassDeclaration\" : \"ClassExpression\")\n};\n\npp$8.parseClassElement = function(constructorAllowsSuper) {\n  if (this.eat(types$1.semi)) { return null }\n\n  var ecmaVersion = this.options.ecmaVersion;\n  var node = this.startNode();\n  var keyName = \"\";\n  var isGenerator = false;\n  var isAsync = false;\n  var kind = \"method\";\n  var isStatic = false;\n\n  if (this.eatContextual(\"static\")) {\n    // Parse static init block\n    if (ecmaVersion >= 13 && this.eat(types$1.braceL)) {\n      this.parseClassStaticBlock(node);\n      return node\n    }\n    if (this.isClassElementNameStart() || this.type === types$1.star) {\n      isStatic = true;\n    } else {\n      keyName = \"static\";\n    }\n  }\n  node.static = isStatic;\n  if (!keyName && ecmaVersion >= 8 && this.eatContextual(\"async\")) {\n    if ((this.isClassElementNameStart() || this.type === types$1.star) && !this.canInsertSemicolon()) {\n      isAsync = true;\n    } else {\n      keyName = \"async\";\n    }\n  }\n  if (!keyName && (ecmaVersion >= 9 || !isAsync) && this.eat(types$1.star)) {\n    isGenerator = true;\n  }\n  if (!keyName && !isAsync && !isGenerator) {\n    var lastValue = this.value;\n    if (this.eatContextual(\"get\") || this.eatContextual(\"set\")) {\n      if (this.isClassElementNameStart()) {\n        kind = lastValue;\n      } else {\n        keyName = lastValue;\n      }\n    }\n  }\n\n  // Parse element name\n  if (keyName) {\n    // 'async', 'get', 'set', or 'static' were not a keyword contextually.\n    // The last token is any of those. Make it the element name.\n    node.computed = false;\n    node.key = this.startNodeAt(this.lastTokStart, this.lastTokStartLoc);\n    node.key.name = keyName;\n    this.finishNode(node.key, \"Identifier\");\n  } else {\n    this.parseClassElementName(node);\n  }\n\n  // Parse element value\n  if (ecmaVersion < 13 || this.type === types$1.parenL || kind !== \"method\" || isGenerator || isAsync) {\n    var isConstructor = !node.static && checkKeyName(node, \"constructor\");\n    var allowsDirectSuper = isConstructor && constructorAllowsSuper;\n    // Couldn't move this check into the 'parseClassMethod' method for backward compatibility.\n    if (isConstructor && kind !== \"method\") { this.raise(node.key.start, \"Constructor can't have get/set modifier\"); }\n    node.kind = isConstructor ? \"constructor\" : kind;\n    this.parseClassMethod(node, isGenerator, isAsync, allowsDirectSuper);\n  } else {\n    this.parseClassField(node);\n  }\n\n  return node\n};\n\npp$8.isClassElementNameStart = function() {\n  return (\n    this.type === types$1.name ||\n    this.type === types$1.privateId ||\n    this.type === types$1.num ||\n    this.type === types$1.string ||\n    this.type === types$1.bracketL ||\n    this.type.keyword\n  )\n};\n\npp$8.parseClassElementName = function(element) {\n  if (this.type === types$1.privateId) {\n    if (this.value === \"constructor\") {\n      this.raise(this.start, \"Classes can't have an element named '#constructor'\");\n    }\n    element.computed = false;\n    element.key = this.parsePrivateIdent();\n  } else {\n    this.parsePropertyName(element);\n  }\n};\n\npp$8.parseClassMethod = function(method, isGenerator, isAsync, allowsDirectSuper) {\n  // Check key and flags\n  var key = method.key;\n  if (method.kind === \"constructor\") {\n    if (isGenerator) { this.raise(key.start, \"Constructor can't be a generator\"); }\n    if (isAsync) { this.raise(key.start, \"Constructor can't be an async method\"); }\n  } else if (method.static && checkKeyName(method, \"prototype\")) {\n    this.raise(key.start, \"Classes may not have a static property named prototype\");\n  }\n\n  // Parse value\n  var value = method.value = this.parseMethod(isGenerator, isAsync, allowsDirectSuper);\n\n  // Check value\n  if (method.kind === \"get\" && value.params.length !== 0)\n    { this.raiseRecoverable(value.start, \"getter should have no params\"); }\n  if (method.kind === \"set\" && value.params.length !== 1)\n    { this.raiseRecoverable(value.start, \"setter should have exactly one param\"); }\n  if (method.kind === \"set\" && value.params[0].type === \"RestElement\")\n    { this.raiseRecoverable(value.params[0].start, \"Setter cannot use rest params\"); }\n\n  return this.finishNode(method, \"MethodDefinition\")\n};\n\npp$8.parseClassField = function(field) {\n  if (checkKeyName(field, \"constructor\")) {\n    this.raise(field.key.start, \"Classes can't have a field named 'constructor'\");\n  } else if (field.static && checkKeyName(field, \"prototype\")) {\n    this.raise(field.key.start, \"Classes can't have a static field named 'prototype'\");\n  }\n\n  if (this.eat(types$1.eq)) {\n    // To raise SyntaxError if 'arguments' exists in the initializer.\n    var scope = this.currentThisScope();\n    var inClassFieldInit = scope.inClassFieldInit;\n    scope.inClassFieldInit = true;\n    field.value = this.parseMaybeAssign();\n    scope.inClassFieldInit = inClassFieldInit;\n  } else {\n    field.value = null;\n  }\n  this.semicolon();\n\n  return this.finishNode(field, \"PropertyDefinition\")\n};\n\npp$8.parseClassStaticBlock = function(node) {\n  node.body = [];\n\n  var oldLabels = this.labels;\n  this.labels = [];\n  this.enterScope(SCOPE_CLASS_STATIC_BLOCK | SCOPE_SUPER);\n  while (this.type !== types$1.braceR) {\n    var stmt = this.parseStatement(null);\n    node.body.push(stmt);\n  }\n  this.next();\n  this.exitScope();\n  this.labels = oldLabels;\n\n  return this.finishNode(node, \"StaticBlock\")\n};\n\npp$8.parseClassId = function(node, isStatement) {\n  if (this.type === types$1.name) {\n    node.id = this.parseIdent();\n    if (isStatement)\n      { this.checkLValSimple(node.id, BIND_LEXICAL, false); }\n  } else {\n    if (isStatement === true)\n      { this.unexpected(); }\n    node.id = null;\n  }\n};\n\npp$8.parseClassSuper = function(node) {\n  node.superClass = this.eat(types$1._extends) ? this.parseExprSubscripts(null, false) : null;\n};\n\npp$8.enterClassBody = function() {\n  var element = {declared: Object.create(null), used: []};\n  this.privateNameStack.push(element);\n  return element.declared\n};\n\npp$8.exitClassBody = function() {\n  var ref = this.privateNameStack.pop();\n  var declared = ref.declared;\n  var used = ref.used;\n  if (!this.options.checkPrivateFields) { return }\n  var len = this.privateNameStack.length;\n  var parent = len === 0 ? null : this.privateNameStack[len - 1];\n  for (var i = 0; i < used.length; ++i) {\n    var id = used[i];\n    if (!hasOwn(declared, id.name)) {\n      if (parent) {\n        parent.used.push(id);\n      } else {\n        this.raiseRecoverable(id.start, (\"Private field '#\" + (id.name) + \"' must be declared in an enclosing class\"));\n      }\n    }\n  }\n};\n\nfunction isPrivateNameConflicted(privateNameMap, element) {\n  var name = element.key.name;\n  var curr = privateNameMap[name];\n\n  var next = \"true\";\n  if (element.type === \"MethodDefinition\" && (element.kind === \"get\" || element.kind === \"set\")) {\n    next = (element.static ? \"s\" : \"i\") + element.kind;\n  }\n\n  // `class { get #a(){}; static set #a(_){} }` is also conflict.\n  if (\n    curr === \"iget\" && next === \"iset\" ||\n    curr === \"iset\" && next === \"iget\" ||\n    curr === \"sget\" && next === \"sset\" ||\n    curr === \"sset\" && next === \"sget\"\n  ) {\n    privateNameMap[name] = \"true\";\n    return false\n  } else if (!curr) {\n    privateNameMap[name] = next;\n    return false\n  } else {\n    return true\n  }\n}\n\nfunction checkKeyName(node, name) {\n  var computed = node.computed;\n  var key = node.key;\n  return !computed && (\n    key.type === \"Identifier\" && key.name === name ||\n    key.type === \"Literal\" && key.value === name\n  )\n}\n\n// Parses module export declaration.\n\npp$8.parseExportAllDeclaration = function(node, exports) {\n  if (this.options.ecmaVersion >= 11) {\n    if (this.eatContextual(\"as\")) {\n      node.exported = this.parseModuleExportName();\n      this.checkExport(exports, node.exported, this.lastTokStart);\n    } else {\n      node.exported = null;\n    }\n  }\n  this.expectContextual(\"from\");\n  if (this.type !== types$1.string) { this.unexpected(); }\n  node.source = this.parseExprAtom();\n  this.semicolon();\n  return this.finishNode(node, \"ExportAllDeclaration\")\n};\n\npp$8.parseExport = function(node, exports) {\n  this.next();\n  // export * from '...'\n  if (this.eat(types$1.star)) {\n    return this.parseExportAllDeclaration(node, exports)\n  }\n  if (this.eat(types$1._default)) { // export default ...\n    this.checkExport(exports, \"default\", this.lastTokStart);\n    node.declaration = this.parseExportDefaultDeclaration();\n    return this.finishNode(node, \"ExportDefaultDeclaration\")\n  }\n  // export var|const|let|function|class ...\n  if (this.shouldParseExportStatement()) {\n    node.declaration = this.parseExportDeclaration(node);\n    if (node.declaration.type === \"VariableDeclaration\")\n      { this.checkVariableExport(exports, node.declaration.declarations); }\n    else\n      { this.checkExport(exports, node.declaration.id, node.declaration.id.start); }\n    node.specifiers = [];\n    node.source = null;\n  } else { // export { x, y as z } [from '...']\n    node.declaration = null;\n    node.specifiers = this.parseExportSpecifiers(exports);\n    if (this.eatContextual(\"from\")) {\n      if (this.type !== types$1.string) { this.unexpected(); }\n      node.source = this.parseExprAtom();\n    } else {\n      for (var i = 0, list = node.specifiers; i < list.length; i += 1) {\n        // check for keywords used as local names\n        var spec = list[i];\n\n        this.checkUnreserved(spec.local);\n        // check if export is defined\n        this.checkLocalExport(spec.local);\n\n        if (spec.local.type === \"Literal\") {\n          this.raise(spec.local.start, \"A string literal cannot be used as an exported binding without `from`.\");\n        }\n      }\n\n      node.source = null;\n    }\n    this.semicolon();\n  }\n  return this.finishNode(node, \"ExportNamedDeclaration\")\n};\n\npp$8.parseExportDeclaration = function(node) {\n  return this.parseStatement(null)\n};\n\npp$8.parseExportDefaultDeclaration = function() {\n  var isAsync;\n  if (this.type === types$1._function || (isAsync = this.isAsyncFunction())) {\n    var fNode = this.startNode();\n    this.next();\n    if (isAsync) { this.next(); }\n    return this.parseFunction(fNode, FUNC_STATEMENT | FUNC_NULLABLE_ID, false, isAsync)\n  } else if (this.type === types$1._class) {\n    var cNode = this.startNode();\n    return this.parseClass(cNode, \"nullableID\")\n  } else {\n    var declaration = this.parseMaybeAssign();\n    this.semicolon();\n    return declaration\n  }\n};\n\npp$8.checkExport = function(exports, name, pos) {\n  if (!exports) { return }\n  if (typeof name !== \"string\")\n    { name = name.type === \"Identifier\" ? name.name : name.value; }\n  if (hasOwn(exports, name))\n    { this.raiseRecoverable(pos, \"Duplicate export '\" + name + \"'\"); }\n  exports[name] = true;\n};\n\npp$8.checkPatternExport = function(exports, pat) {\n  var type = pat.type;\n  if (type === \"Identifier\")\n    { this.checkExport(exports, pat, pat.start); }\n  else if (type === \"ObjectPattern\")\n    { for (var i = 0, list = pat.properties; i < list.length; i += 1)\n      {\n        var prop = list[i];\n\n        this.checkPatternExport(exports, prop);\n      } }\n  else if (type === \"ArrayPattern\")\n    { for (var i$1 = 0, list$1 = pat.elements; i$1 < list$1.length; i$1 += 1) {\n      var elt = list$1[i$1];\n\n        if (elt) { this.checkPatternExport(exports, elt); }\n    } }\n  else if (type === \"Property\")\n    { this.checkPatternExport(exports, pat.value); }\n  else if (type === \"AssignmentPattern\")\n    { this.checkPatternExport(exports, pat.left); }\n  else if (type === \"RestElement\")\n    { this.checkPatternExport(exports, pat.argument); }\n};\n\npp$8.checkVariableExport = function(exports, decls) {\n  if (!exports) { return }\n  for (var i = 0, list = decls; i < list.length; i += 1)\n    {\n    var decl = list[i];\n\n    this.checkPatternExport(exports, decl.id);\n  }\n};\n\npp$8.shouldParseExportStatement = function() {\n  return this.type.keyword === \"var\" ||\n    this.type.keyword === \"const\" ||\n    this.type.keyword === \"class\" ||\n    this.type.keyword === \"function\" ||\n    this.isLet() ||\n    this.isAsyncFunction()\n};\n\n// Parses a comma-separated list of module exports.\n\npp$8.parseExportSpecifier = function(exports) {\n  var node = this.startNode();\n  node.local = this.parseModuleExportName();\n\n  node.exported = this.eatContextual(\"as\") ? this.parseModuleExportName() : node.local;\n  this.checkExport(\n    exports,\n    node.exported,\n    node.exported.start\n  );\n\n  return this.finishNode(node, \"ExportSpecifier\")\n};\n\npp$8.parseExportSpecifiers = function(exports) {\n  var nodes = [], first = true;\n  // export { x, y as z } [from '...']\n  this.expect(types$1.braceL);\n  while (!this.eat(types$1.braceR)) {\n    if (!first) {\n      this.expect(types$1.comma);\n      if (this.afterTrailingComma(types$1.braceR)) { break }\n    } else { first = false; }\n\n    nodes.push(this.parseExportSpecifier(exports));\n  }\n  return nodes\n};\n\n// Parses import declaration.\n\npp$8.parseImport = function(node) {\n  this.next();\n\n  // import '...'\n  if (this.type === types$1.string) {\n    node.specifiers = empty$1;\n    node.source = this.parseExprAtom();\n  } else {\n    node.specifiers = this.parseImportSpecifiers();\n    this.expectContextual(\"from\");\n    node.source = this.type === types$1.string ? this.parseExprAtom() : this.unexpected();\n  }\n  this.semicolon();\n  return this.finishNode(node, \"ImportDeclaration\")\n};\n\n// Parses a comma-separated list of module imports.\n\npp$8.parseImportSpecifier = function() {\n  var node = this.startNode();\n  node.imported = this.parseModuleExportName();\n\n  if (this.eatContextual(\"as\")) {\n    node.local = this.parseIdent();\n  } else {\n    this.checkUnreserved(node.imported);\n    node.local = node.imported;\n  }\n  this.checkLValSimple(node.local, BIND_LEXICAL);\n\n  return this.finishNode(node, \"ImportSpecifier\")\n};\n\npp$8.parseImportDefaultSpecifier = function() {\n  // import defaultObj, { x, y as z } from '...'\n  var node = this.startNode();\n  node.local = this.parseIdent();\n  this.checkLValSimple(node.local, BIND_LEXICAL);\n  return this.finishNode(node, \"ImportDefaultSpecifier\")\n};\n\npp$8.parseImportNamespaceSpecifier = function() {\n  var node = this.startNode();\n  this.next();\n  this.expectContextual(\"as\");\n  node.local = this.parseIdent();\n  this.checkLValSimple(node.local, BIND_LEXICAL);\n  return this.finishNode(node, \"ImportNamespaceSpecifier\")\n};\n\npp$8.parseImportSpecifiers = function() {\n  var nodes = [], first = true;\n  if (this.type === types$1.name) {\n    nodes.push(this.parseImportDefaultSpecifier());\n    if (!this.eat(types$1.comma)) { return nodes }\n  }\n  if (this.type === types$1.star) {\n    nodes.push(this.parseImportNamespaceSpecifier());\n    return nodes\n  }\n  this.expect(types$1.braceL);\n  while (!this.eat(types$1.braceR)) {\n    if (!first) {\n      this.expect(types$1.comma);\n      if (this.afterTrailingComma(types$1.braceR)) { break }\n    } else { first = false; }\n\n    nodes.push(this.parseImportSpecifier());\n  }\n  return nodes\n};\n\npp$8.parseModuleExportName = function() {\n  if (this.options.ecmaVersion >= 13 && this.type === types$1.string) {\n    var stringLiteral = this.parseLiteral(this.value);\n    if (loneSurrogate.test(stringLiteral.value)) {\n      this.raise(stringLiteral.start, \"An export name cannot include a lone surrogate.\");\n    }\n    return stringLiteral\n  }\n  return this.parseIdent(true)\n};\n\n// Set `ExpressionStatement#directive` property for directive prologues.\npp$8.adaptDirectivePrologue = function(statements) {\n  for (var i = 0; i < statements.length && this.isDirectiveCandidate(statements[i]); ++i) {\n    statements[i].directive = statements[i].expression.raw.slice(1, -1);\n  }\n};\npp$8.isDirectiveCandidate = function(statement) {\n  return (\n    this.options.ecmaVersion >= 5 &&\n    statement.type === \"ExpressionStatement\" &&\n    statement.expression.type === \"Literal\" &&\n    typeof statement.expression.value === \"string\" &&\n    // Reject parenthesized strings.\n    (this.input[statement.start] === \"\\\"\" || this.input[statement.start] === \"'\")\n  )\n};\n\nvar pp$7 = Parser.prototype;\n\n// Convert existing expression atom to assignable pattern\n// if possible.\n\npp$7.toAssignable = function(node, isBinding, refDestructuringErrors) {\n  if (this.options.ecmaVersion >= 6 && node) {\n    switch (node.type) {\n    case \"Identifier\":\n      if (this.inAsync && node.name === \"await\")\n        { this.raise(node.start, \"Cannot use 'await' as identifier inside an async function\"); }\n      break\n\n    case \"ObjectPattern\":\n    case \"ArrayPattern\":\n    case \"AssignmentPattern\":\n    case \"RestElement\":\n      break\n\n    case \"ObjectExpression\":\n      node.type = \"ObjectPattern\";\n      if (refDestructuringErrors) { this.checkPatternErrors(refDestructuringErrors, true); }\n      for (var i = 0, list = node.properties; i < list.length; i += 1) {\n        var prop = list[i];\n\n      this.toAssignable(prop, isBinding);\n        // Early error:\n        //   AssignmentRestProperty[Yield, Await] :\n        //     `...` DestructuringAssignmentTarget[Yield, Await]\n        //\n        //   It is a Syntax Error if |DestructuringAssignmentTarget| is an |ArrayLiteral| or an |ObjectLiteral|.\n        if (\n          prop.type === \"RestElement\" &&\n          (prop.argument.type === \"ArrayPattern\" || prop.argument.type === \"ObjectPattern\")\n        ) {\n          this.raise(prop.argument.start, \"Unexpected token\");\n        }\n      }\n      break\n\n    case \"Property\":\n      // AssignmentProperty has type === \"Property\"\n      if (node.kind !== \"init\") { this.raise(node.key.start, \"Object pattern can't contain getter or setter\"); }\n      this.toAssignable(node.value, isBinding);\n      break\n\n    case \"ArrayExpression\":\n      node.type = \"ArrayPattern\";\n      if (refDestructuringErrors) { this.checkPatternErrors(refDestructuringErrors, true); }\n      this.toAssignableList(node.elements, isBinding);\n      break\n\n    case \"SpreadElement\":\n      node.type = \"RestElement\";\n      this.toAssignable(node.argument, isBinding);\n      if (node.argument.type === \"AssignmentPattern\")\n        { this.raise(node.argument.start, \"Rest elements cannot have a default value\"); }\n      break\n\n    case \"AssignmentExpression\":\n      if (node.operator !== \"=\") { this.raise(node.left.end, \"Only '=' operator can be used for specifying default value.\"); }\n      node.type = \"AssignmentPattern\";\n      delete node.operator;\n      this.toAssignable(node.left, isBinding);\n      break\n\n    case \"ParenthesizedExpression\":\n      this.toAssignable(node.expression, isBinding, refDestructuringErrors);\n      break\n\n    case \"ChainExpression\":\n      this.raiseRecoverable(node.start, \"Optional chaining cannot appear in left-hand side\");\n      break\n\n    case \"MemberExpression\":\n      if (!isBinding) { break }\n\n    default:\n      this.raise(node.start, \"Assigning to rvalue\");\n    }\n  } else if (refDestructuringErrors) { this.checkPatternErrors(refDestructuringErrors, true); }\n  return node\n};\n\n// Convert list of expression atoms to binding list.\n\npp$7.toAssignableList = function(exprList, isBinding) {\n  var end = exprList.length;\n  for (var i = 0; i < end; i++) {\n    var elt = exprList[i];\n    if (elt) { this.toAssignable(elt, isBinding); }\n  }\n  if (end) {\n    var last = exprList[end - 1];\n    if (this.options.ecmaVersion === 6 && isBinding && last && last.type === \"RestElement\" && last.argument.type !== \"Identifier\")\n      { this.unexpected(last.argument.start); }\n  }\n  return exprList\n};\n\n// Parses spread element.\n\npp$7.parseSpread = function(refDestructuringErrors) {\n  var node = this.startNode();\n  this.next();\n  node.argument = this.parseMaybeAssign(false, refDestructuringErrors);\n  return this.finishNode(node, \"SpreadElement\")\n};\n\npp$7.parseRestBinding = function() {\n  var node = this.startNode();\n  this.next();\n\n  // RestElement inside of a function parameter must be an identifier\n  if (this.options.ecmaVersion === 6 && this.type !== types$1.name)\n    { this.unexpected(); }\n\n  node.argument = this.parseBindingAtom();\n\n  return this.finishNode(node, \"RestElement\")\n};\n\n// Parses lvalue (assignable) atom.\n\npp$7.parseBindingAtom = function() {\n  if (this.options.ecmaVersion >= 6) {\n    switch (this.type) {\n    case types$1.bracketL:\n      var node = this.startNode();\n      this.next();\n      node.elements = this.parseBindingList(types$1.bracketR, true, true);\n      return this.finishNode(node, \"ArrayPattern\")\n\n    case types$1.braceL:\n      return this.parseObj(true)\n    }\n  }\n  return this.parseIdent()\n};\n\npp$7.parseBindingList = function(close, allowEmpty, allowTrailingComma, allowModifiers) {\n  var elts = [], first = true;\n  while (!this.eat(close)) {\n    if (first) { first = false; }\n    else { this.expect(types$1.comma); }\n    if (allowEmpty && this.type === types$1.comma) {\n      elts.push(null);\n    } else if (allowTrailingComma && this.afterTrailingComma(close)) {\n      break\n    } else if (this.type === types$1.ellipsis) {\n      var rest = this.parseRestBinding();\n      this.parseBindingListItem(rest);\n      elts.push(rest);\n      if (this.type === types$1.comma) { this.raiseRecoverable(this.start, \"Comma is not permitted after the rest element\"); }\n      this.expect(close);\n      break\n    } else {\n      elts.push(this.parseAssignableListItem(allowModifiers));\n    }\n  }\n  return elts\n};\n\npp$7.parseAssignableListItem = function(allowModifiers) {\n  var elem = this.parseMaybeDefault(this.start, this.startLoc);\n  this.parseBindingListItem(elem);\n  return elem\n};\n\npp$7.parseBindingListItem = function(param) {\n  return param\n};\n\n// Parses assignment pattern around given atom if possible.\n\npp$7.parseMaybeDefault = function(startPos, startLoc, left) {\n  left = left || this.parseBindingAtom();\n  if (this.options.ecmaVersion < 6 || !this.eat(types$1.eq)) { return left }\n  var node = this.startNodeAt(startPos, startLoc);\n  node.left = left;\n  node.right = this.parseMaybeAssign();\n  return this.finishNode(node, \"AssignmentPattern\")\n};\n\n// The following three functions all verify that a node is an lvalue \u2014\n// something that can be bound, or assigned to. In order to do so, they perform\n// a variety of checks:\n//\n// - Check that none of the bound/assigned-to identifiers are reserved words.\n// - Record name declarations for bindings in the appropriate scope.\n// - Check duplicate argument names, if checkClashes is set.\n//\n// If a complex binding pattern is encountered (e.g., object and array\n// destructuring), the entire pattern is recursively checked.\n//\n// There are three versions of checkLVal*() appropriate for different\n// circumstances:\n//\n// - checkLValSimple() shall be used if the syntactic construct supports\n//   nothing other than identifiers and member expressions. Parenthesized\n//   expressions are also correctly handled. This is generally appropriate for\n//   constructs for which the spec says\n//\n//   > It is a Syntax Error if AssignmentTargetType of [the production] is not\n//   > simple.\n//\n//   It is also appropriate for checking if an identifier is valid and not\n//   defined elsewhere, like import declarations or function/class identifiers.\n//\n//   Examples where this is used include:\n//     a += \u2026;\n//     import a from '\u2026';\n//   where a is the node to be checked.\n//\n// - checkLValPattern() shall be used if the syntactic construct supports\n//   anything checkLValSimple() supports, as well as object and array\n//   destructuring patterns. This is generally appropriate for constructs for\n//   which the spec says\n//\n//   > It is a Syntax Error if [the production] is neither an ObjectLiteral nor\n//   > an ArrayLiteral and AssignmentTargetType of [the production] is not\n//   > simple.\n//\n//   Examples where this is used include:\n//     (a = \u2026);\n//     const a = \u2026;\n//     try { \u2026 } catch (a) { \u2026 }\n//   where a is the node to be checked.\n//\n// - checkLValInnerPattern() shall be used if the syntactic construct supports\n//   anything checkLValPattern() supports, as well as default assignment\n//   patterns, rest elements, and other constructs that may appear within an\n//   object or array destructuring pattern.\n//\n//   As a special case, function parameters also use checkLValInnerPattern(),\n//   as they also support defaults and rest constructs.\n//\n// These functions deliberately support both assignment and binding constructs,\n// as the logic for both is exceedingly similar. If the node is the target of\n// an assignment, then bindingType should be set to BIND_NONE. Otherwise, it\n// should be set to the appropriate BIND_* constant, like BIND_VAR or\n// BIND_LEXICAL.\n//\n// If the function is called with a non-BIND_NONE bindingType, then\n// additionally a checkClashes object may be specified to allow checking for\n// duplicate argument names. checkClashes is ignored if the provided construct\n// is an assignment (i.e., bindingType is BIND_NONE).\n\npp$7.checkLValSimple = function(expr, bindingType, checkClashes) {\n  if ( bindingType === void 0 ) bindingType = BIND_NONE;\n\n  var isBind = bindingType !== BIND_NONE;\n\n  switch (expr.type) {\n  case \"Identifier\":\n    if (this.strict && this.reservedWordsStrictBind.test(expr.name))\n      { this.raiseRecoverable(expr.start, (isBind ? \"Binding \" : \"Assigning to \") + expr.name + \" in strict mode\"); }\n    if (isBind) {\n      if (bindingType === BIND_LEXICAL && expr.name === \"let\")\n        { this.raiseRecoverable(expr.start, \"let is disallowed as a lexically bound name\"); }\n      if (checkClashes) {\n        if (hasOwn(checkClashes, expr.name))\n          { this.raiseRecoverable(expr.start, \"Argument name clash\"); }\n        checkClashes[expr.name] = true;\n      }\n      if (bindingType !== BIND_OUTSIDE) { this.declareName(expr.name, bindingType, expr.start); }\n    }\n    break\n\n  case \"ChainExpression\":\n    this.raiseRecoverable(expr.start, \"Optional chaining cannot appear in left-hand side\");\n    break\n\n  case \"MemberExpression\":\n    if (isBind) { this.raiseRecoverable(expr.start, \"Binding member expression\"); }\n    break\n\n  case \"ParenthesizedExpression\":\n    if (isBind) { this.raiseRecoverable(expr.start, \"Binding parenthesized expression\"); }\n    return this.checkLValSimple(expr.expression, bindingType, checkClashes)\n\n  default:\n    this.raise(expr.start, (isBind ? \"Binding\" : \"Assigning to\") + \" rvalue\");\n  }\n};\n\npp$7.checkLValPattern = function(expr, bindingType, checkClashes) {\n  if ( bindingType === void 0 ) bindingType = BIND_NONE;\n\n  switch (expr.type) {\n  case \"ObjectPattern\":\n    for (var i = 0, list = expr.properties; i < list.length; i += 1) {\n      var prop = list[i];\n\n    this.checkLValInnerPattern(prop, bindingType, checkClashes);\n    }\n    break\n\n  case \"ArrayPattern\":\n    for (var i$1 = 0, list$1 = expr.elements; i$1 < list$1.length; i$1 += 1) {\n      var elem = list$1[i$1];\n\n    if (elem) { this.checkLValInnerPattern(elem, bindingType, checkClashes); }\n    }\n    break\n\n  default:\n    this.checkLValSimple(expr, bindingType, checkClashes);\n  }\n};\n\npp$7.checkLValInnerPattern = function(expr, bindingType, checkClashes) {\n  if ( bindingType === void 0 ) bindingType = BIND_NONE;\n\n  switch (expr.type) {\n  case \"Property\":\n    // AssignmentProperty has type === \"Property\"\n    this.checkLValInnerPattern(expr.value, bindingType, checkClashes);\n    break\n\n  case \"AssignmentPattern\":\n    this.checkLValPattern(expr.left, bindingType, checkClashes);\n    break\n\n  case \"RestElement\":\n    this.checkLValPattern(expr.argument, bindingType, checkClashes);\n    break\n\n  default:\n    this.checkLValPattern(expr, bindingType, checkClashes);\n  }\n};\n\n// The algorithm used to determine whether a regexp can appear at a\n// given point in the program is loosely based on sweet.js' approach.\n// See https://github.com/mozilla/sweet.js/wiki/design\n\n\nvar TokContext = function TokContext(token, isExpr, preserveSpace, override, generator) {\n  this.token = token;\n  this.isExpr = !!isExpr;\n  this.preserveSpace = !!preserveSpace;\n  this.override = override;\n  this.generator = !!generator;\n};\n\nvar types = {\n  b_stat: new TokContext(\"{\", false),\n  b_expr: new TokContext(\"{\", true),\n  b_tmpl: new TokContext(\"${\", false),\n  p_stat: new TokContext(\"(\", false),\n  p_expr: new TokContext(\"(\", true),\n  q_tmpl: new TokContext(\"`\", true, true, function (p) { return p.tryReadTemplateToken(); }),\n  f_stat: new TokContext(\"function\", false),\n  f_expr: new TokContext(\"function\", true),\n  f_expr_gen: new TokContext(\"function\", true, false, null, true),\n  f_gen: new TokContext(\"function\", false, false, null, true)\n};\n\nvar pp$6 = Parser.prototype;\n\npp$6.initialContext = function() {\n  return [types.b_stat]\n};\n\npp$6.curContext = function() {\n  return this.context[this.context.length - 1]\n};\n\npp$6.braceIsBlock = function(prevType) {\n  var parent = this.curContext();\n  if (parent === types.f_expr || parent === types.f_stat)\n    { return true }\n  if (prevType === types$1.colon && (parent === types.b_stat || parent === types.b_expr))\n    { return !parent.isExpr }\n\n  // The check for `tt.name && exprAllowed` detects whether we are\n  // after a `yield` or `of` construct. See the `updateContext` for\n  // `tt.name`.\n  if (prevType === types$1._return || prevType === types$1.name && this.exprAllowed)\n    { return lineBreak.test(this.input.slice(this.lastTokEnd, this.start)) }\n  if (prevType === types$1._else || prevType === types$1.semi || prevType === types$1.eof || prevType === types$1.parenR || prevType === types$1.arrow)\n    { return true }\n  if (prevType === types$1.braceL)\n    { return parent === types.b_stat }\n  if (prevType === types$1._var || prevType === types$1._const || prevType === types$1.name)\n    { return false }\n  return !this.exprAllowed\n};\n\npp$6.inGeneratorContext = function() {\n  for (var i = this.context.length - 1; i >= 1; i--) {\n    var context = this.context[i];\n    if (context.token === \"function\")\n      { return context.generator }\n  }\n  return false\n};\n\npp$6.updateContext = function(prevType) {\n  var update, type = this.type;\n  if (type.keyword && prevType === types$1.dot)\n    { this.exprAllowed = false; }\n  else if (update = type.updateContext)\n    { update.call(this, prevType); }\n  else\n    { this.exprAllowed = type.beforeExpr; }\n};\n\n// Used to handle edge cases when token context could not be inferred correctly during tokenization phase\n\npp$6.overrideContext = function(tokenCtx) {\n  if (this.curContext() !== tokenCtx) {\n    this.context[this.context.length - 1] = tokenCtx;\n  }\n};\n\n// Token-specific context update code\n\ntypes$1.parenR.updateContext = types$1.braceR.updateContext = function() {\n  if (this.context.length === 1) {\n    this.exprAllowed = true;\n    return\n  }\n  var out = this.context.pop();\n  if (out === types.b_stat && this.curContext().token === \"function\") {\n    out = this.context.pop();\n  }\n  this.exprAllowed = !out.isExpr;\n};\n\ntypes$1.braceL.updateContext = function(prevType) {\n  this.context.push(this.braceIsBlock(prevType) ? types.b_stat : types.b_expr);\n  this.exprAllowed = true;\n};\n\ntypes$1.dollarBraceL.updateContext = function() {\n  this.context.push(types.b_tmpl);\n  this.exprAllowed = true;\n};\n\ntypes$1.parenL.updateContext = function(prevType) {\n  var statementParens = prevType === types$1._if || prevType === types$1._for || prevType === types$1._with || prevType === types$1._while;\n  this.context.push(statementParens ? types.p_stat : types.p_expr);\n  this.exprAllowed = true;\n};\n\ntypes$1.incDec.updateContext = function() {\n  // tokExprAllowed stays unchanged\n};\n\ntypes$1._function.updateContext = types$1._class.updateContext = function(prevType) {\n  if (prevType.beforeExpr && prevType !== types$1._else &&\n      !(prevType === types$1.semi && this.curContext() !== types.p_stat) &&\n      !(prevType === types$1._return && lineBreak.test(this.input.slice(this.lastTokEnd, this.start))) &&\n      !((prevType === types$1.colon || prevType === types$1.braceL) && this.curContext() === types.b_stat))\n    { this.context.push(types.f_expr); }\n  else\n    { this.context.push(types.f_stat); }\n  this.exprAllowed = false;\n};\n\ntypes$1.colon.updateContext = function() {\n  if (this.curContext().token === \"function\") { this.context.pop(); }\n  this.exprAllowed = true;\n};\n\ntypes$1.backQuote.updateContext = function() {\n  if (this.curContext() === types.q_tmpl)\n    { this.context.pop(); }\n  else\n    { this.context.push(types.q_tmpl); }\n  this.exprAllowed = false;\n};\n\ntypes$1.star.updateContext = function(prevType) {\n  if (prevType === types$1._function) {\n    var index = this.context.length - 1;\n    if (this.context[index] === types.f_expr)\n      { this.context[index] = types.f_expr_gen; }\n    else\n      { this.context[index] = types.f_gen; }\n  }\n  this.exprAllowed = true;\n};\n\ntypes$1.name.updateContext = function(prevType) {\n  var allowed = false;\n  if (this.options.ecmaVersion >= 6 && prevType !== types$1.dot) {\n    if (this.value === \"of\" && !this.exprAllowed ||\n        this.value === \"yield\" && this.inGeneratorContext())\n      { allowed = true; }\n  }\n  this.exprAllowed = allowed;\n};\n\n// A recursive descent parser operates by defining functions for all\n// syntactic elements, and recursively calling those, each function\n// advancing the input stream and returning an AST node. Precedence\n// of constructs (for example, the fact that `!x[1]` means `!(x[1])`\n// instead of `(!x)[1]` is handled by the fact that the parser\n// function that parses unary prefix operators is called first, and\n// in turn calls the function that parses `[]` subscripts \u2014 that\n// way, it'll receive the node for `x[1]` already parsed, and wraps\n// *that* in the unary operator node.\n//\n// Acorn uses an [operator precedence parser][opp] to handle binary\n// operator precedence, because it is much more compact than using\n// the technique outlined above, which uses different, nesting\n// functions to specify precedence, for all of the ten binary\n// precedence levels that JavaScript defines.\n//\n// [opp]: http://en.wikipedia.org/wiki/Operator-precedence_parser\n\n\nvar pp$5 = Parser.prototype;\n\n// Check if property name clashes with already added.\n// Object/class getters and setters are not allowed to clash \u2014\n// either with each other or with an init property \u2014 and in\n// strict mode, init properties are also not allowed to be repeated.\n\npp$5.checkPropClash = function(prop, propHash, refDestructuringErrors) {\n  if (this.options.ecmaVersion >= 9 && prop.type === \"SpreadElement\")\n    { return }\n  if (this.options.ecmaVersion >= 6 && (prop.computed || prop.method || prop.shorthand))\n    { return }\n  var key = prop.key;\n  var name;\n  switch (key.type) {\n  case \"Identifier\": name = key.name; break\n  case \"Literal\": name = String(key.value); break\n  default: return\n  }\n  var kind = prop.kind;\n  if (this.options.ecmaVersion >= 6) {\n    if (name === \"__proto__\" && kind === \"init\") {\n      if (propHash.proto) {\n        if (refDestructuringErrors) {\n          if (refDestructuringErrors.doubleProto < 0) {\n            refDestructuringErrors.doubleProto = key.start;\n          }\n        } else {\n          this.raiseRecoverable(key.start, \"Redefinition of __proto__ property\");\n        }\n      }\n      propHash.proto = true;\n    }\n    return\n  }\n  name = \"$\" + name;\n  var other = propHash[name];\n  if (other) {\n    var redefinition;\n    if (kind === \"init\") {\n      redefinition = this.strict && other.init || other.get || other.set;\n    } else {\n      redefinition = other.init || other[kind];\n    }\n    if (redefinition)\n      { this.raiseRecoverable(key.start, \"Redefinition of property\"); }\n  } else {\n    other = propHash[name] = {\n      init: false,\n      get: false,\n      set: false\n    };\n  }\n  other[kind] = true;\n};\n\n// ### Expression parsing\n\n// These nest, from the most general expression type at the top to\n// 'atomic', nondivisible expression types at the bottom. Most of\n// the functions will simply let the function(s) below them parse,\n// and, *if* the syntactic construct they handle is present, wrap\n// the AST node that the inner parser gave them in another node.\n\n// Parse a full expression. The optional arguments are used to\n// forbid the `in` operator (in for loops initalization expressions)\n// and provide reference for storing '=' operator inside shorthand\n// property assignment in contexts where both object expression\n// and object pattern might appear (so it's possible to raise\n// delayed syntax error at correct position).\n\npp$5.parseExpression = function(forInit, refDestructuringErrors) {\n  var startPos = this.start, startLoc = this.startLoc;\n  var expr = this.parseMaybeAssign(forInit, refDestructuringErrors);\n  if (this.type === types$1.comma) {\n    var node = this.startNodeAt(startPos, startLoc);\n    node.expressions = [expr];\n    while (this.eat(types$1.comma)) { node.expressions.push(this.parseMaybeAssign(forInit, refDestructuringErrors)); }\n    return this.finishNode(node, \"SequenceExpression\")\n  }\n  return expr\n};\n\n// Parse an assignment expression. This includes applications of\n// operators like `+=`.\n\npp$5.parseMaybeAssign = function(forInit, refDestructuringErrors, afterLeftParse) {\n  if (this.isContextual(\"yield\")) {\n    if (this.inGenerator) { return this.parseYield(forInit) }\n    // The tokenizer will assume an expression is allowed after\n    // `yield`, but this isn't that kind of yield\n    else { this.exprAllowed = false; }\n  }\n\n  var ownDestructuringErrors = false, oldParenAssign = -1, oldTrailingComma = -1, oldDoubleProto = -1;\n  if (refDestructuringErrors) {\n    oldParenAssign = refDestructuringErrors.parenthesizedAssign;\n    oldTrailingComma = refDestructuringErrors.trailingComma;\n    oldDoubleProto = refDestructuringErrors.doubleProto;\n    refDestructuringErrors.parenthesizedAssign = refDestructuringErrors.trailingComma = -1;\n  } else {\n    refDestructuringErrors = new DestructuringErrors;\n    ownDestructuringErrors = true;\n  }\n\n  var startPos = this.start, startLoc = this.startLoc;\n  if (this.type === types$1.parenL || this.type === types$1.name) {\n    this.potentialArrowAt = this.start;\n    this.potentialArrowInForAwait = forInit === \"await\";\n  }\n  var left = this.parseMaybeConditional(forInit, refDestructuringErrors);\n  if (afterLeftParse) { left = afterLeftParse.call(this, left, startPos, startLoc); }\n  if (this.type.isAssign) {\n    var node = this.startNodeAt(startPos, startLoc);\n    node.operator = this.value;\n    if (this.type === types$1.eq)\n      { left = this.toAssignable(left, false, refDestructuringErrors); }\n    if (!ownDestructuringErrors) {\n      refDestructuringErrors.parenthesizedAssign = refDestructuringErrors.trailingComma = refDestructuringErrors.doubleProto = -1;\n    }\n    if (refDestructuringErrors.shorthandAssign >= left.start)\n      { refDestructuringErrors.shorthandAssign = -1; } // reset because shorthand default was used correctly\n    if (this.type === types$1.eq)\n      { this.checkLValPattern(left); }\n    else\n      { this.checkLValSimple(left); }\n    node.left = left;\n    this.next();\n    node.right = this.parseMaybeAssign(forInit);\n    if (oldDoubleProto > -1) { refDestructuringErrors.doubleProto = oldDoubleProto; }\n    return this.finishNode(node, \"AssignmentExpression\")\n  } else {\n    if (ownDestructuringErrors) { this.checkExpressionErrors(refDestructuringErrors, true); }\n  }\n  if (oldParenAssign > -1) { refDestructuringErrors.parenthesizedAssign = oldParenAssign; }\n  if (oldTrailingComma > -1) { refDestructuringErrors.trailingComma = oldTrailingComma; }\n  return left\n};\n\n// Parse a ternary conditional (`?:`) operator.\n\npp$5.parseMaybeConditional = function(forInit, refDestructuringErrors) {\n  var startPos = this.start, startLoc = this.startLoc;\n  var expr = this.parseExprOps(forInit, refDestructuringErrors);\n  if (this.checkExpressionErrors(refDestructuringErrors)) { return expr }\n  if (this.eat(types$1.question)) {\n    var node = this.startNodeAt(startPos, startLoc);\n    node.test = expr;\n    node.consequent = this.parseMaybeAssign();\n    this.expect(types$1.colon);\n    node.alternate = this.parseMaybeAssign(forInit);\n    return this.finishNode(node, \"ConditionalExpression\")\n  }\n  return expr\n};\n\n// Start the precedence parser.\n\npp$5.parseExprOps = function(forInit, refDestructuringErrors) {\n  var startPos = this.start, startLoc = this.startLoc;\n  var expr = this.parseMaybeUnary(refDestructuringErrors, false, false, forInit);\n  if (this.checkExpressionErrors(refDestructuringErrors)) { return expr }\n  return expr.start === startPos && expr.type === \"ArrowFunctionExpression\" ? expr : this.parseExprOp(expr, startPos, startLoc, -1, forInit)\n};\n\n// Parse binary operators with the operator precedence parsing\n// algorithm. `left` is the left-hand side of the operator.\n// `minPrec` provides context that allows the function to stop and\n// defer further parser to one of its callers when it encounters an\n// operator that has a lower precedence than the set it is parsing.\n\npp$5.parseExprOp = function(left, leftStartPos, leftStartLoc, minPrec, forInit) {\n  var prec = this.type.binop;\n  if (prec != null && (!forInit || this.type !== types$1._in)) {\n    if (prec > minPrec) {\n      var logical = this.type === types$1.logicalOR || this.type === types$1.logicalAND;\n      var coalesce = this.type === types$1.coalesce;\n      if (coalesce) {\n        // Handle the precedence of `tt.coalesce` as equal to the range of logical expressions.\n        // In other words, `node.right` shouldn't contain logical expressions in order to check the mixed error.\n        prec = types$1.logicalAND.binop;\n      }\n      var op = this.value;\n      this.next();\n      var startPos = this.start, startLoc = this.startLoc;\n      var right = this.parseExprOp(this.parseMaybeUnary(null, false, false, forInit), startPos, startLoc, prec, forInit);\n      var node = this.buildBinary(leftStartPos, leftStartLoc, left, right, op, logical || coalesce);\n      if ((logical && this.type === types$1.coalesce) || (coalesce && (this.type === types$1.logicalOR || this.type === types$1.logicalAND))) {\n        this.raiseRecoverable(this.start, \"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses\");\n      }\n      return this.parseExprOp(node, leftStartPos, leftStartLoc, minPrec, forInit)\n    }\n  }\n  return left\n};\n\npp$5.buildBinary = function(startPos, startLoc, left, right, op, logical) {\n  if (right.type === \"PrivateIdentifier\") { this.raise(right.start, \"Private identifier can only be left side of binary expression\"); }\n  var node = this.startNodeAt(startPos, startLoc);\n  node.left = left;\n  node.operator = op;\n  node.right = right;\n  return this.finishNode(node, logical ? \"LogicalExpression\" : \"BinaryExpression\")\n};\n\n// Parse unary operators, both prefix and postfix.\n\npp$5.parseMaybeUnary = function(refDestructuringErrors, sawUnary, incDec, forInit) {\n  var startPos = this.start, startLoc = this.startLoc, expr;\n  if (this.isContextual(\"await\") && this.canAwait) {\n    expr = this.parseAwait(forInit);\n    sawUnary = true;\n  } else if (this.type.prefix) {\n    var node = this.startNode(), update = this.type === types$1.incDec;\n    node.operator = this.value;\n    node.prefix = true;\n    this.next();\n    node.argument = this.parseMaybeUnary(null, true, update, forInit);\n    this.checkExpressionErrors(refDestructuringErrors, true);\n    if (update) { this.checkLValSimple(node.argument); }\n    else if (this.strict && node.operator === \"delete\" &&\n             node.argument.type === \"Identifier\")\n      { this.raiseRecoverable(node.start, \"Deleting local variable in strict mode\"); }\n    else if (node.operator === \"delete\" && isPrivateFieldAccess(node.argument))\n      { this.raiseRecoverable(node.start, \"Private fields can not be deleted\"); }\n    else { sawUnary = true; }\n    expr = this.finishNode(node, update ? \"UpdateExpression\" : \"UnaryExpression\");\n  } else if (!sawUnary && this.type === types$1.privateId) {\n    if ((forInit || this.privateNameStack.length === 0) && this.options.checkPrivateFields) { this.unexpected(); }\n    expr = this.parsePrivateIdent();\n    // only could be private fields in 'in', such as #x in obj\n    if (this.type !== types$1._in) { this.unexpected(); }\n  } else {\n    expr = this.parseExprSubscripts(refDestructuringErrors, forInit);\n    if (this.checkExpressionErrors(refDestructuringErrors)) { return expr }\n    while (this.type.postfix && !this.canInsertSemicolon()) {\n      var node$1 = this.startNodeAt(startPos, startLoc);\n      node$1.operator = this.value;\n      node$1.prefix = false;\n      node$1.argument = expr;\n      this.checkLValSimple(expr);\n      this.next();\n      expr = this.finishNode(node$1, \"UpdateExpression\");\n    }\n  }\n\n  if (!incDec && this.eat(types$1.starstar)) {\n    if (sawUnary)\n      { this.unexpected(this.lastTokStart); }\n    else\n      { return this.buildBinary(startPos, startLoc, expr, this.parseMaybeUnary(null, false, false, forInit), \"**\", false) }\n  } else {\n    return expr\n  }\n};\n\nfunction isPrivateFieldAccess(node) {\n  return (\n    node.type === \"MemberExpression\" && node.property.type === \"PrivateIdentifier\" ||\n    node.type === \"ChainExpression\" && isPrivateFieldAccess(node.expression)\n  )\n}\n\n// Parse call, dot, and `[]`-subscript expressions.\n\npp$5.parseExprSubscripts = function(refDestructuringErrors, forInit) {\n  var startPos = this.start, startLoc = this.startLoc;\n  var expr = this.parseExprAtom(refDestructuringErrors, forInit);\n  if (expr.type === \"ArrowFunctionExpression\" && this.input.slice(this.lastTokStart, this.lastTokEnd) !== \")\")\n    { return expr }\n  var result = this.parseSubscripts(expr, startPos, startLoc, false, forInit);\n  if (refDestructuringErrors && result.type === \"MemberExpression\") {\n    if (refDestructuringErrors.parenthesizedAssign >= result.start) { refDestructuringErrors.parenthesizedAssign = -1; }\n    if (refDestructuringErrors.parenthesizedBind >= result.start) { refDestructuringErrors.parenthesizedBind = -1; }\n    if (refDestructuringErrors.trailingComma >= result.start) { refDestructuringErrors.trailingComma = -1; }\n  }\n  return result\n};\n\npp$5.parseSubscripts = function(base, startPos, startLoc, noCalls, forInit) {\n  var maybeAsyncArrow = this.options.ecmaVersion >= 8 && base.type === \"Identifier\" && base.name === \"async\" &&\n      this.lastTokEnd === base.end && !this.canInsertSemicolon() && base.end - base.start === 5 &&\n      this.potentialArrowAt === base.start;\n  var optionalChained = false;\n\n  while (true) {\n    var element = this.parseSubscript(base, startPos, startLoc, noCalls, maybeAsyncArrow, optionalChained, forInit);\n\n    if (element.optional) { optionalChained = true; }\n    if (element === base || element.type === \"ArrowFunctionExpression\") {\n      if (optionalChained) {\n        var chainNode = this.startNodeAt(startPos, startLoc);\n        chainNode.expression = element;\n        element = this.finishNode(chainNode, \"ChainExpression\");\n      }\n      return element\n    }\n\n    base = element;\n  }\n};\n\npp$5.shouldParseAsyncArrow = function() {\n  return !this.canInsertSemicolon() && this.eat(types$1.arrow)\n};\n\npp$5.parseSubscriptAsyncArrow = function(startPos, startLoc, exprList, forInit) {\n  return this.parseArrowExpression(this.startNodeAt(startPos, startLoc), exprList, true, forInit)\n};\n\npp$5.parseSubscript = function(base, startPos, startLoc, noCalls, maybeAsyncArrow, optionalChained, forInit) {\n  var optionalSupported = this.options.ecmaVersion >= 11;\n  var optional = optionalSupported && this.eat(types$1.questionDot);\n  if (noCalls && optional) { this.raise(this.lastTokStart, \"Optional chaining cannot appear in the callee of new expressions\"); }\n\n  var computed = this.eat(types$1.bracketL);\n  if (computed || (optional && this.type !== types$1.parenL && this.type !== types$1.backQuote) || this.eat(types$1.dot)) {\n    var node = this.startNodeAt(startPos, startLoc);\n    node.object = base;\n    if (computed) {\n      node.property = this.parseExpression();\n      this.expect(types$1.bracketR);\n    } else if (this.type === types$1.privateId && base.type !== \"Super\") {\n      node.property = this.parsePrivateIdent();\n    } else {\n      node.property = this.parseIdent(this.options.allowReserved !== \"never\");\n    }\n    node.computed = !!computed;\n    if (optionalSupported) {\n      node.optional = optional;\n    }\n    base = this.finishNode(node, \"MemberExpression\");\n  } else if (!noCalls && this.eat(types$1.parenL)) {\n    var refDestructuringErrors = new DestructuringErrors, oldYieldPos = this.yieldPos, oldAwaitPos = this.awaitPos, oldAwaitIdentPos = this.awaitIdentPos;\n    this.yieldPos = 0;\n    this.awaitPos = 0;\n    this.awaitIdentPos = 0;\n    var exprList = this.parseExprList(types$1.parenR, this.options.ecmaVersion >= 8, false, refDestructuringErrors);\n    if (maybeAsyncArrow && !optional && this.shouldParseAsyncArrow()) {\n      this.checkPatternErrors(refDestructuringErrors, false);\n      this.checkYieldAwaitInDefaultParams();\n      if (this.awaitIdentPos > 0)\n        { this.raise(this.awaitIdentPos, \"Cannot use 'await' as identifier inside an async function\"); }\n      this.yieldPos = oldYieldPos;\n      this.awaitPos = oldAwaitPos;\n      this.awaitIdentPos = oldAwaitIdentPos;\n      return this.parseSubscriptAsyncArrow(startPos, startLoc, exprList, forInit)\n    }\n    this.checkExpressionErrors(refDestructuringErrors, true);\n    this.yieldPos = oldYieldPos || this.yieldPos;\n    this.awaitPos = oldAwaitPos || this.awaitPos;\n    this.awaitIdentPos = oldAwaitIdentPos || this.awaitIdentPos;\n    var node$1 = this.startNodeAt(startPos, startLoc);\n    node$1.callee = base;\n    node$1.arguments = exprList;\n    if (optionalSupported) {\n      node$1.optional = optional;\n    }\n    base = this.finishNode(node$1, \"CallExpression\");\n  } else if (this.type === types$1.backQuote) {\n    if (optional || optionalChained) {\n      this.raise(this.start, \"Optional chaining cannot appear in the tag of tagged template expressions\");\n    }\n    var node$2 = this.startNodeAt(startPos, startLoc);\n    node$2.tag = base;\n    node$2.quasi = this.parseTemplate({isTagged: true});\n    base = this.finishNode(node$2, \"TaggedTemplateExpression\");\n  }\n  return base\n};\n\n// Parse an atomic expression \u2014 either a single token that is an\n// expression, an expression started by a keyword like `function` or\n// `new`, or an expression wrapped in punctuation like `()`, `[]`,\n// or `{}`.\n\npp$5.parseExprAtom = function(refDestructuringErrors, forInit, forNew) {\n  // If a division operator appears in an expression position, the\n  // tokenizer got confused, and we force it to read a regexp instead.\n  if (this.type === types$1.slash) { this.readRegexp(); }\n\n  var node, canBeArrow = this.potentialArrowAt === this.start;\n  switch (this.type) {\n  case types$1._super:\n    if (!this.allowSuper)\n      { this.raise(this.start, \"'super' keyword outside a method\"); }\n    node = this.startNode();\n    this.next();\n    if (this.type === types$1.parenL && !this.allowDirectSuper)\n      { this.raise(node.start, \"super() call outside constructor of a subclass\"); }\n    // The `super` keyword can appear at below:\n    // SuperProperty:\n    //     super [ Expression ]\n    //     super . IdentifierName\n    // SuperCall:\n    //     super ( Arguments )\n    if (this.type !== types$1.dot && this.type !== types$1.bracketL && this.type !== types$1.parenL)\n      { this.unexpected(); }\n    return this.finishNode(node, \"Super\")\n\n  case types$1._this:\n    node = this.startNode();\n    this.next();\n    return this.finishNode(node, \"ThisExpression\")\n\n  case types$1.name:\n    var startPos = this.start, startLoc = this.startLoc, containsEsc = this.containsEsc;\n    var id = this.parseIdent(false);\n    if (this.options.ecmaVersion >= 8 && !containsEsc && id.name === \"async\" && !this.canInsertSemicolon() && this.eat(types$1._function)) {\n      this.overrideContext(types.f_expr);\n      return this.parseFunction(this.startNodeAt(startPos, startLoc), 0, false, true, forInit)\n    }\n    if (canBeArrow && !this.canInsertSemicolon()) {\n      if (this.eat(types$1.arrow))\n        { return this.parseArrowExpression(this.startNodeAt(startPos, startLoc), [id], false, forInit) }\n      if (this.options.ecmaVersion >= 8 && id.name === \"async\" && this.type === types$1.name && !containsEsc &&\n          (!this.potentialArrowInForAwait || this.value !== \"of\" || this.containsEsc)) {\n        id = this.parseIdent(false);\n        if (this.canInsertSemicolon() || !this.eat(types$1.arrow))\n          { this.unexpected(); }\n        return this.parseArrowExpression(this.startNodeAt(startPos, startLoc), [id], true, forInit)\n      }\n    }\n    return id\n\n  case types$1.regexp:\n    var value = this.value;\n    node = this.parseLiteral(value.value);\n    node.regex = {pattern: value.pattern, flags: value.flags};\n    return node\n\n  case types$1.num: case types$1.string:\n    return this.parseLiteral(this.value)\n\n  case types$1._null: case types$1._true: case types$1._false:\n    node = this.startNode();\n    node.value = this.type === types$1._null ? null : this.type === types$1._true;\n    node.raw = this.type.keyword;\n    this.next();\n    return this.finishNode(node, \"Literal\")\n\n  case types$1.parenL:\n    var start = this.start, expr = this.parseParenAndDistinguishExpression(canBeArrow, forInit);\n    if (refDestructuringErrors) {\n      if (refDestructuringErrors.parenthesizedAssign < 0 && !this.isSimpleAssignTarget(expr))\n        { refDestructuringErrors.parenthesizedAssign = start; }\n      if (refDestructuringErrors.parenthesizedBind < 0)\n        { refDestructuringErrors.parenthesizedBind = start; }\n    }\n    return expr\n\n  case types$1.bracketL:\n    node = this.startNode();\n    this.next();\n    node.elements = this.parseExprList(types$1.bracketR, true, true, refDestructuringErrors);\n    return this.finishNode(node, \"ArrayExpression\")\n\n  case types$1.braceL:\n    this.overrideContext(types.b_expr);\n    return this.parseObj(false, refDestructuringErrors)\n\n  case types$1._function:\n    node = this.startNode();\n    this.next();\n    return this.parseFunction(node, 0)\n\n  case types$1._class:\n    return this.parseClass(this.startNode(), false)\n\n  case types$1._new:\n    return this.parseNew()\n\n  case types$1.backQuote:\n    return this.parseTemplate()\n\n  case types$1._import:\n    if (this.options.ecmaVersion >= 11) {\n      return this.parseExprImport(forNew)\n    } else {\n      return this.unexpected()\n    }\n\n  default:\n    return this.parseExprAtomDefault()\n  }\n};\n\npp$5.parseExprAtomDefault = function() {\n  this.unexpected();\n};\n\npp$5.parseExprImport = function(forNew) {\n  var node = this.startNode();\n\n  // Consume `import` as an identifier for `import.meta`.\n  // Because `this.parseIdent(true)` doesn't check escape sequences, it needs the check of `this.containsEsc`.\n  if (this.containsEsc) { this.raiseRecoverable(this.start, \"Escape sequence in keyword import\"); }\n  this.next();\n\n  if (this.type === types$1.parenL && !forNew) {\n    return this.parseDynamicImport(node)\n  } else if (this.type === types$1.dot) {\n    var meta = this.startNodeAt(node.start, node.loc && node.loc.start);\n    meta.name = \"import\";\n    node.meta = this.finishNode(meta, \"Identifier\");\n    return this.parseImportMeta(node)\n  } else {\n    this.unexpected();\n  }\n};\n\npp$5.parseDynamicImport = function(node) {\n  this.next(); // skip `(`\n\n  // Parse node.source.\n  node.source = this.parseMaybeAssign();\n\n  // Verify ending.\n  if (!this.eat(types$1.parenR)) {\n    var errorPos = this.start;\n    if (this.eat(types$1.comma) && this.eat(types$1.parenR)) {\n      this.raiseRecoverable(errorPos, \"Trailing comma is not allowed in import()\");\n    } else {\n      this.unexpected(errorPos);\n    }\n  }\n\n  return this.finishNode(node, \"ImportExpression\")\n};\n\npp$5.parseImportMeta = function(node) {\n  this.next(); // skip `.`\n\n  var containsEsc = this.containsEsc;\n  node.property = this.parseIdent(true);\n\n  if (node.property.name !== \"meta\")\n    { this.raiseRecoverable(node.property.start, \"The only valid meta property for import is 'import.meta'\"); }\n  if (containsEsc)\n    { this.raiseRecoverable(node.start, \"'import.meta' must not contain escaped characters\"); }\n  if (this.options.sourceType !== \"module\" && !this.options.allowImportExportEverywhere)\n    { this.raiseRecoverable(node.start, \"Cannot use 'import.meta' outside a module\"); }\n\n  return this.finishNode(node, \"MetaProperty\")\n};\n\npp$5.parseLiteral = function(value) {\n  var node = this.startNode();\n  node.value = value;\n  node.raw = this.input.slice(this.start, this.end);\n  if (node.raw.charCodeAt(node.raw.length - 1) === 110) { node.bigint = node.raw.slice(0, -1).replace(/_/g, \"\"); }\n  this.next();\n  return this.finishNode(node, \"Literal\")\n};\n\npp$5.parseParenExpression = function() {\n  this.expect(types$1.parenL);\n  var val = this.parseExpression();\n  this.expect(types$1.parenR);\n  return val\n};\n\npp$5.shouldParseArrow = function(exprList) {\n  return !this.canInsertSemicolon()\n};\n\npp$5.parseParenAndDistinguishExpression = function(canBeArrow, forInit) {\n  var startPos = this.start, startLoc = this.startLoc, val, allowTrailingComma = this.options.ecmaVersion >= 8;\n  if (this.options.ecmaVersion >= 6) {\n    this.next();\n\n    var innerStartPos = this.start, innerStartLoc = this.startLoc;\n    var exprList = [], first = true, lastIsComma = false;\n    var refDestructuringErrors = new DestructuringErrors, oldYieldPos = this.yieldPos, oldAwaitPos = this.awaitPos, spreadStart;\n    this.yieldPos = 0;\n    this.awaitPos = 0;\n    // Do not save awaitIdentPos to allow checking awaits nested in parameters\n    while (this.type !== types$1.parenR) {\n      first ? first = false : this.expect(types$1.comma);\n      if (allowTrailingComma && this.afterTrailingComma(types$1.parenR, true)) {\n        lastIsComma = true;\n        break\n      } else if (this.type === types$1.ellipsis) {\n        spreadStart = this.start;\n        exprList.push(this.parseParenItem(this.parseRestBinding()));\n        if (this.type === types$1.comma) {\n          this.raiseRecoverable(\n            this.start,\n            \"Comma is not permitted after the rest element\"\n          );\n        }\n        break\n      } else {\n        exprList.push(this.parseMaybeAssign(false, refDestructuringErrors, this.parseParenItem));\n      }\n    }\n    var innerEndPos = this.lastTokEnd, innerEndLoc = this.lastTokEndLoc;\n    this.expect(types$1.parenR);\n\n    if (canBeArrow && this.shouldParseArrow(exprList) && this.eat(types$1.arrow)) {\n      this.checkPatternErrors(refDestructuringErrors, false);\n      this.checkYieldAwaitInDefaultParams();\n      this.yieldPos = oldYieldPos;\n      this.awaitPos = oldAwaitPos;\n      return this.parseParenArrowList(startPos, startLoc, exprList, forInit)\n    }\n\n    if (!exprList.length || lastIsComma) { this.unexpected(this.lastTokStart); }\n    if (spreadStart) { this.unexpected(spreadStart); }\n    this.checkExpressionErrors(refDestructuringErrors, true);\n    this.yieldPos = oldYieldPos || this.yieldPos;\n    this.awaitPos = oldAwaitPos || this.awaitPos;\n\n    if (exprList.length > 1) {\n      val = this.startNodeAt(innerStartPos, innerStartLoc);\n      val.expressions = exprList;\n      this.finishNodeAt(val, \"SequenceExpression\", innerEndPos, innerEndLoc);\n    } else {\n      val = exprList[0];\n    }\n  } else {\n    val = this.parseParenExpression();\n  }\n\n  if (this.options.preserveParens) {\n    var par = this.startNodeAt(startPos, startLoc);\n    par.expression = val;\n    return this.finishNode(par, \"ParenthesizedExpression\")\n  } else {\n    return val\n  }\n};\n\npp$5.parseParenItem = function(item) {\n  return item\n};\n\npp$5.parseParenArrowList = function(startPos, startLoc, exprList, forInit) {\n  return this.parseArrowExpression(this.startNodeAt(startPos, startLoc), exprList, false, forInit)\n};\n\n// New's precedence is slightly tricky. It must allow its argument to\n// be a `[]` or dot subscript expression, but not a call \u2014 at least,\n// not without wrapping it in parentheses. Thus, it uses the noCalls\n// argument to parseSubscripts to prevent it from consuming the\n// argument list.\n\nvar empty = [];\n\npp$5.parseNew = function() {\n  if (this.containsEsc) { this.raiseRecoverable(this.start, \"Escape sequence in keyword new\"); }\n  var node = this.startNode();\n  this.next();\n  if (this.options.ecmaVersion >= 6 && this.type === types$1.dot) {\n    var meta = this.startNodeAt(node.start, node.loc && node.loc.start);\n    meta.name = \"new\";\n    node.meta = this.finishNode(meta, \"Identifier\");\n    this.next();\n    var containsEsc = this.containsEsc;\n    node.property = this.parseIdent(true);\n    if (node.property.name !== \"target\")\n      { this.raiseRecoverable(node.property.start, \"The only valid meta property for new is 'new.target'\"); }\n    if (containsEsc)\n      { this.raiseRecoverable(node.start, \"'new.target' must not contain escaped characters\"); }\n    if (!this.allowNewDotTarget)\n      { this.raiseRecoverable(node.start, \"'new.target' can only be used in functions and class static block\"); }\n    return this.finishNode(node, \"MetaProperty\")\n  }\n  var startPos = this.start, startLoc = this.startLoc;\n  node.callee = this.parseSubscripts(this.parseExprAtom(null, false, true), startPos, startLoc, true, false);\n  if (this.eat(types$1.parenL)) { node.arguments = this.parseExprList(types$1.parenR, this.options.ecmaVersion >= 8, false); }\n  else { node.arguments = empty; }\n  return this.finishNode(node, \"NewExpression\")\n};\n\n// Parse template expression.\n\npp$5.parseTemplateElement = function(ref) {\n  var isTagged = ref.isTagged;\n\n  var elem = this.startNode();\n  if (this.type === types$1.invalidTemplate) {\n    if (!isTagged) {\n      this.raiseRecoverable(this.start, \"Bad escape sequence in untagged template literal\");\n    }\n    elem.value = {\n      raw: this.value,\n      cooked: null\n    };\n  } else {\n    elem.value = {\n      raw: this.input.slice(this.start, this.end).replace(/\\r\\n?/g, \"\\n\"),\n      cooked: this.value\n    };\n  }\n  this.next();\n  elem.tail = this.type === types$1.backQuote;\n  return this.finishNode(elem, \"TemplateElement\")\n};\n\npp$5.parseTemplate = function(ref) {\n  if ( ref === void 0 ) ref = {};\n  var isTagged = ref.isTagged; if ( isTagged === void 0 ) isTagged = false;\n\n  var node = this.startNode();\n  this.next();\n  node.expressions = [];\n  var curElt = this.parseTemplateElement({isTagged: isTagged});\n  node.quasis = [curElt];\n  while (!curElt.tail) {\n    if (this.type === types$1.eof) { this.raise(this.pos, \"Unterminated template literal\"); }\n    this.expect(types$1.dollarBraceL);\n    node.expressions.push(this.parseExpression());\n    this.expect(types$1.braceR);\n    node.quasis.push(curElt = this.parseTemplateElement({isTagged: isTagged}));\n  }\n  this.next();\n  return this.finishNode(node, \"TemplateLiteral\")\n};\n\npp$5.isAsyncProp = function(prop) {\n  return !prop.computed && prop.key.type === \"Identifier\" && prop.key.name === \"async\" &&\n    (this.type === types$1.name || this.type === types$1.num || this.type === types$1.string || this.type === types$1.bracketL || this.type.keyword || (this.options.ecmaVersion >= 9 && this.type === types$1.star)) &&\n    !lineBreak.test(this.input.slice(this.lastTokEnd, this.start))\n};\n\n// Parse an object literal or binding pattern.\n\npp$5.parseObj = function(isPattern, refDestructuringErrors) {\n  var node = this.startNode(), first = true, propHash = {};\n  node.properties = [];\n  this.next();\n  while (!this.eat(types$1.braceR)) {\n    if (!first) {\n      this.expect(types$1.comma);\n      if (this.options.ecmaVersion >= 5 && this.afterTrailingComma(types$1.braceR)) { break }\n    } else { first = false; }\n\n    var prop = this.parseProperty(isPattern, refDestructuringErrors);\n    if (!isPattern) { this.checkPropClash(prop, propHash, refDestructuringErrors); }\n    node.properties.push(prop);\n  }\n  return this.finishNode(node, isPattern ? \"ObjectPattern\" : \"ObjectExpression\")\n};\n\npp$5.parseProperty = function(isPattern, refDestructuringErrors) {\n  var prop = this.startNode(), isGenerator, isAsync, startPos, startLoc;\n  if (this.options.ecmaVersion >= 9 && this.eat(types$1.ellipsis)) {\n    if (isPattern) {\n      prop.argument = this.parseIdent(false);\n      if (this.type === types$1.comma) {\n        this.raiseRecoverable(this.start, \"Comma is not permitted after the rest element\");\n      }\n      return this.finishNode(prop, \"RestElement\")\n    }\n    // Parse argument.\n    prop.argument = this.parseMaybeAssign(false, refDestructuringErrors);\n    // To disallow trailing comma via `this.toAssignable()`.\n    if (this.type === types$1.comma && refDestructuringErrors && refDestructuringErrors.trailingComma < 0) {\n      refDestructuringErrors.trailingComma = this.start;\n    }\n    // Finish\n    return this.finishNode(prop, \"SpreadElement\")\n  }\n  if (this.options.ecmaVersion >= 6) {\n    prop.method = false;\n    prop.shorthand = false;\n    if (isPattern || refDestructuringErrors) {\n      startPos = this.start;\n      startLoc = this.startLoc;\n    }\n    if (!isPattern)\n      { isGenerator = this.eat(types$1.star); }\n  }\n  var containsEsc = this.containsEsc;\n  this.parsePropertyName(prop);\n  if (!isPattern && !containsEsc && this.options.ecmaVersion >= 8 && !isGenerator && this.isAsyncProp(prop)) {\n    isAsync = true;\n    isGenerator = this.options.ecmaVersion >= 9 && this.eat(types$1.star);\n    this.parsePropertyName(prop);\n  } else {\n    isAsync = false;\n  }\n  this.parsePropertyValue(prop, isPattern, isGenerator, isAsync, startPos, startLoc, refDestructuringErrors, containsEsc);\n  return this.finishNode(prop, \"Property\")\n};\n\npp$5.parseGetterSetter = function(prop) {\n  prop.kind = prop.key.name;\n  this.parsePropertyName(prop);\n  prop.value = this.parseMethod(false);\n  var paramCount = prop.kind === \"get\" ? 0 : 1;\n  if (prop.value.params.length !== paramCount) {\n    var start = prop.value.start;\n    if (prop.kind === \"get\")\n      { this.raiseRecoverable(start, \"getter should have no params\"); }\n    else\n      { this.raiseRecoverable(start, \"setter should have exactly one param\"); }\n  } else {\n    if (prop.kind === \"set\" && prop.value.params[0].type === \"RestElement\")\n      { this.raiseRecoverable(prop.value.params[0].start, \"Setter cannot use rest params\"); }\n  }\n};\n\npp$5.parsePropertyValue = function(prop, isPattern, isGenerator, isAsync, startPos, startLoc, refDestructuringErrors, containsEsc) {\n  if ((isGenerator || isAsync) && this.type === types$1.colon)\n    { this.unexpected(); }\n\n  if (this.eat(types$1.colon)) {\n    prop.value = isPattern ? this.parseMaybeDefault(this.start, this.startLoc) : this.parseMaybeAssign(false, refDestructuringErrors);\n    prop.kind = \"init\";\n  } else if (this.options.ecmaVersion >= 6 && this.type === types$1.parenL) {\n    if (isPattern) { this.unexpected(); }\n    prop.kind = \"init\";\n    prop.method = true;\n    prop.value = this.parseMethod(isGenerator, isAsync);\n  } else if (!isPattern && !containsEsc &&\n             this.options.ecmaVersion >= 5 && !prop.computed && prop.key.type === \"Identifier\" &&\n             (prop.key.name === \"get\" || prop.key.name === \"set\") &&\n             (this.type !== types$1.comma && this.type !== types$1.braceR && this.type !== types$1.eq)) {\n    if (isGenerator || isAsync) { this.unexpected(); }\n    this.parseGetterSetter(prop);\n  } else if (this.options.ecmaVersion >= 6 && !prop.computed && prop.key.type === \"Identifier\") {\n    if (isGenerator || isAsync) { this.unexpected(); }\n    this.checkUnreserved(prop.key);\n    if (prop.key.name === \"await\" && !this.awaitIdentPos)\n      { this.awaitIdentPos = startPos; }\n    prop.kind = \"init\";\n    if (isPattern) {\n      prop.value = this.parseMaybeDefault(startPos, startLoc, this.copyNode(prop.key));\n    } else if (this.type === types$1.eq && refDestructuringErrors) {\n      if (refDestructuringErrors.shorthandAssign < 0)\n        { refDestructuringErrors.shorthandAssign = this.start; }\n      prop.value = this.parseMaybeDefault(startPos, startLoc, this.copyNode(prop.key));\n    } else {\n      prop.value = this.copyNode(prop.key);\n    }\n    prop.shorthand = true;\n  } else { this.unexpected(); }\n};\n\npp$5.parsePropertyName = function(prop) {\n  if (this.options.ecmaVersion >= 6) {\n    if (this.eat(types$1.bracketL)) {\n      prop.computed = true;\n      prop.key = this.parseMaybeAssign();\n      this.expect(types$1.bracketR);\n      return prop.key\n    } else {\n      prop.computed = false;\n    }\n  }\n  return prop.key = this.type === types$1.num || this.type === types$1.string ? this.parseExprAtom() : this.parseIdent(this.options.allowReserved !== \"never\")\n};\n\n// Initialize empty function node.\n\npp$5.initFunction = function(node) {\n  node.id = null;\n  if (this.options.ecmaVersion >= 6) { node.generator = node.expression = false; }\n  if (this.options.ecmaVersion >= 8) { node.async = false; }\n};\n\n// Parse object or class method.\n\npp$5.parseMethod = function(isGenerator, isAsync, allowDirectSuper) {\n  var node = this.startNode(), oldYieldPos = this.yieldPos, oldAwaitPos = this.awaitPos, oldAwaitIdentPos = this.awaitIdentPos;\n\n  this.initFunction(node);\n  if (this.options.ecmaVersion >= 6)\n    { node.generator = isGenerator; }\n  if (this.options.ecmaVersion >= 8)\n    { node.async = !!isAsync; }\n\n  this.yieldPos = 0;\n  this.awaitPos = 0;\n  this.awaitIdentPos = 0;\n  this.enterScope(functionFlags(isAsync, node.generator) | SCOPE_SUPER | (allowDirectSuper ? SCOPE_DIRECT_SUPER : 0));\n\n  this.expect(types$1.parenL);\n  node.params = this.parseBindingList(types$1.parenR, false, this.options.ecmaVersion >= 8);\n  this.checkYieldAwaitInDefaultParams();\n  this.parseFunctionBody(node, false, true, false);\n\n  this.yieldPos = oldYieldPos;\n  this.awaitPos = oldAwaitPos;\n  this.awaitIdentPos = oldAwaitIdentPos;\n  return this.finishNode(node, \"FunctionExpression\")\n};\n\n// Parse arrow function expression with given parameters.\n\npp$5.parseArrowExpression = function(node, params, isAsync, forInit) {\n  var oldYieldPos = this.yieldPos, oldAwaitPos = this.awaitPos, oldAwaitIdentPos = this.awaitIdentPos;\n\n  this.enterScope(functionFlags(isAsync, false) | SCOPE_ARROW);\n  this.initFunction(node);\n  if (this.options.ecmaVersion >= 8) { node.async = !!isAsync; }\n\n  this.yieldPos = 0;\n  this.awaitPos = 0;\n  this.awaitIdentPos = 0;\n\n  node.params = this.toAssignableList(params, true);\n  this.parseFunctionBody(node, true, false, forInit);\n\n  this.yieldPos = oldYieldPos;\n  this.awaitPos = oldAwaitPos;\n  this.awaitIdentPos = oldAwaitIdentPos;\n  return this.finishNode(node, \"ArrowFunctionExpression\")\n};\n\n// Parse function body and check parameters.\n\npp$5.parseFunctionBody = function(node, isArrowFunction, isMethod, forInit) {\n  var isExpression = isArrowFunction && this.type !== types$1.braceL;\n  var oldStrict = this.strict, useStrict = false;\n\n  if (isExpression) {\n    node.body = this.parseMaybeAssign(forInit);\n    node.expression = true;\n    this.checkParams(node, false);\n  } else {\n    var nonSimple = this.options.ecmaVersion >= 7 && !this.isSimpleParamList(node.params);\n    if (!oldStrict || nonSimple) {\n      useStrict = this.strictDirective(this.end);\n      // If this is a strict mode function, verify that argument names\n      // are not repeated, and it does not try to bind the words `eval`\n      // or `arguments`.\n      if (useStrict && nonSimple)\n        { this.raiseRecoverable(node.start, \"Illegal 'use strict' directive in function with non-simple parameter list\"); }\n    }\n    // Start a new scope with regard to labels and the `inFunction`\n    // flag (restore them to their old value afterwards).\n    var oldLabels = this.labels;\n    this.labels = [];\n    if (useStrict) { this.strict = true; }\n\n    // Add the params to varDeclaredNames to ensure that an error is thrown\n    // if a let/const declaration in the function clashes with one of the params.\n    this.checkParams(node, !oldStrict && !useStrict && !isArrowFunction && !isMethod && this.isSimpleParamList(node.params));\n    // Ensure the function name isn't a forbidden identifier in strict mode, e.g. 'eval'\n    if (this.strict && node.id) { this.checkLValSimple(node.id, BIND_OUTSIDE); }\n    node.body = this.parseBlock(false, undefined, useStrict && !oldStrict);\n    node.expression = false;\n    this.adaptDirectivePrologue(node.body.body);\n    this.labels = oldLabels;\n  }\n  this.exitScope();\n};\n\npp$5.isSimpleParamList = function(params) {\n  for (var i = 0, list = params; i < list.length; i += 1)\n    {\n    var param = list[i];\n\n    if (param.type !== \"Identifier\") { return false\n  } }\n  return true\n};\n\n// Checks function params for various disallowed patterns such as using \"eval\"\n// or \"arguments\" and duplicate parameters.\n\npp$5.checkParams = function(node, allowDuplicates) {\n  var nameHash = Object.create(null);\n  for (var i = 0, list = node.params; i < list.length; i += 1)\n    {\n    var param = list[i];\n\n    this.checkLValInnerPattern(param, BIND_VAR, allowDuplicates ? null : nameHash);\n  }\n};\n\n// Parses a comma-separated list of expressions, and returns them as\n// an array. `close` is the token type that ends the list, and\n// `allowEmpty` can be turned on to allow subsequent commas with\n// nothing in between them to be parsed as `null` (which is needed\n// for array literals).\n\npp$5.parseExprList = function(close, allowTrailingComma, allowEmpty, refDestructuringErrors) {\n  var elts = [], first = true;\n  while (!this.eat(close)) {\n    if (!first) {\n      this.expect(types$1.comma);\n      if (allowTrailingComma && this.afterTrailingComma(close)) { break }\n    } else { first = false; }\n\n    var elt = (void 0);\n    if (allowEmpty && this.type === types$1.comma)\n      { elt = null; }\n    else if (this.type === types$1.ellipsis) {\n      elt = this.parseSpread(refDestructuringErrors);\n      if (refDestructuringErrors && this.type === types$1.comma && refDestructuringErrors.trailingComma < 0)\n        { refDestructuringErrors.trailingComma = this.start; }\n    } else {\n      elt = this.parseMaybeAssign(false, refDestructuringErrors);\n    }\n    elts.push(elt);\n  }\n  return elts\n};\n\npp$5.checkUnreserved = function(ref) {\n  var start = ref.start;\n  var end = ref.end;\n  var name = ref.name;\n\n  if (this.inGenerator && name === \"yield\")\n    { this.raiseRecoverable(start, \"Cannot use 'yield' as identifier inside a generator\"); }\n  if (this.inAsync && name === \"await\")\n    { this.raiseRecoverable(start, \"Cannot use 'await' as identifier inside an async function\"); }\n  if (this.currentThisScope().inClassFieldInit && name === \"arguments\")\n    { this.raiseRecoverable(start, \"Cannot use 'arguments' in class field initializer\"); }\n  if (this.inClassStaticBlock && (name === \"arguments\" || name === \"await\"))\n    { this.raise(start, (\"Cannot use \" + name + \" in class static initialization block\")); }\n  if (this.keywords.test(name))\n    { this.raise(start, (\"Unexpected keyword '\" + name + \"'\")); }\n  if (this.options.ecmaVersion < 6 &&\n    this.input.slice(start, end).indexOf(\"\\\\\") !== -1) { return }\n  var re = this.strict ? this.reservedWordsStrict : this.reservedWords;\n  if (re.test(name)) {\n    if (!this.inAsync && name === \"await\")\n      { this.raiseRecoverable(start, \"Cannot use keyword 'await' outside an async function\"); }\n    this.raiseRecoverable(start, (\"The keyword '\" + name + \"' is reserved\"));\n  }\n};\n\n// Parse the next token as an identifier. If `liberal` is true (used\n// when parsing properties), it will also convert keywords into\n// identifiers.\n\npp$5.parseIdent = function(liberal) {\n  var node = this.parseIdentNode();\n  this.next(!!liberal);\n  this.finishNode(node, \"Identifier\");\n  if (!liberal) {\n    this.checkUnreserved(node);\n    if (node.name === \"await\" && !this.awaitIdentPos)\n      { this.awaitIdentPos = node.start; }\n  }\n  return node\n};\n\npp$5.parseIdentNode = function() {\n  var node = this.startNode();\n  if (this.type === types$1.name) {\n    node.name = this.value;\n  } else if (this.type.keyword) {\n    node.name = this.type.keyword;\n\n    // To fix https://github.com/acornjs/acorn/issues/575\n    // `class` and `function` keywords push new context into this.context.\n    // But there is no chance to pop the context if the keyword is consumed as an identifier such as a property name.\n    // If the previous token is a dot, this does not apply because the context-managing code already ignored the keyword\n    if ((node.name === \"class\" || node.name === \"function\") &&\n      (this.lastTokEnd !== this.lastTokStart + 1 || this.input.charCodeAt(this.lastTokStart) !== 46)) {\n      this.context.pop();\n    }\n    this.type = types$1.name;\n  } else {\n    this.unexpected();\n  }\n  return node\n};\n\npp$5.parsePrivateIdent = function() {\n  var node = this.startNode();\n  if (this.type === types$1.privateId) {\n    node.name = this.value;\n  } else {\n    this.unexpected();\n  }\n  this.next();\n  this.finishNode(node, \"PrivateIdentifier\");\n\n  // For validating existence\n  if (this.options.checkPrivateFields) {\n    if (this.privateNameStack.length === 0) {\n      this.raise(node.start, (\"Private field '#\" + (node.name) + \"' must be declared in an enclosing class\"));\n    } else {\n      this.privateNameStack[this.privateNameStack.length - 1].used.push(node);\n    }\n  }\n\n  return node\n};\n\n// Parses yield expression inside generator.\n\npp$5.parseYield = function(forInit) {\n  if (!this.yieldPos) { this.yieldPos = this.start; }\n\n  var node = this.startNode();\n  this.next();\n  if (this.type === types$1.semi || this.canInsertSemicolon() || (this.type !== types$1.star && !this.type.startsExpr)) {\n    node.delegate = false;\n    node.argument = null;\n  } else {\n    node.delegate = this.eat(types$1.star);\n    node.argument = this.parseMaybeAssign(forInit);\n  }\n  return this.finishNode(node, \"YieldExpression\")\n};\n\npp$5.parseAwait = function(forInit) {\n  if (!this.awaitPos) { this.awaitPos = this.start; }\n\n  var node = this.startNode();\n  this.next();\n  node.argument = this.parseMaybeUnary(null, true, false, forInit);\n  return this.finishNode(node, \"AwaitExpression\")\n};\n\nvar pp$4 = Parser.prototype;\n\n// This function is used to raise exceptions on parse errors. It\n// takes an offset integer (into the current `input`) to indicate\n// the location of the error, attaches the position to the end\n// of the error message, and then raises a `SyntaxError` with that\n// message.\n\npp$4.raise = function(pos, message) {\n  var loc = getLineInfo(this.input, pos);\n  message += \" (\" + loc.line + \":\" + loc.column + \")\";\n  var err = new SyntaxError(message);\n  err.pos = pos; err.loc = loc; err.raisedAt = this.pos;\n  throw err\n};\n\npp$4.raiseRecoverable = pp$4.raise;\n\npp$4.curPosition = function() {\n  if (this.options.locations) {\n    return new Position(this.curLine, this.pos - this.lineStart)\n  }\n};\n\nvar pp$3 = Parser.prototype;\n\nvar Scope = function Scope(flags) {\n  this.flags = flags;\n  // A list of var-declared names in the current lexical scope\n  this.var = [];\n  // A list of lexically-declared names in the current lexical scope\n  this.lexical = [];\n  // A list of lexically-declared FunctionDeclaration names in the current lexical scope\n  this.functions = [];\n  // A switch to disallow the identifier reference 'arguments'\n  this.inClassFieldInit = false;\n};\n\n// The functions in this module keep track of declared variables in the current scope in order to detect duplicate variable names.\n\npp$3.enterScope = function(flags) {\n  this.scopeStack.push(new Scope(flags));\n};\n\npp$3.exitScope = function() {\n  this.scopeStack.pop();\n};\n\n// The spec says:\n// > At the top level of a function, or script, function declarations are\n// > treated like var declarations rather than like lexical declarations.\npp$3.treatFunctionsAsVarInScope = function(scope) {\n  return (scope.flags & SCOPE_FUNCTION) || !this.inModule && (scope.flags & SCOPE_TOP)\n};\n\npp$3.declareName = function(name, bindingType, pos) {\n  var redeclared = false;\n  if (bindingType === BIND_LEXICAL) {\n    var scope = this.currentScope();\n    redeclared = scope.lexical.indexOf(name) > -1 || scope.functions.indexOf(name) > -1 || scope.var.indexOf(name) > -1;\n    scope.lexical.push(name);\n    if (this.inModule && (scope.flags & SCOPE_TOP))\n      { delete this.undefinedExports[name]; }\n  } else if (bindingType === BIND_SIMPLE_CATCH) {\n    var scope$1 = this.currentScope();\n    scope$1.lexical.push(name);\n  } else if (bindingType === BIND_FUNCTION) {\n    var scope$2 = this.currentScope();\n    if (this.treatFunctionsAsVar)\n      { redeclared = scope$2.lexical.indexOf(name) > -1; }\n    else\n      { redeclared = scope$2.lexical.indexOf(name) > -1 || scope$2.var.indexOf(name) > -1; }\n    scope$2.functions.push(name);\n  } else {\n    for (var i = this.scopeStack.length - 1; i >= 0; --i) {\n      var scope$3 = this.scopeStack[i];\n      if (scope$3.lexical.indexOf(name) > -1 && !((scope$3.flags & SCOPE_SIMPLE_CATCH) && scope$3.lexical[0] === name) ||\n          !this.treatFunctionsAsVarInScope(scope$3) && scope$3.functions.indexOf(name) > -1) {\n        redeclared = true;\n        break\n      }\n      scope$3.var.push(name);\n      if (this.inModule && (scope$3.flags & SCOPE_TOP))\n        { delete this.undefinedExports[name]; }\n      if (scope$3.flags & SCOPE_VAR) { break }\n    }\n  }\n  if (redeclared) { this.raiseRecoverable(pos, (\"Identifier '\" + name + \"' has already been declared\")); }\n};\n\npp$3.checkLocalExport = function(id) {\n  // scope.functions must be empty as Module code is always strict.\n  if (this.scopeStack[0].lexical.indexOf(id.name) === -1 &&\n      this.scopeStack[0].var.indexOf(id.name) === -1) {\n    this.undefinedExports[id.name] = id;\n  }\n};\n\npp$3.currentScope = function() {\n  return this.scopeStack[this.scopeStack.length - 1]\n};\n\npp$3.currentVarScope = function() {\n  for (var i = this.scopeStack.length - 1;; i--) {\n    var scope = this.scopeStack[i];\n    if (scope.flags & SCOPE_VAR) { return scope }\n  }\n};\n\n// Could be useful for `this`, `new.target`, `super()`, `super.property`, and `super[property]`.\npp$3.currentThisScope = function() {\n  for (var i = this.scopeStack.length - 1;; i--) {\n    var scope = this.scopeStack[i];\n    if (scope.flags & SCOPE_VAR && !(scope.flags & SCOPE_ARROW)) { return scope }\n  }\n};\n\nvar Node = function Node(parser, pos, loc) {\n  this.type = \"\";\n  this.start = pos;\n  this.end = 0;\n  if (parser.options.locations)\n    { this.loc = new SourceLocation(parser, loc); }\n  if (parser.options.directSourceFile)\n    { this.sourceFile = parser.options.directSourceFile; }\n  if (parser.options.ranges)\n    { this.range = [pos, 0]; }\n};\n\n// Start an AST node, attaching a start offset.\n\nvar pp$2 = Parser.prototype;\n\npp$2.startNode = function() {\n  return new Node(this, this.start, this.startLoc)\n};\n\npp$2.startNodeAt = function(pos, loc) {\n  return new Node(this, pos, loc)\n};\n\n// Finish an AST node, adding `type` and `end` properties.\n\nfunction finishNodeAt(node, type, pos, loc) {\n  node.type = type;\n  node.end = pos;\n  if (this.options.locations)\n    { node.loc.end = loc; }\n  if (this.options.ranges)\n    { node.range[1] = pos; }\n  return node\n}\n\npp$2.finishNode = function(node, type) {\n  return finishNodeAt.call(this, node, type, this.lastTokEnd, this.lastTokEndLoc)\n};\n\n// Finish node at given position\n\npp$2.finishNodeAt = function(node, type, pos, loc) {\n  return finishNodeAt.call(this, node, type, pos, loc)\n};\n\npp$2.copyNode = function(node) {\n  var newNode = new Node(this, node.start, this.startLoc);\n  for (var prop in node) { newNode[prop] = node[prop]; }\n  return newNode\n};\n\n// This file contains Unicode properties extracted from the ECMAScript specification.\n// The lists are extracted like so:\n// $$('#table-binary-unicode-properties > figure > table > tbody > tr > td:nth-child(1) code').map(el => el.innerText)\n\n// #table-binary-unicode-properties\nvar ecma9BinaryProperties = \"ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS\";\nvar ecma10BinaryProperties = ecma9BinaryProperties + \" Extended_Pictographic\";\nvar ecma11BinaryProperties = ecma10BinaryProperties;\nvar ecma12BinaryProperties = ecma11BinaryProperties + \" EBase EComp EMod EPres ExtPict\";\nvar ecma13BinaryProperties = ecma12BinaryProperties;\nvar ecma14BinaryProperties = ecma13BinaryProperties;\n\nvar unicodeBinaryProperties = {\n  9: ecma9BinaryProperties,\n  10: ecma10BinaryProperties,\n  11: ecma11BinaryProperties,\n  12: ecma12BinaryProperties,\n  13: ecma13BinaryProperties,\n  14: ecma14BinaryProperties\n};\n\n// #table-binary-unicode-properties-of-strings\nvar ecma14BinaryPropertiesOfStrings = \"Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji\";\n\nvar unicodeBinaryPropertiesOfStrings = {\n  9: \"\",\n  10: \"\",\n  11: \"\",\n  12: \"\",\n  13: \"\",\n  14: ecma14BinaryPropertiesOfStrings\n};\n\n// #table-unicode-general-category-values\nvar unicodeGeneralCategoryValues = \"Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu\";\n\n// #table-unicode-script-values\nvar ecma9ScriptValues = \"Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb\";\nvar ecma10ScriptValues = ecma9ScriptValues + \" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd\";\nvar ecma11ScriptValues = ecma10ScriptValues + \" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho\";\nvar ecma12ScriptValues = ecma11ScriptValues + \" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi\";\nvar ecma13ScriptValues = ecma12ScriptValues + \" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith\";\nvar ecma14ScriptValues = ecma13ScriptValues + \" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz\";\n\nvar unicodeScriptValues = {\n  9: ecma9ScriptValues,\n  10: ecma10ScriptValues,\n  11: ecma11ScriptValues,\n  12: ecma12ScriptValues,\n  13: ecma13ScriptValues,\n  14: ecma14ScriptValues\n};\n\nvar data = {};\nfunction buildUnicodeData(ecmaVersion) {\n  var d = data[ecmaVersion] = {\n    binary: wordsRegexp(unicodeBinaryProperties[ecmaVersion] + \" \" + unicodeGeneralCategoryValues),\n    binaryOfStrings: wordsRegexp(unicodeBinaryPropertiesOfStrings[ecmaVersion]),\n    nonBinary: {\n      General_Category: wordsRegexp(unicodeGeneralCategoryValues),\n      Script: wordsRegexp(unicodeScriptValues[ecmaVersion])\n    }\n  };\n  d.nonBinary.Script_Extensions = d.nonBinary.Script;\n\n  d.nonBinary.gc = d.nonBinary.General_Category;\n  d.nonBinary.sc = d.nonBinary.Script;\n  d.nonBinary.scx = d.nonBinary.Script_Extensions;\n}\n\nfor (var i = 0, list = [9, 10, 11, 12, 13, 14]; i < list.length; i += 1) {\n  var ecmaVersion = list[i];\n\n  buildUnicodeData(ecmaVersion);\n}\n\nvar pp$1 = Parser.prototype;\n\nvar RegExpValidationState = function RegExpValidationState(parser) {\n  this.parser = parser;\n  this.validFlags = \"gim\" + (parser.options.ecmaVersion >= 6 ? \"uy\" : \"\") + (parser.options.ecmaVersion >= 9 ? \"s\" : \"\") + (parser.options.ecmaVersion >= 13 ? \"d\" : \"\") + (parser.options.ecmaVersion >= 15 ? \"v\" : \"\");\n  this.unicodeProperties = data[parser.options.ecmaVersion >= 14 ? 14 : parser.options.ecmaVersion];\n  this.source = \"\";\n  this.flags = \"\";\n  this.start = 0;\n  this.switchU = false;\n  this.switchV = false;\n  this.switchN = false;\n  this.pos = 0;\n  this.lastIntValue = 0;\n  this.lastStringValue = \"\";\n  this.lastAssertionIsQuantifiable = false;\n  this.numCapturingParens = 0;\n  this.maxBackReference = 0;\n  this.groupNames = [];\n  this.backReferenceNames = [];\n};\n\nRegExpValidationState.prototype.reset = function reset (start, pattern, flags) {\n  var unicodeSets = flags.indexOf(\"v\") !== -1;\n  var unicode = flags.indexOf(\"u\") !== -1;\n  this.start = start | 0;\n  this.source = pattern + \"\";\n  this.flags = flags;\n  if (unicodeSets && this.parser.options.ecmaVersion >= 15) {\n    this.switchU = true;\n    this.switchV = true;\n    this.switchN = true;\n  } else {\n    this.switchU = unicode && this.parser.options.ecmaVersion >= 6;\n    this.switchV = false;\n    this.switchN = unicode && this.parser.options.ecmaVersion >= 9;\n  }\n};\n\nRegExpValidationState.prototype.raise = function raise (message) {\n  this.parser.raiseRecoverable(this.start, (\"Invalid regular expression: /\" + (this.source) + \"/: \" + message));\n};\n\n// If u flag is given, this returns the code point at the index (it combines a surrogate pair).\n// Otherwise, this returns the code unit of the index (can be a part of a surrogate pair).\nRegExpValidationState.prototype.at = function at (i, forceU) {\n    if ( forceU === void 0 ) forceU = false;\n\n  var s = this.source;\n  var l = s.length;\n  if (i >= l) {\n    return -1\n  }\n  var c = s.charCodeAt(i);\n  if (!(forceU || this.switchU) || c <= 0xD7FF || c >= 0xE000 || i + 1 >= l) {\n    return c\n  }\n  var next = s.charCodeAt(i + 1);\n  return next >= 0xDC00 && next <= 0xDFFF ? (c << 10) + next - 0x35FDC00 : c\n};\n\nRegExpValidationState.prototype.nextIndex = function nextIndex (i, forceU) {\n    if ( forceU === void 0 ) forceU = false;\n\n  var s = this.source;\n  var l = s.length;\n  if (i >= l) {\n    return l\n  }\n  var c = s.charCodeAt(i), next;\n  if (!(forceU || this.switchU) || c <= 0xD7FF || c >= 0xE000 || i + 1 >= l ||\n      (next = s.charCodeAt(i + 1)) < 0xDC00 || next > 0xDFFF) {\n    return i + 1\n  }\n  return i + 2\n};\n\nRegExpValidationState.prototype.current = function current (forceU) {\n    if ( forceU === void 0 ) forceU = false;\n\n  return this.at(this.pos, forceU)\n};\n\nRegExpValidationState.prototype.lookahead = function lookahead (forceU) {\n    if ( forceU === void 0 ) forceU = false;\n\n  return this.at(this.nextIndex(this.pos, forceU), forceU)\n};\n\nRegExpValidationState.prototype.advance = function advance (forceU) {\n    if ( forceU === void 0 ) forceU = false;\n\n  this.pos = this.nextIndex(this.pos, forceU);\n};\n\nRegExpValidationState.prototype.eat = function eat (ch, forceU) {\n    if ( forceU === void 0 ) forceU = false;\n\n  if (this.current(forceU) === ch) {\n    this.advance(forceU);\n    return true\n  }\n  return false\n};\n\nRegExpValidationState.prototype.eatChars = function eatChars (chs, forceU) {\n    if ( forceU === void 0 ) forceU = false;\n\n  var pos = this.pos;\n  for (var i = 0, list = chs; i < list.length; i += 1) {\n    var ch = list[i];\n\n      var current = this.at(pos, forceU);\n    if (current === -1 || current !== ch) {\n      return false\n    }\n    pos = this.nextIndex(pos, forceU);\n  }\n  this.pos = pos;\n  return true\n};\n\n/**\n * Validate the flags part of a given RegExpLiteral.\n *\n * @param {RegExpValidationState} state The state to validate RegExp.\n * @returns {void}\n */\npp$1.validateRegExpFlags = function(state) {\n  var validFlags = state.validFlags;\n  var flags = state.flags;\n\n  var u = false;\n  var v = false;\n\n  for (var i = 0; i < flags.length; i++) {\n    var flag = flags.charAt(i);\n    if (validFlags.indexOf(flag) === -1) {\n      this.raise(state.start, \"Invalid regular expression flag\");\n    }\n    if (flags.indexOf(flag, i + 1) > -1) {\n      this.raise(state.start, \"Duplicate regular expression flag\");\n    }\n    if (flag === \"u\") { u = true; }\n    if (flag === \"v\") { v = true; }\n  }\n  if (this.options.ecmaVersion >= 15 && u && v) {\n    this.raise(state.start, \"Invalid regular expression flag\");\n  }\n};\n\n/**\n * Validate the pattern part of a given RegExpLiteral.\n *\n * @param {RegExpValidationState} state The state to validate RegExp.\n * @returns {void}\n */\npp$1.validateRegExpPattern = function(state) {\n  this.regexp_pattern(state);\n\n  // The goal symbol for the parse is |Pattern[~U, ~N]|. If the result of\n  // parsing contains a |GroupName|, reparse with the goal symbol\n  // |Pattern[~U, +N]| and use this result instead. Throw a *SyntaxError*\n  // exception if _P_ did not conform to the grammar, if any elements of _P_\n  // were not matched by the parse, or if any Early Error conditions exist.\n  if (!state.switchN && this.options.ecmaVersion >= 9 && state.groupNames.length > 0) {\n    state.switchN = true;\n    this.regexp_pattern(state);\n  }\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-Pattern\npp$1.regexp_pattern = function(state) {\n  state.pos = 0;\n  state.lastIntValue = 0;\n  state.lastStringValue = \"\";\n  state.lastAssertionIsQuantifiable = false;\n  state.numCapturingParens = 0;\n  state.maxBackReference = 0;\n  state.groupNames.length = 0;\n  state.backReferenceNames.length = 0;\n\n  this.regexp_disjunction(state);\n\n  if (state.pos !== state.source.length) {\n    // Make the same messages as V8.\n    if (state.eat(0x29 /* ) */)) {\n      state.raise(\"Unmatched ')'\");\n    }\n    if (state.eat(0x5D /* ] */) || state.eat(0x7D /* } */)) {\n      state.raise(\"Lone quantifier brackets\");\n    }\n  }\n  if (state.maxBackReference > state.numCapturingParens) {\n    state.raise(\"Invalid escape\");\n  }\n  for (var i = 0, list = state.backReferenceNames; i < list.length; i += 1) {\n    var name = list[i];\n\n    if (state.groupNames.indexOf(name) === -1) {\n      state.raise(\"Invalid named capture referenced\");\n    }\n  }\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-Disjunction\npp$1.regexp_disjunction = function(state) {\n  this.regexp_alternative(state);\n  while (state.eat(0x7C /* | */)) {\n    this.regexp_alternative(state);\n  }\n\n  // Make the same message as V8.\n  if (this.regexp_eatQuantifier(state, true)) {\n    state.raise(\"Nothing to repeat\");\n  }\n  if (state.eat(0x7B /* { */)) {\n    state.raise(\"Lone quantifier brackets\");\n  }\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-Alternative\npp$1.regexp_alternative = function(state) {\n  while (state.pos < state.source.length && this.regexp_eatTerm(state))\n    { }\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-Term\npp$1.regexp_eatTerm = function(state) {\n  if (this.regexp_eatAssertion(state)) {\n    // Handle `QuantifiableAssertion Quantifier` alternative.\n    // `state.lastAssertionIsQuantifiable` is true if the last eaten Assertion\n    // is a QuantifiableAssertion.\n    if (state.lastAssertionIsQuantifiable && this.regexp_eatQuantifier(state)) {\n      // Make the same message as V8.\n      if (state.switchU) {\n        state.raise(\"Invalid quantifier\");\n      }\n    }\n    return true\n  }\n\n  if (state.switchU ? this.regexp_eatAtom(state) : this.regexp_eatExtendedAtom(state)) {\n    this.regexp_eatQuantifier(state);\n    return true\n  }\n\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-Assertion\npp$1.regexp_eatAssertion = function(state) {\n  var start = state.pos;\n  state.lastAssertionIsQuantifiable = false;\n\n  // ^, $\n  if (state.eat(0x5E /* ^ */) || state.eat(0x24 /* $ */)) {\n    return true\n  }\n\n  // \\b \\B\n  if (state.eat(0x5C /* \\ */)) {\n    if (state.eat(0x42 /* B */) || state.eat(0x62 /* b */)) {\n      return true\n    }\n    state.pos = start;\n  }\n\n  // Lookahead / Lookbehind\n  if (state.eat(0x28 /* ( */) && state.eat(0x3F /* ? */)) {\n    var lookbehind = false;\n    if (this.options.ecmaVersion >= 9) {\n      lookbehind = state.eat(0x3C /* < */);\n    }\n    if (state.eat(0x3D /* = */) || state.eat(0x21 /* ! */)) {\n      this.regexp_disjunction(state);\n      if (!state.eat(0x29 /* ) */)) {\n        state.raise(\"Unterminated group\");\n      }\n      state.lastAssertionIsQuantifiable = !lookbehind;\n      return true\n    }\n  }\n\n  state.pos = start;\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-Quantifier\npp$1.regexp_eatQuantifier = function(state, noError) {\n  if ( noError === void 0 ) noError = false;\n\n  if (this.regexp_eatQuantifierPrefix(state, noError)) {\n    state.eat(0x3F /* ? */);\n    return true\n  }\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-QuantifierPrefix\npp$1.regexp_eatQuantifierPrefix = function(state, noError) {\n  return (\n    state.eat(0x2A /* * */) ||\n    state.eat(0x2B /* + */) ||\n    state.eat(0x3F /* ? */) ||\n    this.regexp_eatBracedQuantifier(state, noError)\n  )\n};\npp$1.regexp_eatBracedQuantifier = function(state, noError) {\n  var start = state.pos;\n  if (state.eat(0x7B /* { */)) {\n    var min = 0, max = -1;\n    if (this.regexp_eatDecimalDigits(state)) {\n      min = state.lastIntValue;\n      if (state.eat(0x2C /* , */) && this.regexp_eatDecimalDigits(state)) {\n        max = state.lastIntValue;\n      }\n      if (state.eat(0x7D /* } */)) {\n        // SyntaxError in https://www.ecma-international.org/ecma-262/8.0/#sec-term\n        if (max !== -1 && max < min && !noError) {\n          state.raise(\"numbers out of order in {} quantifier\");\n        }\n        return true\n      }\n    }\n    if (state.switchU && !noError) {\n      state.raise(\"Incomplete quantifier\");\n    }\n    state.pos = start;\n  }\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-Atom\npp$1.regexp_eatAtom = function(state) {\n  return (\n    this.regexp_eatPatternCharacters(state) ||\n    state.eat(0x2E /* . */) ||\n    this.regexp_eatReverseSolidusAtomEscape(state) ||\n    this.regexp_eatCharacterClass(state) ||\n    this.regexp_eatUncapturingGroup(state) ||\n    this.regexp_eatCapturingGroup(state)\n  )\n};\npp$1.regexp_eatReverseSolidusAtomEscape = function(state) {\n  var start = state.pos;\n  if (state.eat(0x5C /* \\ */)) {\n    if (this.regexp_eatAtomEscape(state)) {\n      return true\n    }\n    state.pos = start;\n  }\n  return false\n};\npp$1.regexp_eatUncapturingGroup = function(state) {\n  var start = state.pos;\n  if (state.eat(0x28 /* ( */)) {\n    if (state.eat(0x3F /* ? */) && state.eat(0x3A /* : */)) {\n      this.regexp_disjunction(state);\n      if (state.eat(0x29 /* ) */)) {\n        return true\n      }\n      state.raise(\"Unterminated group\");\n    }\n    state.pos = start;\n  }\n  return false\n};\npp$1.regexp_eatCapturingGroup = function(state) {\n  if (state.eat(0x28 /* ( */)) {\n    if (this.options.ecmaVersion >= 9) {\n      this.regexp_groupSpecifier(state);\n    } else if (state.current() === 0x3F /* ? */) {\n      state.raise(\"Invalid group\");\n    }\n    this.regexp_disjunction(state);\n    if (state.eat(0x29 /* ) */)) {\n      state.numCapturingParens += 1;\n      return true\n    }\n    state.raise(\"Unterminated group\");\n  }\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-ExtendedAtom\npp$1.regexp_eatExtendedAtom = function(state) {\n  return (\n    state.eat(0x2E /* . */) ||\n    this.regexp_eatReverseSolidusAtomEscape(state) ||\n    this.regexp_eatCharacterClass(state) ||\n    this.regexp_eatUncapturingGroup(state) ||\n    this.regexp_eatCapturingGroup(state) ||\n    this.regexp_eatInvalidBracedQuantifier(state) ||\n    this.regexp_eatExtendedPatternCharacter(state)\n  )\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-InvalidBracedQuantifier\npp$1.regexp_eatInvalidBracedQuantifier = function(state) {\n  if (this.regexp_eatBracedQuantifier(state, true)) {\n    state.raise(\"Nothing to repeat\");\n  }\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-SyntaxCharacter\npp$1.regexp_eatSyntaxCharacter = function(state) {\n  var ch = state.current();\n  if (isSyntaxCharacter(ch)) {\n    state.lastIntValue = ch;\n    state.advance();\n    return true\n  }\n  return false\n};\nfunction isSyntaxCharacter(ch) {\n  return (\n    ch === 0x24 /* $ */ ||\n    ch >= 0x28 /* ( */ && ch <= 0x2B /* + */ ||\n    ch === 0x2E /* . */ ||\n    ch === 0x3F /* ? */ ||\n    ch >= 0x5B /* [ */ && ch <= 0x5E /* ^ */ ||\n    ch >= 0x7B /* { */ && ch <= 0x7D /* } */\n  )\n}\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-PatternCharacter\n// But eat eager.\npp$1.regexp_eatPatternCharacters = function(state) {\n  var start = state.pos;\n  var ch = 0;\n  while ((ch = state.current()) !== -1 && !isSyntaxCharacter(ch)) {\n    state.advance();\n  }\n  return state.pos !== start\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-ExtendedPatternCharacter\npp$1.regexp_eatExtendedPatternCharacter = function(state) {\n  var ch = state.current();\n  if (\n    ch !== -1 &&\n    ch !== 0x24 /* $ */ &&\n    !(ch >= 0x28 /* ( */ && ch <= 0x2B /* + */) &&\n    ch !== 0x2E /* . */ &&\n    ch !== 0x3F /* ? */ &&\n    ch !== 0x5B /* [ */ &&\n    ch !== 0x5E /* ^ */ &&\n    ch !== 0x7C /* | */\n  ) {\n    state.advance();\n    return true\n  }\n  return false\n};\n\n// GroupSpecifier ::\n//   [empty]\n//   `?` GroupName\npp$1.regexp_groupSpecifier = function(state) {\n  if (state.eat(0x3F /* ? */)) {\n    if (this.regexp_eatGroupName(state)) {\n      if (state.groupNames.indexOf(state.lastStringValue) !== -1) {\n        state.raise(\"Duplicate capture group name\");\n      }\n      state.groupNames.push(state.lastStringValue);\n      return\n    }\n    state.raise(\"Invalid group\");\n  }\n};\n\n// GroupName ::\n//   `<` RegExpIdentifierName `>`\n// Note: this updates `state.lastStringValue` property with the eaten name.\npp$1.regexp_eatGroupName = function(state) {\n  state.lastStringValue = \"\";\n  if (state.eat(0x3C /* < */)) {\n    if (this.regexp_eatRegExpIdentifierName(state) && state.eat(0x3E /* > */)) {\n      return true\n    }\n    state.raise(\"Invalid capture group name\");\n  }\n  return false\n};\n\n// RegExpIdentifierName ::\n//   RegExpIdentifierStart\n//   RegExpIdentifierName RegExpIdentifierPart\n// Note: this updates `state.lastStringValue` property with the eaten name.\npp$1.regexp_eatRegExpIdentifierName = function(state) {\n  state.lastStringValue = \"\";\n  if (this.regexp_eatRegExpIdentifierStart(state)) {\n    state.lastStringValue += codePointToString(state.lastIntValue);\n    while (this.regexp_eatRegExpIdentifierPart(state)) {\n      state.lastStringValue += codePointToString(state.lastIntValue);\n    }\n    return true\n  }\n  return false\n};\n\n// RegExpIdentifierStart ::\n//   UnicodeIDStart\n//   `$`\n//   `_`\n//   `\\` RegExpUnicodeEscapeSequence[+U]\npp$1.regexp_eatRegExpIdentifierStart = function(state) {\n  var start = state.pos;\n  var forceU = this.options.ecmaVersion >= 11;\n  var ch = state.current(forceU);\n  state.advance(forceU);\n\n  if (ch === 0x5C /* \\ */ && this.regexp_eatRegExpUnicodeEscapeSequence(state, forceU)) {\n    ch = state.lastIntValue;\n  }\n  if (isRegExpIdentifierStart(ch)) {\n    state.lastIntValue = ch;\n    return true\n  }\n\n  state.pos = start;\n  return false\n};\nfunction isRegExpIdentifierStart(ch) {\n  return isIdentifierStart(ch, true) || ch === 0x24 /* $ */ || ch === 0x5F /* _ */\n}\n\n// RegExpIdentifierPart ::\n//   UnicodeIDContinue\n//   `$`\n//   `_`\n//   `\\` RegExpUnicodeEscapeSequence[+U]\n//   <ZWNJ>\n//   <ZWJ>\npp$1.regexp_eatRegExpIdentifierPart = function(state) {\n  var start = state.pos;\n  var forceU = this.options.ecmaVersion >= 11;\n  var ch = state.current(forceU);\n  state.advance(forceU);\n\n  if (ch === 0x5C /* \\ */ && this.regexp_eatRegExpUnicodeEscapeSequence(state, forceU)) {\n    ch = state.lastIntValue;\n  }\n  if (isRegExpIdentifierPart(ch)) {\n    state.lastIntValue = ch;\n    return true\n  }\n\n  state.pos = start;\n  return false\n};\nfunction isRegExpIdentifierPart(ch) {\n  return isIdentifierChar(ch, true) || ch === 0x24 /* $ */ || ch === 0x5F /* _ */ || ch === 0x200C /* <ZWNJ> */ || ch === 0x200D /* <ZWJ> */\n}\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-AtomEscape\npp$1.regexp_eatAtomEscape = function(state) {\n  if (\n    this.regexp_eatBackReference(state) ||\n    this.regexp_eatCharacterClassEscape(state) ||\n    this.regexp_eatCharacterEscape(state) ||\n    (state.switchN && this.regexp_eatKGroupName(state))\n  ) {\n    return true\n  }\n  if (state.switchU) {\n    // Make the same message as V8.\n    if (state.current() === 0x63 /* c */) {\n      state.raise(\"Invalid unicode escape\");\n    }\n    state.raise(\"Invalid escape\");\n  }\n  return false\n};\npp$1.regexp_eatBackReference = function(state) {\n  var start = state.pos;\n  if (this.regexp_eatDecimalEscape(state)) {\n    var n = state.lastIntValue;\n    if (state.switchU) {\n      // For SyntaxError in https://www.ecma-international.org/ecma-262/8.0/#sec-atomescape\n      if (n > state.maxBackReference) {\n        state.maxBackReference = n;\n      }\n      return true\n    }\n    if (n <= state.numCapturingParens) {\n      return true\n    }\n    state.pos = start;\n  }\n  return false\n};\npp$1.regexp_eatKGroupName = function(state) {\n  if (state.eat(0x6B /* k */)) {\n    if (this.regexp_eatGroupName(state)) {\n      state.backReferenceNames.push(state.lastStringValue);\n      return true\n    }\n    state.raise(\"Invalid named reference\");\n  }\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-CharacterEscape\npp$1.regexp_eatCharacterEscape = function(state) {\n  return (\n    this.regexp_eatControlEscape(state) ||\n    this.regexp_eatCControlLetter(state) ||\n    this.regexp_eatZero(state) ||\n    this.regexp_eatHexEscapeSequence(state) ||\n    this.regexp_eatRegExpUnicodeEscapeSequence(state, false) ||\n    (!state.switchU && this.regexp_eatLegacyOctalEscapeSequence(state)) ||\n    this.regexp_eatIdentityEscape(state)\n  )\n};\npp$1.regexp_eatCControlLetter = function(state) {\n  var start = state.pos;\n  if (state.eat(0x63 /* c */)) {\n    if (this.regexp_eatControlLetter(state)) {\n      return true\n    }\n    state.pos = start;\n  }\n  return false\n};\npp$1.regexp_eatZero = function(state) {\n  if (state.current() === 0x30 /* 0 */ && !isDecimalDigit(state.lookahead())) {\n    state.lastIntValue = 0;\n    state.advance();\n    return true\n  }\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-ControlEscape\npp$1.regexp_eatControlEscape = function(state) {\n  var ch = state.current();\n  if (ch === 0x74 /* t */) {\n    state.lastIntValue = 0x09; /* \\t */\n    state.advance();\n    return true\n  }\n  if (ch === 0x6E /* n */) {\n    state.lastIntValue = 0x0A; /* \\n */\n    state.advance();\n    return true\n  }\n  if (ch === 0x76 /* v */) {\n    state.lastIntValue = 0x0B; /* \\v */\n    state.advance();\n    return true\n  }\n  if (ch === 0x66 /* f */) {\n    state.lastIntValue = 0x0C; /* \\f */\n    state.advance();\n    return true\n  }\n  if (ch === 0x72 /* r */) {\n    state.lastIntValue = 0x0D; /* \\r */\n    state.advance();\n    return true\n  }\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-ControlLetter\npp$1.regexp_eatControlLetter = function(state) {\n  var ch = state.current();\n  if (isControlLetter(ch)) {\n    state.lastIntValue = ch % 0x20;\n    state.advance();\n    return true\n  }\n  return false\n};\nfunction isControlLetter(ch) {\n  return (\n    (ch >= 0x41 /* A */ && ch <= 0x5A /* Z */) ||\n    (ch >= 0x61 /* a */ && ch <= 0x7A /* z */)\n  )\n}\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-RegExpUnicodeEscapeSequence\npp$1.regexp_eatRegExpUnicodeEscapeSequence = function(state, forceU) {\n  if ( forceU === void 0 ) forceU = false;\n\n  var start = state.pos;\n  var switchU = forceU || state.switchU;\n\n  if (state.eat(0x75 /* u */)) {\n    if (this.regexp_eatFixedHexDigits(state, 4)) {\n      var lead = state.lastIntValue;\n      if (switchU && lead >= 0xD800 && lead <= 0xDBFF) {\n        var leadSurrogateEnd = state.pos;\n        if (state.eat(0x5C /* \\ */) && state.eat(0x75 /* u */) && this.regexp_eatFixedHexDigits(state, 4)) {\n          var trail = state.lastIntValue;\n          if (trail >= 0xDC00 && trail <= 0xDFFF) {\n            state.lastIntValue = (lead - 0xD800) * 0x400 + (trail - 0xDC00) + 0x10000;\n            return true\n          }\n        }\n        state.pos = leadSurrogateEnd;\n        state.lastIntValue = lead;\n      }\n      return true\n    }\n    if (\n      switchU &&\n      state.eat(0x7B /* { */) &&\n      this.regexp_eatHexDigits(state) &&\n      state.eat(0x7D /* } */) &&\n      isValidUnicode(state.lastIntValue)\n    ) {\n      return true\n    }\n    if (switchU) {\n      state.raise(\"Invalid unicode escape\");\n    }\n    state.pos = start;\n  }\n\n  return false\n};\nfunction isValidUnicode(ch) {\n  return ch >= 0 && ch <= 0x10FFFF\n}\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-IdentityEscape\npp$1.regexp_eatIdentityEscape = function(state) {\n  if (state.switchU) {\n    if (this.regexp_eatSyntaxCharacter(state)) {\n      return true\n    }\n    if (state.eat(0x2F /* / */)) {\n      state.lastIntValue = 0x2F; /* / */\n      return true\n    }\n    return false\n  }\n\n  var ch = state.current();\n  if (ch !== 0x63 /* c */ && (!state.switchN || ch !== 0x6B /* k */)) {\n    state.lastIntValue = ch;\n    state.advance();\n    return true\n  }\n\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-DecimalEscape\npp$1.regexp_eatDecimalEscape = function(state) {\n  state.lastIntValue = 0;\n  var ch = state.current();\n  if (ch >= 0x31 /* 1 */ && ch <= 0x39 /* 9 */) {\n    do {\n      state.lastIntValue = 10 * state.lastIntValue + (ch - 0x30 /* 0 */);\n      state.advance();\n    } while ((ch = state.current()) >= 0x30 /* 0 */ && ch <= 0x39 /* 9 */)\n    return true\n  }\n  return false\n};\n\n// Return values used by character set parsing methods, needed to\n// forbid negation of sets that can match strings.\nvar CharSetNone = 0; // Nothing parsed\nvar CharSetOk = 1; // Construct parsed, cannot contain strings\nvar CharSetString = 2; // Construct parsed, can contain strings\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-CharacterClassEscape\npp$1.regexp_eatCharacterClassEscape = function(state) {\n  var ch = state.current();\n\n  if (isCharacterClassEscape(ch)) {\n    state.lastIntValue = -1;\n    state.advance();\n    return CharSetOk\n  }\n\n  var negate = false;\n  if (\n    state.switchU &&\n    this.options.ecmaVersion >= 9 &&\n    ((negate = ch === 0x50 /* P */) || ch === 0x70 /* p */)\n  ) {\n    state.lastIntValue = -1;\n    state.advance();\n    var result;\n    if (\n      state.eat(0x7B /* { */) &&\n      (result = this.regexp_eatUnicodePropertyValueExpression(state)) &&\n      state.eat(0x7D /* } */)\n    ) {\n      if (negate && result === CharSetString) { state.raise(\"Invalid property name\"); }\n      return result\n    }\n    state.raise(\"Invalid property name\");\n  }\n\n  return CharSetNone\n};\n\nfunction isCharacterClassEscape(ch) {\n  return (\n    ch === 0x64 /* d */ ||\n    ch === 0x44 /* D */ ||\n    ch === 0x73 /* s */ ||\n    ch === 0x53 /* S */ ||\n    ch === 0x77 /* w */ ||\n    ch === 0x57 /* W */\n  )\n}\n\n// UnicodePropertyValueExpression ::\n//   UnicodePropertyName `=` UnicodePropertyValue\n//   LoneUnicodePropertyNameOrValue\npp$1.regexp_eatUnicodePropertyValueExpression = function(state) {\n  var start = state.pos;\n\n  // UnicodePropertyName `=` UnicodePropertyValue\n  if (this.regexp_eatUnicodePropertyName(state) && state.eat(0x3D /* = */)) {\n    var name = state.lastStringValue;\n    if (this.regexp_eatUnicodePropertyValue(state)) {\n      var value = state.lastStringValue;\n      this.regexp_validateUnicodePropertyNameAndValue(state, name, value);\n      return CharSetOk\n    }\n  }\n  state.pos = start;\n\n  // LoneUnicodePropertyNameOrValue\n  if (this.regexp_eatLoneUnicodePropertyNameOrValue(state)) {\n    var nameOrValue = state.lastStringValue;\n    return this.regexp_validateUnicodePropertyNameOrValue(state, nameOrValue)\n  }\n  return CharSetNone\n};\n\npp$1.regexp_validateUnicodePropertyNameAndValue = function(state, name, value) {\n  if (!hasOwn(state.unicodeProperties.nonBinary, name))\n    { state.raise(\"Invalid property name\"); }\n  if (!state.unicodeProperties.nonBinary[name].test(value))\n    { state.raise(\"Invalid property value\"); }\n};\n\npp$1.regexp_validateUnicodePropertyNameOrValue = function(state, nameOrValue) {\n  if (state.unicodeProperties.binary.test(nameOrValue)) { return CharSetOk }\n  if (state.switchV && state.unicodeProperties.binaryOfStrings.test(nameOrValue)) { return CharSetString }\n  state.raise(\"Invalid property name\");\n};\n\n// UnicodePropertyName ::\n//   UnicodePropertyNameCharacters\npp$1.regexp_eatUnicodePropertyName = function(state) {\n  var ch = 0;\n  state.lastStringValue = \"\";\n  while (isUnicodePropertyNameCharacter(ch = state.current())) {\n    state.lastStringValue += codePointToString(ch);\n    state.advance();\n  }\n  return state.lastStringValue !== \"\"\n};\n\nfunction isUnicodePropertyNameCharacter(ch) {\n  return isControlLetter(ch) || ch === 0x5F /* _ */\n}\n\n// UnicodePropertyValue ::\n//   UnicodePropertyValueCharacters\npp$1.regexp_eatUnicodePropertyValue = function(state) {\n  var ch = 0;\n  state.lastStringValue = \"\";\n  while (isUnicodePropertyValueCharacter(ch = state.current())) {\n    state.lastStringValue += codePointToString(ch);\n    state.advance();\n  }\n  return state.lastStringValue !== \"\"\n};\nfunction isUnicodePropertyValueCharacter(ch) {\n  return isUnicodePropertyNameCharacter(ch) || isDecimalDigit(ch)\n}\n\n// LoneUnicodePropertyNameOrValue ::\n//   UnicodePropertyValueCharacters\npp$1.regexp_eatLoneUnicodePropertyNameOrValue = function(state) {\n  return this.regexp_eatUnicodePropertyValue(state)\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-CharacterClass\npp$1.regexp_eatCharacterClass = function(state) {\n  if (state.eat(0x5B /* [ */)) {\n    var negate = state.eat(0x5E /* ^ */);\n    var result = this.regexp_classContents(state);\n    if (!state.eat(0x5D /* ] */))\n      { state.raise(\"Unterminated character class\"); }\n    if (negate && result === CharSetString)\n      { state.raise(\"Negated character class may contain strings\"); }\n    return true\n  }\n  return false\n};\n\n// https://tc39.es/ecma262/#prod-ClassContents\n// https://www.ecma-international.org/ecma-262/8.0/#prod-ClassRanges\npp$1.regexp_classContents = function(state) {\n  if (state.current() === 0x5D /* ] */) { return CharSetOk }\n  if (state.switchV) { return this.regexp_classSetExpression(state) }\n  this.regexp_nonEmptyClassRanges(state);\n  return CharSetOk\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-NonemptyClassRanges\n// https://www.ecma-international.org/ecma-262/8.0/#prod-NonemptyClassRangesNoDash\npp$1.regexp_nonEmptyClassRanges = function(state) {\n  while (this.regexp_eatClassAtom(state)) {\n    var left = state.lastIntValue;\n    if (state.eat(0x2D /* - */) && this.regexp_eatClassAtom(state)) {\n      var right = state.lastIntValue;\n      if (state.switchU && (left === -1 || right === -1)) {\n        state.raise(\"Invalid character class\");\n      }\n      if (left !== -1 && right !== -1 && left > right) {\n        state.raise(\"Range out of order in character class\");\n      }\n    }\n  }\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-ClassAtom\n// https://www.ecma-international.org/ecma-262/8.0/#prod-ClassAtomNoDash\npp$1.regexp_eatClassAtom = function(state) {\n  var start = state.pos;\n\n  if (state.eat(0x5C /* \\ */)) {\n    if (this.regexp_eatClassEscape(state)) {\n      return true\n    }\n    if (state.switchU) {\n      // Make the same message as V8.\n      var ch$1 = state.current();\n      if (ch$1 === 0x63 /* c */ || isOctalDigit(ch$1)) {\n        state.raise(\"Invalid class escape\");\n      }\n      state.raise(\"Invalid escape\");\n    }\n    state.pos = start;\n  }\n\n  var ch = state.current();\n  if (ch !== 0x5D /* ] */) {\n    state.lastIntValue = ch;\n    state.advance();\n    return true\n  }\n\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-ClassEscape\npp$1.regexp_eatClassEscape = function(state) {\n  var start = state.pos;\n\n  if (state.eat(0x62 /* b */)) {\n    state.lastIntValue = 0x08; /* <BS> */\n    return true\n  }\n\n  if (state.switchU && state.eat(0x2D /* - */)) {\n    state.lastIntValue = 0x2D; /* - */\n    return true\n  }\n\n  if (!state.switchU && state.eat(0x63 /* c */)) {\n    if (this.regexp_eatClassControlLetter(state)) {\n      return true\n    }\n    state.pos = start;\n  }\n\n  return (\n    this.regexp_eatCharacterClassEscape(state) ||\n    this.regexp_eatCharacterEscape(state)\n  )\n};\n\n// https://tc39.es/ecma262/#prod-ClassSetExpression\n// https://tc39.es/ecma262/#prod-ClassUnion\n// https://tc39.es/ecma262/#prod-ClassIntersection\n// https://tc39.es/ecma262/#prod-ClassSubtraction\npp$1.regexp_classSetExpression = function(state) {\n  var result = CharSetOk, subResult;\n  if (this.regexp_eatClassSetRange(state)) ; else if (subResult = this.regexp_eatClassSetOperand(state)) {\n    if (subResult === CharSetString) { result = CharSetString; }\n    // https://tc39.es/ecma262/#prod-ClassIntersection\n    var start = state.pos;\n    while (state.eatChars([0x26, 0x26] /* && */)) {\n      if (\n        state.current() !== 0x26 /* & */ &&\n        (subResult = this.regexp_eatClassSetOperand(state))\n      ) {\n        if (subResult !== CharSetString) { result = CharSetOk; }\n        continue\n      }\n      state.raise(\"Invalid character in character class\");\n    }\n    if (start !== state.pos) { return result }\n    // https://tc39.es/ecma262/#prod-ClassSubtraction\n    while (state.eatChars([0x2D, 0x2D] /* -- */)) {\n      if (this.regexp_eatClassSetOperand(state)) { continue }\n      state.raise(\"Invalid character in character class\");\n    }\n    if (start !== state.pos) { return result }\n  } else {\n    state.raise(\"Invalid character in character class\");\n  }\n  // https://tc39.es/ecma262/#prod-ClassUnion\n  for (;;) {\n    if (this.regexp_eatClassSetRange(state)) { continue }\n    subResult = this.regexp_eatClassSetOperand(state);\n    if (!subResult) { return result }\n    if (subResult === CharSetString) { result = CharSetString; }\n  }\n};\n\n// https://tc39.es/ecma262/#prod-ClassSetRange\npp$1.regexp_eatClassSetRange = function(state) {\n  var start = state.pos;\n  if (this.regexp_eatClassSetCharacter(state)) {\n    var left = state.lastIntValue;\n    if (state.eat(0x2D /* - */) && this.regexp_eatClassSetCharacter(state)) {\n      var right = state.lastIntValue;\n      if (left !== -1 && right !== -1 && left > right) {\n        state.raise(\"Range out of order in character class\");\n      }\n      return true\n    }\n    state.pos = start;\n  }\n  return false\n};\n\n// https://tc39.es/ecma262/#prod-ClassSetOperand\npp$1.regexp_eatClassSetOperand = function(state) {\n  if (this.regexp_eatClassSetCharacter(state)) { return CharSetOk }\n  return this.regexp_eatClassStringDisjunction(state) || this.regexp_eatNestedClass(state)\n};\n\n// https://tc39.es/ecma262/#prod-NestedClass\npp$1.regexp_eatNestedClass = function(state) {\n  var start = state.pos;\n  if (state.eat(0x5B /* [ */)) {\n    var negate = state.eat(0x5E /* ^ */);\n    var result = this.regexp_classContents(state);\n    if (state.eat(0x5D /* ] */)) {\n      if (negate && result === CharSetString) {\n        state.raise(\"Negated character class may contain strings\");\n      }\n      return result\n    }\n    state.pos = start;\n  }\n  if (state.eat(0x5C /* \\ */)) {\n    var result$1 = this.regexp_eatCharacterClassEscape(state);\n    if (result$1) {\n      return result$1\n    }\n    state.pos = start;\n  }\n  return null\n};\n\n// https://tc39.es/ecma262/#prod-ClassStringDisjunction\npp$1.regexp_eatClassStringDisjunction = function(state) {\n  var start = state.pos;\n  if (state.eatChars([0x5C, 0x71] /* \\q */)) {\n    if (state.eat(0x7B /* { */)) {\n      var result = this.regexp_classStringDisjunctionContents(state);\n      if (state.eat(0x7D /* } */)) {\n        return result\n      }\n    } else {\n      // Make the same message as V8.\n      state.raise(\"Invalid escape\");\n    }\n    state.pos = start;\n  }\n  return null\n};\n\n// https://tc39.es/ecma262/#prod-ClassStringDisjunctionContents\npp$1.regexp_classStringDisjunctionContents = function(state) {\n  var result = this.regexp_classString(state);\n  while (state.eat(0x7C /* | */)) {\n    if (this.regexp_classString(state) === CharSetString) { result = CharSetString; }\n  }\n  return result\n};\n\n// https://tc39.es/ecma262/#prod-ClassString\n// https://tc39.es/ecma262/#prod-NonEmptyClassString\npp$1.regexp_classString = function(state) {\n  var count = 0;\n  while (this.regexp_eatClassSetCharacter(state)) { count++; }\n  return count === 1 ? CharSetOk : CharSetString\n};\n\n// https://tc39.es/ecma262/#prod-ClassSetCharacter\npp$1.regexp_eatClassSetCharacter = function(state) {\n  var start = state.pos;\n  if (state.eat(0x5C /* \\ */)) {\n    if (\n      this.regexp_eatCharacterEscape(state) ||\n      this.regexp_eatClassSetReservedPunctuator(state)\n    ) {\n      return true\n    }\n    if (state.eat(0x62 /* b */)) {\n      state.lastIntValue = 0x08; /* <BS> */\n      return true\n    }\n    state.pos = start;\n    return false\n  }\n  var ch = state.current();\n  if (ch < 0 || ch === state.lookahead() && isClassSetReservedDoublePunctuatorCharacter(ch)) { return false }\n  if (isClassSetSyntaxCharacter(ch)) { return false }\n  state.advance();\n  state.lastIntValue = ch;\n  return true\n};\n\n// https://tc39.es/ecma262/#prod-ClassSetReservedDoublePunctuator\nfunction isClassSetReservedDoublePunctuatorCharacter(ch) {\n  return (\n    ch === 0x21 /* ! */ ||\n    ch >= 0x23 /* # */ && ch <= 0x26 /* & */ ||\n    ch >= 0x2A /* * */ && ch <= 0x2C /* , */ ||\n    ch === 0x2E /* . */ ||\n    ch >= 0x3A /* : */ && ch <= 0x40 /* @ */ ||\n    ch === 0x5E /* ^ */ ||\n    ch === 0x60 /* ` */ ||\n    ch === 0x7E /* ~ */\n  )\n}\n\n// https://tc39.es/ecma262/#prod-ClassSetSyntaxCharacter\nfunction isClassSetSyntaxCharacter(ch) {\n  return (\n    ch === 0x28 /* ( */ ||\n    ch === 0x29 /* ) */ ||\n    ch === 0x2D /* - */ ||\n    ch === 0x2F /* / */ ||\n    ch >= 0x5B /* [ */ && ch <= 0x5D /* ] */ ||\n    ch >= 0x7B /* { */ && ch <= 0x7D /* } */\n  )\n}\n\n// https://tc39.es/ecma262/#prod-ClassSetReservedPunctuator\npp$1.regexp_eatClassSetReservedPunctuator = function(state) {\n  var ch = state.current();\n  if (isClassSetReservedPunctuator(ch)) {\n    state.lastIntValue = ch;\n    state.advance();\n    return true\n  }\n  return false\n};\n\n// https://tc39.es/ecma262/#prod-ClassSetReservedPunctuator\nfunction isClassSetReservedPunctuator(ch) {\n  return (\n    ch === 0x21 /* ! */ ||\n    ch === 0x23 /* # */ ||\n    ch === 0x25 /* % */ ||\n    ch === 0x26 /* & */ ||\n    ch === 0x2C /* , */ ||\n    ch === 0x2D /* - */ ||\n    ch >= 0x3A /* : */ && ch <= 0x3E /* > */ ||\n    ch === 0x40 /* @ */ ||\n    ch === 0x60 /* ` */ ||\n    ch === 0x7E /* ~ */\n  )\n}\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-ClassControlLetter\npp$1.regexp_eatClassControlLetter = function(state) {\n  var ch = state.current();\n  if (isDecimalDigit(ch) || ch === 0x5F /* _ */) {\n    state.lastIntValue = ch % 0x20;\n    state.advance();\n    return true\n  }\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-HexEscapeSequence\npp$1.regexp_eatHexEscapeSequence = function(state) {\n  var start = state.pos;\n  if (state.eat(0x78 /* x */)) {\n    if (this.regexp_eatFixedHexDigits(state, 2)) {\n      return true\n    }\n    if (state.switchU) {\n      state.raise(\"Invalid escape\");\n    }\n    state.pos = start;\n  }\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-DecimalDigits\npp$1.regexp_eatDecimalDigits = function(state) {\n  var start = state.pos;\n  var ch = 0;\n  state.lastIntValue = 0;\n  while (isDecimalDigit(ch = state.current())) {\n    state.lastIntValue = 10 * state.lastIntValue + (ch - 0x30 /* 0 */);\n    state.advance();\n  }\n  return state.pos !== start\n};\nfunction isDecimalDigit(ch) {\n  return ch >= 0x30 /* 0 */ && ch <= 0x39 /* 9 */\n}\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-HexDigits\npp$1.regexp_eatHexDigits = function(state) {\n  var start = state.pos;\n  var ch = 0;\n  state.lastIntValue = 0;\n  while (isHexDigit(ch = state.current())) {\n    state.lastIntValue = 16 * state.lastIntValue + hexToInt(ch);\n    state.advance();\n  }\n  return state.pos !== start\n};\nfunction isHexDigit(ch) {\n  return (\n    (ch >= 0x30 /* 0 */ && ch <= 0x39 /* 9 */) ||\n    (ch >= 0x41 /* A */ && ch <= 0x46 /* F */) ||\n    (ch >= 0x61 /* a */ && ch <= 0x66 /* f */)\n  )\n}\nfunction hexToInt(ch) {\n  if (ch >= 0x41 /* A */ && ch <= 0x46 /* F */) {\n    return 10 + (ch - 0x41 /* A */)\n  }\n  if (ch >= 0x61 /* a */ && ch <= 0x66 /* f */) {\n    return 10 + (ch - 0x61 /* a */)\n  }\n  return ch - 0x30 /* 0 */\n}\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-LegacyOctalEscapeSequence\n// Allows only 0-377(octal) i.e. 0-255(decimal).\npp$1.regexp_eatLegacyOctalEscapeSequence = function(state) {\n  if (this.regexp_eatOctalDigit(state)) {\n    var n1 = state.lastIntValue;\n    if (this.regexp_eatOctalDigit(state)) {\n      var n2 = state.lastIntValue;\n      if (n1 <= 3 && this.regexp_eatOctalDigit(state)) {\n        state.lastIntValue = n1 * 64 + n2 * 8 + state.lastIntValue;\n      } else {\n        state.lastIntValue = n1 * 8 + n2;\n      }\n    } else {\n      state.lastIntValue = n1;\n    }\n    return true\n  }\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-OctalDigit\npp$1.regexp_eatOctalDigit = function(state) {\n  var ch = state.current();\n  if (isOctalDigit(ch)) {\n    state.lastIntValue = ch - 0x30; /* 0 */\n    state.advance();\n    return true\n  }\n  state.lastIntValue = 0;\n  return false\n};\nfunction isOctalDigit(ch) {\n  return ch >= 0x30 /* 0 */ && ch <= 0x37 /* 7 */\n}\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-Hex4Digits\n// https://www.ecma-international.org/ecma-262/8.0/#prod-HexDigit\n// And HexDigit HexDigit in https://www.ecma-international.org/ecma-262/8.0/#prod-HexEscapeSequence\npp$1.regexp_eatFixedHexDigits = function(state, length) {\n  var start = state.pos;\n  state.lastIntValue = 0;\n  for (var i = 0; i < length; ++i) {\n    var ch = state.current();\n    if (!isHexDigit(ch)) {\n      state.pos = start;\n      return false\n    }\n    state.lastIntValue = 16 * state.lastIntValue + hexToInt(ch);\n    state.advance();\n  }\n  return true\n};\n\n// Object type used to represent tokens. Note that normally, tokens\n// simply exist as properties on the parser object. This is only\n// used for the onToken callback and the external tokenizer.\n\nvar Token = function Token(p) {\n  this.type = p.type;\n  this.value = p.value;\n  this.start = p.start;\n  this.end = p.end;\n  if (p.options.locations)\n    { this.loc = new SourceLocation(p, p.startLoc, p.endLoc); }\n  if (p.options.ranges)\n    { this.range = [p.start, p.end]; }\n};\n\n// ## Tokenizer\n\nvar pp = Parser.prototype;\n\n// Move to the next token\n\npp.next = function(ignoreEscapeSequenceInKeyword) {\n  if (!ignoreEscapeSequenceInKeyword && this.type.keyword && this.containsEsc)\n    { this.raiseRecoverable(this.start, \"Escape sequence in keyword \" + this.type.keyword); }\n  if (this.options.onToken)\n    { this.options.onToken(new Token(this)); }\n\n  this.lastTokEnd = this.end;\n  this.lastTokStart = this.start;\n  this.lastTokEndLoc = this.endLoc;\n  this.lastTokStartLoc = this.startLoc;\n  this.nextToken();\n};\n\npp.getToken = function() {\n  this.next();\n  return new Token(this)\n};\n\n// If we're in an ES6 environment, make parsers iterable\nif (typeof Symbol !== \"undefined\")\n  { pp[Symbol.iterator] = function() {\n    var this$1$1 = this;\n\n    return {\n      next: function () {\n        var token = this$1$1.getToken();\n        return {\n          done: token.type === types$1.eof,\n          value: token\n        }\n      }\n    }\n  }; }\n\n// Toggle strict mode. Re-reads the next number or string to please\n// pedantic tests (`\"use strict\"; 010;` should fail).\n\n// Read a single token, updating the parser object's token-related\n// properties.\n\npp.nextToken = function() {\n  var curContext = this.curContext();\n  if (!curContext || !curContext.preserveSpace) { this.skipSpace(); }\n\n  this.start = this.pos;\n  if (this.options.locations) { this.startLoc = this.curPosition(); }\n  if (this.pos >= this.input.length) { return this.finishToken(types$1.eof) }\n\n  if (curContext.override) { return curContext.override(this) }\n  else { this.readToken(this.fullCharCodeAtPos()); }\n};\n\npp.readToken = function(code) {\n  // Identifier or keyword. '\\uXXXX' sequences are allowed in\n  // identifiers, so '\\' also dispatches to that.\n  if (isIdentifierStart(code, this.options.ecmaVersion >= 6) || code === 92 /* '\\' */)\n    { return this.readWord() }\n\n  return this.getTokenFromCode(code)\n};\n\npp.fullCharCodeAtPos = function() {\n  var code = this.input.charCodeAt(this.pos);\n  if (code <= 0xd7ff || code >= 0xdc00) { return code }\n  var next = this.input.charCodeAt(this.pos + 1);\n  return next <= 0xdbff || next >= 0xe000 ? code : (code << 10) + next - 0x35fdc00\n};\n\npp.skipBlockComment = function() {\n  var startLoc = this.options.onComment && this.curPosition();\n  var start = this.pos, end = this.input.indexOf(\"*/\", this.pos += 2);\n  if (end === -1) { this.raise(this.pos - 2, \"Unterminated comment\"); }\n  this.pos = end + 2;\n  if (this.options.locations) {\n    for (var nextBreak = (void 0), pos = start; (nextBreak = nextLineBreak(this.input, pos, this.pos)) > -1;) {\n      ++this.curLine;\n      pos = this.lineStart = nextBreak;\n    }\n  }\n  if (this.options.onComment)\n    { this.options.onComment(true, this.input.slice(start + 2, end), start, this.pos,\n                           startLoc, this.curPosition()); }\n};\n\npp.skipLineComment = function(startSkip) {\n  var start = this.pos;\n  var startLoc = this.options.onComment && this.curPosition();\n  var ch = this.input.charCodeAt(this.pos += startSkip);\n  while (this.pos < this.input.length && !isNewLine(ch)) {\n    ch = this.input.charCodeAt(++this.pos);\n  }\n  if (this.options.onComment)\n    { this.options.onComment(false, this.input.slice(start + startSkip, this.pos), start, this.pos,\n                           startLoc, this.curPosition()); }\n};\n\n// Called at the start of the parse and after every token. Skips\n// whitespace and comments, and.\n\npp.skipSpace = function() {\n  loop: while (this.pos < this.input.length) {\n    var ch = this.input.charCodeAt(this.pos);\n    switch (ch) {\n    case 32: case 160: // ' '\n      ++this.pos;\n      break\n    case 13:\n      if (this.input.charCodeAt(this.pos + 1) === 10) {\n        ++this.pos;\n      }\n    case 10: case 8232: case 8233:\n      ++this.pos;\n      if (this.options.locations) {\n        ++this.curLine;\n        this.lineStart = this.pos;\n      }\n      break\n    case 47: // '/'\n      switch (this.input.charCodeAt(this.pos + 1)) {\n      case 42: // '*'\n        this.skipBlockComment();\n        break\n      case 47:\n        this.skipLineComment(2);\n        break\n      default:\n        break loop\n      }\n      break\n    default:\n      if (ch > 8 && ch < 14 || ch >= 5760 && nonASCIIwhitespace.test(String.fromCharCode(ch))) {\n        ++this.pos;\n      } else {\n        break loop\n      }\n    }\n  }\n};\n\n// Called at the end of every token. Sets `end`, `val`, and\n// maintains `context` and `exprAllowed`, and skips the space after\n// the token, so that the next one's `start` will point at the\n// right position.\n\npp.finishToken = function(type, val) {\n  this.end = this.pos;\n  if (this.options.locations) { this.endLoc = this.curPosition(); }\n  var prevType = this.type;\n  this.type = type;\n  this.value = val;\n\n  this.updateContext(prevType);\n};\n\n// ### Token reading\n\n// This is the function that is called to fetch the next token. It\n// is somewhat obscure, because it works in character codes rather\n// than characters, and because operator parsing has been inlined\n// into it.\n//\n// All in the name of speed.\n//\npp.readToken_dot = function() {\n  var next = this.input.charCodeAt(this.pos + 1);\n  if (next >= 48 && next <= 57) { return this.readNumber(true) }\n  var next2 = this.input.charCodeAt(this.pos + 2);\n  if (this.options.ecmaVersion >= 6 && next === 46 && next2 === 46) { // 46 = dot '.'\n    this.pos += 3;\n    return this.finishToken(types$1.ellipsis)\n  } else {\n    ++this.pos;\n    return this.finishToken(types$1.dot)\n  }\n};\n\npp.readToken_slash = function() { // '/'\n  var next = this.input.charCodeAt(this.pos + 1);\n  if (this.exprAllowed) { ++this.pos; return this.readRegexp() }\n  if (next === 61) { return this.finishOp(types$1.assign, 2) }\n  return this.finishOp(types$1.slash, 1)\n};\n\npp.readToken_mult_modulo_exp = function(code) { // '%*'\n  var next = this.input.charCodeAt(this.pos + 1);\n  var size = 1;\n  var tokentype = code === 42 ? types$1.star : types$1.modulo;\n\n  // exponentiation operator ** and **=\n  if (this.options.ecmaVersion >= 7 && code === 42 && next === 42) {\n    ++size;\n    tokentype = types$1.starstar;\n    next = this.input.charCodeAt(this.pos + 2);\n  }\n\n  if (next === 61) { return this.finishOp(types$1.assign, size + 1) }\n  return this.finishOp(tokentype, size)\n};\n\npp.readToken_pipe_amp = function(code) { // '|&'\n  var next = this.input.charCodeAt(this.pos + 1);\n  if (next === code) {\n    if (this.options.ecmaVersion >= 12) {\n      var next2 = this.input.charCodeAt(this.pos + 2);\n      if (next2 === 61) { return this.finishOp(types$1.assign, 3) }\n    }\n    return this.finishOp(code === 124 ? types$1.logicalOR : types$1.logicalAND, 2)\n  }\n  if (next === 61) { return this.finishOp(types$1.assign, 2) }\n  return this.finishOp(code === 124 ? types$1.bitwiseOR : types$1.bitwiseAND, 1)\n};\n\npp.readToken_caret = function() { // '^'\n  var next = this.input.charCodeAt(this.pos + 1);\n  if (next === 61) { return this.finishOp(types$1.assign, 2) }\n  return this.finishOp(types$1.bitwiseXOR, 1)\n};\n\npp.readToken_plus_min = function(code) { // '+-'\n  var next = this.input.charCodeAt(this.pos + 1);\n  if (next === code) {\n    if (next === 45 && !this.inModule && this.input.charCodeAt(this.pos + 2) === 62 &&\n        (this.lastTokEnd === 0 || lineBreak.test(this.input.slice(this.lastTokEnd, this.pos)))) {\n      // A `-->` line comment\n      this.skipLineComment(3);\n      this.skipSpace();\n      return this.nextToken()\n    }\n    return this.finishOp(types$1.incDec, 2)\n  }\n  if (next === 61) { return this.finishOp(types$1.assign, 2) }\n  return this.finishOp(types$1.plusMin, 1)\n};\n\npp.readToken_lt_gt = function(code) { // '<>'\n  var next = this.input.charCodeAt(this.pos + 1);\n  var size = 1;\n  if (next === code) {\n    size = code === 62 && this.input.charCodeAt(this.pos + 2) === 62 ? 3 : 2;\n    if (this.input.charCodeAt(this.pos + size) === 61) { return this.finishOp(types$1.assign, size + 1) }\n    return this.finishOp(types$1.bitShift, size)\n  }\n  if (next === 33 && code === 60 && !this.inModule && this.input.charCodeAt(this.pos + 2) === 45 &&\n      this.input.charCodeAt(this.pos + 3) === 45) {\n    // `<!--`, an XML-style comment that should be interpreted as a line comment\n    this.skipLineComment(4);\n    this.skipSpace();\n    return this.nextToken()\n  }\n  if (next === 61) { size = 2; }\n  return this.finishOp(types$1.relational, size)\n};\n\npp.readToken_eq_excl = function(code) { // '=!'\n  var next = this.input.charCodeAt(this.pos + 1);\n  if (next === 61) { return this.finishOp(types$1.equality, this.input.charCodeAt(this.pos + 2) === 61 ? 3 : 2) }\n  if (code === 61 && next === 62 && this.options.ecmaVersion >= 6) { // '=>'\n    this.pos += 2;\n    return this.finishToken(types$1.arrow)\n  }\n  return this.finishOp(code === 61 ? types$1.eq : types$1.prefix, 1)\n};\n\npp.readToken_question = function() { // '?'\n  var ecmaVersion = this.options.ecmaVersion;\n  if (ecmaVersion >= 11) {\n    var next = this.input.charCodeAt(this.pos + 1);\n    if (next === 46) {\n      var next2 = this.input.charCodeAt(this.pos + 2);\n      if (next2 < 48 || next2 > 57) { return this.finishOp(types$1.questionDot, 2) }\n    }\n    if (next === 63) {\n      if (ecmaVersion >= 12) {\n        var next2$1 = this.input.charCodeAt(this.pos + 2);\n        if (next2$1 === 61) { return this.finishOp(types$1.assign, 3) }\n      }\n      return this.finishOp(types$1.coalesce, 2)\n    }\n  }\n  return this.finishOp(types$1.question, 1)\n};\n\npp.readToken_numberSign = function() { // '#'\n  var ecmaVersion = this.options.ecmaVersion;\n  var code = 35; // '#'\n  if (ecmaVersion >= 13) {\n    ++this.pos;\n    code = this.fullCharCodeAtPos();\n    if (isIdentifierStart(code, true) || code === 92 /* '\\' */) {\n      return this.finishToken(types$1.privateId, this.readWord1())\n    }\n  }\n\n  this.raise(this.pos, \"Unexpected character '\" + codePointToString(code) + \"'\");\n};\n\npp.getTokenFromCode = function(code) {\n  switch (code) {\n  // The interpretation of a dot depends on whether it is followed\n  // by a digit or another two dots.\n  case 46: // '.'\n    return this.readToken_dot()\n\n  // Punctuation tokens.\n  case 40: ++this.pos; return this.finishToken(types$1.parenL)\n  case 41: ++this.pos; return this.finishToken(types$1.parenR)\n  case 59: ++this.pos; return this.finishToken(types$1.semi)\n  case 44: ++this.pos; return this.finishToken(types$1.comma)\n  case 91: ++this.pos; return this.finishToken(types$1.bracketL)\n  case 93: ++this.pos; return this.finishToken(types$1.bracketR)\n  case 123: ++this.pos; return this.finishToken(types$1.braceL)\n  case 125: ++this.pos; return this.finishToken(types$1.braceR)\n  case 58: ++this.pos; return this.finishToken(types$1.colon)\n\n  case 96: // '`'\n    if (this.options.ecmaVersion < 6) { break }\n    ++this.pos;\n    return this.finishToken(types$1.backQuote)\n\n  case 48: // '0'\n    var next = this.input.charCodeAt(this.pos + 1);\n    if (next === 120 || next === 88) { return this.readRadixNumber(16) } // '0x', '0X' - hex number\n    if (this.options.ecmaVersion >= 6) {\n      if (next === 111 || next === 79) { return this.readRadixNumber(8) } // '0o', '0O' - octal number\n      if (next === 98 || next === 66) { return this.readRadixNumber(2) } // '0b', '0B' - binary number\n    }\n\n  // Anything else beginning with a digit is an integer, octal\n  // number, or float.\n  case 49: case 50: case 51: case 52: case 53: case 54: case 55: case 56: case 57: // 1-9\n    return this.readNumber(false)\n\n  // Quotes produce strings.\n  case 34: case 39: // '\"', \"'\"\n    return this.readString(code)\n\n  // Operators are parsed inline in tiny state machines. '=' (61) is\n  // often referred to. `finishOp` simply skips the amount of\n  // characters it is given as second argument, and returns a token\n  // of the type given by its first argument.\n  case 47: // '/'\n    return this.readToken_slash()\n\n  case 37: case 42: // '%*'\n    return this.readToken_mult_modulo_exp(code)\n\n  case 124: case 38: // '|&'\n    return this.readToken_pipe_amp(code)\n\n  case 94: // '^'\n    return this.readToken_caret()\n\n  case 43: case 45: // '+-'\n    return this.readToken_plus_min(code)\n\n  case 60: case 62: // '<>'\n    return this.readToken_lt_gt(code)\n\n  case 61: case 33: // '=!'\n    return this.readToken_eq_excl(code)\n\n  case 63: // '?'\n    return this.readToken_question()\n\n  case 126: // '~'\n    return this.finishOp(types$1.prefix, 1)\n\n  case 35: // '#'\n    return this.readToken_numberSign()\n  }\n\n  this.raise(this.pos, \"Unexpected character '\" + codePointToString(code) + \"'\");\n};\n\npp.finishOp = function(type, size) {\n  var str = this.input.slice(this.pos, this.pos + size);\n  this.pos += size;\n  return this.finishToken(type, str)\n};\n\npp.readRegexp = function() {\n  var escaped, inClass, start = this.pos;\n  for (;;) {\n    if (this.pos >= this.input.length) { this.raise(start, \"Unterminated regular expression\"); }\n    var ch = this.input.charAt(this.pos);\n    if (lineBreak.test(ch)) { this.raise(start, \"Unterminated regular expression\"); }\n    if (!escaped) {\n      if (ch === \"[\") { inClass = true; }\n      else if (ch === \"]\" && inClass) { inClass = false; }\n      else if (ch === \"/\" && !inClass) { break }\n      escaped = ch === \"\\\\\";\n    } else { escaped = false; }\n    ++this.pos;\n  }\n  var pattern = this.input.slice(start, this.pos);\n  ++this.pos;\n  var flagsStart = this.pos;\n  var flags = this.readWord1();\n  if (this.containsEsc) { this.unexpected(flagsStart); }\n\n  // Validate pattern\n  var state = this.regexpState || (this.regexpState = new RegExpValidationState(this));\n  state.reset(start, pattern, flags);\n  this.validateRegExpFlags(state);\n  this.validateRegExpPattern(state);\n\n  // Create Literal#value property value.\n  var value = null;\n  try {\n    value = new RegExp(pattern, flags);\n  } catch (e) {\n    // ESTree requires null if it failed to instantiate RegExp object.\n    // https://github.com/estree/estree/blob/a27003adf4fd7bfad44de9cef372a2eacd527b1c/es5.md#regexpliteral\n  }\n\n  return this.finishToken(types$1.regexp, {pattern: pattern, flags: flags, value: value})\n};\n\n// Read an integer in the given radix. Return null if zero digits\n// were read, the integer value otherwise. When `len` is given, this\n// will return `null` unless the integer has exactly `len` digits.\n\npp.readInt = function(radix, len, maybeLegacyOctalNumericLiteral) {\n  // `len` is used for character escape sequences. In that case, disallow separators.\n  var allowSeparators = this.options.ecmaVersion >= 12 && len === undefined;\n\n  // `maybeLegacyOctalNumericLiteral` is true if it doesn't have prefix (0x,0o,0b)\n  // and isn't fraction part nor exponent part. In that case, if the first digit\n  // is zero then disallow separators.\n  var isLegacyOctalNumericLiteral = maybeLegacyOctalNumericLiteral && this.input.charCodeAt(this.pos) === 48;\n\n  var start = this.pos, total = 0, lastCode = 0;\n  for (var i = 0, e = len == null ? Infinity : len; i < e; ++i, ++this.pos) {\n    var code = this.input.charCodeAt(this.pos), val = (void 0);\n\n    if (allowSeparators && code === 95) {\n      if (isLegacyOctalNumericLiteral) { this.raiseRecoverable(this.pos, \"Numeric separator is not allowed in legacy octal numeric literals\"); }\n      if (lastCode === 95) { this.raiseRecoverable(this.pos, \"Numeric separator must be exactly one underscore\"); }\n      if (i === 0) { this.raiseRecoverable(this.pos, \"Numeric separator is not allowed at the first of digits\"); }\n      lastCode = code;\n      continue\n    }\n\n    if (code >= 97) { val = code - 97 + 10; } // a\n    else if (code >= 65) { val = code - 65 + 10; } // A\n    else if (code >= 48 && code <= 57) { val = code - 48; } // 0-9\n    else { val = Infinity; }\n    if (val >= radix) { break }\n    lastCode = code;\n    total = total * radix + val;\n  }\n\n  if (allowSeparators && lastCode === 95) { this.raiseRecoverable(this.pos - 1, \"Numeric separator is not allowed at the last of digits\"); }\n  if (this.pos === start || len != null && this.pos - start !== len) { return null }\n\n  return total\n};\n\nfunction stringToNumber(str, isLegacyOctalNumericLiteral) {\n  if (isLegacyOctalNumericLiteral) {\n    return parseInt(str, 8)\n  }\n\n  // `parseFloat(value)` stops parsing at the first numeric separator then returns a wrong value.\n  return parseFloat(str.replace(/_/g, \"\"))\n}\n\nfunction stringToBigInt(str) {\n  if (typeof BigInt !== \"function\") {\n    return null\n  }\n\n  // `BigInt(value)` throws syntax error if the string contains numeric separators.\n  return BigInt(str.replace(/_/g, \"\"))\n}\n\npp.readRadixNumber = function(radix) {\n  var start = this.pos;\n  this.pos += 2; // 0x\n  var val = this.readInt(radix);\n  if (val == null) { this.raise(this.start + 2, \"Expected number in radix \" + radix); }\n  if (this.options.ecmaVersion >= 11 && this.input.charCodeAt(this.pos) === 110) {\n    val = stringToBigInt(this.input.slice(start, this.pos));\n    ++this.pos;\n  } else if (isIdentifierStart(this.fullCharCodeAtPos())) { this.raise(this.pos, \"Identifier directly after number\"); }\n  return this.finishToken(types$1.num, val)\n};\n\n// Read an integer, octal integer, or floating-point number.\n\npp.readNumber = function(startsWithDot) {\n  var start = this.pos;\n  if (!startsWithDot && this.readInt(10, undefined, true) === null) { this.raise(start, \"Invalid number\"); }\n  var octal = this.pos - start >= 2 && this.input.charCodeAt(start) === 48;\n  if (octal && this.strict) { this.raise(start, \"Invalid number\"); }\n  var next = this.input.charCodeAt(this.pos);\n  if (!octal && !startsWithDot && this.options.ecmaVersion >= 11 && next === 110) {\n    var val$1 = stringToBigInt(this.input.slice(start, this.pos));\n    ++this.pos;\n    if (isIdentifierStart(this.fullCharCodeAtPos())) { this.raise(this.pos, \"Identifier directly after number\"); }\n    return this.finishToken(types$1.num, val$1)\n  }\n  if (octal && /[89]/.test(this.input.slice(start, this.pos))) { octal = false; }\n  if (next === 46 && !octal) { // '.'\n    ++this.pos;\n    this.readInt(10);\n    next = this.input.charCodeAt(this.pos);\n  }\n  if ((next === 69 || next === 101) && !octal) { // 'eE'\n    next = this.input.charCodeAt(++this.pos);\n    if (next === 43 || next === 45) { ++this.pos; } // '+-'\n    if (this.readInt(10) === null) { this.raise(start, \"Invalid number\"); }\n  }\n  if (isIdentifierStart(this.fullCharCodeAtPos())) { this.raise(this.pos, \"Identifier directly after number\"); }\n\n  var val = stringToNumber(this.input.slice(start, this.pos), octal);\n  return this.finishToken(types$1.num, val)\n};\n\n// Read a string value, interpreting backslash-escapes.\n\npp.readCodePoint = function() {\n  var ch = this.input.charCodeAt(this.pos), code;\n\n  if (ch === 123) { // '{'\n    if (this.options.ecmaVersion < 6) { this.unexpected(); }\n    var codePos = ++this.pos;\n    code = this.readHexChar(this.input.indexOf(\"}\", this.pos) - this.pos);\n    ++this.pos;\n    if (code > 0x10FFFF) { this.invalidStringToken(codePos, \"Code point out of bounds\"); }\n  } else {\n    code = this.readHexChar(4);\n  }\n  return code\n};\n\npp.readString = function(quote) {\n  var out = \"\", chunkStart = ++this.pos;\n  for (;;) {\n    if (this.pos >= this.input.length) { this.raise(this.start, \"Unterminated string constant\"); }\n    var ch = this.input.charCodeAt(this.pos);\n    if (ch === quote) { break }\n    if (ch === 92) { // '\\'\n      out += this.input.slice(chunkStart, this.pos);\n      out += this.readEscapedChar(false);\n      chunkStart = this.pos;\n    } else if (ch === 0x2028 || ch === 0x2029) {\n      if (this.options.ecmaVersion < 10) { this.raise(this.start, \"Unterminated string constant\"); }\n      ++this.pos;\n      if (this.options.locations) {\n        this.curLine++;\n        this.lineStart = this.pos;\n      }\n    } else {\n      if (isNewLine(ch)) { this.raise(this.start, \"Unterminated string constant\"); }\n      ++this.pos;\n    }\n  }\n  out += this.input.slice(chunkStart, this.pos++);\n  return this.finishToken(types$1.string, out)\n};\n\n// Reads template string tokens.\n\nvar INVALID_TEMPLATE_ESCAPE_ERROR = {};\n\npp.tryReadTemplateToken = function() {\n  this.inTemplateElement = true;\n  try {\n    this.readTmplToken();\n  } catch (err) {\n    if (err === INVALID_TEMPLATE_ESCAPE_ERROR) {\n      this.readInvalidTemplateToken();\n    } else {\n      throw err\n    }\n  }\n\n  this.inTemplateElement = false;\n};\n\npp.invalidStringToken = function(position, message) {\n  if (this.inTemplateElement && this.options.ecmaVersion >= 9) {\n    throw INVALID_TEMPLATE_ESCAPE_ERROR\n  } else {\n    this.raise(position, message);\n  }\n};\n\npp.readTmplToken = function() {\n  var out = \"\", chunkStart = this.pos;\n  for (;;) {\n    if (this.pos >= this.input.length) { this.raise(this.start, \"Unterminated template\"); }\n    var ch = this.input.charCodeAt(this.pos);\n    if (ch === 96 || ch === 36 && this.input.charCodeAt(this.pos + 1) === 123) { // '`', '${'\n      if (this.pos === this.start && (this.type === types$1.template || this.type === types$1.invalidTemplate)) {\n        if (ch === 36) {\n          this.pos += 2;\n          return this.finishToken(types$1.dollarBraceL)\n        } else {\n          ++this.pos;\n          return this.finishToken(types$1.backQuote)\n        }\n      }\n      out += this.input.slice(chunkStart, this.pos);\n      return this.finishToken(types$1.template, out)\n    }\n    if (ch === 92) { // '\\'\n      out += this.input.slice(chunkStart, this.pos);\n      out += this.readEscapedChar(true);\n      chunkStart = this.pos;\n    } else if (isNewLine(ch)) {\n      out += this.input.slice(chunkStart, this.pos);\n      ++this.pos;\n      switch (ch) {\n      case 13:\n        if (this.input.charCodeAt(this.pos) === 10) { ++this.pos; }\n      case 10:\n        out += \"\\n\";\n        break\n      default:\n        out += String.fromCharCode(ch);\n        break\n      }\n      if (this.options.locations) {\n        ++this.curLine;\n        this.lineStart = this.pos;\n      }\n      chunkStart = this.pos;\n    } else {\n      ++this.pos;\n    }\n  }\n};\n\n// Reads a template token to search for the end, without validating any escape sequences\npp.readInvalidTemplateToken = function() {\n  for (; this.pos < this.input.length; this.pos++) {\n    switch (this.input[this.pos]) {\n    case \"\\\\\":\n      ++this.pos;\n      break\n\n    case \"$\":\n      if (this.input[this.pos + 1] !== \"{\") {\n        break\n      }\n\n    // falls through\n    case \"`\":\n      return this.finishToken(types$1.invalidTemplate, this.input.slice(this.start, this.pos))\n\n    // no default\n    }\n  }\n  this.raise(this.start, \"Unterminated template\");\n};\n\n// Used to read escaped characters\n\npp.readEscapedChar = function(inTemplate) {\n  var ch = this.input.charCodeAt(++this.pos);\n  ++this.pos;\n  switch (ch) {\n  case 110: return \"\\n\" // 'n' -> '\\n'\n  case 114: return \"\\r\" // 'r' -> '\\r'\n  case 120: return String.fromCharCode(this.readHexChar(2)) // 'x'\n  case 117: return codePointToString(this.readCodePoint()) // 'u'\n  case 116: return \"\\t\" // 't' -> '\\t'\n  case 98: return \"\\b\" // 'b' -> '\\b'\n  case 118: return \"\\u000b\" // 'v' -> '\\u000b'\n  case 102: return \"\\f\" // 'f' -> '\\f'\n  case 13: if (this.input.charCodeAt(this.pos) === 10) { ++this.pos; } // '\\r\\n'\n  case 10: // ' \\n'\n    if (this.options.locations) { this.lineStart = this.pos; ++this.curLine; }\n    return \"\"\n  case 56:\n  case 57:\n    if (this.strict) {\n      this.invalidStringToken(\n        this.pos - 1,\n        \"Invalid escape sequence\"\n      );\n    }\n    if (inTemplate) {\n      var codePos = this.pos - 1;\n\n      this.invalidStringToken(\n        codePos,\n        \"Invalid escape sequence in template string\"\n      );\n    }\n  default:\n    if (ch >= 48 && ch <= 55) {\n      var octalStr = this.input.substr(this.pos - 1, 3).match(/^[0-7]+/)[0];\n      var octal = parseInt(octalStr, 8);\n      if (octal > 255) {\n        octalStr = octalStr.slice(0, -1);\n        octal = parseInt(octalStr, 8);\n      }\n      this.pos += octalStr.length - 1;\n      ch = this.input.charCodeAt(this.pos);\n      if ((octalStr !== \"0\" || ch === 56 || ch === 57) && (this.strict || inTemplate)) {\n        this.invalidStringToken(\n          this.pos - 1 - octalStr.length,\n          inTemplate\n            ? \"Octal literal in template string\"\n            : \"Octal literal in strict mode\"\n        );\n      }\n      return String.fromCharCode(octal)\n    }\n    if (isNewLine(ch)) {\n      // Unicode new line characters after \\ get removed from output in both\n      // template literals and strings\n      return \"\"\n    }\n    return String.fromCharCode(ch)\n  }\n};\n\n// Used to read character escape sequences ('\\x', '\\u', '\\U').\n\npp.readHexChar = function(len) {\n  var codePos = this.pos;\n  var n = this.readInt(16, len);\n  if (n === null) { this.invalidStringToken(codePos, \"Bad character escape sequence\"); }\n  return n\n};\n\n// Read an identifier, and return it as a string. Sets `this.containsEsc`\n// to whether the word contained a '\\u' escape.\n//\n// Incrementally adds only escaped chars, adding other chunks as-is\n// as a micro-optimization.\n\npp.readWord1 = function() {\n  this.containsEsc = false;\n  var word = \"\", first = true, chunkStart = this.pos;\n  var astral = this.options.ecmaVersion >= 6;\n  while (this.pos < this.input.length) {\n    var ch = this.fullCharCodeAtPos();\n    if (isIdentifierChar(ch, astral)) {\n      this.pos += ch <= 0xffff ? 1 : 2;\n    } else if (ch === 92) { // \"\\\"\n      this.containsEsc = true;\n      word += this.input.slice(chunkStart, this.pos);\n      var escStart = this.pos;\n      if (this.input.charCodeAt(++this.pos) !== 117) // \"u\"\n        { this.invalidStringToken(this.pos, \"Expecting Unicode escape sequence \\\\uXXXX\"); }\n      ++this.pos;\n      var esc = this.readCodePoint();\n      if (!(first ? isIdentifierStart : isIdentifierChar)(esc, astral))\n        { this.invalidStringToken(escStart, \"Invalid Unicode escape\"); }\n      word += codePointToString(esc);\n      chunkStart = this.pos;\n    } else {\n      break\n    }\n    first = false;\n  }\n  return word + this.input.slice(chunkStart, this.pos)\n};\n\n// Read an identifier or keyword token. Will check for reserved\n// words when necessary.\n\npp.readWord = function() {\n  var word = this.readWord1();\n  var type = types$1.name;\n  if (this.keywords.test(word)) {\n    type = keywords[word];\n  }\n  return this.finishToken(type, word)\n};\n\n// Acorn is a tiny, fast JavaScript parser written in JavaScript.\n//\n// Acorn was written by Marijn Haverbeke, Ingvar Stepanyan, and\n// various contributors and released under an MIT license.\n//\n// Git repositories for Acorn are available at\n//\n//     http://marijnhaverbeke.nl/git/acorn\n//     https://github.com/acornjs/acorn.git\n//\n// Please use the [github bug tracker][ghbt] to report issues.\n//\n// [ghbt]: https://github.com/acornjs/acorn/issues\n//\n// [walk]: util/walk.js\n\n\nvar version = \"8.11.3\";\n\nParser.acorn = {\n  Parser: Parser,\n  version: version,\n  defaultOptions: defaultOptions,\n  Position: Position,\n  SourceLocation: SourceLocation,\n  getLineInfo: getLineInfo,\n  Node: Node,\n  TokenType: TokenType,\n  tokTypes: types$1,\n  keywordTypes: keywords,\n  TokContext: TokContext,\n  tokContexts: types,\n  isIdentifierChar: isIdentifierChar,\n  isIdentifierStart: isIdentifierStart,\n  Token: Token,\n  isNewLine: isNewLine,\n  lineBreak: lineBreak,\n  lineBreakG: lineBreakG,\n  nonASCIIwhitespace: nonASCIIwhitespace\n};\n\n// The main exported interface (under `self.acorn` when in the\n// browser) is a `parse` function that takes a code string and returns\n// an abstract syntax tree as specified by the [ESTree spec][estree].\n//\n// [estree]: https://github.com/estree/estree\n\nfunction parse(input, options) {\n  return Parser.parse(input, options)\n}\n\n// This function tries to parse a single expression at a given\n// offset in a string. Useful for parsing mixed-language formats\n// that embed JavaScript expressions.\n\nfunction parseExpressionAt(input, pos, options) {\n  return Parser.parseExpressionAt(input, pos, options)\n}\n\n// Acorn is organized as a tokenizer and a recursive-descent parser.\n// The `tokenizer` export provides an interface to the tokenizer.\n\nfunction tokenizer(input, options) {\n  return Parser.tokenizer(input, options)\n}\n\nexport { Node, Parser, Position, SourceLocation, TokContext, Token, TokenType, defaultOptions, getLineInfo, isIdentifierChar, isIdentifierStart, isNewLine, keywords as keywordTypes, lineBreak, lineBreakG, nonASCIIwhitespace, parse, parseExpressionAt, types as tokContexts, types$1 as tokTypes, tokenizer, version };\n", "// AST walker module for ESTree compatible trees\n\n// A simple walk is one where you simply specify callbacks to be\n// called on specific nodes. The last two arguments are optional. A\n// simple use would be\n//\n//     walk.simple(myTree, {\n//         Expression: function(node) { ... }\n//     });\n//\n// to do something with all expressions. All ESTree node types\n// can be used to identify node types, as well as Expression and\n// Statement, which denote categories of nodes.\n//\n// The base argument can be used to pass a custom (recursive)\n// walker, and state can be used to give this walked an initial\n// state.\n\nfunction simple(node, visitors, baseVisitor, state, override) {\n  if (!baseVisitor) { baseVisitor = base\n  ; }(function c(node, st, override) {\n    var type = override || node.type;\n    baseVisitor[type](node, st, c);\n    if (visitors[type]) { visitors[type](node, st); }\n  })(node, state, override);\n}\n\n// An ancestor walk keeps an array of ancestor nodes (including the\n// current node) and passes them to the callback as third parameter\n// (and also as state parameter when no other state is present).\nfunction ancestor(node, visitors, baseVisitor, state, override) {\n  var ancestors = [];\n  if (!baseVisitor) { baseVisitor = base\n  ; }(function c(node, st, override) {\n    var type = override || node.type;\n    var isNew = node !== ancestors[ancestors.length - 1];\n    if (isNew) { ancestors.push(node); }\n    baseVisitor[type](node, st, c);\n    if (visitors[type]) { visitors[type](node, st || ancestors, ancestors); }\n    if (isNew) { ancestors.pop(); }\n  })(node, state, override);\n}\n\n// A recursive walk is one where your functions override the default\n// walkers. They can modify and replace the state parameter that's\n// threaded through the walk, and can opt how and whether to walk\n// their child nodes (by calling their third argument on these\n// nodes).\nfunction recursive(node, state, funcs, baseVisitor, override) {\n  var visitor = funcs ? make(funcs, baseVisitor || undefined) : baseVisitor\n  ;(function c(node, st, override) {\n    visitor[override || node.type](node, st, c);\n  })(node, state, override);\n}\n\nfunction makeTest(test) {\n  if (typeof test === \"string\")\n    { return function (type) { return type === test; } }\n  else if (!test)\n    { return function () { return true; } }\n  else\n    { return test }\n}\n\nvar Found = function Found(node, state) { this.node = node; this.state = state; };\n\n// A full walk triggers the callback on each node\nfunction full(node, callback, baseVisitor, state, override) {\n  if (!baseVisitor) { baseVisitor = base; }\n  var last\n  ;(function c(node, st, override) {\n    var type = override || node.type;\n    baseVisitor[type](node, st, c);\n    if (last !== node) {\n      callback(node, st, type);\n      last = node;\n    }\n  })(node, state, override);\n}\n\n// An fullAncestor walk is like an ancestor walk, but triggers\n// the callback on each node\nfunction fullAncestor(node, callback, baseVisitor, state) {\n  if (!baseVisitor) { baseVisitor = base; }\n  var ancestors = [], last\n  ;(function c(node, st, override) {\n    var type = override || node.type;\n    var isNew = node !== ancestors[ancestors.length - 1];\n    if (isNew) { ancestors.push(node); }\n    baseVisitor[type](node, st, c);\n    if (last !== node) {\n      callback(node, st || ancestors, ancestors, type);\n      last = node;\n    }\n    if (isNew) { ancestors.pop(); }\n  })(node, state);\n}\n\n// Find a node with a given start, end, and type (all are optional,\n// null can be used as wildcard). Returns a {node, state} object, or\n// undefined when it doesn't find a matching node.\nfunction findNodeAt(node, start, end, test, baseVisitor, state) {\n  if (!baseVisitor) { baseVisitor = base; }\n  test = makeTest(test);\n  try {\n    (function c(node, st, override) {\n      var type = override || node.type;\n      if ((start == null || node.start <= start) &&\n          (end == null || node.end >= end))\n        { baseVisitor[type](node, st, c); }\n      if ((start == null || node.start === start) &&\n          (end == null || node.end === end) &&\n          test(type, node))\n        { throw new Found(node, st) }\n    })(node, state);\n  } catch (e) {\n    if (e instanceof Found) { return e }\n    throw e\n  }\n}\n\n// Find the innermost node of a given type that contains the given\n// position. Interface similar to findNodeAt.\nfunction findNodeAround(node, pos, test, baseVisitor, state) {\n  test = makeTest(test);\n  if (!baseVisitor) { baseVisitor = base; }\n  try {\n    (function c(node, st, override) {\n      var type = override || node.type;\n      if (node.start > pos || node.end < pos) { return }\n      baseVisitor[type](node, st, c);\n      if (test(type, node)) { throw new Found(node, st) }\n    })(node, state);\n  } catch (e) {\n    if (e instanceof Found) { return e }\n    throw e\n  }\n}\n\n// Find the outermost matching node after a given position.\nfunction findNodeAfter(node, pos, test, baseVisitor, state) {\n  test = makeTest(test);\n  if (!baseVisitor) { baseVisitor = base; }\n  try {\n    (function c(node, st, override) {\n      if (node.end < pos) { return }\n      var type = override || node.type;\n      if (node.start >= pos && test(type, node)) { throw new Found(node, st) }\n      baseVisitor[type](node, st, c);\n    })(node, state);\n  } catch (e) {\n    if (e instanceof Found) { return e }\n    throw e\n  }\n}\n\n// Find the outermost matching node before a given position.\nfunction findNodeBefore(node, pos, test, baseVisitor, state) {\n  test = makeTest(test);\n  if (!baseVisitor) { baseVisitor = base; }\n  var max\n  ;(function c(node, st, override) {\n    if (node.start > pos) { return }\n    var type = override || node.type;\n    if (node.end <= pos && (!max || max.node.end < node.end) && test(type, node))\n      { max = new Found(node, st); }\n    baseVisitor[type](node, st, c);\n  })(node, state);\n  return max\n}\n\n// Used to create a custom walker. Will fill in all missing node\n// type properties with the defaults.\nfunction make(funcs, baseVisitor) {\n  var visitor = Object.create(baseVisitor || base);\n  for (var type in funcs) { visitor[type] = funcs[type]; }\n  return visitor\n}\n\nfunction skipThrough(node, st, c) { c(node, st); }\nfunction ignore(_node, _st, _c) {}\n\n// Node walkers.\n\nvar base = {};\n\nbase.Program = base.BlockStatement = base.StaticBlock = function (node, st, c) {\n  for (var i = 0, list = node.body; i < list.length; i += 1)\n    {\n    var stmt = list[i];\n\n    c(stmt, st, \"Statement\");\n  }\n};\nbase.Statement = skipThrough;\nbase.EmptyStatement = ignore;\nbase.ExpressionStatement = base.ParenthesizedExpression = base.ChainExpression =\n  function (node, st, c) { return c(node.expression, st, \"Expression\"); };\nbase.IfStatement = function (node, st, c) {\n  c(node.test, st, \"Expression\");\n  c(node.consequent, st, \"Statement\");\n  if (node.alternate) { c(node.alternate, st, \"Statement\"); }\n};\nbase.LabeledStatement = function (node, st, c) { return c(node.body, st, \"Statement\"); };\nbase.BreakStatement = base.ContinueStatement = ignore;\nbase.WithStatement = function (node, st, c) {\n  c(node.object, st, \"Expression\");\n  c(node.body, st, \"Statement\");\n};\nbase.SwitchStatement = function (node, st, c) {\n  c(node.discriminant, st, \"Expression\");\n  for (var i$1 = 0, list$1 = node.cases; i$1 < list$1.length; i$1 += 1) {\n    var cs = list$1[i$1];\n\n    if (cs.test) { c(cs.test, st, \"Expression\"); }\n    for (var i = 0, list = cs.consequent; i < list.length; i += 1)\n      {\n      var cons = list[i];\n\n      c(cons, st, \"Statement\");\n    }\n  }\n};\nbase.SwitchCase = function (node, st, c) {\n  if (node.test) { c(node.test, st, \"Expression\"); }\n  for (var i = 0, list = node.consequent; i < list.length; i += 1)\n    {\n    var cons = list[i];\n\n    c(cons, st, \"Statement\");\n  }\n};\nbase.ReturnStatement = base.YieldExpression = base.AwaitExpression = function (node, st, c) {\n  if (node.argument) { c(node.argument, st, \"Expression\"); }\n};\nbase.ThrowStatement = base.SpreadElement =\n  function (node, st, c) { return c(node.argument, st, \"Expression\"); };\nbase.TryStatement = function (node, st, c) {\n  c(node.block, st, \"Statement\");\n  if (node.handler) { c(node.handler, st); }\n  if (node.finalizer) { c(node.finalizer, st, \"Statement\"); }\n};\nbase.CatchClause = function (node, st, c) {\n  if (node.param) { c(node.param, st, \"Pattern\"); }\n  c(node.body, st, \"Statement\");\n};\nbase.WhileStatement = base.DoWhileStatement = function (node, st, c) {\n  c(node.test, st, \"Expression\");\n  c(node.body, st, \"Statement\");\n};\nbase.ForStatement = function (node, st, c) {\n  if (node.init) { c(node.init, st, \"ForInit\"); }\n  if (node.test) { c(node.test, st, \"Expression\"); }\n  if (node.update) { c(node.update, st, \"Expression\"); }\n  c(node.body, st, \"Statement\");\n};\nbase.ForInStatement = base.ForOfStatement = function (node, st, c) {\n  c(node.left, st, \"ForInit\");\n  c(node.right, st, \"Expression\");\n  c(node.body, st, \"Statement\");\n};\nbase.ForInit = function (node, st, c) {\n  if (node.type === \"VariableDeclaration\") { c(node, st); }\n  else { c(node, st, \"Expression\"); }\n};\nbase.DebuggerStatement = ignore;\n\nbase.FunctionDeclaration = function (node, st, c) { return c(node, st, \"Function\"); };\nbase.VariableDeclaration = function (node, st, c) {\n  for (var i = 0, list = node.declarations; i < list.length; i += 1)\n    {\n    var decl = list[i];\n\n    c(decl, st);\n  }\n};\nbase.VariableDeclarator = function (node, st, c) {\n  c(node.id, st, \"Pattern\");\n  if (node.init) { c(node.init, st, \"Expression\"); }\n};\n\nbase.Function = function (node, st, c) {\n  if (node.id) { c(node.id, st, \"Pattern\"); }\n  for (var i = 0, list = node.params; i < list.length; i += 1)\n    {\n    var param = list[i];\n\n    c(param, st, \"Pattern\");\n  }\n  c(node.body, st, node.expression ? \"Expression\" : \"Statement\");\n};\n\nbase.Pattern = function (node, st, c) {\n  if (node.type === \"Identifier\")\n    { c(node, st, \"VariablePattern\"); }\n  else if (node.type === \"MemberExpression\")\n    { c(node, st, \"MemberPattern\"); }\n  else\n    { c(node, st); }\n};\nbase.VariablePattern = ignore;\nbase.MemberPattern = skipThrough;\nbase.RestElement = function (node, st, c) { return c(node.argument, st, \"Pattern\"); };\nbase.ArrayPattern = function (node, st, c) {\n  for (var i = 0, list = node.elements; i < list.length; i += 1) {\n    var elt = list[i];\n\n    if (elt) { c(elt, st, \"Pattern\"); }\n  }\n};\nbase.ObjectPattern = function (node, st, c) {\n  for (var i = 0, list = node.properties; i < list.length; i += 1) {\n    var prop = list[i];\n\n    if (prop.type === \"Property\") {\n      if (prop.computed) { c(prop.key, st, \"Expression\"); }\n      c(prop.value, st, \"Pattern\");\n    } else if (prop.type === \"RestElement\") {\n      c(prop.argument, st, \"Pattern\");\n    }\n  }\n};\n\nbase.Expression = skipThrough;\nbase.ThisExpression = base.Super = base.MetaProperty = ignore;\nbase.ArrayExpression = function (node, st, c) {\n  for (var i = 0, list = node.elements; i < list.length; i += 1) {\n    var elt = list[i];\n\n    if (elt) { c(elt, st, \"Expression\"); }\n  }\n};\nbase.ObjectExpression = function (node, st, c) {\n  for (var i = 0, list = node.properties; i < list.length; i += 1)\n    {\n    var prop = list[i];\n\n    c(prop, st);\n  }\n};\nbase.FunctionExpression = base.ArrowFunctionExpression = base.FunctionDeclaration;\nbase.SequenceExpression = function (node, st, c) {\n  for (var i = 0, list = node.expressions; i < list.length; i += 1)\n    {\n    var expr = list[i];\n\n    c(expr, st, \"Expression\");\n  }\n};\nbase.TemplateLiteral = function (node, st, c) {\n  for (var i = 0, list = node.quasis; i < list.length; i += 1)\n    {\n    var quasi = list[i];\n\n    c(quasi, st);\n  }\n\n  for (var i$1 = 0, list$1 = node.expressions; i$1 < list$1.length; i$1 += 1)\n    {\n    var expr = list$1[i$1];\n\n    c(expr, st, \"Expression\");\n  }\n};\nbase.TemplateElement = ignore;\nbase.UnaryExpression = base.UpdateExpression = function (node, st, c) {\n  c(node.argument, st, \"Expression\");\n};\nbase.BinaryExpression = base.LogicalExpression = function (node, st, c) {\n  c(node.left, st, \"Expression\");\n  c(node.right, st, \"Expression\");\n};\nbase.AssignmentExpression = base.AssignmentPattern = function (node, st, c) {\n  c(node.left, st, \"Pattern\");\n  c(node.right, st, \"Expression\");\n};\nbase.ConditionalExpression = function (node, st, c) {\n  c(node.test, st, \"Expression\");\n  c(node.consequent, st, \"Expression\");\n  c(node.alternate, st, \"Expression\");\n};\nbase.NewExpression = base.CallExpression = function (node, st, c) {\n  c(node.callee, st, \"Expression\");\n  if (node.arguments)\n    { for (var i = 0, list = node.arguments; i < list.length; i += 1)\n      {\n        var arg = list[i];\n\n        c(arg, st, \"Expression\");\n      } }\n};\nbase.MemberExpression = function (node, st, c) {\n  c(node.object, st, \"Expression\");\n  if (node.computed) { c(node.property, st, \"Expression\"); }\n};\nbase.ExportNamedDeclaration = base.ExportDefaultDeclaration = function (node, st, c) {\n  if (node.declaration)\n    { c(node.declaration, st, node.type === \"ExportNamedDeclaration\" || node.declaration.id ? \"Statement\" : \"Expression\"); }\n  if (node.source) { c(node.source, st, \"Expression\"); }\n};\nbase.ExportAllDeclaration = function (node, st, c) {\n  if (node.exported)\n    { c(node.exported, st); }\n  c(node.source, st, \"Expression\");\n};\nbase.ImportDeclaration = function (node, st, c) {\n  for (var i = 0, list = node.specifiers; i < list.length; i += 1)\n    {\n    var spec = list[i];\n\n    c(spec, st);\n  }\n  c(node.source, st, \"Expression\");\n};\nbase.ImportExpression = function (node, st, c) {\n  c(node.source, st, \"Expression\");\n};\nbase.ImportSpecifier = base.ImportDefaultSpecifier = base.ImportNamespaceSpecifier = base.Identifier = base.PrivateIdentifier = base.Literal = ignore;\n\nbase.TaggedTemplateExpression = function (node, st, c) {\n  c(node.tag, st, \"Expression\");\n  c(node.quasi, st, \"Expression\");\n};\nbase.ClassDeclaration = base.ClassExpression = function (node, st, c) { return c(node, st, \"Class\"); };\nbase.Class = function (node, st, c) {\n  if (node.id) { c(node.id, st, \"Pattern\"); }\n  if (node.superClass) { c(node.superClass, st, \"Expression\"); }\n  c(node.body, st);\n};\nbase.ClassBody = function (node, st, c) {\n  for (var i = 0, list = node.body; i < list.length; i += 1)\n    {\n    var elt = list[i];\n\n    c(elt, st);\n  }\n};\nbase.MethodDefinition = base.PropertyDefinition = base.Property = function (node, st, c) {\n  if (node.computed) { c(node.key, st, \"Expression\"); }\n  if (node.value) { c(node.value, st, \"Expression\"); }\n};\n\nexport { ancestor, base, findNodeAfter, findNodeAround, findNodeAt, findNodeBefore, full, fullAncestor, make, recursive, simple };\n", "import chalk from 'chalk'\nimport EdgeFunctionsBuilder from './EdgeFunctionsBuilder'\nimport { readFileSync, writeFileSync, mkdirSync } from 'fs'\nimport { Router } from '../../router'\nimport { isAbsolute, join, dirname, relative, parse } from 'path'\nimport { build, BuildOptions, LogLevel, transform, TransformOptions } from 'esbuild'\nimport { isCloud, isProductionBuild } from '../../environment'\nimport { compileEdgeFunction } from '../../runtime/edge-functions/EdgeFunctionCompiler'\nimport EdgeFunctionsWorkerManager from '../../runtime/edge-functions/EdgeFunctionsWorkerManager'\nimport { getIndexPath, getBundlePath, getQuickJSBytecodePath } from './paths'\nimport { containsEdgeFunctionFeature } from '../../utils/edgeFunctionUtils'\nimport { getJsInternalPath } from '../paths'\nimport * as acorn from 'acorn'\nimport { simple } from 'acorn-walk'\nimport zlib from 'zlib'\nimport _ from 'lodash'\n\nexport interface EdgeFunctionsNodeBuilderOptions {\n  bundleFilePath?: string\n  skipAcornValidation?: boolean\n}\n\n/**\n * The edge functions builder for NodeJS environment.\n * This builder uses esbuild to bundle the index file, so it allows to use imports in edge functions.\n * This builder builds the index file 'edgeFunctionsIndexCodeTemplate' with sdk, edge functions and bundle it.\n * The index file is then compiled to QuickJS bytecode.\n */\nexport default class EdgeFunctionsNodeBuilder extends EdgeFunctionsBuilder {\n  protected baseDir: string\n  protected options: EdgeFunctionsNodeBuilderOptions\n\n  /**\n   * A map of edge function paths to source code to upload for display in console.\n   */\n  public sources: { [key: string]: string } = {}\n\n  /**\n   * @param router The Router\n   * @param baseDir The base of the project directory\n   * @param options Additional options\n   */\n  constructor(\n    router: Router,\n    baseDir: string,\n    options: EdgeFunctionsNodeBuilderOptions = {\n      bundleFilePath: getBundlePath(),\n      skipAcornValidation: false,\n    }\n  ) {\n    super(router)\n    this.baseDir = isAbsolute(baseDir) ? baseDir : join(process.cwd(), dirname(baseDir))\n    this.options = options\n  }\n\n  /**\n   * Returns the code with edge function import as string\n   * which can later be inserted into edge functions map.\n   * @returns\n   */\n  protected getFunctionCode(srcPath: string, isInitScript: boolean, failOnBuildError: boolean) {\n    const expectedExportName = isInitScript ? 'handleHttpInit' : 'handleHttpRequest'\n    const expectedParameters = isInitScript ? 'context' : 'request, context'\n\n    // Accumulate the source code for deploys so it can be displayed in the console.\n    const funcPath = join(this.baseDir, srcPath)\n    try {\n      this.sources[srcPath] = readFileSync(funcPath, 'utf8')\n    } catch (e) {\n      // When the edge function file is missing, return an edge function that says the file is missing.\n      console.error(chalk.red(`\\nError reading edge function file '${srcPath}:\\n${e}`))\n      if (failOnBuildError) {\n        throw e\n      }\n      this.sources[srcPath] = `async function ${expectedExportName}(${expectedParameters}) {\n        return new Response('Missing file ${srcPath}', {status: 404})\n      }`.replace(/\\n/g, '') // should be one line\n      return `const ${this.functionDefaultExportName} = ${this.sources[srcPath]}`\n    }\n\n    if (!this.options.skipAcornValidation) {\n      // Verify the edge function file is valid JavaScript and exports the required function.\n      let ast\n      try {\n        ast = acorn.Parser.parse(this.sources[srcPath], {\n          locations: true,\n          sourceType: 'module',\n          ecmaVersion: 2020,\n        })\n      } catch (error) {\n        // By default, acorn does not provide readable error messages for syntax errors. On syntax errors, we\n        // break out the details and display them in a more readable format.\n        if (error instanceof SyntaxError) {\n          // TypeScript does not allow me to directly get error details from the error object, but using stringify\n          // and parse does allow access to the details.\n          const details = JSON.parse(JSON.stringify(error))\n\n          // Get the source line where the error occurred and print out a few lines before and after, including line numbers.\n          const extraLines = 10\n          const startLine = details.loc.line - extraLines < 0 ? 0 : details.loc.line - extraLines\n          const endLine = details.loc.line + extraLines\n          const sourceLines = this.sources[srcPath].split('\\n').slice(startLine, endLine)\n          const lines = _.map(sourceLines, (line, index) => {\n            const lineNumber = index + startLine + 1 // Line numbers are 1-based.\n            return `${lineNumber.toString().padStart(5, ' ')}: ${line}`\n          }).join('\\n')\n          console.error(\n            chalk.red(\n              `\\nFile '${srcPath}' at line: ${details.loc.line}, column: ${details.loc.column}`\n            )\n          )\n          console.error(lines)\n          console.error(chalk.red(`\\nSyntaxError: ${error.message}\\n`))\n        } else {\n          console.error(chalk.red(`\\nError in file '${srcPath}' ${error}\\n`))\n        }\n        // Rethrow the error so the build/deploy will fail.\n        throw error\n      }\n      let foundExport = false\n      simple(ast, {\n        ExportNamedDeclaration(node: any) {\n          if (\n            node?.type === 'ExportNamedDeclaration' &&\n            node.declaration?.type === 'FunctionDeclaration' &&\n            node.declaration.id?.name === expectedExportName\n          ) {\n            foundExport = true\n          }\n        },\n      })\n      if (!foundExport) {\n        let msg = `Missing '${expectedExportName}' export in edge function file '${srcPath}'\\n`\n        msg += `The file must include an export: e.g. export async function ${expectedExportName}(${expectedParameters}) { ... }`\n        console.log(chalk.red('\\n' + msg))\n        if (failOnBuildError) throw new Error(msg)\n      }\n    }\n\n    // Here we use a require('module/path') call instead of import * from 'module/path' to ensure that side effects\n    // are only executed if the function is used. This may help reduce unexpected behavior\n    // from side-effects caused by poorly written code.\n    return `const ${this.functionDefaultExportName} = require(${JSON.stringify(\n      join(this.baseDir, srcPath)\n    )}).${expectedExportName};`\n  }\n\n  /**\n   * Returns the code of prebuilt the index code template from the file system.\n   * @returns\n   */\n  protected async getIndexCodeTemplate(): Promise<string> {\n    return readFileSync(join(__dirname, this.indexCodeTemplateFilename), 'utf8')\n  }\n\n  /**\n   * Bundles the generated index code into a single file bundle\n   * and returns the bundled code\n   * @returns\n   */\n  public async bundleIndexCode(\n    indexFilePath = getIndexPath(),\n    failOnBuildError: boolean,\n    esbuildLogLevel: LogLevel = 'warning'\n  ): Promise<string> {\n    const indexCode = await this.getIndexCode(failOnBuildError)\n    writeFileSync(indexFilePath, indexCode)\n    // We bundle the index file to a single file bundle\n    // so the all imports in edge functions are resolved and added to bundle.\n    const { code: bundledIndexCode } = await this.bundle(indexFilePath, esbuildLogLevel)\n    return bundledIndexCode\n  }\n\n  /**\n   * Builds all edge functions referenced by the specified rules and compiles them.\n   * Returns a Buffer with the compiled bytecode for the edge functions index file\n   * or undefined if there are no edge functions.\n   * @param options Additional options with custom paths\n   * @returns\n   */\n  public async build(\n    options: {\n      indexFilePath?: string\n      bytecodePath?: string\n      failOnBuildError?: boolean\n      gzipBytecode?: boolean\n      supressEsbuildOutput?: boolean\n    } = {}\n  ): Promise<Buffer | undefined> {\n    // Check if there are any edge function features at all.\n    if (!containsEdgeFunctionFeature(this.router.rules)) return undefined\n\n    options.indexFilePath = options.indexFilePath || getIndexPath()\n    options.bytecodePath = options.bytecodePath || getQuickJSBytecodePath()\n\n    let bundledIndexCode: string\n    try {\n      bundledIndexCode = await this.bundleIndexCode(\n        options.indexFilePath,\n        options.failOnBuildError || false,\n        options.supressEsbuildOutput ? 'silent' : 'warning'\n      )\n    } catch (e: any) {\n      if (options.failOnBuildError) {\n        // When deploying, we want to fail the deploy if there is a bundling error.\n        throw e\n      }\n      // If there is a bundling error, the bundler will display the error for us. So just return\n      // undefined here. This prevents the CLI from exiting when edge functions have a bundling error.\n      return undefined\n    }\n    // Use relative path when compiling so stack traces do not have absolute paths which\n    // may otherwise leak information about the developer's machine.\n    const relativePath = relative(process.cwd(), getBundlePath())\n    let bytecode = await compileEdgeFunction(bundledIndexCode, relativePath)\n\n    // We do not gzip when running the local dev server because we would have to immediately\n    // unzip it to load it into WebAssembly. This would be a waste of CPU cycles.\n    if (options.gzipBytecode) {\n      // When gzipping the edge functions bundle, we prepend the string 'gzip' before base64 encoding\n      // to indicate that the bundle is gzipped. Without the prefix, it is just wasm byte code.\n      bytecode = Buffer.concat([Buffer.from('gzip'), zlib.gzipSync(bytecode)])\n    }\n    writeFileSync(options.bytecodePath, bytecode)\n\n    // On successful build, reset the edge function memory so it will use cold start.\n    EdgeFunctionsWorkerManager.clearWasmInitialMemory()\n    return bytecode\n  }\n\n  /**\n   * Bundles the edge functions index at the specified path into a single file bundle.\n   * @param indexPath\n   * @returns\n   */\n  async bundle(indexPath: string, esbuildLogLevel: LogLevel): Promise<any> {\n    const esBuildOptions: BuildOptions = {\n      entryPoints: [indexPath],\n      bundle: true,\n      minify: isProductionBuild(),\n      // format: esm, with mainFields: [ module, main] gives the same output as\n      // platform: node, but without allowing NodeJs builtins like `url` to be imported.\n      // these values must be in sync with package.json \"config.esbuild_opts_edgefunction_esm\" section.\n      format: 'esm',\n      platform: 'neutral',\n      target: 'es2020', // NODE_VERSION\n      mainFields: ['module', 'main'],\n      sourcemap: false,\n      sourceRoot: isCloud() ? getJsInternalPath() : '',\n      write: false, // output to memory instead of writing to disk\n      logLevel: esbuildLogLevel,\n    }\n    const result = await build(esBuildOptions)\n    const { TextDecoder } = require('util')\n    const textDecoder = new TextDecoder()\n\n    let code = ''\n    for (let out of result.outputFiles || []) {\n      code += textDecoder.decode(out.contents)\n    }\n\n    // Always persist the bundle for debugging purposes, unless explicitly disabled.\n    if (this.options.bundleFilePath) {\n      mkdirSync(parse(this.options.bundleFilePath).dir, { recursive: true })\n\n      writeFileSync(this.options.bundleFilePath, code)\n    }\n\n    return { code }\n  }\n\n  /**\n   * Converts the edge function into cjs\n   * @param code\n   * @returns cjs\n   */\n  async convertToCjs(code: string): Promise<string> {\n    const esTransformOptions: TransformOptions = {\n      minify: false,\n      target: 'node16.0', // NODE_VERSION\n      format: 'esm',\n    }\n    const result = await transform(code, esTransformOptions)\n    return result.code\n  }\n}\n", "'use strict';\nmodule.exports = path => {\n\tconst isExtendedLengthPath = /^\\\\\\\\\\?\\\\/.test(path);\n\tconst hasNonAscii = /[^\\u0000-\\u0080]+/.test(path); // eslint-disable-line no-control-regex\n\n\tif (isExtendedLengthPath || hasNonAscii) {\n\t\treturn path;\n\t}\n\n\treturn path.replace(/\\\\/g, '/');\n};\n", "import slash from 'slash'\n\n/**\n * Loads a module at runtime, ensuring that it won't be bundled by webpack. This function\n * also ensures proper behavior on windows, *nix, and macos filesystems, even if the module\n * path is derived from a file path with backslashes. This function will return undefined if\n * the module could not be loaded.\n * @param modulePath The path to the module to load\n * @param options.ignoreErrors Will return undefined if the module fails to load\n */\nexport default function nonWebpackRequire(\n  modulePath: string,\n  { ignoreErrors = false }: { ignoreErrors?: boolean } = {}\n) {\n  try {\n    return eval('require')(slash(modulePath))\n  } catch (e) {\n    if (ignoreErrors) {\n      return undefined\n    } else {\n      throw e\n    }\n  }\n}\n", "export { default as nonWebpackRequire } from './nonWebpackRequire'\n", "/* istanbul ignore file */\n\nimport { WatchOptions } from 'chokidar'\nimport { nonWebpackRequire } from '.'\n\n/**\n * Loads a module at runtime, ensuring that it won't be bundled by webpack. This function\n * also ensures proper behavior on windows, *nix, and macos filesystems, even if the module\n * path is derived from a file path with backslashes. This function will return undefined if\n * the module could not be loaded.\n * @param modulePath The path to the module to load\n * @param options.ignoreErrors Will return undefined if the module fails to load\n */\nexport default function watch(paths: string | ReadonlyArray<string>, options?: WatchOptions) {\n  const chokidar = nonWebpackRequire('chokidar')\n  return chokidar.watch(paths, options)\n}\n", "import { join, dirname, resolve } from 'path'\nimport { Router } from '../../router'\nimport { Rules } from '../../types'\nimport {\n  containsEdgeFunctionFeature,\n  getEdgeFunctionFeatures,\n  getEdgeFunctionJsPath,\n} from '../../utils/edgeFunctionUtils'\nimport EdgeFunctionsNodeBuilder from './EdgeFunctionsNodeBuilder'\nimport { getQuickJSBytecodePath } from './paths'\nimport { readFileSync, existsSync } from 'fs'\nimport watch from '../../utils/watch'\nimport { EDGE_FUNCTION_SOURCES_FILENAME, getJsInternalPath } from '../paths'\n\n/**\n * Close functions for all files being actively watched for changes\n */\nlet watchers: any[] = []\n\ntype EdgeFunctionSources = {\n  sources: { [key: string]: string }\n  initScript: string | null\n}\n/**\n * Returns an object whose names are function paths and whose values are the source code for the function.\n * @returns\n */\nexport function getEdgeFunctionSources(): EdgeFunctionSources {\n  const path = join(getJsInternalPath(), EDGE_FUNCTION_SOURCES_FILENAME)\n\n  if (existsSync(path)) {\n    return <EdgeFunctionSources>JSON.parse(readFileSync(path, 'utf8'))\n  } else {\n    return { sources: {}, initScript: null }\n  }\n}\n\n/**\n * Returns the compiled code for the edge function at the specified source path\n * If there are no edge functions or they have not been generated yet, returns undefined.\n * @returns\n */\nexport function getEdgeFunctionBytecode(rules: Rules[] = []): Buffer | undefined {\n  // Check if there are any edge function features at all.\n  if (!containsEdgeFunctionFeature(rules)) return undefined\n\n  const path = getQuickJSBytecodePath()\n  if (!existsSync(path)) {\n    // The edge functions have not been generated yet and we cannot invoke the build\n    // here which is an asynchronous operation. So we return undefined and the caller\n    // will later ensure that the edge function is built.\n    return undefined\n  }\n\n  return readFileSync(path)\n}\n\n/**\n * Watches for changes to all edge functions referenced by the specified rules and compiles them.\n * @param router The router instance\n * @param routerSrcPath The path to the routes file relative to the root of the app\n */\nexport async function watchEdgeFunctions(router: Router, routerSrcPath: string) {\n  const rules = router.rules\n  const edgeFunctionsBuilder = new EdgeFunctionsNodeBuilder(router, routerSrcPath)\n\n  clearWatchers()\n\n  // Assemble a list of directories that contain edge functions\n  // and watch them for changes to any .js files.\n  let watchList = new Set<string>()\n\n  for (let feature of getEdgeFunctionFeatures(rules)) {\n    const srcPath = getEdgeFunctionJsPath(feature.edge_function!)\n    const watchGlob = join(resolve(dirname(srcPath)), '*.js')\n    watchList.add(watchGlob)\n  }\n\n  for (let watchGlob of watchList) {\n    const watchOptions = {\n      atomic: true, // Automatically filters out artifacts that occur when using editors that use \"atomic writes\" instead of writing directly to the source file.\n    }\n    const watcher = watch(watchGlob, watchOptions)\n\n    watcher.on('change', async () => {\n      process.stdout.write(`> Bundling edge functions... `)\n      await edgeFunctionsBuilder.build({ gzipBytecode: false })\n      process.stdout.write(`done.\\n`)\n    })\n\n    watchers.push(watcher)\n  }\n\n  process.stdout.write(`> Bundling edge functions... `)\n  await edgeFunctionsBuilder.build({ gzipBytecode: false })\n  process.stdout.write(`done.\\n`)\n}\n\n/**\n * Clears all watches for edge function files\n */\nfunction clearWatchers() {\n  for (let watcher of watchers) {\n    watcher.close()\n  }\n  watchers = []\n}\n", "import { Router } from '../router'\nimport PropertyContext from './PropertyContext'\nimport RulesFormatter from './rules/RulesFormatter'\nimport { getEdgeFunctionSources } from '../deploy/edge-functions'\nimport { forceEdgeFunctionFeatureObject } from '../utils/edgeFunctionUtils'\nimport { EDGIO_EDGE_FUNCTION_DEFAULT_VERSION } from '../constants'\n\n/**\n * Creates the JSON for deploying an environment via the EdgeControl API.\n * @param context The PropertyContext\n * @param router The Router use to create rules\n * @param isEdge set to true if not running in simulator\n * @returns\n */\nexport default function createEdgeConfig(context: PropertyContext, router: Router) {\n  return JSON.stringify(createEdgeConfigPropertiesObject(context, router), null, 2)\n}\n\n/**\n * Create edge control json object\n * @param context The PropertyContext\n * @param router The Router use to create rules\n * @returns\n */\nexport function createEdgeConfigPropertiesObject(context: PropertyContext, router: Router) {\n  const { sources, initScript } = getEdgeFunctionSources()\n  const includeEdgeFunctions = Object.keys(sources).length > 0\n  const edgeConfig = {\n    name: context.property.name,\n    hostnames: context.property.hostnames,\n    origins: context.origins,\n    rules: router.rules,\n    // Don't include edge functions if none are defined.\n    edge_functions: includeEdgeFunctions\n      ? {\n          ...context.property.edge_functions,\n          sources,\n          init_script: initScript,\n        }\n      : undefined,\n  }\n\n  // Adjust edge function router rules to use the new object format (rather than just string path).\n  forceEdgeFunctionFeatureObject(router.rules, EDGIO_EDGE_FUNCTION_DEFAULT_VERSION)\n\n  // Adjust rules when we are exporting config for EdgeControl.\n  const rulesFormatter = new RulesFormatter()\n  const rules = rulesFormatter.format(router.rules)\n\n  return {\n    ...edgeConfig,\n    rules,\n  }\n}\n", "import Router from '../router/Router'\nimport Request from '../runtime/Request'\nimport { Origins, Property } from '../types'\nimport { createEdgeConfigPropertiesObject } from './createEdgeConfig'\n\nexport default class PropertyContext {\n  private readonly originsByName: { [key: string]: Origins }\n  private readonly defaultOrigins: { [key: string]: Origins }\n  private readonly accountID: string\n  readonly property: Property\n  readonly origins: Origins[]\n\n  constructor(property: Property) {\n    this.accountID = process.env.ACCOUNT_ID || 'development'\n    this.property = property\n    this.origins = this.property.origins ?? []\n    this.originsByName = this.createOriginMap()\n    this.defaultOrigins = this.createDefaultOriginMap()\n  }\n\n  /**\n   * Gets an origin by name\n   * @param name\n   * @returns\n   */\n  getOrigin(name: string) {\n    return this.originsByName[name]\n  }\n\n  createEdgeConfig(router: Router) {\n    return JSON.stringify(createEdgeConfigPropertiesObject(this, router), null, 2)\n  }\n\n  /**\n   * Return default origin name based on the\n   * matching the host header to the corresponding cname's default origin from edgio.config.js.\n   * @param request\n   */\n  getDefaultOrigin(request: Request) {\n    let hostname = (request.getHeader('host') as string).toLowerCase()\n    const defaultOrigin = this.defaultOrigins[hostname]\n    const origins = <Origins[]>this.origins\n\n    if (defaultOrigin && defaultOrigin.name) {\n      return defaultOrigin.name\n    }\n    return <string>origins[0].name\n  }\n\n  /**\n   * Creates a map of origin group id to origin group\n   * @returns\n   */\n  private createOriginMap() {\n    const originGroups: { [id: string]: Origins } = {}\n    const origins = <Origins[]>this.origins\n\n    for (const origin of origins) {\n      originGroups[origin.name!] = origin\n    }\n\n    return originGroups\n  }\n\n  /**\n   * Creates a map of hostname to the default origin group\n   * @returns\n   */\n  private createDefaultOriginMap() {\n    const defaultOriginMap: { [hostname: string]: Origins } = {}\n    const { hostnames } = this.property\n\n    if (hostnames) {\n      for (const hostname of hostnames) {\n        if (hostname.default_origin_name) {\n          const origin = this.originsByName[hostname.default_origin_name]\n\n          if (origin) {\n            defaultOriginMap[hostname.hostname] = origin\n          } else {\n            throw new Error(`No origin with id=\"${hostname.default_origin_name}\" was found.`)\n          }\n        }\n      }\n    }\n\n    return defaultOriginMap\n  }\n}\n", "import RequestContext from './RequestContext'\nimport logger from '../log'\nimport LambdaResponse from './LambdaResponse'\nimport LambdaRequest from './LambdaRequest'\nimport { RuntimeObjects } from '../lambda/RuntimeObjects'\nimport PropertyContext from './PropertyContext'\n\nconst REDIRECT_STATUS_CODES = new Set<number | undefined>([301, 302, 303, 307, 308])\n\nexport default class RequestHandler {\n  constructor(public options: RuntimeObjects) {}\n\n  async handleServerless(request: LambdaRequest, response: LambdaResponse): Promise<void> {\n    await this.handle(request, response, async context => {\n      await context.executeServerless()\n    })\n  }\n\n  async handleSimulator(request: LambdaRequest, response: LambdaResponse): Promise<void> {\n    await this.handle(request, response, async context => {\n      await context.executeSimulator()\n    })\n  }\n\n  private async handle(\n    request: LambdaRequest,\n    response: LambdaResponse,\n    callback: (context: RequestContext) => Promise<any>\n  ) {\n    logger.debug(`[RequestHandler] ${request.method} ${request.url}`)\n\n    const context = this.createRequestContext(request, response)\n\n    await callback(context)\n\n    if (context.followRedirects && REDIRECT_STATUS_CODES.has(response.statusCode)) {\n      const res = await RequestHandler.recreateRequestResponse(request, response)\n      const redirectContext = this.createRequestContext(res.request, res.response)\n\n      await callback(redirectContext)\n\n      // Sailfish only allows a single redirect. If the user attempts a second, it will throw a 500 error.\n      if (context.followRedirects && REDIRECT_STATUS_CODES.has(response.statusCode))\n        throw new Error('Too many internal redirects')\n    }\n\n    logger.debug(\n      `[RequestHandler] response : ${response.statusCode} ${response.statusMessage || ''}`\n    )\n  }\n\n  private createRequestContext(request: LambdaRequest, response: LambdaResponse) {\n    return new RequestContext({\n      request,\n      response,\n      propertyContext: new PropertyContext(this.options.config),\n      rules: this.options.router.rules,\n      edgeFunctions: this.options.config.edge_functions,\n      cache: this.options.cache,\n      functions: this.options.router.functions,\n      interpolationValues: this.options.config.interpolationValues,\n    })\n  }\n\n  /**\n   * Recreates the request and response objects based on redirect location value\n   */\n  private static async recreateRequestResponse(request: LambdaRequest, response: LambdaResponse) {\n    const location = response.getHeader('location') as string\n    const url = new URL(location)\n\n    // Clone the request and use the redirect location as the URL\n    const clone = request.cloneOriginal()\n    clone.url = url.pathname + url.search\n    clone.path = url.pathname\n\n    // Undo any changes to the response made by the original request\n    response.clear()\n    response.clearHeaders()\n    response.statusCode = 200\n    response.statusMessage = 'OK'\n    response.body = ''\n\n    return { request: clone, response }\n  }\n}\n", "const perf =\n  typeof performance === 'object' &&\n  performance &&\n  typeof performance.now === 'function'\n    ? performance\n    : Date\n\nconst hasAbortController = typeof AbortController === 'function'\n\n// minimal backwards-compatibility polyfill\n// this doesn't have nearly all the checks and whatnot that\n// actual AbortController/Signal has, but it's enough for\n// our purposes, and if used properly, behaves the same.\nconst AC = hasAbortController\n  ? AbortController\n  : class AbortController {\n      constructor() {\n        this.signal = new AS()\n      }\n      abort(reason = new Error('This operation was aborted')) {\n        this.signal.reason = this.signal.reason || reason\n        this.signal.aborted = true\n        this.signal.dispatchEvent({\n          type: 'abort',\n          target: this.signal,\n        })\n      }\n    }\n\nconst hasAbortSignal = typeof AbortSignal === 'function'\n// Some polyfills put this on the AC class, not global\nconst hasACAbortSignal = typeof AC.AbortSignal === 'function'\nconst AS = hasAbortSignal\n  ? AbortSignal\n  : hasACAbortSignal\n  ? AC.AbortController\n  : class AbortSignal {\n      constructor() {\n        this.reason = undefined\n        this.aborted = false\n        this._listeners = []\n      }\n      dispatchEvent(e) {\n        if (e.type === 'abort') {\n          this.aborted = true\n          this.onabort(e)\n          this._listeners.forEach(f => f(e), this)\n        }\n      }\n      onabort() {}\n      addEventListener(ev, fn) {\n        if (ev === 'abort') {\n          this._listeners.push(fn)\n        }\n      }\n      removeEventListener(ev, fn) {\n        if (ev === 'abort') {\n          this._listeners = this._listeners.filter(f => f !== fn)\n        }\n      }\n    }\n\nconst warned = new Set()\nconst deprecatedOption = (opt, instead) => {\n  const code = `LRU_CACHE_OPTION_${opt}`\n  if (shouldWarn(code)) {\n    warn(code, `${opt} option`, `options.${instead}`, LRUCache)\n  }\n}\nconst deprecatedMethod = (method, instead) => {\n  const code = `LRU_CACHE_METHOD_${method}`\n  if (shouldWarn(code)) {\n    const { prototype } = LRUCache\n    const { get } = Object.getOwnPropertyDescriptor(prototype, method)\n    warn(code, `${method} method`, `cache.${instead}()`, get)\n  }\n}\nconst deprecatedProperty = (field, instead) => {\n  const code = `LRU_CACHE_PROPERTY_${field}`\n  if (shouldWarn(code)) {\n    const { prototype } = LRUCache\n    const { get } = Object.getOwnPropertyDescriptor(prototype, field)\n    warn(code, `${field} property`, `cache.${instead}`, get)\n  }\n}\n\nconst emitWarning = (...a) => {\n  typeof process === 'object' &&\n  process &&\n  typeof process.emitWarning === 'function'\n    ? process.emitWarning(...a)\n    : console.error(...a)\n}\n\nconst shouldWarn = code => !warned.has(code)\n\nconst warn = (code, what, instead, fn) => {\n  warned.add(code)\n  const msg = `The ${what} is deprecated. Please use ${instead} instead.`\n  emitWarning(msg, 'DeprecationWarning', code, fn)\n}\n\nconst isPosInt = n => n && n === Math.floor(n) && n > 0 && isFinite(n)\n\n/* istanbul ignore next - This is a little bit ridiculous, tbh.\n * The maximum array length is 2^32-1 or thereabouts on most JS impls.\n * And well before that point, you're caching the entire world, I mean,\n * that's ~32GB of just integers for the next/prev links, plus whatever\n * else to hold that many keys and values.  Just filling the memory with\n * zeroes at init time is brutal when you get that big.\n * But why not be complete?\n * Maybe in the future, these limits will have expanded. */\nconst getUintArray = max =>\n  !isPosInt(max)\n    ? null\n    : max <= Math.pow(2, 8)\n    ? Uint8Array\n    : max <= Math.pow(2, 16)\n    ? Uint16Array\n    : max <= Math.pow(2, 32)\n    ? Uint32Array\n    : max <= Number.MAX_SAFE_INTEGER\n    ? ZeroArray\n    : null\n\nclass ZeroArray extends Array {\n  constructor(size) {\n    super(size)\n    this.fill(0)\n  }\n}\n\nclass Stack {\n  constructor(max) {\n    if (max === 0) {\n      return []\n    }\n    const UintArray = getUintArray(max)\n    this.heap = new UintArray(max)\n    this.length = 0\n  }\n  push(n) {\n    this.heap[this.length++] = n\n  }\n  pop() {\n    return this.heap[--this.length]\n  }\n}\n\nclass LRUCache {\n  constructor(options = {}) {\n    const {\n      max = 0,\n      ttl,\n      ttlResolution = 1,\n      ttlAutopurge,\n      updateAgeOnGet,\n      updateAgeOnHas,\n      allowStale,\n      dispose,\n      disposeAfter,\n      noDisposeOnSet,\n      noUpdateTTL,\n      maxSize = 0,\n      maxEntrySize = 0,\n      sizeCalculation,\n      fetchMethod,\n      fetchContext,\n      noDeleteOnFetchRejection,\n      noDeleteOnStaleGet,\n      allowStaleOnFetchRejection,\n      allowStaleOnFetchAbort,\n      ignoreFetchAbort,\n    } = options\n\n    // deprecated options, don't trigger a warning for getting them if\n    // the thing being passed in is another LRUCache we're copying.\n    const { length, maxAge, stale } =\n      options instanceof LRUCache ? {} : options\n\n    if (max !== 0 && !isPosInt(max)) {\n      throw new TypeError('max option must be a nonnegative integer')\n    }\n\n    const UintArray = max ? getUintArray(max) : Array\n    if (!UintArray) {\n      throw new Error('invalid max value: ' + max)\n    }\n\n    this.max = max\n    this.maxSize = maxSize\n    this.maxEntrySize = maxEntrySize || this.maxSize\n    this.sizeCalculation = sizeCalculation || length\n    if (this.sizeCalculation) {\n      if (!this.maxSize && !this.maxEntrySize) {\n        throw new TypeError(\n          'cannot set sizeCalculation without setting maxSize or maxEntrySize'\n        )\n      }\n      if (typeof this.sizeCalculation !== 'function') {\n        throw new TypeError('sizeCalculation set to non-function')\n      }\n    }\n\n    this.fetchMethod = fetchMethod || null\n    if (this.fetchMethod && typeof this.fetchMethod !== 'function') {\n      throw new TypeError(\n        'fetchMethod must be a function if specified'\n      )\n    }\n\n    this.fetchContext = fetchContext\n    if (!this.fetchMethod && fetchContext !== undefined) {\n      throw new TypeError(\n        'cannot set fetchContext without fetchMethod'\n      )\n    }\n\n    this.keyMap = new Map()\n    this.keyList = new Array(max).fill(null)\n    this.valList = new Array(max).fill(null)\n    this.next = new UintArray(max)\n    this.prev = new UintArray(max)\n    this.head = 0\n    this.tail = 0\n    this.free = new Stack(max)\n    this.initialFill = 1\n    this.size = 0\n\n    if (typeof dispose === 'function') {\n      this.dispose = dispose\n    }\n    if (typeof disposeAfter === 'function') {\n      this.disposeAfter = disposeAfter\n      this.disposed = []\n    } else {\n      this.disposeAfter = null\n      this.disposed = null\n    }\n    this.noDisposeOnSet = !!noDisposeOnSet\n    this.noUpdateTTL = !!noUpdateTTL\n    this.noDeleteOnFetchRejection = !!noDeleteOnFetchRejection\n    this.allowStaleOnFetchRejection = !!allowStaleOnFetchRejection\n    this.allowStaleOnFetchAbort = !!allowStaleOnFetchAbort\n    this.ignoreFetchAbort = !!ignoreFetchAbort\n\n    // NB: maxEntrySize is set to maxSize if it's set\n    if (this.maxEntrySize !== 0) {\n      if (this.maxSize !== 0) {\n        if (!isPosInt(this.maxSize)) {\n          throw new TypeError(\n            'maxSize must be a positive integer if specified'\n          )\n        }\n      }\n      if (!isPosInt(this.maxEntrySize)) {\n        throw new TypeError(\n          'maxEntrySize must be a positive integer if specified'\n        )\n      }\n      this.initializeSizeTracking()\n    }\n\n    this.allowStale = !!allowStale || !!stale\n    this.noDeleteOnStaleGet = !!noDeleteOnStaleGet\n    this.updateAgeOnGet = !!updateAgeOnGet\n    this.updateAgeOnHas = !!updateAgeOnHas\n    this.ttlResolution =\n      isPosInt(ttlResolution) || ttlResolution === 0\n        ? ttlResolution\n        : 1\n    this.ttlAutopurge = !!ttlAutopurge\n    this.ttl = ttl || maxAge || 0\n    if (this.ttl) {\n      if (!isPosInt(this.ttl)) {\n        throw new TypeError(\n          'ttl must be a positive integer if specified'\n        )\n      }\n      this.initializeTTLTracking()\n    }\n\n    // do not allow completely unbounded caches\n    if (this.max === 0 && this.ttl === 0 && this.maxSize === 0) {\n      throw new TypeError(\n        'At least one of max, maxSize, or ttl is required'\n      )\n    }\n    if (!this.ttlAutopurge && !this.max && !this.maxSize) {\n      const code = 'LRU_CACHE_UNBOUNDED'\n      if (shouldWarn(code)) {\n        warned.add(code)\n        const msg =\n          'TTL caching without ttlAutopurge, max, or maxSize can ' +\n          'result in unbounded memory consumption.'\n        emitWarning(msg, 'UnboundedCacheWarning', code, LRUCache)\n      }\n    }\n\n    if (stale) {\n      deprecatedOption('stale', 'allowStale')\n    }\n    if (maxAge) {\n      deprecatedOption('maxAge', 'ttl')\n    }\n    if (length) {\n      deprecatedOption('length', 'sizeCalculation')\n    }\n  }\n\n  getRemainingTTL(key) {\n    return this.has(key, { updateAgeOnHas: false }) ? Infinity : 0\n  }\n\n  initializeTTLTracking() {\n    this.ttls = new ZeroArray(this.max)\n    this.starts = new ZeroArray(this.max)\n\n    this.setItemTTL = (index, ttl, start = perf.now()) => {\n      this.starts[index] = ttl !== 0 ? start : 0\n      this.ttls[index] = ttl\n      if (ttl !== 0 && this.ttlAutopurge) {\n        const t = setTimeout(() => {\n          if (this.isStale(index)) {\n            this.delete(this.keyList[index])\n          }\n        }, ttl + 1)\n        /* istanbul ignore else - unref() not supported on all platforms */\n        if (t.unref) {\n          t.unref()\n        }\n      }\n    }\n\n    this.updateItemAge = index => {\n      this.starts[index] = this.ttls[index] !== 0 ? perf.now() : 0\n    }\n\n    this.statusTTL = (status, index) => {\n      if (status) {\n        status.ttl = this.ttls[index]\n        status.start = this.starts[index]\n        status.now = cachedNow || getNow()\n        status.remainingTTL = status.now + status.ttl - status.start\n      }\n    }\n\n    // debounce calls to perf.now() to 1s so we're not hitting\n    // that costly call repeatedly.\n    let cachedNow = 0\n    const getNow = () => {\n      const n = perf.now()\n      if (this.ttlResolution > 0) {\n        cachedNow = n\n        const t = setTimeout(\n          () => (cachedNow = 0),\n          this.ttlResolution\n        )\n        /* istanbul ignore else - not available on all platforms */\n        if (t.unref) {\n          t.unref()\n        }\n      }\n      return n\n    }\n\n    this.getRemainingTTL = key => {\n      const index = this.keyMap.get(key)\n      if (index === undefined) {\n        return 0\n      }\n      return this.ttls[index] === 0 || this.starts[index] === 0\n        ? Infinity\n        : this.starts[index] +\n            this.ttls[index] -\n            (cachedNow || getNow())\n    }\n\n    this.isStale = index => {\n      return (\n        this.ttls[index] !== 0 &&\n        this.starts[index] !== 0 &&\n        (cachedNow || getNow()) - this.starts[index] >\n          this.ttls[index]\n      )\n    }\n  }\n  updateItemAge(_index) {}\n  statusTTL(_status, _index) {}\n  setItemTTL(_index, _ttl, _start) {}\n  isStale(_index) {\n    return false\n  }\n\n  initializeSizeTracking() {\n    this.calculatedSize = 0\n    this.sizes = new ZeroArray(this.max)\n    this.removeItemSize = index => {\n      this.calculatedSize -= this.sizes[index]\n      this.sizes[index] = 0\n    }\n    this.requireSize = (k, v, size, sizeCalculation) => {\n      // provisionally accept background fetches.\n      // actual value size will be checked when they return.\n      if (this.isBackgroundFetch(v)) {\n        return 0\n      }\n      if (!isPosInt(size)) {\n        if (sizeCalculation) {\n          if (typeof sizeCalculation !== 'function') {\n            throw new TypeError('sizeCalculation must be a function')\n          }\n          size = sizeCalculation(v, k)\n          if (!isPosInt(size)) {\n            throw new TypeError(\n              'sizeCalculation return invalid (expect positive integer)'\n            )\n          }\n        } else {\n          throw new TypeError(\n            'invalid size value (must be positive integer). ' +\n              'When maxSize or maxEntrySize is used, sizeCalculation or size ' +\n              'must be set.'\n          )\n        }\n      }\n      return size\n    }\n    this.addItemSize = (index, size, status) => {\n      this.sizes[index] = size\n      if (this.maxSize) {\n        const maxSize = this.maxSize - this.sizes[index]\n        while (this.calculatedSize > maxSize) {\n          this.evict(true)\n        }\n      }\n      this.calculatedSize += this.sizes[index]\n      if (status) {\n        status.entrySize = size\n        status.totalCalculatedSize = this.calculatedSize\n      }\n    }\n  }\n  removeItemSize(_index) {}\n  addItemSize(_index, _size) {}\n  requireSize(_k, _v, size, sizeCalculation) {\n    if (size || sizeCalculation) {\n      throw new TypeError(\n        'cannot set size without setting maxSize or maxEntrySize on cache'\n      )\n    }\n  }\n\n  *indexes({ allowStale = this.allowStale } = {}) {\n    if (this.size) {\n      for (let i = this.tail; true; ) {\n        if (!this.isValidIndex(i)) {\n          break\n        }\n        if (allowStale || !this.isStale(i)) {\n          yield i\n        }\n        if (i === this.head) {\n          break\n        } else {\n          i = this.prev[i]\n        }\n      }\n    }\n  }\n\n  *rindexes({ allowStale = this.allowStale } = {}) {\n    if (this.size) {\n      for (let i = this.head; true; ) {\n        if (!this.isValidIndex(i)) {\n          break\n        }\n        if (allowStale || !this.isStale(i)) {\n          yield i\n        }\n        if (i === this.tail) {\n          break\n        } else {\n          i = this.next[i]\n        }\n      }\n    }\n  }\n\n  isValidIndex(index) {\n    return (\n      index !== undefined &&\n      this.keyMap.get(this.keyList[index]) === index\n    )\n  }\n\n  *entries() {\n    for (const i of this.indexes()) {\n      if (\n        this.valList[i] !== undefined &&\n        this.keyList[i] !== undefined &&\n        !this.isBackgroundFetch(this.valList[i])\n      ) {\n        yield [this.keyList[i], this.valList[i]]\n      }\n    }\n  }\n  *rentries() {\n    for (const i of this.rindexes()) {\n      if (\n        this.valList[i] !== undefined &&\n        this.keyList[i] !== undefined &&\n        !this.isBackgroundFetch(this.valList[i])\n      ) {\n        yield [this.keyList[i], this.valList[i]]\n      }\n    }\n  }\n\n  *keys() {\n    for (const i of this.indexes()) {\n      if (\n        this.keyList[i] !== undefined &&\n        !this.isBackgroundFetch(this.valList[i])\n      ) {\n        yield this.keyList[i]\n      }\n    }\n  }\n  *rkeys() {\n    for (const i of this.rindexes()) {\n      if (\n        this.keyList[i] !== undefined &&\n        !this.isBackgroundFetch(this.valList[i])\n      ) {\n        yield this.keyList[i]\n      }\n    }\n  }\n\n  *values() {\n    for (const i of this.indexes()) {\n      if (\n        this.valList[i] !== undefined &&\n        !this.isBackgroundFetch(this.valList[i])\n      ) {\n        yield this.valList[i]\n      }\n    }\n  }\n  *rvalues() {\n    for (const i of this.rindexes()) {\n      if (\n        this.valList[i] !== undefined &&\n        !this.isBackgroundFetch(this.valList[i])\n      ) {\n        yield this.valList[i]\n      }\n    }\n  }\n\n  [Symbol.iterator]() {\n    return this.entries()\n  }\n\n  find(fn, getOptions) {\n    for (const i of this.indexes()) {\n      const v = this.valList[i]\n      const value = this.isBackgroundFetch(v)\n        ? v.__staleWhileFetching\n        : v\n      if (value === undefined) continue\n      if (fn(value, this.keyList[i], this)) {\n        return this.get(this.keyList[i], getOptions)\n      }\n    }\n  }\n\n  forEach(fn, thisp = this) {\n    for (const i of this.indexes()) {\n      const v = this.valList[i]\n      const value = this.isBackgroundFetch(v)\n        ? v.__staleWhileFetching\n        : v\n      if (value === undefined) continue\n      fn.call(thisp, value, this.keyList[i], this)\n    }\n  }\n\n  rforEach(fn, thisp = this) {\n    for (const i of this.rindexes()) {\n      const v = this.valList[i]\n      const value = this.isBackgroundFetch(v)\n        ? v.__staleWhileFetching\n        : v\n      if (value === undefined) continue\n      fn.call(thisp, value, this.keyList[i], this)\n    }\n  }\n\n  get prune() {\n    deprecatedMethod('prune', 'purgeStale')\n    return this.purgeStale\n  }\n\n  purgeStale() {\n    let deleted = false\n    for (const i of this.rindexes({ allowStale: true })) {\n      if (this.isStale(i)) {\n        this.delete(this.keyList[i])\n        deleted = true\n      }\n    }\n    return deleted\n  }\n\n  dump() {\n    const arr = []\n    for (const i of this.indexes({ allowStale: true })) {\n      const key = this.keyList[i]\n      const v = this.valList[i]\n      const value = this.isBackgroundFetch(v)\n        ? v.__staleWhileFetching\n        : v\n      if (value === undefined) continue\n      const entry = { value }\n      if (this.ttls) {\n        entry.ttl = this.ttls[i]\n        // always dump the start relative to a portable timestamp\n        // it's ok for this to be a bit slow, it's a rare operation.\n        const age = perf.now() - this.starts[i]\n        entry.start = Math.floor(Date.now() - age)\n      }\n      if (this.sizes) {\n        entry.size = this.sizes[i]\n      }\n      arr.unshift([key, entry])\n    }\n    return arr\n  }\n\n  load(arr) {\n    this.clear()\n    for (const [key, entry] of arr) {\n      if (entry.start) {\n        // entry.start is a portable timestamp, but we may be using\n        // node's performance.now(), so calculate the offset.\n        // it's ok for this to be a bit slow, it's a rare operation.\n        const age = Date.now() - entry.start\n        entry.start = perf.now() - age\n      }\n      this.set(key, entry.value, entry)\n    }\n  }\n\n  dispose(_v, _k, _reason) {}\n\n  set(\n    k,\n    v,\n    {\n      ttl = this.ttl,\n      start,\n      noDisposeOnSet = this.noDisposeOnSet,\n      size = 0,\n      sizeCalculation = this.sizeCalculation,\n      noUpdateTTL = this.noUpdateTTL,\n      status,\n    } = {}\n  ) {\n    size = this.requireSize(k, v, size, sizeCalculation)\n    // if the item doesn't fit, don't do anything\n    // NB: maxEntrySize set to maxSize by default\n    if (this.maxEntrySize && size > this.maxEntrySize) {\n      if (status) {\n        status.set = 'miss'\n        status.maxEntrySizeExceeded = true\n      }\n      // have to delete, in case a background fetch is there already.\n      // in non-async cases, this is a no-op\n      this.delete(k)\n      return this\n    }\n    let index = this.size === 0 ? undefined : this.keyMap.get(k)\n    if (index === undefined) {\n      // addition\n      index = this.newIndex()\n      this.keyList[index] = k\n      this.valList[index] = v\n      this.keyMap.set(k, index)\n      this.next[this.tail] = index\n      this.prev[index] = this.tail\n      this.tail = index\n      this.size++\n      this.addItemSize(index, size, status)\n      if (status) {\n        status.set = 'add'\n      }\n      noUpdateTTL = false\n    } else {\n      // update\n      this.moveToTail(index)\n      const oldVal = this.valList[index]\n      if (v !== oldVal) {\n        if (this.isBackgroundFetch(oldVal)) {\n          oldVal.__abortController.abort(new Error('replaced'))\n        } else {\n          if (!noDisposeOnSet) {\n            this.dispose(oldVal, k, 'set')\n            if (this.disposeAfter) {\n              this.disposed.push([oldVal, k, 'set'])\n            }\n          }\n        }\n        this.removeItemSize(index)\n        this.valList[index] = v\n        this.addItemSize(index, size, status)\n        if (status) {\n          status.set = 'replace'\n          const oldValue =\n            oldVal && this.isBackgroundFetch(oldVal)\n              ? oldVal.__staleWhileFetching\n              : oldVal\n          if (oldValue !== undefined) status.oldValue = oldValue\n        }\n      } else if (status) {\n        status.set = 'update'\n      }\n    }\n    if (ttl !== 0 && this.ttl === 0 && !this.ttls) {\n      this.initializeTTLTracking()\n    }\n    if (!noUpdateTTL) {\n      this.setItemTTL(index, ttl, start)\n    }\n    this.statusTTL(status, index)\n    if (this.disposeAfter) {\n      while (this.disposed.length) {\n        this.disposeAfter(...this.disposed.shift())\n      }\n    }\n    return this\n  }\n\n  newIndex() {\n    if (this.size === 0) {\n      return this.tail\n    }\n    if (this.size === this.max && this.max !== 0) {\n      return this.evict(false)\n    }\n    if (this.free.length !== 0) {\n      return this.free.pop()\n    }\n    // initial fill, just keep writing down the list\n    return this.initialFill++\n  }\n\n  pop() {\n    if (this.size) {\n      const val = this.valList[this.head]\n      this.evict(true)\n      return val\n    }\n  }\n\n  evict(free) {\n    const head = this.head\n    const k = this.keyList[head]\n    const v = this.valList[head]\n    if (this.isBackgroundFetch(v)) {\n      v.__abortController.abort(new Error('evicted'))\n    } else {\n      this.dispose(v, k, 'evict')\n      if (this.disposeAfter) {\n        this.disposed.push([v, k, 'evict'])\n      }\n    }\n    this.removeItemSize(head)\n    // if we aren't about to use the index, then null these out\n    if (free) {\n      this.keyList[head] = null\n      this.valList[head] = null\n      this.free.push(head)\n    }\n    this.head = this.next[head]\n    this.keyMap.delete(k)\n    this.size--\n    return head\n  }\n\n  has(k, { updateAgeOnHas = this.updateAgeOnHas, status } = {}) {\n    const index = this.keyMap.get(k)\n    if (index !== undefined) {\n      if (!this.isStale(index)) {\n        if (updateAgeOnHas) {\n          this.updateItemAge(index)\n        }\n        if (status) status.has = 'hit'\n        this.statusTTL(status, index)\n        return true\n      } else if (status) {\n        status.has = 'stale'\n        this.statusTTL(status, index)\n      }\n    } else if (status) {\n      status.has = 'miss'\n    }\n    return false\n  }\n\n  // like get(), but without any LRU updating or TTL expiration\n  peek(k, { allowStale = this.allowStale } = {}) {\n    const index = this.keyMap.get(k)\n    if (index !== undefined && (allowStale || !this.isStale(index))) {\n      const v = this.valList[index]\n      // either stale and allowed, or forcing a refresh of non-stale value\n      return this.isBackgroundFetch(v) ? v.__staleWhileFetching : v\n    }\n  }\n\n  backgroundFetch(k, index, options, context) {\n    const v = index === undefined ? undefined : this.valList[index]\n    if (this.isBackgroundFetch(v)) {\n      return v\n    }\n    const ac = new AC()\n    if (options.signal) {\n      options.signal.addEventListener('abort', () =>\n        ac.abort(options.signal.reason)\n      )\n    }\n    const fetchOpts = {\n      signal: ac.signal,\n      options,\n      context,\n    }\n    const cb = (v, updateCache = false) => {\n      const { aborted } = ac.signal\n      const ignoreAbort = options.ignoreFetchAbort && v !== undefined\n      if (options.status) {\n        if (aborted && !updateCache) {\n          options.status.fetchAborted = true\n          options.status.fetchError = ac.signal.reason\n          if (ignoreAbort) options.status.fetchAbortIgnored = true\n        } else {\n          options.status.fetchResolved = true\n        }\n      }\n      if (aborted && !ignoreAbort && !updateCache) {\n        return fetchFail(ac.signal.reason)\n      }\n      // either we didn't abort, and are still here, or we did, and ignored\n      if (this.valList[index] === p) {\n        if (v === undefined) {\n          if (p.__staleWhileFetching) {\n            this.valList[index] = p.__staleWhileFetching\n          } else {\n            this.delete(k)\n          }\n        } else {\n          if (options.status) options.status.fetchUpdated = true\n          this.set(k, v, fetchOpts.options)\n        }\n      }\n      return v\n    }\n    const eb = er => {\n      if (options.status) {\n        options.status.fetchRejected = true\n        options.status.fetchError = er\n      }\n      return fetchFail(er)\n    }\n    const fetchFail = er => {\n      const { aborted } = ac.signal\n      const allowStaleAborted =\n        aborted && options.allowStaleOnFetchAbort\n      const allowStale =\n        allowStaleAborted || options.allowStaleOnFetchRejection\n      const noDelete = allowStale || options.noDeleteOnFetchRejection\n      if (this.valList[index] === p) {\n        // if we allow stale on fetch rejections, then we need to ensure that\n        // the stale value is not removed from the cache when the fetch fails.\n        const del = !noDelete || p.__staleWhileFetching === undefined\n        if (del) {\n          this.delete(k)\n        } else if (!allowStaleAborted) {\n          // still replace the *promise* with the stale value,\n          // since we are done with the promise at this point.\n          // leave it untouched if we're still waiting for an\n          // aborted background fetch that hasn't yet returned.\n          this.valList[index] = p.__staleWhileFetching\n        }\n      }\n      if (allowStale) {\n        if (options.status && p.__staleWhileFetching !== undefined) {\n          options.status.returnedStale = true\n        }\n        return p.__staleWhileFetching\n      } else if (p.__returned === p) {\n        throw er\n      }\n    }\n    const pcall = (res, rej) => {\n      this.fetchMethod(k, v, fetchOpts).then(v => res(v), rej)\n      // ignored, we go until we finish, regardless.\n      // defer check until we are actually aborting,\n      // so fetchMethod can override.\n      ac.signal.addEventListener('abort', () => {\n        if (\n          !options.ignoreFetchAbort ||\n          options.allowStaleOnFetchAbort\n        ) {\n          res()\n          // when it eventually resolves, update the cache.\n          if (options.allowStaleOnFetchAbort) {\n            res = v => cb(v, true)\n          }\n        }\n      })\n    }\n    if (options.status) options.status.fetchDispatched = true\n    const p = new Promise(pcall).then(cb, eb)\n    p.__abortController = ac\n    p.__staleWhileFetching = v\n    p.__returned = null\n    if (index === undefined) {\n      // internal, don't expose status.\n      this.set(k, p, { ...fetchOpts.options, status: undefined })\n      index = this.keyMap.get(k)\n    } else {\n      this.valList[index] = p\n    }\n    return p\n  }\n\n  isBackgroundFetch(p) {\n    return (\n      p &&\n      typeof p === 'object' &&\n      typeof p.then === 'function' &&\n      Object.prototype.hasOwnProperty.call(\n        p,\n        '__staleWhileFetching'\n      ) &&\n      Object.prototype.hasOwnProperty.call(p, '__returned') &&\n      (p.__returned === p || p.__returned === null)\n    )\n  }\n\n  // this takes the union of get() and set() opts, because it does both\n  async fetch(\n    k,\n    {\n      // get options\n      allowStale = this.allowStale,\n      updateAgeOnGet = this.updateAgeOnGet,\n      noDeleteOnStaleGet = this.noDeleteOnStaleGet,\n      // set options\n      ttl = this.ttl,\n      noDisposeOnSet = this.noDisposeOnSet,\n      size = 0,\n      sizeCalculation = this.sizeCalculation,\n      noUpdateTTL = this.noUpdateTTL,\n      // fetch exclusive options\n      noDeleteOnFetchRejection = this.noDeleteOnFetchRejection,\n      allowStaleOnFetchRejection = this.allowStaleOnFetchRejection,\n      ignoreFetchAbort = this.ignoreFetchAbort,\n      allowStaleOnFetchAbort = this.allowStaleOnFetchAbort,\n      fetchContext = this.fetchContext,\n      forceRefresh = false,\n      status,\n      signal,\n    } = {}\n  ) {\n    if (!this.fetchMethod) {\n      if (status) status.fetch = 'get'\n      return this.get(k, {\n        allowStale,\n        updateAgeOnGet,\n        noDeleteOnStaleGet,\n        status,\n      })\n    }\n\n    const options = {\n      allowStale,\n      updateAgeOnGet,\n      noDeleteOnStaleGet,\n      ttl,\n      noDisposeOnSet,\n      size,\n      sizeCalculation,\n      noUpdateTTL,\n      noDeleteOnFetchRejection,\n      allowStaleOnFetchRejection,\n      allowStaleOnFetchAbort,\n      ignoreFetchAbort,\n      status,\n      signal,\n    }\n\n    let index = this.keyMap.get(k)\n    if (index === undefined) {\n      if (status) status.fetch = 'miss'\n      const p = this.backgroundFetch(k, index, options, fetchContext)\n      return (p.__returned = p)\n    } else {\n      // in cache, maybe already fetching\n      const v = this.valList[index]\n      if (this.isBackgroundFetch(v)) {\n        const stale =\n          allowStale && v.__staleWhileFetching !== undefined\n        if (status) {\n          status.fetch = 'inflight'\n          if (stale) status.returnedStale = true\n        }\n        return stale ? v.__staleWhileFetching : (v.__returned = v)\n      }\n\n      // if we force a refresh, that means do NOT serve the cached value,\n      // unless we are already in the process of refreshing the cache.\n      const isStale = this.isStale(index)\n      if (!forceRefresh && !isStale) {\n        if (status) status.fetch = 'hit'\n        this.moveToTail(index)\n        if (updateAgeOnGet) {\n          this.updateItemAge(index)\n        }\n        this.statusTTL(status, index)\n        return v\n      }\n\n      // ok, it is stale or a forced refresh, and not already fetching.\n      // refresh the cache.\n      const p = this.backgroundFetch(k, index, options, fetchContext)\n      const hasStale = p.__staleWhileFetching !== undefined\n      const staleVal = hasStale && allowStale\n      if (status) {\n        status.fetch = hasStale && isStale ? 'stale' : 'refresh'\n        if (staleVal && isStale) status.returnedStale = true\n      }\n      return staleVal ? p.__staleWhileFetching : (p.__returned = p)\n    }\n  }\n\n  get(\n    k,\n    {\n      allowStale = this.allowStale,\n      updateAgeOnGet = this.updateAgeOnGet,\n      noDeleteOnStaleGet = this.noDeleteOnStaleGet,\n      status,\n    } = {}\n  ) {\n    const index = this.keyMap.get(k)\n    if (index !== undefined) {\n      const value = this.valList[index]\n      const fetching = this.isBackgroundFetch(value)\n      this.statusTTL(status, index)\n      if (this.isStale(index)) {\n        if (status) status.get = 'stale'\n        // delete only if not an in-flight background fetch\n        if (!fetching) {\n          if (!noDeleteOnStaleGet) {\n            this.delete(k)\n          }\n          if (status) status.returnedStale = allowStale\n          return allowStale ? value : undefined\n        } else {\n          if (status) {\n            status.returnedStale =\n              allowStale && value.__staleWhileFetching !== undefined\n          }\n          return allowStale ? value.__staleWhileFetching : undefined\n        }\n      } else {\n        if (status) status.get = 'hit'\n        // if we're currently fetching it, we don't actually have it yet\n        // it's not stale, which means this isn't a staleWhileRefetching.\n        // If it's not stale, and fetching, AND has a __staleWhileFetching\n        // value, then that means the user fetched with {forceRefresh:true},\n        // so it's safe to return that value.\n        if (fetching) {\n          return value.__staleWhileFetching\n        }\n        this.moveToTail(index)\n        if (updateAgeOnGet) {\n          this.updateItemAge(index)\n        }\n        return value\n      }\n    } else if (status) {\n      status.get = 'miss'\n    }\n  }\n\n  connect(p, n) {\n    this.prev[n] = p\n    this.next[p] = n\n  }\n\n  moveToTail(index) {\n    // if tail already, nothing to do\n    // if head, move head to next[index]\n    // else\n    //   move next[prev[index]] to next[index] (head has no prev)\n    //   move prev[next[index]] to prev[index]\n    // prev[index] = tail\n    // next[tail] = index\n    // tail = index\n    if (index !== this.tail) {\n      if (index === this.head) {\n        this.head = this.next[index]\n      } else {\n        this.connect(this.prev[index], this.next[index])\n      }\n      this.connect(this.tail, index)\n      this.tail = index\n    }\n  }\n\n  get del() {\n    deprecatedMethod('del', 'delete')\n    return this.delete\n  }\n\n  delete(k) {\n    let deleted = false\n    if (this.size !== 0) {\n      const index = this.keyMap.get(k)\n      if (index !== undefined) {\n        deleted = true\n        if (this.size === 1) {\n          this.clear()\n        } else {\n          this.removeItemSize(index)\n          const v = this.valList[index]\n          if (this.isBackgroundFetch(v)) {\n            v.__abortController.abort(new Error('deleted'))\n          } else {\n            this.dispose(v, k, 'delete')\n            if (this.disposeAfter) {\n              this.disposed.push([v, k, 'delete'])\n            }\n          }\n          this.keyMap.delete(k)\n          this.keyList[index] = null\n          this.valList[index] = null\n          if (index === this.tail) {\n            this.tail = this.prev[index]\n          } else if (index === this.head) {\n            this.head = this.next[index]\n          } else {\n            this.next[this.prev[index]] = this.next[index]\n            this.prev[this.next[index]] = this.prev[index]\n          }\n          this.size--\n          this.free.push(index)\n        }\n      }\n    }\n    if (this.disposed) {\n      while (this.disposed.length) {\n        this.disposeAfter(...this.disposed.shift())\n      }\n    }\n    return deleted\n  }\n\n  clear() {\n    for (const index of this.rindexes({ allowStale: true })) {\n      const v = this.valList[index]\n      if (this.isBackgroundFetch(v)) {\n        v.__abortController.abort(new Error('deleted'))\n      } else {\n        const k = this.keyList[index]\n        this.dispose(v, k, 'delete')\n        if (this.disposeAfter) {\n          this.disposed.push([v, k, 'delete'])\n        }\n      }\n    }\n\n    this.keyMap.clear()\n    this.valList.fill(null)\n    this.keyList.fill(null)\n    if (this.ttls) {\n      this.ttls.fill(0)\n      this.starts.fill(0)\n    }\n    if (this.sizes) {\n      this.sizes.fill(0)\n    }\n    this.head = 0\n    this.tail = 0\n    this.initialFill = 1\n    this.free.length = 0\n    this.calculatedSize = 0\n    this.size = 0\n    if (this.disposed) {\n      while (this.disposed.length) {\n        this.disposeAfter(...this.disposed.shift())\n      }\n    }\n  }\n\n  get reset() {\n    deprecatedMethod('reset', 'clear')\n    return this.clear\n  }\n\n  get length() {\n    deprecatedProperty('length', 'size')\n    return this.size\n  }\n\n  static get AbortController() {\n    return AC\n  }\n  static get AbortSignal() {\n    return AS\n  }\n}\n\nexport default LRUCache\n", "/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to match `RegExp` flags from their coerced string values. */\nvar reFlags = /\\w*$/;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Used to identify `toStringTag` values supported by `_.clone`. */\nvar cloneableTags = {};\ncloneableTags[argsTag] = cloneableTags[arrayTag] =\ncloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\ncloneableTags[boolTag] = cloneableTags[dateTag] =\ncloneableTags[float32Tag] = cloneableTags[float64Tag] =\ncloneableTags[int8Tag] = cloneableTags[int16Tag] =\ncloneableTags[int32Tag] = cloneableTags[mapTag] =\ncloneableTags[numberTag] = cloneableTags[objectTag] =\ncloneableTags[regexpTag] = cloneableTags[setTag] =\ncloneableTags[stringTag] = cloneableTags[symbolTag] =\ncloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\ncloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\ncloneableTags[errorTag] = cloneableTags[funcTag] =\ncloneableTags[weakMapTag] = false;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/**\n * Adds the key-value `pair` to `map`.\n *\n * @private\n * @param {Object} map The map to modify.\n * @param {Array} pair The key-value pair to add.\n * @returns {Object} Returns `map`.\n */\nfunction addMapEntry(map, pair) {\n  // Don't return `map.set` because it's not chainable in IE 11.\n  map.set(pair[0], pair[1]);\n  return map;\n}\n\n/**\n * Adds `value` to `set`.\n *\n * @private\n * @param {Object} set The set to modify.\n * @param {*} value The value to add.\n * @returns {Object} Returns `set`.\n */\nfunction addSetEntry(set, value) {\n  // Don't return `set.add` because it's not chainable in IE 11.\n  set.add(value);\n  return set;\n}\n\n/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array ? array.length : 0;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/**\n * A specialized version of `_.reduce` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {*} [accumulator] The initial value.\n * @param {boolean} [initAccum] Specify using the first element of `array` as\n *  the initial value.\n * @returns {*} Returns the accumulated value.\n */\nfunction arrayReduce(array, iteratee, accumulator, initAccum) {\n  var index = -1,\n      length = array ? array.length : 0;\n\n  if (initAccum && length) {\n    accumulator = array[++index];\n  }\n  while (++index < length) {\n    accumulator = iteratee(accumulator, array[index], index, array);\n  }\n  return accumulator;\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\n/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    getPrototype = overArg(Object.getPrototypeOf, Object),\n    objectCreate = Object.create,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols,\n    nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n    nativeKeys = overArg(Object.keys, Object);\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView'),\n    Map = getNative(root, 'Map'),\n    Promise = getNative(root, 'Promise'),\n    Set = getNative(root, 'Set'),\n    WeakMap = getNative(root, 'WeakMap'),\n    nativeCreate = getNative(Object, 'create');\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  return this.has(key) && delete this.__data__[key];\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  return getMapData(this, key)['delete'](key);\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  getMapData(this, key).set(key, value);\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  this.__data__ = new ListCache(entries);\n}\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n}\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  return this.__data__['delete'](key);\n}\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var cache = this.__data__;\n  if (cache instanceof ListCache) {\n    var pairs = cache.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      return this;\n    }\n    cache = this.__data__ = new MapCache(pairs);\n  }\n  cache.set(key, value);\n  return this;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  // Safari 9 makes `arguments.length` enumerable in strict mode.\n  var result = (isArray(value) || isArguments(value))\n    ? baseTimes(value.length, String)\n    : [];\n\n  var length = result.length,\n      skipIndexes = !!length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (key == 'length' || isIndex(key, length)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    object[key] = value;\n  }\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.assign` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssign(object, source) {\n  return object && copyObject(source, keys(source), object);\n}\n\n/**\n * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n * traversed objects.\n *\n * @private\n * @param {*} value The value to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @param {boolean} [isFull] Specify a clone including symbols.\n * @param {Function} [customizer] The function to customize cloning.\n * @param {string} [key] The key of `value`.\n * @param {Object} [object] The parent object of `value`.\n * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n * @returns {*} Returns the cloned value.\n */\nfunction baseClone(value, isDeep, isFull, customizer, key, object, stack) {\n  var result;\n  if (customizer) {\n    result = object ? customizer(value, key, object, stack) : customizer(value);\n  }\n  if (result !== undefined) {\n    return result;\n  }\n  if (!isObject(value)) {\n    return value;\n  }\n  var isArr = isArray(value);\n  if (isArr) {\n    result = initCloneArray(value);\n    if (!isDeep) {\n      return copyArray(value, result);\n    }\n  } else {\n    var tag = getTag(value),\n        isFunc = tag == funcTag || tag == genTag;\n\n    if (isBuffer(value)) {\n      return cloneBuffer(value, isDeep);\n    }\n    if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n      if (isHostObject(value)) {\n        return object ? value : {};\n      }\n      result = initCloneObject(isFunc ? {} : value);\n      if (!isDeep) {\n        return copySymbols(value, baseAssign(result, value));\n      }\n    } else {\n      if (!cloneableTags[tag]) {\n        return object ? value : {};\n      }\n      result = initCloneByTag(value, tag, baseClone, isDeep);\n    }\n  }\n  // Check for circular references and return its corresponding clone.\n  stack || (stack = new Stack);\n  var stacked = stack.get(value);\n  if (stacked) {\n    return stacked;\n  }\n  stack.set(value, result);\n\n  if (!isArr) {\n    var props = isFull ? getAllKeys(value) : keys(value);\n  }\n  arrayEach(props || value, function(subValue, key) {\n    if (props) {\n      key = subValue;\n      subValue = value[key];\n    }\n    // Recursively populate clone (susceptible to call stack limits).\n    assignValue(result, key, baseClone(subValue, isDeep, isFull, customizer, key, value, stack));\n  });\n  return result;\n}\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} prototype The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nfunction baseCreate(proto) {\n  return isObject(proto) ? objectCreate(proto) : {};\n}\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\n/**\n * The base implementation of `getTag`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  return objectToString.call(value);\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var result = new buffer.constructor(buffer.length);\n  buffer.copy(result);\n  return result;\n}\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\n/**\n * Creates a clone of `dataView`.\n *\n * @private\n * @param {Object} dataView The data view to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned data view.\n */\nfunction cloneDataView(dataView, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n  return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n}\n\n/**\n * Creates a clone of `map`.\n *\n * @private\n * @param {Object} map The map to clone.\n * @param {Function} cloneFunc The function to clone values.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned map.\n */\nfunction cloneMap(map, isDeep, cloneFunc) {\n  var array = isDeep ? cloneFunc(mapToArray(map), true) : mapToArray(map);\n  return arrayReduce(array, addMapEntry, new map.constructor);\n}\n\n/**\n * Creates a clone of `regexp`.\n *\n * @private\n * @param {Object} regexp The regexp to clone.\n * @returns {Object} Returns the cloned regexp.\n */\nfunction cloneRegExp(regexp) {\n  var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n  result.lastIndex = regexp.lastIndex;\n  return result;\n}\n\n/**\n * Creates a clone of `set`.\n *\n * @private\n * @param {Object} set The set to clone.\n * @param {Function} cloneFunc The function to clone values.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned set.\n */\nfunction cloneSet(set, isDeep, cloneFunc) {\n  var array = isDeep ? cloneFunc(setToArray(set), true) : setToArray(set);\n  return arrayReduce(array, addSetEntry, new set.constructor);\n}\n\n/**\n * Creates a clone of the `symbol` object.\n *\n * @private\n * @param {Object} symbol The symbol object to clone.\n * @returns {Object} Returns the cloned symbol object.\n */\nfunction cloneSymbol(symbol) {\n  return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n}\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\n/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    assignValue(object, key, newValue === undefined ? source[key] : newValue);\n  }\n  return object;\n}\n\n/**\n * Copies own symbol properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbols(source, object) {\n  return copyObject(source, getSymbols(source), object);\n}\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * Creates an array of the own enumerable symbol properties of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = nativeGetSymbols ? overArg(nativeGetSymbols, Object) : stubArray;\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11,\n// for data views in Edge < 14, and promises in Node.js.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = objectToString.call(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : undefined;\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\n/**\n * Initializes an array clone.\n *\n * @private\n * @param {Array} array The array to clone.\n * @returns {Array} Returns the initialized clone.\n */\nfunction initCloneArray(array) {\n  var length = array.length,\n      result = array.constructor(length);\n\n  // Add properties assigned by `RegExp#exec`.\n  if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n    result.index = array.index;\n    result.input = array.input;\n  }\n  return result;\n}\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\n/**\n * Initializes an object clone based on its `toStringTag`.\n *\n * **Note:** This function only supports cloning values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to clone.\n * @param {string} tag The `toStringTag` of the object to clone.\n * @param {Function} cloneFunc The function to clone values.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneByTag(object, tag, cloneFunc, isDeep) {\n  var Ctor = object.constructor;\n  switch (tag) {\n    case arrayBufferTag:\n      return cloneArrayBuffer(object);\n\n    case boolTag:\n    case dateTag:\n      return new Ctor(+object);\n\n    case dataViewTag:\n      return cloneDataView(object, isDeep);\n\n    case float32Tag: case float64Tag:\n    case int8Tag: case int16Tag: case int32Tag:\n    case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n      return cloneTypedArray(object, isDeep);\n\n    case mapTag:\n      return cloneMap(object, isDeep, cloneFunc);\n\n    case numberTag:\n    case stringTag:\n      return new Ctor(object);\n\n    case regexpTag:\n      return cloneRegExp(object);\n\n    case setTag:\n      return cloneSet(object, isDeep, cloneFunc);\n\n    case symbolTag:\n      return cloneSymbol(object);\n  }\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to process.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * This method is like `_.clone` except that it recursively clones `value`.\n *\n * @static\n * @memberOf _\n * @since 1.0.0\n * @category Lang\n * @param {*} value The value to recursively clone.\n * @returns {*} Returns the deep cloned value.\n * @see _.clone\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var deep = _.cloneDeep(objects);\n * console.log(deep[0] === objects[0]);\n * // => false\n */\nfunction cloneDeep(value) {\n  return baseClone(value, true, true);\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\n/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = cloneDeep;\n", "import CacheKey from './CacheKey'\nimport LRU from 'lru-cache'\nimport RequestContext from './RequestContext'\nimport Response from './Response'\nimport cloneDeep from 'lodash.clonedeep'\nimport { EDGIO_ENV_VARIABLES } from '../constants'\nimport LambdaResponse from './LambdaResponse'\n\n/**\n * We store the responses in the cache differently from their actual\n * representation because they are different classes in different\n * execution environments.\n */\nexport interface CachedResponse {\n  /**\n   * The HTTP status code\n   */\n  statusCode: number\n\n  /**\n   * The HTTP status message\n   */\n  statusMessage?: string\n\n  /**\n   * The response body as a array of chunks - done this way in order to replicate the behaviour\n   * of the initial, non-cached response.\n   */\n  chunks: Buffer[]\n\n  /**\n   * The response HTTP headers\n   */\n  headers: { [key: string]: string | string[] }\n\n  /**\n   * The time the response was put in the cache\n   */\n  cachedAt: number\n\n  /**\n   * The time to live of the response\n   */\n  ttl: number\n\n  /**\n   * True if the response should be returned stale and revalidated\n   */\n  serveStaleUntil?: number\n}\n\nexport interface CacheLookupResult {\n  response: CachedResponse\n  revalidate: boolean\n}\n\nexport interface AddToCacheOptions {\n  response: Response\n  cacheKey: CacheKey\n  context: RequestContext\n}\n\nexport interface CacheConfig {\n  ttl: number\n  staleWhileRevalidate?: number\n}\n\n/**\n * Must have the EDGIO_LOCAL_CACHE environment variable set.\n */\nexport function isCacheEnabled() {\n  return process.env[EDGIO_ENV_VARIABLES.cache] === 'true'\n}\n\n/**\n * Local simulation of Edgio's edge cache\n */\nexport default class Cache {\n  private cache = new LRU<string, CachedResponse>({\n    ttl: 1,\n    allowStale: true,\n    ttlAutopurge: false,\n    max: 100000,\n  })\n\n  // additional cache serving as a \"auto-unlocking\" lock, used in order to avoid making unnecessary revalidation requests\n  private revalidationCache = new LRU<string, boolean>({\n    // time we consider OK for additional request to be made on timeout\n    ttl: 500,\n    allowStale: false,\n    ttlAutopurge: false,\n    max: 10000,\n  })\n\n  /**\n   * Evicts all entries from the cache\n   */\n  clear() {\n    this.cache.clear()\n  }\n\n  /**\n   * Returns the cached response for the specified key\n   * @param key The cache key\n   */\n  get(key: CacheKey): CacheLookupResult | undefined {\n    const keyValue = key.toString()\n    const response = this.cache.get(keyValue, { allowStale: true, noDeleteOnStaleGet: true })\n    const remainingTtl = this.cache.getRemainingTTL(keyValue)\n    const stale = remainingTtl <= 0\n\n    if (!response) {\n      // no response found in the cache\n      return undefined\n    }\n\n    const now = Date.now()\n    const { serveStaleUntil } = response\n\n    if (stale && (serveStaleUntil == null || serveStaleUntil < now)) {\n      // response is stale and outside of the stale-while-revalidate period\n      return undefined\n    }\n\n    return {\n      response: cloneDeep(response), // always return a clone of the cached response so no one can mutate it\n      revalidate: stale,\n    }\n  }\n\n  /**\n   * Stores a response in the cache\n   * @param cacheKey\n   * @param response\n   * @param maxAge\n   */\n  put(\n    cacheKey: CacheKey,\n    response: LambdaResponse,\n    { ttl, staleWhileRevalidate }: { ttl: number; staleWhileRevalidate?: number }\n  ) {\n    let serveStaleUntil = undefined\n\n    if (staleWhileRevalidate) {\n      serveStaleUntil = new Date().getTime() + ttl * 1000 + staleWhileRevalidate * 1000\n    }\n\n    const cached = convertToCachedResponse(response, ttl, serveStaleUntil)\n\n    this.cache.set(cacheKey.toString(), cached, {\n      ttl: ttl * 1000,\n    })\n  }\n\n  isRevalidating(cacheKey: CacheKey): boolean {\n    return !!this.revalidationCache.get(cacheKey.toString())\n  }\n\n  setRevalidating(cacheKey: CacheKey, value: boolean): void {\n    this.revalidationCache.set(cacheKey.toString(), value)\n  }\n\n  dump() {\n    return this.cache.dump()\n  }\n}\n\n/**\n * We have to deep clone parts of the\n * @param response HTTP response that we are caching\n */\nfunction convertToCachedResponse(\n  response: LambdaResponse,\n  ttl: number,\n  serveStaleUntil?: number\n): CachedResponse {\n  return {\n    cachedAt: Date.now(),\n    ttl,\n    statusCode: response.statusCode,\n    statusMessage: response.statusMessage,\n    headers: JSON.parse(JSON.stringify(response.getHeaders())),\n    chunks: response.encodedChunks,\n    serveStaleUntil,\n    // @ts-ignore\n    someObject: { key: 'value' },\n  }\n}\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isRelativePath = exports.isAbsolutePath = exports.absoluthePathStart = exports.context = void 0;\n// Adding global cntex to control hat type of OS is running\n// using jest mock yields to wrong results\nexports.context = {\n    isWindows: process.platform === \"win32\",\n};\nconst absoluthePathStart = () => exports.context.isWindows ?\n    /^[a-zA-Z]:/ :\n    /^\\//;\nexports.absoluthePathStart = absoluthePathStart;\nconst isAbsolutePath = (path) => (0, exports.absoluthePathStart)().test(path);\nexports.isAbsolutePath = isAbsolutePath;\nconst isRelativePath = (path) => !(0, exports.isAbsolutePath)(path);\nexports.isRelativePath = isRelativePath;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FileExtension = void 0;\n/**\n * File extension is a string that starts with dot and doesn't contain slash\n *\n * Examples:\n * - .txt\n * - .png\n *\n * File extension can be empty string\n *\n */\nclass FileExtension {\n    constructor(name) {\n        this.value = name === undefined\n            ? \"\"\n            : FileExtension.parse(name);\n    }\n    get valueWithoutDot() {\n        return this.isEmpty\n            ? \"\"\n            : this.value.substring(1);\n    }\n    get isEmpty() {\n        return this.value === \"\";\n    }\n    static from(source) {\n        return new FileExtension(source);\n    }\n}\nexports.FileExtension = FileExtension;\nFileExtension.parse = (name) => {\n    if (name.indexOf(\"/\") > -1)\n        throw new Error(\"FileExtension cannot contain slash\");\n    if (!name.startsWith(\".\"))\n        throw new Error(\"FileExtension must start with dot\");\n    return name;\n};\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Name = void 0;\n/**\n * Represents the name on the FileSystem. This is just the name of the file or folder,\n * withouth folder path, so there is only limitation that name cannot contain slash.\n */\nclass Name {\n    constructor(name, root = false) {\n        this.value = \"\";\n        this.value = Name.parse(name, root);\n    }\n    static from(source) {\n        return new Name(source);\n    }\n}\nexports.Name = Name;\nName.parse = (name, root = false) => {\n    if (root)\n        return name;\n    const slashIndex = name.indexOf(\"/\");\n    if (slashIndex > -1)\n        throw new Error(\"Name cannot contain slash\");\n    return name;\n};\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FileName = void 0;\nconst FileExtension_1 = require(\"./FileExtension\");\nconst Name_1 = require(\"./Name\");\n/**\n * Represents the file name, which is composed of name and extension. This is just the name of the file,\n * withouth folder path, so slashes are not allowed. If you want to represent file name with folder path,\n * use RelativeFileName or AbsoluteFileName.\n */\nclass FileName {\n    constructor(p1, p2) {\n        if (typeof p1 === \"string\") {\n            const parsed = FileName.parse(p1);\n            this.name = parsed[0];\n            this.extension = parsed[1];\n        }\n        else {\n            this.name = p1;\n            this.extension = p2 ?? new FileExtension_1.FileExtension(\"\");\n        }\n        this.value = this.name.value + this.extension.value;\n    }\n    static from(source) {\n        return new FileName(source);\n    }\n}\nexports.FileName = FileName;\nFileName.parse = (name) => {\n    if (name.indexOf(\"/\") > -1)\n        throw new Error(\"FileName cannot contain slash\");\n    const dotIndex = name.lastIndexOf(\".\");\n    if (dotIndex > -1) {\n        const nameWithoutExtension = new Name_1.Name(name.substring(0, dotIndex));\n        const extension = new FileExtension_1.FileExtension(name.substring(dotIndex));\n        return [nameWithoutExtension, extension];\n    }\n    else {\n        const nameWithoutExtension = new Name_1.Name(name);\n        const extension = new FileExtension_1.FileExtension();\n        return [nameWithoutExtension, extension];\n    }\n};\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.normalizePath = void 0;\n/**\n * Normalize path by removing all consecutive slashes and slash at the end\n */\nconst normalizePath = (value) => {\n    const normalized = value\n        // replace windows backslashes with slashes\n        .replace(/\\\\/g, \"/\")\n        // then remove all consecutive slashes\n        .replace(/\\/+/g, \"/\")\n        // then remove slash at the end\n        .replace(/\\/+$/, '');\n    return normalized;\n};\nexports.normalizePath = normalizePath;\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AbsoluteFolderName = void 0;\nconst AbsoluteFileName_1 = require(\"./AbsoluteFileName\");\nconst Envirovment_1 = require(\"./Envirovment\");\nconst FileName_1 = require(\"./FileName\");\nconst Name_1 = require(\"./Name\");\nconst normalizePath_1 = require(\"./utils/normalizePath\");\nconst fs_1 = __importDefault(require(\"fs\"));\n/**\n * Absolute folder name is a folder name that starts with slash and can contain parent folder that\n * must be absolute folder name or undefined (if folder is at the root)\n */\nclass AbsoluteFolderName {\n    constructor(name, parent) {\n        if (typeof name === \"string\") {\n            const parsed = AbsoluteFolderName.parse(name);\n            this.parent = parsed[1];\n            this.name = parsed[0];\n        }\n        else {\n            this.parent = parent;\n            this.name = name;\n        }\n        this.value = this.parent ?\n            `${this.parent.value}/${this.name.value}` :\n            `${this.name.value}`;\n    }\n    file(fileName, type) {\n        if (typeof fileName === \"string\")\n            return new AbsoluteFileName_1.AbsoluteFileName(new FileName_1.FileName(fileName), this, type);\n        else\n            return new AbsoluteFileName_1.AbsoluteFileName(fileName, this, type);\n    }\n    folder(folderName) {\n        if (typeof folderName === \"string\")\n            return new AbsoluteFolderName(new Name_1.Name(folderName), this);\n        else\n            return new AbsoluteFolderName(folderName, this);\n    }\n    with(children) {\n        const newDefinition = new AbsoluteFolderName(this.name, this.parent);\n        const res = children(newDefinition);\n        newDefinition.setChildren(res);\n        return newDefinition;\n    }\n    setChildren(children) {\n        // read keys/values from children and inject into this class\n        for (const key in children) {\n            this[key] = children[key];\n        }\n    }\n    exists() {\n        return fs_1.default.existsSync(this.value);\n    }\n    create(ignoreExisting) {\n        if (!this.exists()) {\n            fs_1.default.mkdirSync(this.value, { recursive: true });\n            return;\n        }\n        if (!ignoreExisting)\n            throw new Error(`Folder ${this.value} already exists`);\n    }\n    recreate() {\n        this.delete(true);\n        fs_1.default.mkdirSync(this.value, { recursive: true });\n    }\n    delete(ignoreIfNotExists) {\n        if (this.exists()) {\n            fs_1.default.rmSync(this.value, { recursive: true });\n            return;\n        }\n        if (!ignoreIfNotExists)\n            throw new Error(`Folder ${this.value} doesn't exist`);\n    }\n    static from(source) {\n        return new AbsoluteFolderName(source);\n    }\n}\nexports.AbsoluteFolderName = AbsoluteFolderName;\nAbsoluteFolderName.parse = (name) => {\n    if ((0, Envirovment_1.isRelativePath)(name))\n        throw new Error(`AbsoulteFolderName must start with ${Envirovment_1.context.isWindows ? \"drive name\" : \"slash\"}, did you mean RelativeFolderName?`);\n    const normalized = (0, normalizePath_1.normalizePath)(name);\n    const lastSlashIndex = normalized.lastIndexOf(\"/\");\n    if (lastSlashIndex === -1) {\n        return [new Name_1.Name(normalized), undefined];\n    }\n    const rest = normalized.substring(0, lastSlashIndex);\n    const parent = new AbsoluteFolderName(rest.length === 0 ? \"/\" : rest);\n    const folder = new Name_1.Name(normalized.substring(lastSlashIndex + 1));\n    return [folder, parent];\n};\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createJsonSerializer = void 0;\nconst fs_1 = __importDefault(require(\"fs\"));\nfunction jsonDeserializer(absoluteFileName) {\n    const raw = fs_1.default.readFileSync(absoluteFileName, \"utf-8\");\n    return JSON.parse(raw);\n}\nfunction jsonSerializer(absoluteFileName, content) {\n    const raw = JSON.stringify(content);\n    fs_1.default.writeFileSync(absoluteFileName, raw);\n}\nconst createJsonSerializer = () => ({\n    deserialize: jsonDeserializer,\n    serialize: jsonSerializer\n});\nexports.createJsonSerializer = createJsonSerializer;\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createRawSerializer = void 0;\nconst fs_1 = __importDefault(require(\"fs\"));\nfunction rawSerializer(absoluteFileName, content) {\n    fs_1.default.writeFileSync(absoluteFileName, content);\n}\nfunction rawDeserializer(absoluteFileName) {\n    return fs_1.default.readFileSync(absoluteFileName, \"utf-8\");\n}\nconst createRawSerializer = () => ({\n    deserialize: rawDeserializer,\n    serialize: rawSerializer\n});\nexports.createRawSerializer = createRawSerializer;\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AbsoluteFileName = void 0;\nconst AbsoluteFolderName_1 = require(\"./AbsoluteFolderName\");\nconst FileName_1 = require(\"./FileName\");\nconst fs_1 = __importDefault(require(\"fs\"));\nconst createJsonSerializer_1 = require(\"./serializer/createJsonSerializer\");\nconst createRawSerializer_1 = require(\"./serializer/createRawSerializer\");\nconst normalizePath_1 = require(\"./utils/normalizePath\");\n/**\n * Absolute file name is a file name that starts with slash and can contain parent folder that\n * must be absolute folder name or undefined (if file is at the root)\n */\nclass AbsoluteFileName {\n    constructor(fileName, p2, p3) {\n        if (typeof fileName === \"string\") {\n            const parsed = AbsoluteFileName.parse(fileName);\n            this.parent = parsed[0];\n            this.name = parsed[1];\n            this.serializer = typeof p2 === \"object\"\n                ? p2\n                : p2 === \"json\" ? (0, createJsonSerializer_1.createJsonSerializer)() : (0, createRawSerializer_1.createRawSerializer)();\n        }\n        else {\n            this.parent = p2;\n            this.name = fileName;\n            this.serializer = typeof p3 === \"object\"\n                ? p3\n                : p3 === \"json\" ? (0, createJsonSerializer_1.createJsonSerializer)() : (0, createRawSerializer_1.createRawSerializer)();\n        }\n        this.value = this.parent\n            ? `${this.parent.value}/${this.name.value}`\n            : `/${this.name.value}`;\n    }\n    // We have several sections here, so we can easily find what we need, unfortunately\n    // there are no partail classes in typescript, so we have to use comments\n    // ----------------------------------- helpers -----------------------------------\n    exists() {\n        return fs_1.default.existsSync(this.value);\n    }\n    delete(ignoreIfNotExists) {\n        if (this.exists()) {\n            fs_1.default.rmSync(this.value);\n            return;\n        }\n        if (!ignoreIfNotExists)\n            throw new Error(`File ${this.value} doesn't exist`);\n    }\n    copyTo(target, overwrite) {\n        if (!this.exists())\n            throw new Error(`File ${this.value} doesn't exist`);\n        const targetFileName = target instanceof AbsoluteFolderName_1.AbsoluteFolderName\n            ? target.file(this.name)\n            : target;\n        if (targetFileName.exists() && !overwrite)\n            throw new Error(`Folder ${target.value} already exists`);\n        fs_1.default.copyFileSync(this.value, targetFileName.value);\n    }\n    // ----------------------------------- content -----------------------------------\n    contentReload() {\n        this.contentInternal = this.serializer.deserialize(this.value);\n    }\n    get content() {\n        if (this.contentInternal === undefined) {\n            if (!this.exists())\n                throw new Error(`File '${this.value}' doesn't exist`);\n            this.contentInternal = this.serializer.deserialize(this.value);\n        }\n        return this.contentInternal;\n    }\n    write(content, overwrite) {\n        if (this.exists() && !overwrite)\n            throw new Error(`File ${this.value} already exists`);\n        this.serializer.serialize(this.value, content);\n    }\n    // ----------------------------------- parsing -----------------------------------\n    static from(source) {\n        return new AbsoluteFileName(source);\n    }\n}\nexports.AbsoluteFileName = AbsoluteFileName;\nAbsoluteFileName.parse = (name) => {\n    if (name.endsWith(\"/\"))\n        throw new Error(\"AbsoluteFileName cannot end with slash, did you mean AbsoluteFolderName?\");\n    const normalized = (0, normalizePath_1.normalizePath)(name);\n    const lastSlashIndex = normalized.lastIndexOf(\"/\");\n    const rest = normalized.substring(0, lastSlashIndex);\n    const parent = new AbsoluteFolderName_1.AbsoluteFolderName(rest.length === 0 ? \"/\" : rest);\n    const fileName = new FileName_1.FileName(normalized.substring(lastSlashIndex + 1));\n    return [parent, fileName];\n};\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Lazy = void 0;\n/**\n * Initializes an instance of the given type on first access.\n */\nclass Lazy {\n    constructor(initializer) {\n        this.initializer = initializer;\n        this.instance = undefined;\n        this.initializer = initializer;\n    }\n    get value() {\n        if (this.instance === undefined) {\n            this.instance = this.initializer();\n        }\n        return this.instance;\n    }\n}\nexports.Lazy = Lazy;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RelativeFolderName = void 0;\nconst Envirovment_1 = require(\"./Envirovment\");\nconst Name_1 = require(\"./Name\");\nconst Lazy_1 = require(\"./utils/Lazy\");\nconst normalizePath_1 = require(\"./utils/normalizePath\");\n/**\n * Relative folder name is a folder name that can contain parent folder that\n * must be relative folder name or undefined (if folder is at the root)\n */\nclass RelativeFolderName {\n    constructor(p1, p2) {\n        this.value = \"\";\n        if (typeof p1 === \"string\") {\n            const parsed = RelativeFolderName.parse(p1);\n            this.parent = parsed[0];\n            this.folder = parsed[1];\n        }\n        else {\n            this.parent = p2;\n            this.folder = p1;\n        }\n        this.value = this.parent ?\n            this.parent.value + \"/\" + this.folder.value :\n            this.folder.value;\n        this.fullPathLazy = new Lazy_1.Lazy(() => {\n            return this.parent\n                ? this.parent.fullPath + \"/\" + this.folder.value\n                : this.folder.value;\n        });\n    }\n    get fullPath() { return this.fullPathLazy.value; }\n    static from(source) {\n        return new RelativeFolderName(source);\n    }\n}\nexports.RelativeFolderName = RelativeFolderName;\nRelativeFolderName.parse = (name) => {\n    if ((0, Envirovment_1.isAbsolutePath)(name))\n        throw new Error(\"RelativeFolderName cannot start with slash, did you mean AbsoluteFolderName?\");\n    const normalized = (0, normalizePath_1.normalizePath)(name);\n    const lastSlashIndex = normalized.lastIndexOf(\"/\");\n    if (lastSlashIndex > -1) {\n        const parent = new RelativeFolderName(normalized.substring(0, lastSlashIndex));\n        const folder = new Name_1.Name(normalized.substring(lastSlashIndex + 1));\n        return [parent, folder];\n    }\n    else {\n        const parent = undefined;\n        const folder = new Name_1.Name(normalized);\n        return [parent, folder];\n    }\n};\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RelativeFileName = void 0;\nconst RelativeFolderName_1 = require(\"./RelativeFolderName\");\nconst FileName_1 = require(\"./FileName\");\nconst normalizePath_1 = require(\"./utils/normalizePath\");\nconst Envirovment_1 = require(\"./Envirovment\");\n/**\n * Relative file name is a file name that can contain parent folder that\n * must be relative folder name or undefined (if file is at the root)\n */\nclass RelativeFileName {\n    constructor(p1, p2) {\n        this.value = \"\";\n        if (typeof p1 === \"string\") {\n            const parsed = RelativeFileName.parse(p1);\n            this.parent = parsed[0];\n            this.name = parsed[1];\n        }\n        else {\n            this.parent = p2;\n            this.name = p1;\n        }\n        this.value = this.parent\n            ? `${this.parent.value}/${this.name.value}`\n            : this.name.value;\n    }\n    static from(source) {\n        return new RelativeFileName(source);\n    }\n}\nexports.RelativeFileName = RelativeFileName;\nRelativeFileName.parse = (name) => {\n    if ((0, Envirovment_1.isAbsolutePath)(name))\n        throw new Error(\"RelativeFileName cannot start with slash, did you mean AbsoluteFileName?\");\n    if (name.endsWith(\"/\"))\n        throw new Error(\"RelativeFileName cannot end with slash, did you mean RelativeFolderName?\");\n    const normalized = (0, normalizePath_1.normalizePath)(name);\n    const lastSlashIndex = normalized.lastIndexOf(\"/\");\n    if (lastSlashIndex > -1) {\n        const parent = new RelativeFolderName_1.RelativeFolderName(normalized.substring(0, lastSlashIndex));\n        const fileName = new FileName_1.FileName(normalized.substring(lastSlashIndex + 1));\n        return [parent, fileName];\n    }\n    else {\n        const parent = undefined;\n        const fileName = new FileName_1.FileName(normalized);\n        return [parent, fileName];\n    }\n};\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Name = exports.RelativeFolderName = exports.AbsoluteFolderName = exports.FileExtension = exports.FileName = exports.RelativeFileName = exports.AbsoluteFileName = void 0;\nvar AbsoluteFileName_1 = require(\"./AbsoluteFileName\");\nObject.defineProperty(exports, \"AbsoluteFileName\", { enumerable: true, get: function () { return AbsoluteFileName_1.AbsoluteFileName; } });\nvar RelativeFileName_1 = require(\"./RelativeFileName\");\nObject.defineProperty(exports, \"RelativeFileName\", { enumerable: true, get: function () { return RelativeFileName_1.RelativeFileName; } });\nvar FileName_1 = require(\"./FileName\");\nObject.defineProperty(exports, \"FileName\", { enumerable: true, get: function () { return FileName_1.FileName; } });\nvar FileExtension_1 = require(\"./FileExtension\");\nObject.defineProperty(exports, \"FileExtension\", { enumerable: true, get: function () { return FileExtension_1.FileExtension; } });\nvar AbsoluteFolderName_1 = require(\"./AbsoluteFolderName\");\nObject.defineProperty(exports, \"AbsoluteFolderName\", { enumerable: true, get: function () { return AbsoluteFolderName_1.AbsoluteFolderName; } });\nvar RelativeFolderName_1 = require(\"./RelativeFolderName\");\nObject.defineProperty(exports, \"RelativeFolderName\", { enumerable: true, get: function () { return RelativeFolderName_1.RelativeFolderName; } });\nvar Name_1 = require(\"./Name\");\nObject.defineProperty(exports, \"Name\", { enumerable: true, get: function () { return Name_1.Name; } });\n", "import { getConfigPath } from './deploy/paths'\nimport { nonWebpackRequire } from './utils'\nimport { Property } from './types'\nimport logger from './log'\n\n/**\n * Options for serving static assets.\n */\nexport interface StaticAssetEntry {\n  /**\n   * Set to `true` if the file has a hash in its path so that it can be considered unique across deployments.\n   */\n  permanent?: boolean\n\n  /**\n   * A list of glob patterns that match or omit files to be included.\n   */\n  glob: string[]\n}\n\n/**\n * Options for constructing the serverless bundle.\n */\nexport interface ServerlessConfig {\n  includeNodeModules?: boolean\n\n  /**\n   * A list of glob patterns that match or omit files to be included in the serverless bundle.\n   */\n  include: string[]\n}\n\n/**\n * Options for getting interpolation values that are not supported during local development\n * but are supported in a production.\n */\nexport interface InterpolationValues {\n  is_origin_shield?: string\n  is_subrequest?: string\n  physical_path?: string\n  physical_rel_path?: string\n  physical_doc_root?: string\n  referring_domain?: string\n  virt_dst_country?: string\n  virt_dst_continent?: string\n  virt_dst_asnum?: string\n  virt_dst_port?: string\n  geo_country?: string\n  geo_city?: string\n  geo_latitude?: string\n  geo_longitude?: string\n  geo_postal_code?: string\n\n  virt_ssl_protocol?: string\n  virt_ssl_cipher?: string\n  virt_ssl_client_ciphers?: string\n  virt_ssl_client_cipher_codes?: string\n  virt_ssl_client_tlsext_ids?: string\n  virt_http_version?: string\n\n  wurfl_vcap_is_smartphone?: string\n  wurfl_cap_is_tablet?: string\n  wurfl_vcap_is_full_desktop?: string\n  wurfl_vcap_is_ios?: string\n  wurfl_vcap_is_android?: string\n  wurfl_vcap_is_robot?: string\n  wurfl_cap_mobile_browser?: string\n}\n\n/**\n * Custom connector configuration.\n *\n * Note: Edgio supports a number of frameworks out of the box, but\n * as there are many frameworks out there, it is not possible to support them all.\n * For this reason, Edgio provides a way to create a custom connector for your framework.\n * With this configuration you can specify various options for your custom connector.\n */\nexport interface NodejsConnectorConfig {\n  /**\n   *  Server build folder location for the underlying framework.\n   */\n  buildFolder?: string\n\n  /**\n   * Static folder location for the underlying framework.\n   */\n  staticFolder?: string\n\n  /**\n   * Entry file location for the underlying framework.\n   */\n  entryFile?: string\n\n  /**\n   * Environment variable name used to set the port for the underlying framework.\n   */\n  envPort?: string\n\n  /**\n   * Build command to run when building the underlying framework.\n   */\n  buildCommand?: string\n\n  /**\n   * Dev command to run when running the underlying framework in dev mode.\n   */\n  devCommand?: string\n\n  /**\n   * Build ready message to look for when building the underlying framework with dev command.\n   * Until this message is output by the underlying framework, the build is not considered ready.\n   * Otherwise, you can specify a number of seconds to wait until the build is considered ready.\n   */\n  devReadyMessageOrTimeout?: string | number\n\n  /**\n   * Indicates whether to bundle the entry file or not. If set to false, the entry file will be copied\n   * to the serverless folder. Otherwise, the entry file will be bundled and the bundle will be copied\n   * to the serverless folder.\n   */\n  bundleEntryFile?: boolean\n}\n\nexport type CloudRuntime = 'nodejs16.x' | 'nodejs18.x'\n\n/**\n * The object exported by edgio.config.js\n */\nexport default interface Config extends Property {\n  /**\n   * The path to the Edgio routes file. If omitted the default paths of routes.js, routes.ts,\n   * and routes.cjs will be used.\n   */\n  routes?: string\n\n  /**\n   * The name of the organization in Edgio to which this app should be deployed.\n   */\n  organization?: string\n\n  /**\n   * The name of the team in Edgio to which this app should be deployed.\n   * This was replaced by organization property and will be removed in the future releases.\n   * @deprecated Use organization instead.\n   */\n  team?: string\n\n  /**\n   * Options for serving static assets.\n   */\n  staticAssets?: StaticAssetEntry[]\n\n  /**\n   * Options for constructing the serverless bundle.\n   */\n  serverless?: ServerlessConfig\n\n  /**\n   * A list of glob patterns identifying which source files should be uploaded when running `edgio deploy --includeSources`.\n   * This option is primarily used to share source code with Edgio support personnel for the purpose of debugging.\n   * If omitted, `edgio deploy --includeSources` will result in all files which are not gitignored being uploaded to Edgio.\n   */\n  sources?: string[]\n\n  /**\n   * The name of the connector package corresponding to the framework your app uses, or the path to a directory that\n   * implements the connector interface.\n   */\n  connector?: string\n\n  /**\n   * Config overrides to be applied when deploying to specific environments.\n   */\n  environments?: { [name: string]: Property }\n\n  /**\n   * Interpolation values that will be used for interpolation that are not supported\n   * when testing locally but are available during production.\n   *\n   *  * **Example**\n   *\n   *  %{virt_dst_country} is not supported in a local development but is supported in a production\n   *  to show this value locally, the following property should be set as following:\n   *\n   *  interpolationValues.virt_dst_country: 'US'\n   *\n   */\n  interpolationValues?: InterpolationValues\n\n  /**\n   * This option allows to lower the number of concurrently prerendered pages.\n   * Use this option to mitigate the load on your APIs at the time of deployment.\n   */\n  prerenderConcurrency?: number\n\n  /**\n   * If '@edgio/nodejs-connector' is used as the connector, this value will be used to configure it.\n   */\n  nodejsConnector?: NodejsConnectorConfig\n\n  /**\n   * Sets the Node.js runtime that should be used inside the cloud.\n   * By default, local runtime is used, falling back to Node.js 18 if not supported.\n   */\n  cloudRuntime: CloudRuntime\n\n  /**\n   * This option allows to set the behavior of cache purging each time you deploy.\n   */\n  purgeCacheOnDeploy?: boolean\n\n  /**\n   * Set this option to false to remove the default rule that proxies all requests to serverless.\n   * This is useful if you want to proxy all unmatched pages to different origin.\n   * @default true\n   */\n  proxyToServerlessByDefault?: boolean\n}\n\nlet config: Config\n\nexport function getConfig(reload = false) {\n  const srcPath = getConfigPath()\n  return getConfigFromFile(srcPath, reload)\n}\n\n/**\n * Returns the contents of edgio.config.js\n * @param reload Set to true to ensure that the config is reloaded from disk\n * @returns\n */\nexport function getConfigFromFile(srcPath: string, reload = false) {\n  if (!config || reload) {\n    if (reload) {\n      delete require.cache[srcPath]\n    }\n\n    try {\n      // NOTE: We cannot use import here to solve the issue with ESM modules\n      // because this function would need to be changed to async.\n      // This function is used on several places including the Router methods (onRegister for example) and there is no way to make them async\n      // without breaking the method chaining feature or mess up the rules order.\n      config = nonWebpackRequire(srcPath)\n    } catch (e: any) {\n      if (e.code === 'ERR_REQUIRE_ESM') {\n        logger.error(\n          `Error: The 'edgio.config.js' file cannot be loaded because it uses CommonJS syntax and this project is set to type 'module'. Please rename it to 'edgio.config.cjs'.`\n        )\n        process.exit(1)\n      }\n      throw e\n    }\n\n    // injected by build-lambda/src/jobs/deployBuild.js\n    const environment = process.env.EDGIO_ENVIRONMENT_NAME\n\n    // apply config overrides for the current environment\n    if (environment && config.environments && config.environments[environment]) {\n      logger.info(`using config overrides for ${environment}`)\n      Object.assign(config, config.environments[environment])\n    }\n\n    // this is backwards compatibility for the old custom connector\n    // which is now deprecated, but it was out for a bit so we need to support it\n    if (config.nodejsConnector && (config as any).customConnector) {\n      config.nodejsConnector = (config as any).customConnector\n    }\n  }\n  return config\n}\n", "/**\n * Gets the directory corresponding to the root of the project source code.\n */\nexport function getSourceDir() {\n  return process.env.EDGIO_ROOT_SOURCE_DIR || process.cwd()\n}\n\n/**\n * Sets the directory corresponding to the root of the project source code.\n * @param dir The directory to set\n */\nexport function setSourceDir(dir: string) {\n  process.env.EDGIO_ROOT_SOURCE_DIR = dir\n}\n", "import nonWebpackRequire from './nonWebpackRequire'\n\n/**\n * Dynamically requires the version of a package listed in @edgio/core's depedencies\n * This allows us to ensure we are targeting the version of a package, such as globby, that is listed\n * in @edgio/core's package.json, as opposed to whatever version may or may not be included in the user's\n * app, which may not be compatible.\n */\nexport default function requireInternal(packagePath: string): any {\n  try {\n    const resolved = require.resolve(packagePath, {\n      paths: [require.resolve('@edgio/core')],\n    })\n\n    return nonWebpackRequire(resolved)\n  } catch (e) {\n    return nonWebpackRequire(packagePath)\n  }\n}\n", "/* eslint-disable valid-typeof */\nimport { Conditionals, RulesVariables } from '../types'\nimport { ExactPath } from '../router/exact'\n\n/**\n * Criteria for matching against the response.\n * @private\n */\ninterface RouteCriteriaResponse {\n  /**\n   * The status code of the origin response.\n   */\n  status_code: RegExp\n}\n\nexport type CriteraBaseValue = string | RegExp\n\nexport interface Negation<NegationType = CriteraBaseValue | PathMatchValue | InOperatorValues> {\n  not: NegationType\n}\n\nexport type CriteriaValue = CriteraBaseValue | Negation<CriteraBaseValue>\nexport type OptionalCriteriaValue = CriteriaValue | null\n\nexport type PathMatchValue = CriteraBaseValue | ExactPath\nexport type PathCriteriaValue = PathMatchValue | Negation<PathMatchValue>\n\nexport const isNegation = (\n  value?: OptionalCriteriaValue | PathCriteriaValue | InOperatorCriteriaValue\n): value is Negation<any> => {\n  return !!value && typeof value === 'object' && 'not' in value\n}\n\nexport type Location = NonNullable<RulesVariables['location']>\nexport type Device = NonNullable<RulesVariables['device']>\nexport type Variable = NonNullable<RulesVariables['variable']>\n\n/**\n * This is a generic array of values when we want to match multiple values\n * againts one of the criteria values. Matching multiple values for a criteria will\n * use simple string (or number in edge cases) comparison, so if multiple matching\n * is needed with advanced matching, then use CriteriaValue and create nested rules.\n *\n * @example\n * match({ path: ['/foo', '/bar'] }, features)\n *\n * will match againts the /foo and /bar paths on { request: 'path' } criteria.\n * match is done with in operator, so it is same as doing ifs with or between them.\n **/\nexport type InOperatorValues<ItemType = string> = ItemType[]\nexport type InOperatorCriteriaValue<ItemType = string> =\n  | InOperatorValues<ItemType>\n  | Negation<InOperatorValues<ItemType>>\n\nclass CriteriaOperator {\n  constructor(public values: ConditionCriteria[]) {}\n}\nexport class AndOperator extends CriteriaOperator {\n  operator = 'and'\n}\nexport class OrOperator extends CriteriaOperator {\n  operator = 'or'\n}\n\n/**\n * Criteria for matching a request.\n *\n * It can either be RouteCriteria (+ related helper functions) for simple use:\n * https://docs.edg.io/guides/v7/performance/cdn_as_code/route_criteria#simple-path-matching\n *\n * Or a more complex EdgeControlCriteria (JSON logic), usable for obscure criteria that arent supported by EdgeJSCriteria:\n * https://docs.edg.io/guides/v7/performance/cdn_as_code/conditional_routes#complex-criteria\n */\nexport type ConditionCriteria = EdgeControlCriteria | RouteCriteria | AndOperator | OrOperator\n\n/**\n * Creates an AND operator for router's condition functions\n */\nexport function and(...criterias: RouteCriteria[]): AndOperator {\n  return new AndOperator(criterias)\n}\n\n/**\n * Creates an OR operator for router's condition functions\n */\nexport function or(...criterias: RouteCriteria[]): OrOperator {\n  return new OrOperator(criterias)\n}\n\n/**\n * Creates negation for router's condition\n */\nexport function not(value: CriteraBaseValue | PathMatchValue | InOperatorValues): Negation {\n  return {\n    not: value,\n  }\n}\n\n// Edge control criteria that is usable for complex matching / matching of more obscure criteria.\nexport interface EdgeControlCriteria {\n  /**\n   * Allows to define custom JSON logic for matching obscure criteria.\n   * See https://docs.edg.io/guides/v7/performance/cdn_as_code/route_criteria#types-of-operators-and-conditionals for reference.\n   */\n  edgeControlCriteria: Boolean | Conditionals | { and: Conditionals[] } | { or: Conditionals[] }\n}\n\n// EdgeJS criteria, that is usable for simple matching, ultimately mapped to EdgeControlCriteria automatically.\nexport default interface RouteCriteria {\n  /**\n   * Matches a request based on its protocol / scheme. Unless explicitly specified then `https`\n   * is the default. To serve a route on both HTTPS and HTTP you can specify `/https?/`\n   * regex. If an HTTP request is not matched against any route, Edgio will\n   * automatically issue a redirect to equivalent HTTPS URL.\n   */\n  scheme?: CriteriaValue | InOperatorCriteriaValue\n\n  /**\n   * Matches a request based on one or more header values. Keys are\n   * case-insensitive header names, values are regular expressions to match or null.\n   * When value is null then requests are matched for the header not being present.\n   */\n  headers?: { [name: string]: OptionalCriteriaValue | InOperatorCriteriaValue }\n\n  /**\n   * Matches a request based on one or more cookie values. Keys are\n   * case-sensitive cookie names, values are regular expressions to match or null.\n   * When value is null then requests are matched for the cookie not being present.\n   */\n  cookies?: { [name: string]: OptionalCriteriaValue | InOperatorCriteriaValue }\n\n  /**\n   * Matches a request based on one or more query parameter values. Keys are\n   * case-sensitive names, values are regular expressions to match or null.\n   * When value is null then requests are matched for the query parameter not being present.\n   */\n  query?: { [name: string]: OptionalCriteriaValue | InOperatorCriteriaValue }\n\n  /**\n   * Matches a request based on the HTTP method. Instead of this, prefer using\n   * `get`, `post`, `put`, `delete`, `options`, and `patch` methods.\n   */\n  method?: CriteriaValue | InOperatorCriteriaValue\n\n  /**\n   * Matches a request based on the path. The same path syntax is used by\n   * the simple form of the Router class's `match` method.\n   * The path can be an express-style path expression or regular expression.\n   * Both express-style path and regular expression need to match the entire path including the leading slash.\n   * @example \"/products/:id\"\n   * @example /^\\/products\\/(.+)$/\n   */\n  path?: PathCriteriaValue | InOperatorCriteriaValue\n\n  /**\n   * Matches a request based on the origin path (the path after rewrites).\n   * @example \"/products/:id\"\n   * @example /^\\/products\\/(.+)$/\n   */\n  origin_path?: PathCriteriaValue | InOperatorCriteriaValue\n\n  random?: number | InOperatorCriteriaValue<number>\n\n  pop_code?: string | InOperatorCriteriaValue\n\n  /**\n   * Matches a request based on the specific location property.\n   * See: https://docs.edgecast.com/cdn/index.html#HRE/M/Location-Match-Conditions.htm%3FTocPath%3DContent%2520Delivery%7CRequest%7CCustom%2520Request%2520Handling%2520via%2520Rules%2520Engine%7CMatches%2520and%2520Features%7CMatches%7CLocation%7C_____0\n   */\n  location?: { [name in Location]?: OptionalCriteriaValue | InOperatorCriteriaValue }\n\n  /**\n   * Matches a request based on the variable value.\n   */\n  variable?: { [name in Variable]?: OptionalCriteriaValue | InOperatorCriteriaValue }\n\n  /**\n   * Matches a request based on the specific device property.\n   * See: https://docs.edgecast.com/cdn/index.html#HRE/M/Device-Match_Condtions.htm%3FTocPath%3DContent%2520Delivery%7CRequest%7CCustom%2520Request%2520Handling%2520via%2520Rules%2520Engine%7CMatches%2520and%2520Features%7CMatches%7CDevice%7C_____0\n   */\n  device?: { [name in Device]?: OptionalCriteriaValue | InOperatorCriteriaValue }\n\n  /**\n   * Matches properties of the response response.\n   */\n  response?: RouteCriteriaResponse\n\n  /**\n   * Matches a request based on the client ip variable value(s).\n   */\n  client_ip?: string | InOperatorCriteriaValue\n\n  /**\n   * Matches a request based on the referring-domain variable value(s).\n   */\n  'referring-domain'?: string | InOperatorCriteriaValue\n}\n", "/**\n * Marker class - wraps string to be matched literally, without using path-to-regexp mapping\n */\nexport class ExactPath {\n  constructor(public value: string) {}\n\n  toString() {\n    return this.value\n  }\n}\n\n/**\n * Marks path to be matched literally, without using path-to-regexp mapping\n * @param path\n * @returns\n */\nexport default function exact(path: string): ExactPath {\n  return new ExactPath(path)\n}\n", "import { Conditionals, RulesVariables } from '../../types'\nimport { ExactPath } from '../../router/exact'\nimport toEdgeRegex from '../../utils/toEdgeRegex'\nimport toPathRegexp from '../../utils/toPathRegexp'\nimport {\n  InOperatorCriteriaValue,\n  InOperatorValues,\n  isNegation,\n  OptionalCriteriaValue,\n  PathCriteriaValue,\n} from '../RouteCriteria'\n\nexport const toCondition = (\n  property: RulesVariables,\n  value: OptionalCriteriaValue | PathCriteriaValue | InOperatorCriteriaValue\n): Conditionals => {\n  if (isNegation(value)) {\n    if (typeof value.not === 'string') {\n      if (property.request === 'path' && toPathRegexp(value.not)) {\n        return { ['!=']: [property, value.not] }\n      }\n      // everything that isnt a path is matched exactly without the need for exact modifier\n      return { ['!==']: [property, value.not] }\n    } else if (value.not instanceof RegExp) {\n      return { ['!~']: [property, toEdgeRegex(value.not)] }\n    } else if (value.not instanceof ExactPath) {\n      return { ['!==']: [property, value.not.value] }\n    } else if (Array.isArray(value.not)) {\n      return { not_in: [property, value.not as InOperatorValues] }\n    }\n  } else {\n    if (typeof value === 'string') {\n      if (property.request === 'path' && toPathRegexp(value)) {\n        return { ['==']: [property, value] }\n      }\n      // everything that isnt a path is matched exactly without the need for exact modifier\n      return { ['===']: [property, value] }\n    } else if (value instanceof RegExp) {\n      return { ['=~']: [property, toEdgeRegex(value)] }\n    } else if (value instanceof ExactPath) {\n      return { ['===']: [property, value.value] }\n    } else if (Array.isArray(value)) {\n      return { in: [property, value as InOperatorValues] }\n    }\n  }\n\n  // todo: check if this is the correct error to throw, we shouldn't allow nulls/undefineds\n  // so this should be handled with ts or with runtime checks on sailfish schema during build\n  throw new Error(`Invalid type for match condition: ${typeof value}`)\n}\n", "import { Conditionals, Features, Matches, RulesVariables, Boolean } from '../types'\nimport RouteCriteria, {\n  AndOperator,\n  ConditionCriteria,\n  EdgeControlCriteria,\n  InOperatorCriteriaValue,\n  OptionalCriteriaValue,\n  OrOperator,\n  PathCriteriaValue,\n} from './RouteCriteria'\nimport { toCondition } from './converters/toCondition'\nimport { Device, Location, Variable } from './RouteCriteria'\n\n/**\n * Creates the matching conditions for EdgeControl's `if` property.\n * @param criteria\n * @returns\n */\nexport function createMatchers(criteria: ConditionCriteria): Conditionals | Boolean | null {\n  const ecCriteria = criteria as EdgeControlCriteria\n  if (ecCriteria.edgeControlCriteria) {\n    // Native EdgeControl syntax detected - returning as is.\n    // Used to support if statement criteria fallbacks.\n    return ecCriteria.edgeControlCriteria as Conditionals | Boolean\n  }\n\n  const edgeJsCriteria = criteria as RouteCriteria | AndOperator | OrOperator\n\n  // created by usage of 'and', 'or' utility functions\n  if (edgeJsCriteria instanceof AndOperator || edgeJsCriteria instanceof OrOperator) {\n    // we filter null values, as it means no matchers were created\n    return {\n      [edgeJsCriteria.operator]: edgeJsCriteria.values\n        .map(edgeJsCriteria => createMatchers(edgeJsCriteria))\n        .filter(matchers => matchers),\n    } as Boolean\n  }\n\n  const matchers: (Matches | Conditionals | Features)[] = []\n\n  const add = (\n    property: RulesVariables,\n    value: OptionalCriteriaValue | PathCriteriaValue | InOperatorCriteriaValue\n  ) => {\n    const condition = toCondition(property, value)\n    matchers.push(condition)\n  }\n\n  if (edgeJsCriteria.path) {\n    add({ request: 'path' }, edgeJsCriteria.path)\n  }\n\n  if (edgeJsCriteria.origin_path) {\n    add({ request: 'origin_path' }, edgeJsCriteria.origin_path)\n  }\n\n  if (edgeJsCriteria.scheme) {\n    add({ request: 'scheme' }, edgeJsCriteria.scheme)\n  }\n\n  if (edgeJsCriteria.method) {\n    add(\n      { request: 'method' },\n      typeof edgeJsCriteria.method === 'string'\n        ? edgeJsCriteria.method.toUpperCase()\n        : edgeJsCriteria.method // sailfish requires uppercase method names\n    )\n  }\n\n  if (edgeJsCriteria.headers) {\n    Object.entries(edgeJsCriteria.headers).forEach(([name, value]) => {\n      add({ 'request.header': name.toLowerCase() }, value)\n    })\n  }\n\n  if (edgeJsCriteria.query) {\n    Object.entries(edgeJsCriteria.query).forEach(([name, value]) => {\n      // if query param, we let it pass through if the value is at least length 1, as only the existence matters\n      add(\n        { 'request.origin_query': name },\n        typeof value === 'string' && value.startsWith(':') ? new RegExp('.+') : value\n      )\n    })\n  }\n\n  if (edgeJsCriteria.cookies) {\n    Object.entries(edgeJsCriteria.cookies).forEach(([name, value]) => {\n      add({ 'request.cookie': name }, value)\n    })\n  }\n\n  if (edgeJsCriteria.device) {\n    Object.entries(edgeJsCriteria.device).forEach(([name, value]) => {\n      add({ device: name as Device }, value)\n    })\n  }\n\n  if (edgeJsCriteria.location) {\n    Object.entries(edgeJsCriteria.location).forEach(([name, value]) => {\n      add({ location: name as Location }, value)\n    })\n  }\n\n  if (edgeJsCriteria.variable) {\n    Object.entries(edgeJsCriteria.variable).forEach(([name, value]) => {\n      add({ variable: name as Variable }, value)\n    })\n  }\n\n  if (edgeJsCriteria.client_ip) {\n    add({ request: 'client_ip' }, edgeJsCriteria.client_ip)\n  }\n\n  if (edgeJsCriteria['referring-domain']) {\n    add({ request: 'referring_domain' }, edgeJsCriteria['referring-domain'])\n  }\n\n  if (edgeJsCriteria.response?.status_code) {\n    add({ response: 'status_code' }, edgeJsCriteria.response.status_code)\n  }\n\n  if (matchers.length === 0) {\n    return null\n  }\n\n  // when we have only one matcher, we don't need to wrap it in an array\n  // we need to extract it from the array, otherwise wrap it into the \"and\" operator\n  return (matchers.length === 1 ? matchers[0] : { and: matchers }) as Conditionals | Boolean\n}\n", "import { ConditionCriteria } from '../RouteCriteria'\nimport { Features, Rules } from '../../types'\nimport { createMatchers } from '../createMatchers'\n\n// We allow rules and routers in any order\nexport type FeaturesOrRouter = Features | { rules: Rules[] } | Rules[]\n\nexport const toRule = (\n  criteria: ConditionCriteria,\n  ...featuresOrRouters: FeaturesOrRouter[]\n): Rules => {\n  const matchers = createMatchers(criteria)\n  const then = toThen(featuresOrRouters)\n\n  // when there are no matchers for rule, we must return only feature as rule, as empty criteria is invalid and fails deployment\n  if (!matchers) {\n    return then as Features\n  }\n\n  const rule: Rules = {\n    if: [matchers, then as Features],\n  }\n\n  return rule\n}\n\nexport const toThen = (featuresOrRouters: FeaturesOrRouter[] = []): Features | Rules[] => {\n  const outputRules: any[] = []\n\n  featuresOrRouters.forEach((featureOrRouter: any) => {\n    const value: any = featureOrRouter\n    value.rules\n      ? outputRules.push(...value.rules)\n      : Array.isArray(value)\n      ? outputRules.push(...value)\n      : outputRules.push(value)\n  })\n\n  if (outputRules[0]?.if) {\n    // Rule array must ALWAYS start with feature - console parses that feature as a root feature of the rule.\n    // Otherwise, they wouldnt be able to discern between whats root feature, and whats nested feature - it is what it is.\n    return [{}, ...outputRules]\n  } else if (outputRules.length === 1) {\n    // If rule array has only 1 feature, we dont use the array -> feature will therefore not be a nested rule on console side.\n    return outputRules[0]\n  }\n  return outputRules\n}\n\nexport const isRule = (value: any) => !!value.if\n", "import url from 'url'\nimport querystring from 'querystring'\nimport { HttpStatusCode } from '../types'\n\n/**\n * Options for controlling the behavior of redirect method\n */\nexport type RedirectOptions =\n  | {\n      /**\n       * Query strings to be added to the redirect url.\n       */\n      query?: { [key: string]: string }\n      /**\n       * HTTP Response status code for the redirect response\n       * Default: 302\n       */\n      statusCode?: number\n    }\n  | number // Retro-compatibility when options was the statusCode only\n\n/**\n * Translates redirect params into normalized version that solves backward compatibility\n * issues and also takes into account query parameters that may be included in the query\n * string itself.\n *\n * @param to string to where we are redirecting the request; may have query string\n * @param options options with which we are redirecting the request\n */\nexport const normalizeRedirectOptions = (\n  to: string,\n  options: RedirectOptions\n): {\n  to: string\n  statusCode: HttpStatusCode\n  query: {\n    [key: string]: string\n  }\n} => {\n  const { statusCode = 302, query = {} } =\n    // Retro-compatibility, second argument used to be statusCode\n    typeof options === 'number' ? { statusCode: options } : options\n\n  // Parse `to` param to extract query strings from it.\n  let toQuery = {}\n  const parsedTo = url.parse(to)\n  // istanbul ignore next - ?. gives istanbul indigestion\n  if (parsedTo?.search) {\n    to = to.substr(0, to.length - parsedTo.search.length)\n    // @ts-ignore: whenever search is truthy query is at least an empty string\n    toQuery = querystring.parse(parsedTo.query)\n  }\n\n  return {\n    to,\n    statusCode: statusCode as HttpStatusCode,\n    query: {\n      ...toQuery,\n      ...query,\n    },\n  }\n}\n", "/**\n * `isEmpty` function instead of importing lodash.\n *\n * Note that this function is not entirely equivalent to lodash's but it uses far less space in the bundle.\n */\nexport default function isEmpty(value: any) {\n  if (!value) {\n    return true\n  }\n\n  if (typeof value.length === 'number') {\n    return !value.length\n  }\n\n  if (typeof value === 'object' && Object.keys(value).length) {\n    return false\n  }\n\n  return true\n}\n", "/**\n * Returns true if the value is a matcher that is used to extract\n * request params, like ':id' or ':path'\n * @param value\n */\nexport function isParamMatcher(value: any) {\n  return typeof value === 'string' && /^:\\w+$/.test(value)\n}\n\n/**\n * Transform a route param matcher to the param name\n * ex: ':id' -> 'id'\n * @param value\n */\nexport function paramMatcherToParam(value: any) {\n  return value.slice(1)\n}\n", "import RouteCriteria, {\n  OptionalCriteriaValue,\n  isNegation,\n  InOperatorCriteriaValue,\n} from './RouteCriteria'\nimport { match } from 'path-to-regexp'\nimport { isParamMatcher, paramMatcherToParam } from '../utils/universalRouteUtils'\nimport Request from '../runtime/Request'\nimport { ExactPath } from '../router/exact'\n\nexport default class ParamsExtractor {\n  protected routeCriteria: RouteCriteria\n\n  constructor(routeCriteria: RouteCriteria) {\n    this.routeCriteria = {}\n    this.updateRouteCriteria(routeCriteria)\n  }\n\n  updateRouteCriteria(routeCriteria: RouteCriteria) {\n    this.routeCriteria = {\n      path: routeCriteria?.path,\n      query: routeCriteria?.query,\n    }\n  }\n\n  /**\n   * Returns the object with extracted params from request path and query matched by latest routeCriteria\n   * @returns\n   */\n  extract(request: Request) {\n    return {\n      ...(this.routeCriteria?.path && !isNegation(this.routeCriteria.path)\n        ? ParamsExtractor.getMatchedPathParams(this.routeCriteria.path, request.path)\n        : {}),\n      ...(this.routeCriteria?.query\n        ? ParamsExtractor.getMatchedQueryParams(this.routeCriteria.query, request.query)\n        : {}),\n    }\n  }\n\n  /**\n   * Returns params from request path matched by route criteria path\n   * @param criteriaPath\n   * @param requestPath\n   * @returns\n   */\n  static getMatchedPathParams(\n    criteriaPath: string | RegExp | ExactPath | InOperatorCriteriaValue,\n    requestPath: string\n  ): Record<string, string | string[]> | undefined {\n    // When criteriaPath is a RegExp, we extract matched groups from requestPath\n    // and expose them in params object under \"$\" key.\n    // Example: $1 => req.params.$[1]\n    if (criteriaPath instanceof RegExp)\n      return {\n        $: criteriaPath.exec(requestPath) || [],\n      }\n\n    if (Array.isArray(criteriaPath)) return undefined\n\n    const pathMatcher = match(criteriaPath.toString(), { decode: decodeURIComponent })\n    const result = pathMatcher(requestPath)\n\n    return result ? <{ [key: string]: string | string[] }>result.params : undefined\n  }\n\n  /**\n   * Returns params from request query matched by route criteria query\n   * @param criteriaQuery object of routeCriteria queries\n   * @param requestQuery object of parsed queries\n   * @returns\n   */\n  static getMatchedQueryParams(\n    criteriaQuery: { [name: string]: OptionalCriteriaValue | InOperatorCriteriaValue },\n    requestQuery: { [key: string]: string | string[] | undefined }\n  ): Record<string, string> | undefined {\n    let extractedParams = {}\n    if (typeof requestQuery !== 'object') return extractedParams\n\n    for (const criteriaQueryKey in criteriaQuery) {\n      const criteriaQueryValue = criteriaQuery[criteriaQueryKey]\n\n      if (typeof criteriaQueryValue !== 'string' || !isParamMatcher(criteriaQueryValue)) continue\n      const paramName = paramMatcherToParam(criteriaQueryValue)\n      extractedParams = {\n        ...extractedParams,\n        [paramName]: requestQuery[paramName],\n      }\n    }\n\n    return extractedParams\n  }\n}\n", "import CookieOptions from '../router/CookieOptions'\n/**\n * Serializes a cookie name with value and its options into a string\n * format of set-cookie header.\n * @param name\n * @param value\n * @param options\n * @example serializeCookie('name', 'value', { domain: 'test.com', HttpOnly: true, Secure: true }) => 'name=value; domain=test.com; HttpOnly; Secure'\n */\nexport function serializeCookie(name: string, value: string, options: CookieOptions = {}): string {\n  return Object.keys(options).reduce((output, key) => {\n    const opt = options[key as keyof CookieOptions]\n    if (typeof opt === 'boolean' && opt) return `${output}; ${key}`\n    return `${output}; ${key}=${opt}`\n  }, `${name}=${value}`)\n}\n", "import { TimeInterval } from '../../types'\n\n/**\n * Converts to from number or string to TimeInterval type, this is mostly\n * done when we do conversion from EdgeJs fluent API calls to Sailfish definition\n * @param value\n * @returns\n */\nexport const toTimeInterval = (value: number | string): TimeInterval => {\n  if (typeof value === 'string') {\n    return value as TimeInterval\n  }\n\n  return `${value}s` as TimeInterval\n}\n", "import {\n  EDGIO_CLOUD_FUNCTIONS_HINT_HEADER,\n  EDGIO_CLOUD_FUNCTIONS_HINTS,\n  FAR_FUTURE_TTL,\n  EdgioCloudFunctionsHint,\n} from '../constants'\nimport { rewritePath } from './path'\nimport {\n  getPathPrefix,\n  PERMANENT_STATIC_ORIGIN_NAME,\n  SERVERLESS_ORIGIN_NAME,\n  STATIC_ORIGIN_NAME,\n} from '../origins'\nimport { Features, HttpRequestHeader, HttpStatusCode } from '../types'\nimport CorsOptions from './CorsOptions'\nimport CookieOptions from './CookieOptions'\nimport RouteCriteria, { isNegation } from './RouteCriteria'\nimport { HTTP_METHODS, HTTP_HEADERS } from '../constants'\nimport { CacheOptions } from './CacheOptions'\nimport { normalizeRedirectOptions, RedirectOptions } from './RedirectOptions'\nimport { ServeStaticOptions } from './ServeStaticOptions'\nimport Response from '../runtime/Response'\nimport Request from '../runtime/Request'\nimport Router, { ComputeFn } from './Router'\nimport { ProxyOptions } from './ProxyOptions'\nimport OriginFetcher from '../runtime/OriginFetcher'\nimport PropertyContext from '../runtime/PropertyContext'\nimport isEmpty from '../utils/isEmpty'\nimport bindParams from '../utils/bindParams'\nimport ParamsExtractor from './ParamsExtractor'\nimport qs from 'qs'\nimport toEdgeRegex from '../utils/toEdgeRegex'\nimport { serializeCookie } from '../utils/cookieUtils'\nimport { ExactPath } from './exact'\nimport { toTimeInterval } from './converters/toTimeInterval'\nimport LambdaResponse from '../runtime/LambdaResponse'\nimport SecurityHeadersOptions from './SecurityHeadersOptions'\n\n/**\n * A function used to configure a route through the `RouteHelper`.\n * The rule will receive the `RouteHelper` instance as the sole argument.\n * The rule can then call any of the methods on the `RouteHelper` instance to configure the rule.\n * See the [RouteHelper](https://docs.edg.io/docs/v7.x/api/core/classes/router_RouteHelper.default.html) class documentation for more details and examples.\n */\nexport type FeatureCreator = (helper: RouteHelper) => void\n\n/**\n * Enumeration (string literal) of all HTTP methods supported by Edgio.\n */\nexport type HTTPMethod = keyof typeof HTTP_METHODS\n\n/**\n * RouteHelper makes it easy to implement common request handling patterns and provides backwards compatibility with Layer0's\n * [ResponseWriter](https://docs.layer0.co/docs/api/core/classes/_router_responsewriter_.responsewriter.html) class.\n * Please pay attention to the following notes when using RouteHelper to avoid unexpected behavior.\n *\n * **Retrieving the RouteHelper instance**\n *\n * When a function is passed to the second argument of a rule, that function is provided with an instance of RouteHelper as the sole argument.\n *\n * Example:\n *\n * ```js\n *  import { Router } from '@edgio/core/router'\n *\n *  export default new Router()\n *    .get('/favicon.ico', ({ serveStatic }) => { // the parameter provided here is an instance of RouteHelper\n *      serveStatic('images/favicon.ico')\n *    })\n * ```\n *\n * **Overriding methods**\n *\n * The below RouteHelper methods are partially or fully overriding each other and should not be used together in the same rule.\n * Only the method in the last matched rule will be performed.\n * ```js\n *  RouteHelper.proxy\n *  RouteHelper.compute\n *  RouteHelper.renderWithApp\n *  RouteHelper.serveStatic\n *  RouteHelper.redirect\n *  RouteHelper.setOrigin\n *  RouteHelper.appShell\n *  RouteHelper.send\n *  RouteHelper.setResponseBody\n *  RouteHelper.serviceWorker\n * ```\n *\n * Example:\n *\n * ```js\n *  import { Router } from '@edgio/core/router'\n *\n *  export default new Router()\n *    // This compute() will be executed on all paths except the '/page'.\n *    .get('/:path*', ({ compute }) => {\n *      compute(async (req, res) => {\n *        res.setHeader('content-type', 'text/html')\n *        res.body = '<html><body>Hello World</body></html>'\n *      })\n *    })\n *    // On a '/page' path, the proxy() call will override the compute() above, and just the proxy will be executed.\n *   .get('/page', ({ proxy }) => {\n *      proxy(\"origin\")\n *    })\n * ```\n *\n * **Incorrect usage of methods**\n *\n * All RouteHelper methods are independent by design and cannot be nested or called from each other.\n *\n * Example of incorrect usage:\n *\n * ```js\n *  import { Router } from '@edgio/core/router'\n *\n *  export default new Router()\n *    // This rule will not work!\n *    .get('/page1', ({ compute, cache }) => {\n *      compute(async (req, res) => {\n *        res.body = '<html><body>Hello World</body></html>'\n *        cache({\n *          edge: {\n *            maxAgeSeconds: 60 * 60 * 24,\n *          }\n *        })\n *      })\n *    })\n *    // This rule will work\n *    .get('/page2', ({ compute, cache }) => {\n *      compute(async (req, res) => {\n *        res.body = '<html><body>Hello World</body></html>'\n *      })\n *      cache({\n *          edge: {\n *            maxAgeSeconds: 60 * 60 * 24,\n *          }\n *      })\n *    })\n * ```\n */\nexport default class RouteHelper {\n  private readonly routeCriteria: RouteCriteria\n  private paramsExtractor: ParamsExtractor\n  private features: Features = {}\n  private readonly router: Router\n\n  /**\n   * @private\n   * @param criteria\n   * @param router\n   */\n  constructor(criteria: RouteCriteria, router: Router) {\n    this.routeCriteria = criteria\n    this.paramsExtractor = new ParamsExtractor(criteria)\n    this.router = router\n  }\n\n  /**\n   * Creates a Features instance by running the provided callback.\n   * @private\n   * @param creator\n   * @returns\n   */\n  evaluate(creator: FeatureCreator): Features {\n    creator(this)\n    return this.features\n  }\n\n  /**\n   * Adds features to the route using features json object. This can be used to combine\n   * functional style route setting with object style route setting.\n   *\n   * This RouteHelper method should be called as first RouteHelper method in the same rule\n   * to ensure that other methods such as serveStatic are not partially overridden by specified features.\n   *\n   * **Example**\n   *\n   * ```js\n   *  import { Router } from '@edgio/core/router'\n   *\n   *  export default new Router()\n   *    .get('/images/:files*', ({ addFeatures, serveStatic }) => {\n   *      addFeatures({\n   *        response: {\n   *          optimize_images: true,\n   *        }\n   *      })\n   *      serveStatic('images/:files*')\n   *    })\n   * ```\n   */\n  addFeatures = (features: Features) => {\n    this.features = { ...this.features, ...features }\n  }\n\n  /**\n   * Serves a service worker with proper edge and browser cache headers.\n   * @param filePath The path to the service worker relative to the root directory of your app\n   *\n   * **Example**\n   *\n   * ```js\n   *  import { Router } from '@edgio/core/router'\n   *\n   *  export default new Router()\n   *    .get('/service-worker.js', ({ serviceWorker }) => {\n   *      serviceWorker('dist/service-worker.js')\n   *    })\n   * ```\n   */\n  serviceWorker = (filePath?: string) => {\n    this.cache({ edge: { maxAgeSeconds: FAR_FUTURE_TTL }, browser: false })\n\n    if (filePath) {\n      this.serveStatic(filePath)\n    } else {\n      this.setOrigin(STATIC_ORIGIN_NAME)\n      this.rewritePath(undefined, `${getPathPrefix(STATIC_ORIGIN_NAME)}/service-worker.js`)\n    }\n  }\n\n  /**\n   * Sets the caching behavior for both browser and edge.\n   * The `cache()` method can be called in the same rule where the `proxy()` is called or in any other rule that matches the same path.\n   *\n   * **Example**\n   *\n   * ```\n   *  import { Router } from '@edgio/core/router'\n   *\n   *  export default new Router()\n   *    .get('/p/:productId', ({ cache, proxy }) => {\n   *      cache({\n   *        browser: {\n   *          maxAgeSeconds: 0,\n   *          serviceWorkerSeconds: 60 * 60, // 1 hour\n   *        },\n   *        edge: {\n   *          maxAgeSeconds: 60 * 60 * 24, // 24 hours\n   *          staleWhileRevalidateSeconds: 60 * 60 // 1 hour\n   *        }\n   *      })\n   *      proxy('origin')\n   *    })\n   * ```\n   */\n  cache = (options: CacheOptions) => {\n    this.features.caching = this.features.caching || {}\n    const { caching } = this.features\n\n    if (options.edge) {\n      if (options.edge.maxAgeSeconds) {\n        caching.max_age = toTimeInterval(options.edge.maxAgeSeconds)\n      }\n      if (options.edge.staleWhileRevalidateSeconds) {\n        caching.stale_while_revalidate = toTimeInterval(options.edge.staleWhileRevalidateSeconds)\n      }\n      if (options.edge.forcePrivateCaching) {\n        caching.ignore_origin_no_cache = [200]\n      }\n    } else if (options.edge === false) {\n      caching.bypass_cache = true\n    }\n\n    if (options && options.cacheableStatusCodes) {\n      caching.cacheable_status_codes = options.cacheableStatusCodes as HttpStatusCode[]\n    }\n\n    if (options && options.enableCachingMethods) {\n      caching.enable_caching_for_methods = options.enableCachingMethods\n    }\n\n    if (options && options.ignoreOriginNoCache) {\n      caching.ignore_origin_no_cache = options.ignoreOriginNoCache\n    }\n\n    if (options.browser) {\n      if (options.browser.serviceWorkerSeconds == null && options.browser.maxAgeSeconds == null) {\n        throw new Error(\n          'The browser cache setting should specify serviceWorkerSeconds or maxAgeSeconds.'\n        )\n      }\n\n      if (options.browser.serviceWorkerSeconds) {\n        caching.service_worker_max_age = toTimeInterval(options.browser.serviceWorkerSeconds)\n      }\n\n      if (options.browser.maxAgeSeconds === 0) {\n        caching.bypass_client_cache = true\n      } else if (options.browser.maxAgeSeconds) {\n        caching.client_max_age = toTimeInterval(options.browser.maxAgeSeconds)\n      }\n    } else if (options.browser === false) {\n      caching.bypass_client_cache = true\n    }\n\n    if (options.key) {\n      options.key.applyCaching(this.features)\n    }\n  }\n\n  /**\n   * Responds with a static asset from the specified path.\n   *\n   * **Example**\n   *\n   * ```js\n   * serveStatic('path/to/asset/from/app/root')\n   * ```\n   *\n   * You can also use variables in the asset path.  For example, to return files under the `assets` directory\n   * when the url starts with `/static`:\n   *\n   * ```\n   *  new Router()\n   *    .get('/static/:path*', ({ serveStatic }) => {\n   *      serveStatic('assets/:path*')\n   *    })\n   * ```\n   *\n   * The substitution group params can be used in the asset path when path criteria is Regular Expression.\n   * The same functionality can be achieved using the code below.\n   *\n   * ```\n   *  new Router()\n   *    .get(/\\/static\\/(.*)/, ({ serveStatic }) => {\n   *      serveStatic('assets/$1')\n   *    })\n   * ```\n   * @param path The relative path to the asset from the app's root directory. You can reference path variables using `:variable`.\n   * @param options The different options to serving static assets\n   */\n  serveStatic = (path: string, options: ServeStaticOptions = {}) => {\n    const { edgeMaxAgeSeconds = FAR_FUTURE_TTL, permanent } = options\n    this.cache({ edge: { maxAgeSeconds: edgeMaxAgeSeconds } })\n\n    const origin = permanent ? PERMANENT_STATIC_ORIGIN_NAME : STATIC_ORIGIN_NAME\n    this.setOrigin(origin)\n    const pathPrefix = getPathPrefix(origin)\n\n    // Normalize path\n    path = path\n      // Path is expected to use forward slashes,\n      // so we need to replace backslashes with forward slashes on Windows systems.\n      // Otherwise, we would generate invalid rewritePath source.\n      .replace(/\\\\+/g, '/')\n      // Remove current directory path references\n      .replace(/^\\.\\//, '')\n      // Path is expected to be relative to the app root directory,\n      // so we need to remove leading slash if it exists\n      .replace(/^\\/(.*)/, '$1')\n\n    // In case the route criteria path is array (IN operator) or negation,\n    // we can't use it as a source for rewritePath\n    const sourceFromCriteria =\n      isNegation(this.routeCriteria?.path) || Array.isArray(this.routeCriteria?.path)\n        ? undefined\n        : this.routeCriteria?.path\n    // We will always try to use rewrite source from options first, then from criteria and then default to '/:path*'\n    const source = options?.rewritePathSource || sourceFromCriteria || '/:path*'\n\n    if (options.statusCode) {\n      this.setResponseCode(options.statusCode)\n    }\n\n    // TODO remove this once edge control supports path_prefix in origins.hosts\n    this.rewritePath(source, `${pathPrefix}/${path}`, {\n      // We need to remove trailing slash from the path here,\n      // so that both '/posts/' and '/posts' match the same '/posts/index.html' file alias on S3.\n      skipSlash: true,\n      // Query search params need to be preserved in the rewrite destination,\n      // so the Sailfish image optimizer params work with images on S3.\n      skipQuery: false,\n    })\n  }\n\n  /**\n   * Renders a result in Edgio's serverless cloud using your application. Use this method\n   * to respond with an SSR or API result from your application.\n   * This method will only work with applications that has serverless backend such as Next.js, Nuxt.js, Express etc...\n   */\n  renderWithApp = () => {\n    this.sendToServerless(EDGIO_CLOUD_FUNCTIONS_HINTS.app)\n  }\n\n  /**\n   * Registers a new Edgio Cloud Function.\n   * The provided callback function is executed in Edgio's serverless cloud.\n   * The callback is passed the request and the response\n   *\n   * Use this method when you need to compute a response in the cloud rather than at the edge or at build time. A common example\n   * is when the response must be computed based on request parameters, headers, or cookies.\n   *\n   * A common example is to look up the destination for a redirect from an external API:\n   *\n   * ```js\n   *  new Router()\n   *    .get('/products/:id', ({ redirect, compute }) => {\n   *      compute(async (request, response) => {\n   *        const destination = await getDestinationFromAPI(request.params.id)\n   *        response.statusCode = 302\n   *        response.setHeader(\"Location\", destination)\n   *      })\n   *    })\n   * ```\n   *\n   * This method can be combined with `cache` to compute complex responses in the cloud and cache them at edge:\n   *\n   * ```js\n   *  new Router()\n   *    .get('/products/:id', ({ cache, compute }) => {\n   *      cache({\n   *        edge: {\n   *          maxAgeSeconds: 60 * 60 * 24,\n   *        }\n   *      })\n   *      compute(async (request, response) => {\n   *        const product = await getProductFromAPI(request.params.id)\n   *        response.setHeader(\"content-type\", \"application/json\")\n   *        response.body = JSON.stringify({\n   *          success: true,\n   *          product,\n   *        })\n   *      })\n   *    })\n   * ```\n   * Note: Extracted params from express-style criteria are available as object under req.params.\n   * When regular expression is used as path criteria, the matched group params are available as array under req.params.$.\n   * Example: $1 => req.params.$[1]\n   *\n   * @param fn A function to run in the cloud to compute the response\n   */\n  compute = (fn: ComputeFn) => {\n    this.sendToServerless(EDGIO_CLOUD_FUNCTIONS_HINTS.compute, fn)\n  }\n\n  /**\n   * Relays the request to the specified origin.\n   *\n   * **Example**\n   *\n   * ```\n   *  new Router()\n   *    .get('/some/path/with/:variable', ({ proxy }) => {\n   *      proxy('legacy', { path: '/some/other/path/with/:variable' })\n   *    })\n   * ```\n   *\n   * In this example, we relay the request to the \"legacy\" origin. In this case, `edgio.config.js` must\n   * contain a definition for the `legacy` origin.  For example:\n   *\n   * ```\n   *  // edgio.config.js\n   *\n   *  module.exports = {\n   *    routes: \"./routes.js\",\n   *    ...\n   *    origins: [\n   *       {\n   *         name: 'legacy',\n   *         balancer: 'round_robin',\n   *         hosts: [{ location: 'legacy.domain.com' }],\n   *       },\n   *     ],\n   *  }\n   * ```\n   *\n   * NOTE: The proxy is executed at the edge unless the `transformRequest` or `transformResponse` options are provided.\n   * In that case, the proxy is executed using Edgio Cloud Functions.\n   *\n   * **Example of transformResponse**\n   *\n   * ```\n   * import { Router } from '@edgio/core/router'\n   * import responseBodyToString from '@edgio/core/utils/responseBodyToString';\n   *\n   *  new Router()\n   *    .get('/some/path/with/:variable', ({ proxy }) => {\n   *      proxy('legacy', {\n   *        transformResponse: async (res) => {\n   *          // Simple headers manipulation\n   *          res.setHeader('x-custom-header', 'custom-value')\n   *        }\n   *      })\n   *    })\n   *    .get('/another/path/with/:variable', ({ proxy }) => {\n   *      proxy('legacy', {\n   *        transformResponse: async (res) => {\n   *          // Body can be encoded by brotli, gzip, deflate or plain text. We need to decode it first.\n   *          const originalBody = responseBodyToString(res.body)\n   *          // Remove content-encoding header as we are changing the body\n   *          res.removeHeader('content-encoding')\n   *          // Modify the body\n   *          res.body = originalBody.replace('</body>', '<script src=\"https://example.com/script.js\"></script></body>')\n   *        }\n   *      })\n   *    })\n   * ```\n   * NOTE: When both res.body and res.chunks are present with different values in transformResponse,\n   * the res.body will be preferred over the chunks and used as the final response.\n   * @param backend The name of one of the origins in your `edgio.config.js` file.\n   * @param options\n   */\n  proxy = (backend: string, options?: ProxyOptions) => {\n    this.setOrigin(backend)\n\n    if (options?.transformRequest || options?.transformResponse) {\n      // if either transformRequest or transformResponse are provided, we need to use serverless\n      // since sailfish does not support these options\n      this.sendToServerless(\n        EDGIO_CLOUD_FUNCTIONS_HINTS.proxy,\n        async (req: Request, res: Response, propertyContext: PropertyContext) => {\n          // we know that lambdaresponse is used internally, just not exposed in compute api for users\n          const lambdaResponse = res as LambdaResponse\n\n          options?.transformRequest && (await options.transformRequest(req))\n\n          // TODO: if we dont tranform response, we COULD stream the body chunk by chunk, but we dont have\n          // an access to requestcontext here so its moreso an idea for the future, as its an edge case\n          // if (!options?.transformResponse) {\n          //   lambdaResponse.setOnWrite(async () => await this.context.executeStreamResponse())\n          // }\n\n          await new OriginFetcher(propertyContext).fetch(\n            req,\n            res,\n            {\n              headers: options?.headers,\n              removeEmptySearchParamValues: options?.removeEmptySearchParamValues,\n              path: options?.path,\n            },\n            backend\n          )\n\n          // we create body from received chunks, so users can further transform it in transformResponse\n          // the ending chunk is always null, therefore we omit it, otherwise the buffer wont be able to concat\n          lambdaResponse.body = Buffer.concat(lambdaResponse.chunks.slice(0, -1))\n\n          // if we dont transform response, the chunks are already in proper format at this time\n          if (options?.transformResponse) {\n            await options.transformResponse(res, req)\n            res.setHeader('Content-Length', lambdaResponse.body.length.toString())\n          }\n        }\n      )\n    } else if (options) {\n      // otherwise we can transform the request at the edge using features\n      if (options.path) {\n        const destination = typeof options.path === 'string' ? options.path : options.path()\n\n        // If path is an array (InOperatorValues), we use match all as a path\n        // as we cannot know which path will be used, so whatever is matched pass it to the origin\n        // otherwise if it is.\n        // Matching against negation doesnt make sense.\n        const path =\n          Array.isArray(this.routeCriteria.path) || isNegation(this.routeCriteria.path)\n            ? '/:path*'\n            : this.routeCriteria.path\n\n        if (destination) {\n          this.rewritePath(path, destination)\n        }\n      }\n\n      if (options?.headers) {\n        for (const [key, value] of Object.entries(options.headers)) {\n          this.setRequestHeader(key, value)\n        }\n      }\n\n      if (options?.followRedirects != null) {\n        if (!this.features.url) this.features.url = {}\n        this.features.url.follow_redirects = options?.followRedirects\n      }\n    }\n  }\n\n  /**\n   * Adds or replaces existing response header\n   * immediately before delivering the response downstream.\n   * New value can be appended to the end of existing value by prepending a `+` symbol to the header name.\n   *\n   * **Example**\n   *\n   * ```\n   *  new Router()\n   *    .get('/some/path', ({ setResponseHeader, proxy }) => {\n   *      proxy('origin')\n   *      setResponseHeader('new-header', 'some-value')\n   *      setResponseHeader('+existing-header', 'other-value')\n   *    })\n   * ```\n   *\n   * @param name The case-insensitive name of the response header\n   * @param value The value to set\n   */\n  setResponseHeader = (name: string, value: string) => {\n    /* istanbul ignore else */\n    if (!this.features.headers) {\n      this.features.headers = {}\n    }\n\n    /* istanbul ignore else */\n    if (!this.features.headers.set_response_headers) {\n      this.features.headers.set_response_headers = {}\n    }\n\n    const headers = <any>this.features.headers.set_response_headers\n    headers[name] = value\n  }\n\n  /**\n   * Adds new response header without replacing existing headers with the same name\n   * before delivering the response downstream.\n   *\n   * **Example**\n   *\n   * ```\n   *  new Router()\n   *    .get('/some/path', ({ addResponseHeader, proxy }) => {\n   *      proxy('origin')\n   *      addResponseHeader('some-header', 'some-value')\n   *    })\n   * ```\n   *\n   * @param name The case-insensitive name of the response header\n   * @param value The value to set\n   */\n  addResponseHeader = (name: string, value: string) => {\n    /* istanbul ignore else */\n    if (!this.features.headers) {\n      this.features.headers = {}\n    }\n\n    /* istanbul ignore else */\n    if (!this.features.headers.add_response_headers) {\n      this.features.headers.add_response_headers = {}\n    }\n\n    const headers = <any>this.features.headers.add_response_headers\n    headers[name] = value\n  }\n\n  /**\n   * Alters a response header immediately before delivering the response downstream.\n   * Use this method to derive the new header value from the existing one.\n   *\n   * **Example**\n   *\n   * ```\n   *  new Router()\n   *    .get('/some/path', ({ updateResponseHeader, proxy }) => {\n   *      proxy('origin')\n   *      updateResponseHeader('some-header', /some-.*-part/gi, 'some-replacement')\n   *    })\n   * ```\n   *\n   * @param name The case-insensitive name of the response header\n   * @param match Regex to find the part that should be replaced.\n   * @param replace Value that will replace the matched part.\n   */\n  updateResponseHeader = (name: string, match: RegExp, replace: string) => {\n    // Creates Find And Replace interpolation expression from the given regex and replacement string\n    this.setResponseHeader(\n      name,\n      `%{resp_${name}/${match.global ? '/' : ''}${toEdgeRegex(match, '', true)}/${replace}}`\n    )\n  }\n\n  /**\n   * Removes a response header immediately before delivering the response downstream.\n   *\n   * **Example**\n   *\n   * ```\n   *  new Router()\n   *    .get('/some/path', ({ removeResponseHeader, proxy }) => {\n   *      proxy('origin')\n   *      removeResponseHeader('some-header')\n   *    })\n   * ```\n   * @param name The case-insensitive name of the response header\n   */\n  removeResponseHeader = (name: string) => {\n    /* istanbul ignore else */\n    if (!this.features.headers) {\n      this.features.headers = {}\n    }\n    if (!this.features.headers.remove_response_headers) {\n      this.features.headers.remove_response_headers = []\n    }\n\n    ;(this.features.headers.remove_response_headers as string[]).push(name)\n  }\n\n  /**\n   * Removes a header from the response provided by an origin server.\n   *\n   * **Example**\n   *\n   * ```\n   *  new Router()\n   *    .get('/some/path', ({ removeUpstreamResponseHeader, proxy }) => {\n   *      proxy('origin')\n   *      removeUpstreamResponseHeader('some-header')\n   *    })\n   * ```\n   * @param name The case-insensitive name of the response header\n   */\n  removeUpstreamResponseHeader = (name: string) => {\n    /* istanbul ignore else */\n    if (!this.features.headers) {\n      this.features.headers = {}\n    }\n    if (!this.features.headers.remove_origin_response_headers) {\n      this.features.headers.remove_origin_response_headers = []\n    }\n\n    this.features.headers.remove_origin_response_headers.push(name)\n  }\n\n  /**\n   * Adds or replaces a request header.\n   *\n   * **Example**\n   *\n   * ```\n   *  new Router()\n   *    .get('/some/path', ({ setRequestHeader, proxy }) => {\n   *      setRequestHeader('some-header', 'some-value')\n   *      proxy('origin')\n   *    })\n   * ```\n   *\n   * @param name The case-insensitive name of the request header\n   * @param value The value to set\n   */\n  setRequestHeader = (name: string, value: string) => {\n    /* istanbul ignore else */\n    if (!this.features.headers) {\n      this.features.headers = {}\n    }\n\n    /* istanbul ignore else */\n    if (!this.features.headers.set_request_headers) {\n      this.features.headers.set_request_headers = {}\n    }\n\n    const headers = this.features.headers.set_request_headers as HttpRequestHeader\n    headers[name] = value\n  }\n\n  /**\n   * Alters a request header. Use this method to derive the new header value from the existing one.\n   *\n   * **Example**\n   *\n   * ```\n   *  new Router()\n   *    .get('/some/path', ({ updateRequestHeader, proxy }) => {\n   *      updateRequestHeader('some-header', /some-.*-part/gi, 'some-replacement')\n   *      proxy('origin')\n   *    })\n   * ```\n   *\n   * @param name The case-insensitive name of the request header\n   * @param match Regex to find the part that should be replaced.\n   * @param replace Value that will replace the matched part.\n   */\n  updateRequestHeader = (name: string, match: RegExp, replace: string) => {\n    // Creates Find And Replace interpolation expression from the given regex and replacement string\n    this.setRequestHeader(\n      name,\n      `%{http_${name}/${match.global ? '/' : ''}${toEdgeRegex(match, '', true)}/${replace}}`\n    )\n  }\n\n  /**\n   * Adds or replaces a response body. It optionally sets response code or message.\n   *\n   * ```\n   *  new Router()\n   *    .get('/some/path', ({ setResponseBody }) => {\n   *      setResponseBody('<html><body>Hello World!</body></html>', 200, 'OK')\n   *    })\n   * ```\n   *\n   * @param body The response body.\n   * @param code The response code.\n   * @param done Indicates that this is last feature\n   */\n  setResponseBody = (body: string, code?: HttpStatusCode, done?: boolean) => {\n    if (!this.features.response) {\n      this.features.response = {}\n    }\n    this.features.response.set_done = !!done\n\n    this.features.response!.set_response_body = body\n\n    if (code) this.features.response!.set_status_code = code\n  }\n\n  /**\n   * Adds or replaces a response code.\n   *\n   * ```\n   *  new Router()\n   *    .get('/some/path', ({ setResponseCode, proxy }) => {\n   *      setResponseCode(200)\n   *      proxy('origin')\n   *    })\n   * ```\n   *\n   * @param code The response code.\n   */\n  setResponseCode = (code: HttpStatusCode) => {\n    if (!this.features.response) {\n      this.features.response = {}\n    }\n    this.features.response!.set_status_code = code\n  }\n\n  /**\n   * Sends the necessary response headers to allow CORS.\n   *\n   * **Example**\n   *\n   * ```js\n   *  new Router()\n   *    .match('/api/:path*', ({ allowCors }) => {\n   *      allowCors({\n   *        origin: '*', // this is the default\n   *        methods: ['get', 'post'],\n   *        headers: ['x-some-header'],\n   *        maxAge: 60 * 60, // one hour\n   *        credentials: true\n   *      })\n   *    })\n   * ```\n   *\n   * @param config\n   */\n  allowCors = (config: CorsOptions = {}) => {\n    this.setResponseHeader('Access-Control-Allow-Origin', config.origin || '*')\n\n    if (config.methods) {\n      this.setResponseHeader('Access-Control-Allow-Methods', config.methods.join(', '))\n    }\n\n    if (config.headers) {\n      this.setResponseHeader('Access-Control-Allow-Headers', config.headers.join(', '))\n    }\n\n    if (config.maxAge) {\n      this.setResponseHeader('Access-Control-Max-Age', config.maxAge.toString())\n    }\n\n    if (config.credentials != null) {\n      this.setResponseHeader('Access-Control-Allow-Credentials', config.credentials.toString())\n    }\n  }\n\n  /**\n   * Adds a path_rewrite feature using path-to-regexp syntax for the source and destination\n   * @param source\n   * @param destination\n   * @param options Additional options that allow to control the rewrite behavior\n   * @private\n   */\n  rewritePath = (\n    source: string | RegExp | ExactPath | undefined,\n    destination: string,\n    options?: {\n      /**\n       * Set to true to not include optional trailing slash in rewrite destination\n       */\n      skipSlash?: boolean\n      /**\n       * Set to true to not include optional query in rewrite destination\n       */\n      skipQuery?: boolean\n    }\n  ) => {\n    /* istanbul ignore else */\n    if (!this.features.url) {\n      this.features.url = {}\n    }\n\n    /* istanbul ignore else */\n    if (!this.features.url.url_rewrite) {\n      this.features.url.url_rewrite = []\n    }\n\n    // Convert ExactPath to string to\n    // allow CriteriaPath to be used as source.\n    if (source instanceof ExactPath) {\n      source = source.toString()\n    }\n\n    if (typeof source === 'string') {\n      // When source is string, we can assume that the user wants to use the path-to-regexp syntax with support for named parameters.\n      this.features.url.url_rewrite.push(rewritePath(source, destination, options))\n    } else {\n      // The user will have to write substitution groups in destination by themselves when regex is used as source.\n      this.features.url.url_rewrite.push({\n        syntax: 'regexp',\n        source: source ? toEdgeRegex(source) : undefined,\n        destination,\n      })\n    }\n  }\n\n  /**\n   * Forwards the request to the serverless origin\n   * @param hint\n   * @param fn\n   */\n  private sendToServerless(hint: EdgioCloudFunctionsHint, fn?: ComputeFn) {\n    const hintIndex = fn\n      ? this.router.addFunction(\n          async (req: Request, res: Response, propertyContext: PropertyContext) => {\n            // extract params matched by routeCriteria path, query matched by routeCriteria query\n            // and add them to request for backward compatibility\n            req.params = this.paramsExtractor.extract(req)\n\n            // execute original compute function\n            await fn(req, res, propertyContext)\n\n            // set default content type if none was set\n            if (!res.getHeader(HTTP_HEADERS.contentType)) {\n              res.setHeader(HTTP_HEADERS.contentType, 'text/plain')\n            }\n          }\n        )\n      : null\n\n    this.setRequestHeader(\n      `+${EDGIO_CLOUD_FUNCTIONS_HINT_HEADER}`,\n      hintIndex !== null ? `${hint}:${hintIndex}` : hint\n    )\n\n    // Remove the default origin and team prefix\n    // RequestContext.executeApp will append the origin and team\n    this.setOrigin(SERVERLESS_ORIGIN_NAME)\n  }\n\n  /**\n   * Rewrites the request path.\n   *\n   * Example:\n   *\n   * ```js\n   *  router.get('/products/:id', ({ updatePath }) => {\n   *    updatePath('/p/:id')\n   *  })\n   * ```\n   *\n   * The substitution group params can be used in the asset path when path criteria is Regular Expression.\n   * The same functionality can be achieved using the code below.\n   *\n   * ```js\n   *  new Router()\n   *    .get(/\\/products\\/(.+)/, ({ updatePath }) => {\n   *      updatePath('/p/$1')\n   *    })\n   * ```\n   *\n   * @param destination a new route path, which can include params captured from the original path\n   */\n  updatePath = (destination: string) => {\n    // params should be extracted by the latest path rule\n    this.paramsExtractor.updateRouteCriteria({\n      path: destination,\n    })\n    this.rewritePath((this.routeCriteria.path as string) ?? '/:path*', destination)\n  }\n\n  /**\n   * Sends string content back to client. If content is a string, the response will be sent\n   * directly from the edge. If it is a function, the request will be computed in Edgio's serverless cloud.\n   * StatusCode defaults to 200. On error routes we send the status code\n   * as null, since we need to preserve the status code of the failed request unless it is provided.\n   * @param content The content to send to the browser\n   * @param statusCode The HTTP status code.\n   */\n  send = (content: string | (() => string), statusCode: HttpStatusCode | undefined) => {\n    if (typeof content === 'function') {\n      this.compute(async (req, res) => {\n        res.body = content()\n        res.statusCode = statusCode\n      })\n      return\n    }\n    this.setResponseBody(content, statusCode, true)\n  }\n\n  /**\n   * Removes a request header.\n   *\n   * **Example**\n   *\n   * ```\n   *  new Router()\n   *    .get('/some/path', async ({ removeRequestHeader, proxy }) => {\n   *      removeRequestHeader('some-header')\n   *      proxy('origin')\n   *    })\n   * ```\n   * @param name The case-insensitive name of the request header\n   */\n  removeRequestHeader = (name: string) => {\n    // create empty object when no object exists\n    this.features.headers = !this.features.headers ? {} : this.features.headers\n    this.features.headers.set_request_headers = !this.features.headers.set_request_headers\n      ? {}\n      : this.features.headers.set_request_headers\n\n    // Removing header by setting it to empty (empty headers are not added to result) because there's no\n    // remove_request_header option in schema?\n    const headers = <any>this.features.headers.set_request_headers\n    headers[name] = ''\n  }\n\n  /**\n   * Serves an HTML app shell from a static file with HTML content-type.\n   * This method can be used to serve the initial HTML for a single page app.\n   * @param indexHtmlPath The path to the app shell html file\n   *\n   * **Example**\n   *\n   * ```js\n   *  new Router()\n   *    .fallback(({ appShell }) => {\n   *      appShell('dist/index.html')\n   *    })\n   * ```\n   */\n  appShell = (indexHtmlPath: string) => {\n    this.setResponseHeader(HTTP_HEADERS.contentType, 'text/html')\n    this.serveStatic(indexHtmlPath)\n  }\n\n  /**\n   * Redirects the browser to a new location.\n   * Query params from the original request are added to the redirect URL.\n   * Complex redirects manipulating query string are computed using Edgio Cloud Functions.\n   *\n   *\n   * **Examples**\n   *\n   * ```\n   *  new Router()\n   *    .get('/p/:productId', ({ redirect }) => {\n   *      return redirect('/products/:productId', { statusCode: 301 })\n   *    })\n   *.\n   *  // The substitution group params can be used in the redirect location when path criteria is Regular Expression.\n   *  new Router()\n   *    .get(/\\/p\\/(.+)/, ({ redirect }) => {\n   *      return redirect('/products/$1', { statusCode: 301 })\n   *    })\n   *\n   *  // Extract id from route and apply as query string\n   *  new Router()\n   *    .get('/p/:productId', ({ redirect }) => {\n   *      return redirect('/product', { query: { id: ':productId' }})\n   *    })\n   *\n   *  new Router()\n   *  .get(/\\/p\\/(\\d+)\\/?/, ({ redirect }) => {\n   *      return redirect('/product', { query: { id: '$1' }})\n   *    })\n   *\n   *  // Extract id from query string and apply to route\n   *  new Router()\n   *    .get({ path: '/p', query: { id: ':id' } }, ({ redirect }) => {\n   *      return redirect('/product/:id')\n   *    })\n   * ```\n   *\n   * @param to The URL to which the browser will be redirected.\n   * @param options\n   * @param options.statusCode The HTTP status to return. Defaults to 302\n   * @param options.query Key-value object of query strings to be added to the redirect url\n   */\n  redirect = (to: string, options: RedirectOptions = {}) => {\n    // query object contains query extracted from toPath and additional queries provided in options\n    const { to: toPath, statusCode, query: query } = normalizeRedirectOptions(to, options)\n\n    // we can use simple rewrite if query is used for matching only\n    const isMatchOnlyQuery = () =>\n      !Object.values(this.routeCriteria.query ?? {}).find(\n        value => typeof value === 'string' && value.startsWith(':')\n      )\n\n    // Sailfish is matching url_redirect.source against the current request URL,\n    // and not incoming URL. If there's any rewrite rule together with redirect (such as the one in serveStatic method),\n    // the redirect is not matched. This is not how the old redirect method worked. The redirect(\"/dest/:path\") would not work.\n    // That's why we need to add this rewrite rule to the same URL.\n    this.rewritePath('/:path*', '/:path*')\n\n    // When there's no manipulation with request or response query,\n    // we can bind params via regex on the Edge.\n    // Otherwise, there's no way to backreference query matches during replace,\n    // as they can be in any order, and the replace follows match order.\n    if (isEmpty(query) && isMatchOnlyQuery()) {\n      this.features.url = this.features.url ?? {}\n      this.features.url.url_redirect = this.features.url.url_redirect ?? {}\n      this.features.url.url_redirect.code = statusCode\n\n      // When path is provided as Regex there are no params in path to be extracted.\n      // The user can use groups captured params in destination path.\n      if (this.routeCriteria?.path instanceof RegExp) {\n        this.features.url.url_redirect.source = toEdgeRegex(this.routeCriteria?.path)\n        this.features.url.url_redirect.destination = toPath\n        this.features.url.url_redirect.syntax = 'regexp'\n        return\n      }\n\n      this.features.url.url_redirect = {\n        ...this.features.url.url_redirect,\n        ...rewritePath(this.routeCriteria?.path?.toString(), toPath, {\n          skipQuery: true,\n        }),\n      }\n      return\n    }\n\n    // Complex redirects manipulating query string are delegated to compute and cached \"for ever\".\n    // Cache key includes query string by default so every path / query string\n    // combination is cached independently, which is what we want as redirects\n    // location header includes original request's query string.\n    this.sendToServerless(EDGIO_CLOUD_FUNCTIONS_HINTS.redirect, async (req, res) => {\n      let queryWithReplacedParams = {}\n\n      // Bind params to query key and values extracted from\n      // redirect path and options\n      for (const queryKey in query) {\n        queryWithReplacedParams = {\n          ...queryWithReplacedParams,\n          [bindParams(queryKey, req.params)]: bindParams(query[queryKey], req.params),\n        }\n      }\n\n      // Generate the final location by binding params to redirect path and\n      // concatenating the original request query together with extracted query from\n      // redirect path and options\n      res.setHeader(\n        HTTP_HEADERS.location,\n        `${bindParams(toPath, req.params)}${\n          Object.keys(queryWithReplacedParams).length > 0\n            ? '?' + qs.stringify(queryWithReplacedParams)\n            : ''\n        }`\n      )\n      res.statusCode = statusCode\n      res.body = ''\n    })\n\n    this.cache({\n      cacheableStatusCodes: [301, 302, 305, 307, 308],\n      edge: {\n        maxAgeSeconds: FAR_FUTURE_TTL,\n      },\n    })\n  }\n\n  /**\n   * Adds a `set-cookie` header to the response.\n   * This does not replace any cookies with the same name - for that you should use `updateResponseCookie`.\n   *\n   * **Example**\n   *\n   * ```\n   *  new Router()\n   *    .get('/some/path', ({ addResponseCookie, proxy }) => {\n   *      proxy('origin')\n   *      addResponseCookie('my-cookie', 'my-cookie-value', { domain: 'test.com' })\n   *    })\n   * ```\n   *\n   * @param name Name of the cookie to add.\n   * @param value Value to set\n   * @param options Optional options to add to cookie\n   */\n  addResponseCookie = (name: string, value: string, options?: CookieOptions) => {\n    this.addResponseHeader(HTTP_HEADERS.setCookie, serializeCookie(name, value, options))\n  }\n\n  /**\n   * Allows to change the origin that the request is proxied to.\n   * This is useful when you want to proxy to a different origin based on the matched rule.\n   * The origin set by the latest matched rule will be used.\n   *\n   * **Example**\n   *\n   * ```\n   *  new Router()\n   *    .get('/:path*', ({ setOrigin }) => {\n   *      setOrigin('fallback_origin')\n   *    })\n   *    .get('/products/1', ({ setOrigin }) => {\n   *      setOrigin('web_origin')\n   *    })\n   * ```\n   *\n   * @param name The origin name\n   */\n  setOrigin = (name: string) => {\n    if (!this.features.origin) this.features.origin = {}\n    this.features.origin.set_origin = name\n  }\n\n  /**\n   * Allows to set a comment feature on the rule, which will be displayed in the dashboard.\n   * The comment message supports markdown.\n   * @param message The comment message.\n   * @param append If true, the comment will be appended to the existing comment.\n   */\n  setComment = (message: string, append: boolean = false) => {\n    if (!append) this.features.comment = ''\n    this.features.comment += message\n  }\n\n  /**\n   * Allows to enable/disable the Edgio Image Optimizer\n   * for the matched path. The optimizer is disabled by default.\n   *\n   * The optimizer can be configured using query search params in request URL\n   * or request headers.\n   *\n   * See https://docs.edg.io/guides/v7/performance/image_optimization for more details.\n   *\n   * **Example**\n   *\n   * ```\n   *  new Router()\n   *    .get('/images/:path*', ({ optimizeImages }) => {\n   *      optimizeImages(true)\n   *    })\n   * ```\n   *\n   * @param value\n   */\n  optimizeImages = (value: boolean = true) => {\n    if (!this.features.response) this.features.response = {}\n    this.features.response.optimize_images = value\n  }\n\n  /**\n   * Allows to easily configure common security headers in single method call.\n   * For example: X-Frame-Options, X-XSS-Protection, X-Content-Type-Options.\n   * The security headers are pre-configured with default values\n   * that should suit most applications.\n   *\n   * By default, all security headers are added with default values,\n   * and you can disable single headers by setting their value to false\n   * or override the default value by setting the value to a string.\n   *\n   * HINT: If you wish to configure HSTS header, you can do so in `Router.forceHttps()` method.\n   *\n   * **Example**\n   *\n   * ```\n   *  new Router()\n   *    // Forces HTTPS for all paths and sets HSTS header\n   *    .forceHttps()\n   *    // Sets security headers with default values to all paths\n   *    .get('/:path*', ({ setSecurityHeaders }) => {\n   *      addSecurityHeaders()\n   *    })\n   *    // Customize security headers for specific paths\n   *    .get('/products/:path*', ({ setSecurityHeaders }) => {\n   *      addSecurityHeaders({\n   *        xFrameOptions: false,\n   *        referrerPolicy: 'no-referrer'\n   *      })\n   *    })\n   * ```\n   */\n  setSecurityHeaders = (options: SecurityHeadersOptions = {}) => {\n    options.xFrameOptions = options.xFrameOptions ?? 'SAMEORIGIN'\n    options.xXssProtection = options.xXssProtection ?? '1; mode=block'\n    options.xContentTypeOptions = options.xContentTypeOptions ?? 'nosniff'\n    options.referrerPolicy = options.referrerPolicy ?? 'same-origin'\n\n    Object.entries(options).forEach(([headerKey, value]) => {\n      const header = (HTTP_HEADERS as Record<string, string>)[headerKey]\n      // Do not set the header if the value is false\n      if (!value || !header) return\n      this.setResponseHeader(HTTP_HEADERS[headerKey as keyof typeof HTTP_HEADERS], value)\n    })\n  }\n}\n", "import { Features } from '../../types'\nimport RouteCriteria from '../RouteCriteria'\nimport RouteHelper from '../RouteHelper'\nimport Router, { FeaturesParam } from '../Router'\n\nexport const toFeature = (\n  criteria: RouteCriteria,\n  features: FeaturesParam,\n  router: Router\n): Features => {\n  if (typeof features === 'function') {\n    return new RouteHelper(criteria, router).evaluate(features)\n  } else {\n    return features\n  }\n}\n", "export default class Tasks {\n  private readonly _tasks: (Promise<any> | any)[] = []\n  private _resolveHandler: Function = Function.prototype\n  private _errorHandler: Function = (err: Error) => {\n    throw err\n  }\n\n  /**\n   * Adds a task to taks array that can be resolved with tasks.resolve()\n   *\n   * @param tasks List of tasks to finish\n   */\n  add(...tasks: (Promise<any> | any)[]): Tasks {\n    this._tasks.push(...tasks)\n\n    return this\n  }\n\n  /**\n   * Resolve Handler that will be called per each task with resolved value\n   *\n   * @param handler\n   */\n  onTaskDone(handler: Function) {\n    this._resolveHandler = handler\n\n    return this\n  }\n\n  /**\n   * Error Handler that will be called per each task and can be useful\n   * for ignoring the specific errors\n   *\n   * @param errorHandler\n   */\n  onTaskError(errorHandler: Function) {\n    this._errorHandler = errorHandler\n\n    return this\n  }\n\n  /**\n   * Finishes all tasks\n   */\n  resolve() {\n    const promises = this._convertTasksToPromises().map((task: Promise<any>, i: number) => {\n      return task\n        .then((res: any) => {\n          this._resolveHandler(res)\n          return res\n        })\n        .catch((err: Error) => {\n          return this._errorHandler(err)\n        })\n    })\n\n    return Promise.all(promises)\n  }\n\n  /**\n   * Returns list of tasks that are converted into promises | functions\n   */\n  private _convertTasksToPromises(): Promise<any>[] {\n    return this._tasks.map(task => {\n      if (typeof task !== 'function') {\n        return Promise.resolve(task)\n      }\n\n      // Run the task and check if it returns a promise\n      try {\n        const taskResult = task()\n        if (taskResult instanceof Promise) {\n          return taskResult\n        }\n\n        // sync function results\n        return Promise.resolve(taskResult)\n      } catch (e) {\n        // Return a error promise if sync task fails\n        // This allows to ignore some errors with error handler\n        return Promise.reject(e)\n      }\n    })\n  }\n}\n", "import Config from '../config'\nimport { PreloadRequest, PreloadOption } from './Preload'\nimport Tasks from '../utils/Tasks'\n\nexport default class PreloadRequests {\n  /**\n   * The list of preload config options which will be later resolved to PreloadRequests.\n   */\n  options: PreloadOption[] = []\n\n  /**\n   * Adds preload config options to the list\n   * @param preloadOptions\n   */\n  push(...options: PreloadOption[]) {\n    this.options.push(...options)\n  }\n\n  /**\n   * Returns object with preload config\n   * @private\n   */\n  async getPreloadConfig(config: Config): Promise<string> {\n    const requests: PreloadRequest[] = []\n\n    await new Tasks()\n      .add(...this.options)\n      .onTaskDone((result: PreloadRequest[]) => requests.push(...result))\n      .resolve()\n\n    return JSON.stringify({\n      requests,\n      concurrency: config?.prerenderConcurrency,\n    })\n  }\n}\n", "import { join } from 'path'\nimport { HTTPMethod, HTTP_METHODS, HTTP_HEADERS } from '../constants'\nimport { StaticOptions } from './StaticOptions'\nimport { getSourceDir } from '../source'\nimport { nonWebpackRequire } from '../utils'\nimport requireInternal from '../utils/requireInternal'\nimport { Features, Matches, Rules } from '../types'\nimport RouteCriteria, { ConditionCriteria, PathMatchValue } from './RouteCriteria'\nimport RouteHelper, { FeatureCreator } from './RouteHelper'\nimport Response from '../runtime/Response'\nimport Request from '../runtime/Request'\nimport { toRule, toThen } from './converters/toRule'\nimport { toFeature } from './converters/toFeature'\nimport PropertyContext from '../runtime/PropertyContext'\nimport { DirOptions } from './DirOptions'\nimport PreloadRequests from './PreloadRequests'\nimport { PreloadOption } from './Preload'\nimport { ExactPath } from './exact'\nimport { isCloud } from '../environment'\nimport slash from 'slash'\nimport { getStaticAssetManifestPath } from '../deploy/paths'\nimport ForceHttpsOptions from './ForceHttpsOptions'\nimport Config, { getConfig } from '../config'\n\nexport type FeaturesParam = FeatureCreator | Features\nexport type ConditionFeaturesParam = FeaturesParam | Router | Rules[]\n\n/**\n * Edgio Cloud Function that is executed in Edgio's serverless cloud\n * to compute the response for a request.\n */\nexport type ComputeFn = (\n  req: Request,\n  res: Response,\n  propertyContext: PropertyContext\n) => Promise<void> | void\n\n/**\n * Options for configuring the router.\n */\nexport interface RouterOptions {\n  /**\n   * If `true`, the router will not add the `x-robots-tag: noindex nofollow` header to\n   * requests for hosts matching Edgio's default URLs. e.g. my-site-default.layer0-limelight.link\n   * @default false\n   */\n  indexPermalink?: boolean\n\n  /**\n   * Set to `false` to disable default compression of static assets.\n   * @default true\n   */\n  compressStaticAssets?: boolean\n\n  /**\n   * The optional path to the edge functions init script singleton.\n   */\n  edge_function_init_script?: string\n}\n\n/**\n * Options for defining a route.\n */\nexport interface RouteOptions {\n  /**\n   * Adds the label for static routes\n   */\n  label?: string\n}\n\n/**\n * A plugin that can be registered with a router. This is used by Edgio as plugin mechanism to\n * implement custom connectors like `@edgio/next` and `@edgio/react`.\n */\nexport interface RouterPlugin {\n  onRegister: (router: Router) => void\n}\n\n/**\n * The router allows to define EdgeJS rules and their associated features\n * in convenient way as a chainable javascript code.\n * Please pay attention to the following notes when using Router to avoid unexpected behavior.\n *\n * **Router evaluation**\n *\n * The defined EdgeJS rules are transformed to equivalent EdgeControl rules for the Edge\n * only once during the build of Router when it's evaluated in Edgio's serverless cloud.\n * Therefore, any other runtime modifications of the Router are not supported even though they are valid javascript code.\n *\n * Example of incorrect usages:\n * ```js\n *  import { Router } = from '@edgio/core/router'\n *\n *  const router = new Router()\n *    // This will not work!\n *    // Router cannot be modified during runtime from the compute function.\n *    .get('/products/:category/:id', ({ compute }) => {\n *      compute(async (req, res) => {\n *        if(req.path.startsWith('/product/books')){\n *          router.static('products/books')\n *        }\n *      })\n *    })\n *    // This will not work as expected!\n *    // The following code will add two independent rules, one for '/products/:category/:id' and second for '/products/books/:id',\n *    // because the called get() methods don't know about nested structure. We strongly recommend to avoid this code pattern.\n *    .get('/products/:category/:id', ({}) => {\n *      router.get('/products/books/:id', {\n *        origin: {\n *          set_origin: \"api\"\n *        }\n *      })\n *    })\n *\n *  export default router\n * ```\n */\nexport default class Router {\n  rules: Rules[] = []\n  routerOptions: RouterOptions = {}\n\n  // We keep a static global function index in order to support nested routers.\n  static functionIndex = 0\n\n  // We need to keep functions in object, for cases where one would initialize a nested router BEFORE the main one.\n  // That would cause the indices to be invalid, and wrong functions to be invoked.\n  //\n  // In order to avoid confusion, and a lot of changes anywhere functions are exported (breaking to existing projects),\n  // the 'functions' property remains an instance variable / isnt static.\n  readonly functions: { [index: string]: ComputeFn } = {}\n\n  readonly preloadRequests = new PreloadRequests()\n\n  /**\n   * Variable that is true only if router is inside of 'if' statement.\n   *\n   * NOTE: we could allow user to 'else' and 'elseif' before previous 'if' calls,\n   * as in many cases, it would be valid - bool was added to avoid having to handle invalid cases.\n   *\n   * Invalid cases :\n   *   - previous conditional with already existing 'else'\n   *   - features-only rule, when createMatchers returns empty criteria\n   *\n   * Also, it just seems wrong to allow calling something like .get().elseif()\n   */\n  isIfActive = false\n\n  /**\n   * The contents to be written to static-asset-manifest.json, which is used to recreate\n   * the paths for router.static(dir) when generating the rules for EdgeControl.\n   * This is a static variable, so it can be shared across all instances of Router\n   * and works with nested rules too.\n   * @private\n   */\n  static _staticAssetManifest: { [key: string]: string[] } = {}\n\n  constructor(options: RouterOptions = {}) {\n    this.routerOptions = options\n  }\n\n  private configInternal: Config | undefined = undefined\n\n  get Config(): Config {\n    if (!this.configInternal) {\n      this.configInternal = getConfig(true)\n    }\n\n    return this.configInternal\n  }\n\n  private addStaticAssetManifestEntry(path: string, data: string[]) {\n    if (Router._staticAssetManifest[path] === undefined) {\n      Router._staticAssetManifest[path] = data\n    } else {\n      // We need to make sure that we don't have duplicates in the array.\n      Router._staticAssetManifest[path] = Array.from(\n        new Set([...Router._staticAssetManifest[path], ...data])\n      )\n    }\n  }\n\n  /**\n   * Returns the static asset manifest from this router file.\n   * NOTE: This method is needed because we're dynamically loading\n   * another Router class from a bundled routes.js file,\n   * which doesn't share a same class static variables.\n   */\n  getStaticAssetManifest() {\n    return Router._staticAssetManifest\n  }\n\n  /**\n   * Loads and returns a router from a file that exports it with `module.exports` or `export default`.\n   * @param routerPath A path to routes.js,\n   */\n  static load(routerPath: string): Router {\n    const routerModule = nonWebpackRequire(routerPath)\n    return <Router>(routerModule.default || routerModule)\n  }\n\n  /**\n   * Defines a route that matches all requests.\n   * @param features Features to apply on all requests.\n   * @returns A self reference, suitable for chaining\n   */\n  always(features: FeaturesParam, options?: RouteOptions) {\n    return this.matchInternal({}, features, options)\n  }\n\n  /**\n   * Defines a route that matches GET requests.\n   * @param criteria An express-style path expression, regular expression or advanced criteria object\n   * @param features Features to apply when a request matches the route.\n   * @returns A self reference, suitable for chaining\n   */\n  get(criteria: RouteCriteria | PathMatchValue, features: FeaturesParam, options?: RouteOptions) {\n    return this.matchMethod(HTTP_METHODS.get, criteria, features, options)\n  }\n\n  /**\n   * Defines a route that matches POST requests.\n   * @param criteria An express-style path expression, regular expression or advanced criteria object\n   * @param features Features to apply when a request matches the route\n   * @returns A self reference, suitable for chaining\n   */\n  put(criteria: RouteCriteria | PathMatchValue, features: FeaturesParam, options?: RouteOptions) {\n    return this.matchMethod(HTTP_METHODS.put, criteria, features, options)\n  }\n\n  /**\n   * Defines a route that matches PATCH requests.\n   * @param criteria An express-style path expression, regular expression or advanced criteria object\n   * @param features Features to apply when a request matches the route\n   * @returns A self reference, suitable for chaining\n   */\n  patch(criteria: RouteCriteria | PathMatchValue, features: FeaturesParam, options?: RouteOptions) {\n    return this.matchMethod(HTTP_METHODS.patch, criteria, features, options)\n  }\n\n  /**\n   * Defines a route that matches POST requests.\n   * @param criteria An express-style path expression, regular expression or advanced criteria object\n   * @param features Features to apply when a request matches the route\n   * @returns A self reference, suitable for chaining\n   */\n  post(criteria: RouteCriteria | PathMatchValue, features: FeaturesParam, options?: RouteOptions) {\n    return this.matchMethod(HTTP_METHODS.post, criteria, features, options)\n  }\n\n  /**\n   * Defines a route that matches HEAD requests.\n   * @param criteria An express-style path expression, regular expression or advanced criteria object\n   * @param features Features to apply when a request matches the route\n   * @returns A self reference, suitable for chaining\n   */\n  head(criteria: RouteCriteria | PathMatchValue, features: FeaturesParam, options?: RouteOptions) {\n    return this.matchMethod(HTTP_METHODS.head, criteria, features, options)\n  }\n\n  /**\n   * Defines a route that matches DELETE requests.\n   * @param criteria An express-style path expression, regular expression or advanced criteria object\n   * @param features Features to apply when a request matches the route\n   * @returns A self reference, suitable for chaining\n   */\n  delete(\n    criteria: RouteCriteria | PathMatchValue,\n    features: FeaturesParam,\n    options?: RouteOptions\n  ) {\n    return this.matchMethod(HTTP_METHODS.delete, criteria, features, options)\n  }\n\n  /**\n   * Defines a route that matches OPTIONS requests.\n   * @param criteria An express-style path expression, regular expression or advanced criteria object\n   * @param features Features to apply when a request matches the route\n   * @returns A self reference, suitable for chaining\n   */\n  options(\n    criteria: RouteCriteria | PathMatchValue,\n    features: FeaturesParam,\n    options?: RouteOptions\n  ) {\n    return this.matchMethod(HTTP_METHODS.options, criteria, features, options)\n  }\n\n  /**\n   * Defines a route.\n   * @param criteria An express-style path expression, regular expression or advanced criteria object\n   * @param features Features to apply when a request matches the route\n   * @returns A self reference, suitable for chaining\n   */\n  match(criteria: RouteCriteria | PathMatchValue, features: FeaturesParam, options?: RouteOptions) {\n    if (\n      typeof criteria === 'string' ||\n      criteria instanceof RegExp ||\n      criteria instanceof ExactPath\n    ) {\n      return this.matchInternal({ path: criteria }, features, options)\n    } else {\n      return this.matchInternal(criteria, features, options)\n    }\n  }\n\n  /**\n   * Registers a rule that supports advanced if/then/else logic.\n   * @param criteria\n   * @returns A self reference, suitable for chaining\n   */\n  conditional(criteria: Matches) {\n    this.rules.push(criteria)\n    return this\n  }\n\n  /**\n   * Adds an if condition\n   * @param criteria A criteria object, with ability to create advanced criteria through 'and' and 'or' methods.\n   * @param featuresOrRouter features to be applied, or router to be nested.\n   * @param featuresOrRouters additional features to be applied, or routers to be nested.\n   * @returns A self reference, suitable for chaining\n   */\n  if(\n    criteria: ConditionCriteria,\n    featureOrRouter: ConditionFeaturesParam,\n    ...featuresOrRouters: ConditionFeaturesParam[]\n  ) {\n    if (Object.keys(criteria).length === 0) {\n      throw new Error(\"If statement mustn't have empty criteria.\")\n    }\n    this.isIfActive = true\n\n    this.rules.push(\n      toRule(\n        criteria,\n        ...this.createConditionFeatures(criteria, featureOrRouter, featuresOrRouters)\n      )\n    )\n\n    this.addNestedFunctions(featureOrRouter, featuresOrRouters)\n    return this\n  }\n\n  /**\n   * Adds an elseif condition - requires either 'if' or 'elseif' functions to be called previously.\n   * @param criteria A criteria object, with ability to create advanced criteria through 'and' and 'or' methods.\n   * @param featuresOrRouter features to be applied, or router to be nested.\n   * @param featuresOrRouters additional features to be applied, or routers to be nested.\n   * @returns A self reference, suitable for chaining\n   */\n  elseif(\n    criteria: ConditionCriteria,\n    featureOrRouter: ConditionFeaturesParam,\n    ...featuresOrRouters: ConditionFeaturesParam[]\n  ) {\n    if (Object.keys(criteria).length === 0) {\n      throw new Error(\"Elseif statement mustn't have empty criteria.\")\n    }\n    if (!this.isIfActive) {\n      throw new Error(\n        \"Call of 'elseif' must follow either 'if', or 'elseif' calls. If you are re-using the parent router, please create a new instance.\"\n      )\n    }\n    const lastRule = this.rules[this.rules.length - 1] as Matches\n    const rule = toRule(\n      criteria,\n      ...this.createConditionFeatures(criteria, featureOrRouter, featuresOrRouters)\n    ) as any\n    lastRule.if!.push(...(rule.if ? rule.if : [rule]))\n\n    this.addNestedFunctions(featureOrRouter, featuresOrRouters)\n    return this\n  }\n\n  /**\n   * Adds an else condition - requires either 'if' or 'elseif' functions to be called previously.\n   * @param featuresOrRouter features to be applied, or router to be nested.\n   * @param featuresOrRouters additional features to be applied, or routers to be nested.\n   * @returns A self reference, suitable for chaining\n   */\n  else(featureOrRouter: ConditionFeaturesParam, ...featuresOrRouters: ConditionFeaturesParam[]) {\n    if (!this.isIfActive) {\n      throw new Error(\n        \"Call of 'else' must follow either 'if', or 'elseif' calls. If you are re-using the parent router, please create a new instance.\"\n      )\n    }\n    const lastRule = this.rules[this.rules.length - 1] as Matches\n    lastRule.if!.push(\n      toThen(this.createConditionFeatures({}, featureOrRouter, featuresOrRouters)) as any\n    )\n    this.addNestedFunctions(featureOrRouter, featuresOrRouters)\n    this.isIfActive = false\n\n    return this\n  }\n\n  /**\n   * Searches through features for possible routers, adds all of their nested functions into this router.\n   * @private\n   */\n  addNestedFunctions(\n    featureOrRouter: ConditionFeaturesParam,\n    featuresOrRouters: ConditionFeaturesParam[] = []\n  ) {\n    ;([featureOrRouter, ...featuresOrRouters] as Router[]).forEach((featureOrRouter: Router) => {\n      // We know its a router if it has functions.\n      if (featureOrRouter?.functions) {\n        // We merge the functions - as the index is global, none of them will overlap.\n        // We dont create a new object, to keep the original reference.\n        Object.entries(featureOrRouter.functions).forEach(\n          ([key, value]) => (this.functions[key] = value)\n        )\n      }\n    })\n  }\n\n  /**\n   * Registers a plugin that adds group of rules into the router.\n   * This method should be always called before any other methods that add rules.\n   * **Example**\n   *\n   * ```js\n   *  import { Router } = from '@edgio/core/router'\n   *  import { nextRoutes } from '@edgio/next'\n   *\n   * export default new Router()\n   *   // NextRoutes automatically adds rules for all Next.js pages and their assets.\n   *   // This should be called before any custom rules are added.\n   *   .use(nextRoutes)\n   *   .get('/custom-rule', {\n   *      origin: {\n   *        set_origin: \"api\"\n   *      }\n   *   })\n   * ```\n   * @param plugin\n   */\n  use(plugin: RouterPlugin) {\n    plugin.onRegister(this)\n    return this\n  }\n\n  // We normalize all feature creators into features\n  private createConditionFeatures(\n    criteria: ConditionCriteria,\n    featureOrRouter: ConditionFeaturesParam,\n    featuresOrRouters: ConditionFeaturesParam[] = []\n  ): any {\n    return [featureOrRouter, ...featuresOrRouters].map(featureOrRouter =>\n      typeof featureOrRouter === 'function'\n        ? toFeature(criteria as RouteCriteria, featureOrRouter, this)\n        : featureOrRouter\n    )\n  }\n\n  /**\n   * Internal normalized method for adding a route.\n   * @param criteria\n   * @param features Features to apply when a request matches the route\n   * @returns A self reference, suitable for chaining\n   */\n  private matchInternal(\n    criteria: RouteCriteria,\n    featuresParam: FeaturesParam,\n    options?: RouteOptions\n  ) {\n    // convert to rule and add it internally\n    const features = toFeature(criteria, featuresParam, this)\n    const rule = toRule(criteria, features)\n\n    this.rules.push(rule)\n\n    // We must deactivate conditions for cases where they wouldnt be closed with 'else'.\n    // All other places either call matchInternal, or all irrelevant, as they dont create any rules.\n    this.isIfActive = false\n\n    return this\n  }\n\n  /**\n   * Adds a route that matches the specific HTTP method and additional criteria.\n   * @param method An HTTP method\n   * @param criteria An express-style path expression, regular expression or advanced criteria object\n   * @param features Features to apply when a request matches the route\n   * @returns A self reference, suitable for chaining\n   */\n  private matchMethod(\n    method: HTTPMethod,\n    criteria: RouteCriteria | PathMatchValue,\n    features: FeaturesParam,\n    options?: RouteOptions\n  ) {\n    if (\n      typeof criteria === 'string' ||\n      criteria instanceof RegExp ||\n      criteria instanceof ExactPath\n    ) {\n      return this.match(\n        {\n          method,\n          path: criteria,\n        },\n        features\n      )\n    }\n\n    if (criteria?.method) {\n      throw new Error(\n        `Invalid criteria property method passed to call to Router#${method}. Specifying a method in the criteria is redundant.`\n      )\n    }\n\n    return this.match({ ...criteria, method }, features, options)\n  }\n\n  /**\n   * Adds routes for all files in a directory tree.\n   * @private\n   * @param sourcePath The path to a directory containing static assets relative to the root of your project.\n   * @param features A features that will be used to handle the matched files.\n   * @param options\n   * @returns A self-reference, suitable for chaining.\n   */\n  dir(sourcePath: string, features: FeaturesParam, options: DirOptions = {}) {\n    const createInMatcher = (files: string[]) => {\n      // Don't create any rule if there are no files\n      if (!files || files.length === 0) return\n\n      const paths = files\n        .flatMap(file => options?.paths?.(file) || [`/${file}`])\n        // Normalize paths to use backslashes on Windows systems\n        .map(path => path.replace(/\\\\+/g, '/'))\n        .flatMap(path => {\n          if (!path.endsWith('/index.html')) return [path]\n          // Add additional paths for index.html files\n          return Array.from(\n            new Set([\n              // Add path with trailing slash\n              // Example: /folder/ for /folder/index.html\n              path.toString().replace(/\\/index.html$/, '/'),\n              // Add path without trailing slash\n              // Example: /folder for /folder/index.html\n              path.toString().replace(/\\/index.html$/, ''),\n            ])\n          ).filter(path => path.length > 0)\n        })\n\n      this.match({ path: paths }, features)\n    }\n\n    if (isCloud()) {\n      const files = this.staticAssetsForPath(sourcePath)\n      createInMatcher(files)\n    } else {\n      const files = Router.collectFiles(sourcePath, options)\n      this.addStaticAssetManifestEntry(slash(sourcePath), files)\n      createInMatcher(files)\n    }\n\n    return this\n  }\n\n  /**\n   * Adds routes for all static assets in a directory tree.\n   * @param sourcePath The path to a directory containing static assets relative to the root of your project.\n   * @param options\n   * @returns A self-reference, suitable for chaining.\n   */\n  static(sourcePath: string, options: StaticOptions = {}) {\n    const features: FeaturesParam = (helper: RouteHelper) => {\n      helper.serveStatic(`${sourcePath}/:path*`, {\n        rewritePathSource: options?.rewritePathSource,\n      })\n\n      if (options?.handler) options.handler(helper)\n    }\n\n    return this.dir(sourcePath, features, options)\n  }\n\n  /**\n   * Since the files are now on S3, we can no longer crawl the file system to\n   * determine the routes, so we use the manifest file.\n   * We also prevent webpack from trying to bundle the manifest, which will fail.\n   */\n  private staticAssetsForPath(path: string): string[] {\n    return nonWebpackRequire(getStaticAssetManifestPath())[path]\n  }\n\n  /**\n   * Registers Edgio Cloud Function. Returns the index of the function being registered so that it can be called\n   * at runtime based on the `x-edg-fn` request header.\n   * @private\n   * @param fn The Edgio Cloud Function to store\n   * @returns the index of the function being registered\n   */\n  addFunction(fn: ComputeFn) {\n    // We use the global index in order to make sure we link function in the nested routers properly.\n    // Alternativelly, we could either create a hash of the function, or use UUID - both of those would look bad in the UI.\n    // We dont expect the global state to be an issue apart from potential unit test confusion.\n    // But even for unit tests, its only an issue if testing against exact indices, the execution should be ok no matter what.\n    this.functions[Router.functionIndex] = fn\n\n    return Router.functionIndex++\n  }\n\n  /**\n   * Adds preload config for router\n   *\n   * ```js\n   *  new Router().prerender(\n   *    async () => [{ path: '/foo', headers: { foo: 'bar' } }],\n   *    [{ path: '/bar' }]\n   *  )\n   * ```\n   *\n   * @param preloadOptions\n   * @private\n   */\n  prerender(...preloadOptions: PreloadOption[]) {\n    this.preloadRequests.push(...preloadOptions)\n    return this\n  }\n\n  /**\n   * Disables crawling of permalinks by setting the `x-robots-tag: noindex` response header\n   * for hosts matching edgio.link or edgio-perma.link.\n   *\n   * ```js\n   *  new Router().noIndexPermalink()\n   * ```\n   *   @deprecated Deprecated. Indexing permalinks is automatically disabled. Use `indexPermalink?: boolean` on Router Options to enable them.\n   * * @returns {Router} A self-reference, suitable for chaining.\n   */\n  noIndexPermalink() {\n    // The functionality of this function is automatically taken over\n    // packages/core/src/router/addBuildInRoutes.ts\n    return this\n  }\n\n  static collectFiles(sourcePath: string, options: DirOptions) {\n    const directory = join(getSourceDir(), sourcePath)\n    const ignore = typeof options.ignore === 'string' ? [options.ignore] : options.ignore ?? []\n\n    // glob is large and we don't need it in production so we use nonWebpackRequire\n    let files: string[] = requireInternal('globby').sync(options.glob || '**/*', {\n      cwd: directory,\n      onlyFiles: true,\n      ignore,\n    })\n\n    if (options.sort) {\n      files = options.sort(files)\n    }\n\n    return files\n  }\n\n  /**\n   * Adds a route that matches all requests that result in an error.\n   *\n   * Example:\n   *\n   * ```js\n   *  new Router()\n   *    .catch(/^(4|5)\\d{2}$/, {\n   *      // retry all 4xx and 5xx errors using the legacy origin\n   *      retry: {\n   *        origin: \"legacy\",\n   *      },\n   *    });\n   * ```\n   *\n   * @param error A regular expression, string or number that matches the status code returned by the origin\n   * @param features Features to apply when a request matches the route\n   * @returns A self-reference, suitable for chaining.\n   */\n  catch(error: RegExp | string | number, features: FeaturesParam) {\n    let errorRegex: RegExp\n\n    if (error instanceof RegExp) {\n      errorRegex = error\n    } else {\n      errorRegex = new RegExp(`^${error.toString()}$`)\n    }\n\n    return this.matchInternal({ response: { status_code: errorRegex } }, features)\n  }\n\n  /**\n   * Forces the HTTPS protocol for all requests by redirecting HTTP requests to HTTPS\n   * and sets the `Strict-Transport-Security` header with the specified options\n   * to tell the browser to remember that this site is only to be accessed using HTTPS.\n   *\n   * Example:\n   *\n   * ```js\n   *  new Router()\n   *    .forceHttps({\n   *      redirectCode: 302,\n   *      hsts: true,\n   *      hstsMaxAge: 31536000,\n   *    })\n   *    .get('/api/products/:category/:id', ({ setOrigin }) => {\n   *      setOrigin('api');\n   *    })\n   * ```\n   *\n   * @param options\n   * @returns A self-reference, suitable for chaining.\n   */\n  forceHttps = ({\n    redirectCode = 301,\n    hsts = true,\n    hstsMaxAge = 15768000, // 6 months in seconds\n    hstsIncludeSubDomains = false,\n    hstsPreload = false,\n  }: ForceHttpsOptions = {}) => {\n    this.match({ scheme: 'HTTP' }, ({ setResponseHeader, setResponseCode, setComment }) => {\n      setComment(`Redirect to HTTPS`)\n      // This approach works correctly even with rewrites, as it uses the original request path.\n      setResponseHeader(HTTP_HEADERS.location, `https://%{host}%{normalized_uri}`)\n      setResponseCode(redirectCode)\n    })\n    // Always add HSTS header with the specified options\n    if (hsts) {\n      this.always(({ setComment, setResponseHeader }) => {\n        setComment(`Set HSTS header`)\n        setResponseHeader(\n          HTTP_HEADERS.strictTransportSecurity,\n          `max-age=${hstsMaxAge}${hstsIncludeSubDomains ? '; includeSubDomains' : ''}${\n            hstsPreload ? '; preload' : ''\n          }`\n        )\n      })\n    }\n    return this\n  }\n}\n", "import { AbsoluteFolderName } from 'ts-fs-utils'\nimport Config, { getConfigFromFile } from './config'\nimport Router from './router/Router'\nimport { Serializer } from 'ts-fs-utils/serializer/Serializer'\n\n// Define how to serialize/deserialize Router from the file system\n// so we can easily load it from the ts-fs-utils\nconst routerSerializer: Serializer<Router> = {\n  deserialize: fullPath => {\n    // Delete cache, as we don't want to keep old routes in memory,\n    // we need to do this as Router.load is using node's require function\n    // to resolve the module, and node caches the result of require\n    delete require.cache[fullPath]\n\n    return Router.load(fullPath)\n  },\n  serialize: (fullPath, router) => {\n    throw new Error('Not implemented')\n  },\n}\n\n// Define how to serialize/deserialize Config from the file system\n// so we can easily load it from the ts-fs-utils\nconst configSerializer: Serializer<Config> = {\n  deserialize: fullPath => getConfigFromFile(fullPath),\n  serialize: (fullPath, config) => {\n    throw new Error('Not implemented')\n  },\n}\n\n/**\n * Creates EdgioFS object that contains all the paths to the files and folders\n * @param appDir Base directory of the app, from this directory we will\n * create all the paths to the files and folders in the app.\n * @returns\n */\nexport const createEdgioFS = (appDir: string, buildFolder = '.edgio') =>\n  new AbsoluteFolderName(appDir).with(app => ({\n    srcEdgioConfig: app.file('edgio.config.js', configSerializer),\n    srcEdgioConfigCjs: app.file('edgio.config.cjs', configSerializer),\n    srcRoutes: app.file('routes.js'),\n    srcRoutesTs: app.file('routes.ts'),\n    edgio: app.folder(buildFolder).with(edgio => ({\n      temp: app.folder('tmp'),\n      source: edgio.folder('src'),\n      s3: edgio.folder('s3'),\n      s3Permanent: edgio.folder('s3-permanent'),\n      staticAssetsExpiration: edgio.file('static-assets-expiration.json'),\n      lambda: createLambdaFs(edgio.value),\n    })),\n  }))\n\nexport type EdgioFS = ReturnType<typeof createEdgioFS>\n\nexport const createLambdaFs = (appDir: string, lambdaFolderName = 'lambda') =>\n  new AbsoluteFolderName(appDir).folder(lambdaFolderName).with(lambda => ({\n    app: lambda.folder('app'),\n    internal: lambda.folder('internal').with(internal => ({\n      backend: internal.folder('__backends__').with(backend => ({\n        handler: backend.file('__js__.cjs'),\n      })),\n      config: internal.file('edgio.config.cjs', configSerializer),\n      routes: internal.file('routes.cjs', routerSerializer),\n      staticAssetManifest: internal.file('static-asset-manifest.json'),\n    })),\n  }))\n", "import Config from '../config'\nimport Cache from '../runtime/Cache'\nimport watch from '../utils/watch'\nimport { getEdgeFunctionBytecode } from '../deploy/edge-functions'\nimport { RuntimeObjects } from './RuntimeObjects'\nimport { RuntimeOptions } from './RuntimeOptions'\nimport { EdgioRuntimeGlobal } from './global.helpers'\nimport { dirname } from 'path'\nimport { getEdgeFunctionFiles } from '../utils/edgeFunctionUtils'\nimport EdgeFunctionsNodeBuilder from '../deploy/edge-functions/EdgeFunctionsNodeBuilder'\nimport { Rules } from '../types'\nimport { jsPort } from '../utils/ports'\nimport { createEdgioFS, createLambdaFs, EdgioFS } from '../edgio.fs'\nimport { getEdgioOrigins } from '../origins'\nimport { getEntryPoint } from '../deploy/paths'\nimport { AbsoluteFileName, AbsoluteFolderName } from 'ts-fs-utils'\nimport { metrics } from './serverMetrics'\nimport zlib from 'zlib'\n\n/**\n * RuntimeContext is initialized only once, as we cannot change the\n * runtime context once the app is started (for instance, we cannot\n * execute in the same process a dev server and a production server, or aws)\n */\nlet runtime: RuntimeContext | undefined = undefined\n\nexport const getRuntime = () => {\n  const isProductionMode = process.env.NODE_ENV === 'production'\n\n  // If the runtime is already initialized, we return it.\n  // This is important as we cannot change the runtime context once the app is started.\n  runtime =\n    runtime ??\n    new RuntimeContext(isProductionMode ? getProdRuntimeOptions() : getDevRuntimeOptions())\n  return runtime\n}\n\n/**\n * A runtime class that is responsible for loading and reloading all the external resources\n * and creating runtime objects (config, router, propertyContext, cache) from them. It also ensures\n * that all the external resources are available only after the app is started and all the resources\n * are loaded.\n */\nexport class RuntimeContext {\n  constructor(public runtimeOptions: RuntimeOptions) {}\n\n  private appStartedPromise: Promise<void> | undefined\n  private reloadPromise: Promise<RuntimeObjects> | undefined\n  private watchers: any[] = []\n\n  public get isDevMode() {\n    return this.runtimeOptions.devMode\n  }\n\n  /**\n   * Waits for the runtime to be ready and returns RuntimeObjects. The runtime is collection of external resources,\n   * like file system (routes.js, edgio.config.js) and node server (dev.js, prod.js).\n   * This method waits for all these resources to be ready, and then returns them.\n   *\n   * @returns runtime objects (config, router, propertyContext, cache),\n   * that are constructed from files in the file system\n   */\n  async waitForRuntime(): Promise<RuntimeObjects> {\n    // must be in this order, as appStartedPromise must be awaited first,\n    // so it will execute all needed preparation before the reloadPromise\n    // (for instance, in dev mode we execute dev.js, which has dev server\n    // that will build and bundle edgio.config.js and routes.js)\n    if (this.appStartedPromise === undefined) this.appStartedPromise = this.startApp(jsPort)\n    await this.appStartedPromise\n\n    if (this.reloadPromise == undefined) this.reloadPromise = this.reload()\n    return this.reloadPromise\n  }\n\n  private async reload() {\n    const internal = this.runtimeOptions.fs.edgio.lambda.internal\n\n    // Force reload on files that we are watching\n    // as we are using utility provided by ts-fs-utils,\n    // we need to explicitly call reload on the files\n    // as they are cached\n    internal.routes.contentReload()\n    internal.config.contentReload()\n\n    const router = internal.routes.content\n    const cache = this.runtimeOptions.isCacheEnabled ? new Cache() : undefined\n\n    // Rebuild edge functions only in dev mode.\n    // In prod mode, the edge functions are already built,\n    // and we'll use the base64 encoded bytecode from the edge_control config.\n    if (this.runtimeOptions.devMode) {\n      await new EdgeFunctionsNodeBuilder(\n        router,\n        dirname(this.runtimeOptions.fs.srcRoutesTs.value)\n      ).build()\n    }\n\n    const config = RuntimeContext.withOrigins(internal.config.content, this.runtimeOptions.origins)\n    const configForEdge = RuntimeContext.withOrigins(\n      internal.config.content,\n      this.runtimeOptions.originsForEdgeControl\n    )\n\n    return {\n      config: RuntimeContext.withEdgeFunctions(config, router.rules),\n      configForEdge: RuntimeContext.withEdgeFunctions(configForEdge, router.rules),\n      router,\n      cache,\n    }\n  }\n\n  // Helper function to inject the origins, as they are not part of the config file\n  // they are either loaded from env variables or from hardcoded values in the core\n  static withOrigins(config: Config, origins: any[]) {\n    return {\n      ...config,\n      origins: [...(config.origins ?? []), ...origins],\n    } as Config\n  }\n\n  // Loads Edge Functions bytecode as a base64 string\n  // and injects it into the config\n  static withEdgeFunctions(config: Config, rules: Rules[]) {\n    const bytecodeBuffer = getEdgeFunctionBytecode(rules)\n    let bytecode\n    // If the bytecode is gzip compressed, we need to decode it first.\n    if (bytecodeBuffer?.slice(0, 4).equals(Buffer.from('gzip'))) {\n      bytecode = zlib.unzipSync(bytecodeBuffer.slice(4))?.toString('base64')\n    } else {\n      bytecode = bytecodeBuffer?.toString('base64')\n    }\n\n    return {\n      ...config,\n      edge_functions: {\n        quickjs_bytecode_base64: bytecode,\n      },\n    } as Config\n  }\n\n  private setWatchers() {\n    const router = this.runtimeOptions.fs.edgio.lambda.internal.routes.content\n\n    const edgeFunctionFiles = getEdgeFunctionFiles(router.rules)\n    const appFiles = EdgioRuntimeGlobal.devOptions?.reloadOnChangeOf ?? []\n    const internalFiles = [\n      this.runtimeOptions.fs.edgio.lambda.internal.routes.value,\n      this.runtimeOptions.fs.edgio.lambda.internal.config.value,\n    ]\n\n    const setWatcher = (fileOrFolder: string, resetOnChange = false) => {\n      const watcher = watch(fileOrFolder, { ignoreInitial: true })\n      // we don't call directly reload, as it would execute async code in sync context,\n      // and we want to avoid that, so we just set the promise and await it in waitForRuntime\n      // so caller can await waitForRuntime and be sure that all the resources are loaded\n      watcher.on('all', async () => {\n        // When routes or config change,\n        // we need to reset the watchers as well\n        if (resetOnChange) this.resetWatchers()\n        return (this.reloadPromise = this.reload())\n      })\n      this.watchers.push(watcher)\n    }\n\n    internalFiles.forEach(file => setWatcher(file, true))\n    appFiles.forEach(file => setWatcher(file))\n    edgeFunctionFiles.forEach(file => setWatcher(file))\n  }\n\n  private clearWatchers() {\n    this.watchers.forEach(watcher => watcher.close())\n    this.watchers = []\n  }\n\n  private resetWatchers() {\n    this.clearWatchers()\n    this.setWatchers()\n  }\n\n  private async startApp(jsPort: number) {\n    EdgioRuntimeGlobal.runtimeOptions = this.runtimeOptions\n    const { isProductionBuild } = this.runtimeOptions\n    const workingPath = isProductionBuild\n      ? this.runtimeOptions.fs.edgio.lambda.app.value\n      : process.cwd()\n\n    // When we're in dev mode, the working path is the root of the project.\n    // When we're in prod mode, we need to change the working path to the .edgio/lambda/app folder\n    // from initial .edgio/lambda because user's apps assume\n    // that the working path is where the project's files are located,\n    // and they use process.cwd() to resolve paths instead of __dirname.\n    // For many frameworks such as Angular, Astro or apps using nodejs-connector\n    // is no way for us to specify the working path for the app's server\n    // like we can do for Next.js server.\n    process.chdir(workingPath)\n\n    metrics.appStartedAt = Date.now()\n    let entry = await import(`file://${this.runtimeOptions.entryFile.value}`)\n\n    // find the default export\n    entry = entry?.default?.default || entry?.default || entry\n\n    // load the entry point from the framework integration package\n    await entry(jsPort)\n    metrics.appReadyAt = Date.now()\n\n    // set again the cwd as customers can change working path in their custom entry file\n    process.chdir(workingPath)\n\n    if (this.runtimeOptions.devMode) {\n      // TODO: consider moving this logic to the entry file itself, and read the result of the call\n      // as it is more obvious what is happening, than implicitly reading the result from global envirovment\n      this.setWatchers()\n    }\n  }\n}\n\n/**\n * Returns the runtime options\n * for the production mode\n * @returns\n */\nexport const getProdRuntimeOptions = (): RuntimeOptions => {\n  const baseFolder = new AbsoluteFolderName(process.cwd())\n  const fs = createEdgioFS(process.cwd())\n\n  // As AWS doesn't have the same folder structure as CLI, we need to\n  // create the lambda folder manually by faking root folder and only\n  // set lambda folder as that's what only we care, but we can see that\n  // this is dangerous as we are faking the folder structure and if someone\n  // will use other locations (other than lambda folder), it will fail\n  fs.edgio.lambda = createLambdaFs(baseFolder.parent!.value, baseFolder.name.value)\n\n  return {\n    devMode: false,\n    isProductionBuild: true,\n    isCacheEnabled: EdgioRuntimeGlobal.isCacheEnabled,\n    originsForEdgeControl: getEdgioOrigins(true),\n    origins: getEdgioOrigins(),\n    entryFile: getEntryFile(fs),\n    // The DRI logging is enabled only in production mode and\n    // when EDGIO_HTTP_REQUEST_LOGGING env variable is set to 1\n    // by the Console API\n    driLogging: process.env.EDGIO_HTTP_REQUEST_LOGGING === '1',\n    fs,\n  }\n}\n\n/**\n * Returns the runtime options\n * for the development mode\n * @returns\n */\nexport const getDevRuntimeOptions = (): RuntimeOptions => {\n  // Dev mode is executed by CLI, so we are in the root folder of the project\n  // which should be the current working directory, from there we resolve all\n  // other paths\n  const baseDir = process.cwd()\n  const fs = createEdgioFS(baseDir)\n\n  const targetConfig = fs.srcEdgioConfig.exists() ? fs.srcEdgioConfig : fs.srcEdgioConfigCjs\n  const entryFile =\n    getEntryPoint('dev', fs.value, targetConfig.content.connector) ??\n    getEntryPoint('dev', fs.value)!\n\n  return {\n    devMode: true,\n    isProductionBuild: false,\n    isCacheEnabled: EdgioRuntimeGlobal.isCacheEnabled,\n    originsForEdgeControl: getEdgioOrigins(true),\n    origins: getEdgioOrigins(),\n    entryFile: new AbsoluteFileName(entryFile),\n    driLogging: false,\n    fs,\n  }\n}\n\n/**\n * Returns the entry file.\n * This can be either prod or dev entry file\n * from the connector or the default one from @edgio/core\n * @param fs The file system instance\n */\nconst getEntryFile = (fs: EdgioFS) => {\n  // Mostly, we should have backend handler, but in some cases\n  // when only edgio/core is used (no other connectors), we don't\n  // have backend handler, so we need to use default one, from\n  // edgio/core itself, which is just a dummy handler that does\n  // nothing, but it allows us to start the server\n  if (fs.edgio.lambda.internal.backend.handler.exists()) {\n    return fs.edgio.lambda.internal.backend.handler\n  }\n\n  throw new Error('No backend handler found. Build is corrupted, entry file is required.')\n}\n", "import { EdgioError } from './EdgioError'\nimport { jsPerformanceProfilingLink, serverLogsLink } from './edgioErrorLinks'\nimport { EDGIO_MAX_NESTED_REQUESTS } from '../constants'\n\nexport class EdgioProjectRequestLoopError extends EdgioError {\n  constructor(details?: string) {\n    super({\n      statusCode: 538,\n      title: 'Edgio Project Request Loop',\n      message: `The Edgio Project exceeded the maximum level (${EDGIO_MAX_NESTED_REQUESTS}) of nested requests. \u201CNested\u201D means an Edgio site is the upstream of itself or of another Edgio site. If you are the website administrator, please use ${serverLogsLink} and ${jsPerformanceProfilingLink} to debug.`,\n      level: 2,\n      details,\n    })\n  }\n}\n", "import './global.helpers'\nimport LambdaRequest from '../runtime/LambdaRequest'\nimport LambdaResponse from '../runtime/LambdaResponse'\nimport RequestHandler from '../runtime/RequestHandler'\nimport { RuntimeObjects } from './RuntimeObjects'\nimport PropertyContext from '../runtime/PropertyContext'\nimport {\n  EDGIO_MAX_NESTED_REQUESTS,\n  EDGIO_VIA_HEADER_VALUE,\n  HTTP_HEADERS,\n  INVOKE_ACTIONS,\n  INVOKE_SOURCES,\n} from '../constants'\nimport { EdgioProjectError, isEdgioError } from '../errors'\nimport { IncomingMessage, ServerResponse } from 'http'\nimport logger from '../log'\nimport stdStreamsWrapper, { deepRequestInspectionLogger } from './injection/stdStreamsWrapper'\nimport getBodyLoggingData from './injection/getBodyLoggingData'\nimport { getRuntime, RuntimeContext } from './RuntimeContext'\nimport { isLocal } from '../environment'\nimport { metrics } from './serverMetrics'\nimport { EdgioProjectRequestLoopError } from '../errors/EdgioProjectRequestLoopError'\n\nexport const dispatch = async (nodeReq: IncomingMessage, nodeRes: ServerResponse) => {\n  const req = await LambdaRequest.fromNodeRequest(nodeReq)\n  const res = LambdaResponse.fromNodeResponse(nodeRes)\n\n  let runtime: RuntimeContext | undefined\n  let objects: RuntimeObjects | undefined\n\n  try {\n    // Get/initialize the runtime context and wait for it to be ready before we can process the request.\n    // At this place where first request comes in, the runtime should be already initialized,\n    // as server initializes the runtime right after it starts listening.\n    runtime = getRuntime()\n    objects = await runtime.waitForRuntime()\n\n    // Start Deep Request Inspection logging if enabled\n    if (runtime.runtimeOptions?.driLogging) {\n      startLogging(req)\n    }\n\n    // Detect and throw an error if there's a loop in the request path.\n    // For example when site is fetching itself multiple times in compute using fetch function.\n    detectUpstreamRequestLoop(req)\n\n    await dispatchRequest(req, res, objects)\n  } catch (e: any) {\n    metrics.serverErrorCount++\n\n    // Here we catch all project-level errors (Error Level: 2)\n    // and render nice looking error page with error details.\n    // ERROR LEVELS overview:\n    // Error Level 0 is handled by the Edge and means that both lambdas failed or are not available.\n    // Error Level 1 is handled by the Lambda itself and is for fatal server errors, like timeouts, out of memory etc...\n    // Error Level 2 is handled by the Lambda itself and is for project errors, like uncaught user-errors in compute, malformed responses, etc...\n\n    // Wrap all errors into EdgioError instance\n    const error = isEdgioError(e) ? e : new EdgioProjectError(e.message, e.stack)\n\n    // We need to clear any current chunks.\n    // They could be there if error happens during proxy, computes, and other stuff that doesn't stream.\n    res.clear()\n    res.clearHeaders()\n    res.setIsStreamable(false)\n\n    const type = req.getHeader(HTTP_HEADERS.accept)?.toString().includes('html') ? 'html' : 'json'\n    const requestId = req.getHeader(HTTP_HEADERS.xEcUUID)?.toString()\n    const requestSource = req.invokeSource\n\n    // Log the error for debugging\n    logger.error(`[Edgio Error][Level 2]: ${req.method} ${req.url} - ${e.stack}`)\n\n    // Render the EdgioError to HTML or JSON response\n    res.statusCode = error.statusCode\n    res.statusMessage = error.statusMessage\n    res.setHeader(HTTP_HEADERS.contentType, type === 'html' ? 'text/html' : 'application/json')\n    res.setHeader(HTTP_HEADERS.xEdgErrorMessage, encodeURI(error.message))\n    res.setHeader(HTTP_HEADERS.xEdgErrorLevel, error.level.toString())\n    res.setHeader(HTTP_HEADERS.xEdgErrorDetails, encodeURI(error.details || ''))\n    res.body = error.render({\n      type,\n      requestId,\n      includeStack: isLocal() || requestSource === INVOKE_SOURCES.console,\n    })\n  } finally {\n    // Stop Deep Request Inspection logging if enabled\n    if (runtime?.runtimeOptions?.driLogging) {\n      stopLogging(res)\n    }\n\n    // If catch top-level error,\n    // we still need to end the response and stream it\n    await res.end()\n    res.stream()\n    await res.waitForFlush()\n  }\n}\n\nconst dispatchRequest = async (\n  req: LambdaRequest,\n  res: LambdaResponse,\n  objects: RuntimeObjects\n) => {\n  // THIS IS IMPORTANT!\n  // The invokeAction for the edge_control config is accepted only from the console-api.\n  // Otherwise, any could request the edge_control config through the Function URL\n  // and this would be a security issue.\n  if (req.invokeSource === INVOKE_SOURCES.console) {\n    if (req.invokeAction === INVOKE_ACTIONS.getEdgeConfig) {\n      return new PropertyContext(objects.configForEdge)\n        .createEdgeConfig(objects.router)\n        .writeToStream(res)\n    }\n\n    if (req.invokeAction === INVOKE_ACTIONS.getPreloadConfig) {\n      return (await objects.router.preloadRequests.getPreloadConfig(objects.config)).writeToStream(\n        res\n      )\n    }\n  }\n\n  const requestHandler = new RequestHandler(objects)\n  if (req.invokeAction === INVOKE_ACTIONS.serverless) {\n    return await requestHandler.handleServerless(req, res)\n  }\n  return await requestHandler.handleSimulator(req, res)\n}\n\n/**\n * Starts collecting stdout, stderr and other streams\n * and logs the incoming request\n * @param req The inconcoming request\n */\nfunction startLogging(req: LambdaRequest) {\n  const driLogger = deepRequestInspectionLogger()\n\n  // Enable logging of all std streams\n  stdStreamsWrapper.enable({\n    clientIp: req.socket.remoteAddress,\n    requestId: req.getHeader(HTTP_HEADERS.xEcUUID)?.toString(),\n  })\n\n  // Log incoming request\n  driLogger.logDownstreamRequestInfo({\n    method: req.method,\n    path: req.url,\n    host: req.getHeader(HTTP_HEADERS.host)?.toString(),\n    headers: req.getHeaders(),\n    // We keep the protocol format same as the internal Node format on protocol fields.\n    protocol: `${req.protocol}:`,\n    ...getBodyLoggingData(req.body, req.getHeaders()),\n  })\n}\n\n/**\n * Stops collecting stdout\n * and logs the outgoing response\n * @param res The outgoing response\n */\nfunction stopLogging(res: LambdaResponse) {\n  const driLogger = deepRequestInspectionLogger()\n  const resBody = res.chunks.length > 0 ? res.chunks : res.body\n\n  // Log outgoing response\n  driLogger.logDownstreamResponseInfo({\n    statusCode: res.statusCode,\n    statusMessage: res.statusMessage,\n    headers: res.getHeaders(),\n    ...getBodyLoggingData(resBody, res.getHeaders()),\n  })\n\n  // Disable logging of all std streams\n  stdStreamsWrapper.disable()\n}\n\n/**\n * Captures the path of the current request\n * and throws an error if it detects a loop.\n * For example when site is fetching itself in compute using fetch function.\n * @param req The incoming request\n */\nfunction detectUpstreamRequestLoop(req: LambdaRequest) {\n  // Capture the original Via header in the cloud,\n  // so we can track the request path through the system and detect loops.\n  // Locally, it's just set to 'Edgio Core' by default.\n  if (!isLocal()) {\n    metrics.via = req.getHeader(HTTP_HEADERS.via)?.toString() || metrics.via\n  }\n\n  // Detect loops in the request path using the Via header.\n  // It needs to be here and not in ModProxyCore,\n  // because customers can still fetch itself in compute using fetch function,\n  // in Next.js app etc... through the permalink URL, localhost...\n  const edgioCoreCount = metrics.via.split(EDGIO_VIA_HEADER_VALUE).length - 1\n  if (edgioCoreCount > EDGIO_MAX_NESTED_REQUESTS) {\n    throw new EdgioProjectRequestLoopError()\n  }\n}\n", "'use strict';\n\nconst { Duplex } = require('stream');\n\n/**\n * Emits the `'close'` event on a stream.\n *\n * @param {Duplex} stream The stream.\n * @private\n */\nfunction emitClose(stream) {\n  stream.emit('close');\n}\n\n/**\n * The listener of the `'end'` event.\n *\n * @private\n */\nfunction duplexOnEnd() {\n  if (!this.destroyed && this._writableState.finished) {\n    this.destroy();\n  }\n}\n\n/**\n * The listener of the `'error'` event.\n *\n * @param {Error} err The error\n * @private\n */\nfunction duplexOnError(err) {\n  this.removeListener('error', duplexOnError);\n  this.destroy();\n  if (this.listenerCount('error') === 0) {\n    // Do not suppress the throwing behavior.\n    this.emit('error', err);\n  }\n}\n\n/**\n * Wraps a `WebSocket` in a duplex stream.\n *\n * @param {WebSocket} ws The `WebSocket` to wrap\n * @param {Object} [options] The options for the `Duplex` constructor\n * @return {Duplex} The duplex stream\n * @public\n */\nfunction createWebSocketStream(ws, options) {\n  let terminateOnDestroy = true;\n\n  const duplex = new Duplex({\n    ...options,\n    autoDestroy: false,\n    emitClose: false,\n    objectMode: false,\n    writableObjectMode: false\n  });\n\n  ws.on('message', function message(msg, isBinary) {\n    const data =\n      !isBinary && duplex._readableState.objectMode ? msg.toString() : msg;\n\n    if (!duplex.push(data)) ws.pause();\n  });\n\n  ws.once('error', function error(err) {\n    if (duplex.destroyed) return;\n\n    // Prevent `ws.terminate()` from being called by `duplex._destroy()`.\n    //\n    // - If the `'error'` event is emitted before the `'open'` event, then\n    //   `ws.terminate()` is a noop as no socket is assigned.\n    // - Otherwise, the error is re-emitted by the listener of the `'error'`\n    //   event of the `Receiver` object. The listener already closes the\n    //   connection by calling `ws.close()`. This allows a close frame to be\n    //   sent to the other peer. If `ws.terminate()` is called right after this,\n    //   then the close frame might not be sent.\n    terminateOnDestroy = false;\n    duplex.destroy(err);\n  });\n\n  ws.once('close', function close() {\n    if (duplex.destroyed) return;\n\n    duplex.push(null);\n  });\n\n  duplex._destroy = function (err, callback) {\n    if (ws.readyState === ws.CLOSED) {\n      callback(err);\n      process.nextTick(emitClose, duplex);\n      return;\n    }\n\n    let called = false;\n\n    ws.once('error', function error(err) {\n      called = true;\n      callback(err);\n    });\n\n    ws.once('close', function close() {\n      if (!called) callback(err);\n      process.nextTick(emitClose, duplex);\n    });\n\n    if (terminateOnDestroy) ws.terminate();\n  };\n\n  duplex._final = function (callback) {\n    if (ws.readyState === ws.CONNECTING) {\n      ws.once('open', function open() {\n        duplex._final(callback);\n      });\n      return;\n    }\n\n    // If the value of the `_socket` property is `null` it means that `ws` is a\n    // client websocket and the handshake failed. In fact, when this happens, a\n    // socket is never assigned to the websocket. Wait for the `'error'` event\n    // that will be emitted by the websocket.\n    if (ws._socket === null) return;\n\n    if (ws._socket._writableState.finished) {\n      callback();\n      if (duplex._readableState.endEmitted) duplex.destroy();\n    } else {\n      ws._socket.once('finish', function finish() {\n        // `duplex` is not destroyed here because the `'end'` event will be\n        // emitted on `duplex` after this `'finish'` event. The EOF signaling\n        // `null` chunk is, in fact, pushed when the websocket emits `'close'`.\n        callback();\n      });\n      ws.close();\n    }\n  };\n\n  duplex._read = function () {\n    if (ws.isPaused) ws.resume();\n  };\n\n  duplex._write = function (chunk, encoding, callback) {\n    if (ws.readyState === ws.CONNECTING) {\n      ws.once('open', function open() {\n        duplex._write(chunk, encoding, callback);\n      });\n      return;\n    }\n\n    ws.send(chunk, callback);\n  };\n\n  duplex.on('end', duplexOnEnd);\n  duplex.on('error', duplexOnError);\n  return duplex;\n}\n\nmodule.exports = createWebSocketStream;\n", "'use strict';\n\nconst BINARY_TYPES = ['nodebuffer', 'arraybuffer', 'fragments'];\nconst hasBlob = typeof Blob !== 'undefined';\n\nif (hasBlob) BINARY_TYPES.push('blob');\n\nmodule.exports = {\n  BINARY_TYPES,\n  EMPTY_BUFFER: Buffer.alloc(0),\n  GUID: '258EAFA5-E914-47DA-95CA-C5AB0DC85B11',\n  hasBlob,\n  kForOnEventAttribute: Symbol('kIsForOnEventAttribute'),\n  kListener: Symbol('kListener'),\n  kStatusCode: Symbol('status-code'),\n  kWebSocket: Symbol('websocket'),\n  NOOP: () => {}\n};\n", "'use strict';\n\nconst { EMPTY_BUFFER } = require('./constants');\n\nconst FastBuffer = Buffer[Symbol.species];\n\n/**\n * Merges an array of buffers into a new buffer.\n *\n * @param {Buffer[]} list The array of buffers to concat\n * @param {Number} totalLength The total length of buffers in the list\n * @return {Buffer} The resulting buffer\n * @public\n */\nfunction concat(list, totalLength) {\n  if (list.length === 0) return EMPTY_BUFFER;\n  if (list.length === 1) return list[0];\n\n  const target = Buffer.allocUnsafe(totalLength);\n  let offset = 0;\n\n  for (let i = 0; i < list.length; i++) {\n    const buf = list[i];\n    target.set(buf, offset);\n    offset += buf.length;\n  }\n\n  if (offset < totalLength) {\n    return new FastBuffer(target.buffer, target.byteOffset, offset);\n  }\n\n  return target;\n}\n\n/**\n * Masks a buffer using the given mask.\n *\n * @param {Buffer} source The buffer to mask\n * @param {Buffer} mask The mask to use\n * @param {Buffer} output The buffer where to store the result\n * @param {Number} offset The offset at which to start writing\n * @param {Number} length The number of bytes to mask.\n * @public\n */\nfunction _mask(source, mask, output, offset, length) {\n  for (let i = 0; i < length; i++) {\n    output[offset + i] = source[i] ^ mask[i & 3];\n  }\n}\n\n/**\n * Unmasks a buffer using the given mask.\n *\n * @param {Buffer} buffer The buffer to unmask\n * @param {Buffer} mask The mask to use\n * @public\n */\nfunction _unmask(buffer, mask) {\n  for (let i = 0; i < buffer.length; i++) {\n    buffer[i] ^= mask[i & 3];\n  }\n}\n\n/**\n * Converts a buffer to an `ArrayBuffer`.\n *\n * @param {Buffer} buf The buffer to convert\n * @return {ArrayBuffer} Converted buffer\n * @public\n */\nfunction toArrayBuffer(buf) {\n  if (buf.length === buf.buffer.byteLength) {\n    return buf.buffer;\n  }\n\n  return buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.length);\n}\n\n/**\n * Converts `data` to a `Buffer`.\n *\n * @param {*} data The data to convert\n * @return {Buffer} The buffer\n * @throws {TypeError}\n * @public\n */\nfunction toBuffer(data) {\n  toBuffer.readOnly = true;\n\n  if (Buffer.isBuffer(data)) return data;\n\n  let buf;\n\n  if (data instanceof ArrayBuffer) {\n    buf = new FastBuffer(data);\n  } else if (ArrayBuffer.isView(data)) {\n    buf = new FastBuffer(data.buffer, data.byteOffset, data.byteLength);\n  } else {\n    buf = Buffer.from(data);\n    toBuffer.readOnly = false;\n  }\n\n  return buf;\n}\n\nmodule.exports = {\n  concat,\n  mask: _mask,\n  toArrayBuffer,\n  toBuffer,\n  unmask: _unmask\n};\n\n/* istanbul ignore else  */\nif (!process.env.WS_NO_BUFFER_UTIL) {\n  try {\n    const bufferUtil = require('bufferutil');\n\n    module.exports.mask = function (source, mask, output, offset, length) {\n      if (length < 48) _mask(source, mask, output, offset, length);\n      else bufferUtil.mask(source, mask, output, offset, length);\n    };\n\n    module.exports.unmask = function (buffer, mask) {\n      if (buffer.length < 32) _unmask(buffer, mask);\n      else bufferUtil.unmask(buffer, mask);\n    };\n  } catch (e) {\n    // Continue regardless of the error.\n  }\n}\n", "'use strict';\n\nconst kDone = Symbol('kDone');\nconst kRun = Symbol('kRun');\n\n/**\n * A very simple job queue with adjustable concurrency. Adapted from\n * https://github.com/STRML/async-limiter\n */\nclass Limiter {\n  /**\n   * Creates a new `Limiter`.\n   *\n   * @param {Number} [concurrency=Infinity] The maximum number of jobs allowed\n   *     to run concurrently\n   */\n  constructor(concurrency) {\n    this[kDone] = () => {\n      this.pending--;\n      this[kRun]();\n    };\n    this.concurrency = concurrency || Infinity;\n    this.jobs = [];\n    this.pending = 0;\n  }\n\n  /**\n   * Adds a job to the queue.\n   *\n   * @param {Function} job The job to run\n   * @public\n   */\n  add(job) {\n    this.jobs.push(job);\n    this[kRun]();\n  }\n\n  /**\n   * Removes a job from the queue and runs it if possible.\n   *\n   * @private\n   */\n  [kRun]() {\n    if (this.pending === this.concurrency) return;\n\n    if (this.jobs.length) {\n      const job = this.jobs.shift();\n\n      this.pending++;\n      job(this[kDone]);\n    }\n  }\n}\n\nmodule.exports = Limiter;\n", "'use strict';\n\nconst zlib = require('zlib');\n\nconst bufferUtil = require('./buffer-util');\nconst Limiter = require('./limiter');\nconst { kStatusCode } = require('./constants');\n\nconst FastBuffer = Buffer[Symbol.species];\nconst TRAILER = Buffer.from([0x00, 0x00, 0xff, 0xff]);\nconst kPerMessageDeflate = Symbol('permessage-deflate');\nconst kTotalLength = Symbol('total-length');\nconst kCallback = Symbol('callback');\nconst kBuffers = Symbol('buffers');\nconst kError = Symbol('error');\n\n//\n// We limit zlib concurrency, which prevents severe memory fragmentation\n// as documented in https://github.com/nodejs/node/issues/8871#issuecomment-250915913\n// and https://github.com/websockets/ws/issues/1202\n//\n// Intentionally global; it's the global thread pool that's an issue.\n//\nlet zlibLimiter;\n\n/**\n * permessage-deflate implementation.\n */\nclass PerMessageDeflate {\n  /**\n   * Creates a PerMessageDeflate instance.\n   *\n   * @param {Object} [options] Configuration options\n   * @param {(Boolean|Number)} [options.clientMaxWindowBits] Advertise support\n   *     for, or request, a custom client window size\n   * @param {Boolean} [options.clientNoContextTakeover=false] Advertise/\n   *     acknowledge disabling of client context takeover\n   * @param {Number} [options.concurrencyLimit=10] The number of concurrent\n   *     calls to zlib\n   * @param {(Boolean|Number)} [options.serverMaxWindowBits] Request/confirm the\n   *     use of a custom server window size\n   * @param {Boolean} [options.serverNoContextTakeover=false] Request/accept\n   *     disabling of server context takeover\n   * @param {Number} [options.threshold=1024] Size (in bytes) below which\n   *     messages should not be compressed if context takeover is disabled\n   * @param {Object} [options.zlibDeflateOptions] Options to pass to zlib on\n   *     deflate\n   * @param {Object} [options.zlibInflateOptions] Options to pass to zlib on\n   *     inflate\n   * @param {Boolean} [isServer=false] Create the instance in either server or\n   *     client mode\n   * @param {Number} [maxPayload=0] The maximum allowed message length\n   */\n  constructor(options, isServer, maxPayload) {\n    this._maxPayload = maxPayload | 0;\n    this._options = options || {};\n    this._threshold =\n      this._options.threshold !== undefined ? this._options.threshold : 1024;\n    this._isServer = !!isServer;\n    this._deflate = null;\n    this._inflate = null;\n\n    this.params = null;\n\n    if (!zlibLimiter) {\n      const concurrency =\n        this._options.concurrencyLimit !== undefined\n          ? this._options.concurrencyLimit\n          : 10;\n      zlibLimiter = new Limiter(concurrency);\n    }\n  }\n\n  /**\n   * @type {String}\n   */\n  static get extensionName() {\n    return 'permessage-deflate';\n  }\n\n  /**\n   * Create an extension negotiation offer.\n   *\n   * @return {Object} Extension parameters\n   * @public\n   */\n  offer() {\n    const params = {};\n\n    if (this._options.serverNoContextTakeover) {\n      params.server_no_context_takeover = true;\n    }\n    if (this._options.clientNoContextTakeover) {\n      params.client_no_context_takeover = true;\n    }\n    if (this._options.serverMaxWindowBits) {\n      params.server_max_window_bits = this._options.serverMaxWindowBits;\n    }\n    if (this._options.clientMaxWindowBits) {\n      params.client_max_window_bits = this._options.clientMaxWindowBits;\n    } else if (this._options.clientMaxWindowBits == null) {\n      params.client_max_window_bits = true;\n    }\n\n    return params;\n  }\n\n  /**\n   * Accept an extension negotiation offer/response.\n   *\n   * @param {Array} configurations The extension negotiation offers/reponse\n   * @return {Object} Accepted configuration\n   * @public\n   */\n  accept(configurations) {\n    configurations = this.normalizeParams(configurations);\n\n    this.params = this._isServer\n      ? this.acceptAsServer(configurations)\n      : this.acceptAsClient(configurations);\n\n    return this.params;\n  }\n\n  /**\n   * Releases all resources used by the extension.\n   *\n   * @public\n   */\n  cleanup() {\n    if (this._inflate) {\n      this._inflate.close();\n      this._inflate = null;\n    }\n\n    if (this._deflate) {\n      const callback = this._deflate[kCallback];\n\n      this._deflate.close();\n      this._deflate = null;\n\n      if (callback) {\n        callback(\n          new Error(\n            'The deflate stream was closed while data was being processed'\n          )\n        );\n      }\n    }\n  }\n\n  /**\n   *  Accept an extension negotiation offer.\n   *\n   * @param {Array} offers The extension negotiation offers\n   * @return {Object} Accepted configuration\n   * @private\n   */\n  acceptAsServer(offers) {\n    const opts = this._options;\n    const accepted = offers.find((params) => {\n      if (\n        (opts.serverNoContextTakeover === false &&\n          params.server_no_context_takeover) ||\n        (params.server_max_window_bits &&\n          (opts.serverMaxWindowBits === false ||\n            (typeof opts.serverMaxWindowBits === 'number' &&\n              opts.serverMaxWindowBits > params.server_max_window_bits))) ||\n        (typeof opts.clientMaxWindowBits === 'number' &&\n          !params.client_max_window_bits)\n      ) {\n        return false;\n      }\n\n      return true;\n    });\n\n    if (!accepted) {\n      throw new Error('None of the extension offers can be accepted');\n    }\n\n    if (opts.serverNoContextTakeover) {\n      accepted.server_no_context_takeover = true;\n    }\n    if (opts.clientNoContextTakeover) {\n      accepted.client_no_context_takeover = true;\n    }\n    if (typeof opts.serverMaxWindowBits === 'number') {\n      accepted.server_max_window_bits = opts.serverMaxWindowBits;\n    }\n    if (typeof opts.clientMaxWindowBits === 'number') {\n      accepted.client_max_window_bits = opts.clientMaxWindowBits;\n    } else if (\n      accepted.client_max_window_bits === true ||\n      opts.clientMaxWindowBits === false\n    ) {\n      delete accepted.client_max_window_bits;\n    }\n\n    return accepted;\n  }\n\n  /**\n   * Accept the extension negotiation response.\n   *\n   * @param {Array} response The extension negotiation response\n   * @return {Object} Accepted configuration\n   * @private\n   */\n  acceptAsClient(response) {\n    const params = response[0];\n\n    if (\n      this._options.clientNoContextTakeover === false &&\n      params.client_no_context_takeover\n    ) {\n      throw new Error('Unexpected parameter \"client_no_context_takeover\"');\n    }\n\n    if (!params.client_max_window_bits) {\n      if (typeof this._options.clientMaxWindowBits === 'number') {\n        params.client_max_window_bits = this._options.clientMaxWindowBits;\n      }\n    } else if (\n      this._options.clientMaxWindowBits === false ||\n      (typeof this._options.clientMaxWindowBits === 'number' &&\n        params.client_max_window_bits > this._options.clientMaxWindowBits)\n    ) {\n      throw new Error(\n        'Unexpected or invalid parameter \"client_max_window_bits\"'\n      );\n    }\n\n    return params;\n  }\n\n  /**\n   * Normalize parameters.\n   *\n   * @param {Array} configurations The extension negotiation offers/reponse\n   * @return {Array} The offers/response with normalized parameters\n   * @private\n   */\n  normalizeParams(configurations) {\n    configurations.forEach((params) => {\n      Object.keys(params).forEach((key) => {\n        let value = params[key];\n\n        if (value.length > 1) {\n          throw new Error(`Parameter \"${key}\" must have only a single value`);\n        }\n\n        value = value[0];\n\n        if (key === 'client_max_window_bits') {\n          if (value !== true) {\n            const num = +value;\n            if (!Number.isInteger(num) || num < 8 || num > 15) {\n              throw new TypeError(\n                `Invalid value for parameter \"${key}\": ${value}`\n              );\n            }\n            value = num;\n          } else if (!this._isServer) {\n            throw new TypeError(\n              `Invalid value for parameter \"${key}\": ${value}`\n            );\n          }\n        } else if (key === 'server_max_window_bits') {\n          const num = +value;\n          if (!Number.isInteger(num) || num < 8 || num > 15) {\n            throw new TypeError(\n              `Invalid value for parameter \"${key}\": ${value}`\n            );\n          }\n          value = num;\n        } else if (\n          key === 'client_no_context_takeover' ||\n          key === 'server_no_context_takeover'\n        ) {\n          if (value !== true) {\n            throw new TypeError(\n              `Invalid value for parameter \"${key}\": ${value}`\n            );\n          }\n        } else {\n          throw new Error(`Unknown parameter \"${key}\"`);\n        }\n\n        params[key] = value;\n      });\n    });\n\n    return configurations;\n  }\n\n  /**\n   * Decompress data. Concurrency limited.\n   *\n   * @param {Buffer} data Compressed data\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @public\n   */\n  decompress(data, fin, callback) {\n    zlibLimiter.add((done) => {\n      this._decompress(data, fin, (err, result) => {\n        done();\n        callback(err, result);\n      });\n    });\n  }\n\n  /**\n   * Compress data. Concurrency limited.\n   *\n   * @param {(Buffer|String)} data Data to compress\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @public\n   */\n  compress(data, fin, callback) {\n    zlibLimiter.add((done) => {\n      this._compress(data, fin, (err, result) => {\n        done();\n        callback(err, result);\n      });\n    });\n  }\n\n  /**\n   * Decompress data.\n   *\n   * @param {Buffer} data Compressed data\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @private\n   */\n  _decompress(data, fin, callback) {\n    const endpoint = this._isServer ? 'client' : 'server';\n\n    if (!this._inflate) {\n      const key = `${endpoint}_max_window_bits`;\n      const windowBits =\n        typeof this.params[key] !== 'number'\n          ? zlib.Z_DEFAULT_WINDOWBITS\n          : this.params[key];\n\n      this._inflate = zlib.createInflateRaw({\n        ...this._options.zlibInflateOptions,\n        windowBits\n      });\n      this._inflate[kPerMessageDeflate] = this;\n      this._inflate[kTotalLength] = 0;\n      this._inflate[kBuffers] = [];\n      this._inflate.on('error', inflateOnError);\n      this._inflate.on('data', inflateOnData);\n    }\n\n    this._inflate[kCallback] = callback;\n\n    this._inflate.write(data);\n    if (fin) this._inflate.write(TRAILER);\n\n    this._inflate.flush(() => {\n      const err = this._inflate[kError];\n\n      if (err) {\n        this._inflate.close();\n        this._inflate = null;\n        callback(err);\n        return;\n      }\n\n      const data = bufferUtil.concat(\n        this._inflate[kBuffers],\n        this._inflate[kTotalLength]\n      );\n\n      if (this._inflate._readableState.endEmitted) {\n        this._inflate.close();\n        this._inflate = null;\n      } else {\n        this._inflate[kTotalLength] = 0;\n        this._inflate[kBuffers] = [];\n\n        if (fin && this.params[`${endpoint}_no_context_takeover`]) {\n          this._inflate.reset();\n        }\n      }\n\n      callback(null, data);\n    });\n  }\n\n  /**\n   * Compress data.\n   *\n   * @param {(Buffer|String)} data Data to compress\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @private\n   */\n  _compress(data, fin, callback) {\n    const endpoint = this._isServer ? 'server' : 'client';\n\n    if (!this._deflate) {\n      const key = `${endpoint}_max_window_bits`;\n      const windowBits =\n        typeof this.params[key] !== 'number'\n          ? zlib.Z_DEFAULT_WINDOWBITS\n          : this.params[key];\n\n      this._deflate = zlib.createDeflateRaw({\n        ...this._options.zlibDeflateOptions,\n        windowBits\n      });\n\n      this._deflate[kTotalLength] = 0;\n      this._deflate[kBuffers] = [];\n\n      this._deflate.on('data', deflateOnData);\n    }\n\n    this._deflate[kCallback] = callback;\n\n    this._deflate.write(data);\n    this._deflate.flush(zlib.Z_SYNC_FLUSH, () => {\n      if (!this._deflate) {\n        //\n        // The deflate stream was closed while data was being processed.\n        //\n        return;\n      }\n\n      let data = bufferUtil.concat(\n        this._deflate[kBuffers],\n        this._deflate[kTotalLength]\n      );\n\n      if (fin) {\n        data = new FastBuffer(data.buffer, data.byteOffset, data.length - 4);\n      }\n\n      //\n      // Ensure that the callback will not be called again in\n      // `PerMessageDeflate#cleanup()`.\n      //\n      this._deflate[kCallback] = null;\n\n      this._deflate[kTotalLength] = 0;\n      this._deflate[kBuffers] = [];\n\n      if (fin && this.params[`${endpoint}_no_context_takeover`]) {\n        this._deflate.reset();\n      }\n\n      callback(null, data);\n    });\n  }\n}\n\nmodule.exports = PerMessageDeflate;\n\n/**\n * The listener of the `zlib.DeflateRaw` stream `'data'` event.\n *\n * @param {Buffer} chunk A chunk of data\n * @private\n */\nfunction deflateOnData(chunk) {\n  this[kBuffers].push(chunk);\n  this[kTotalLength] += chunk.length;\n}\n\n/**\n * The listener of the `zlib.InflateRaw` stream `'data'` event.\n *\n * @param {Buffer} chunk A chunk of data\n * @private\n */\nfunction inflateOnData(chunk) {\n  this[kTotalLength] += chunk.length;\n\n  if (\n    this[kPerMessageDeflate]._maxPayload < 1 ||\n    this[kTotalLength] <= this[kPerMessageDeflate]._maxPayload\n  ) {\n    this[kBuffers].push(chunk);\n    return;\n  }\n\n  this[kError] = new RangeError('Max payload size exceeded');\n  this[kError].code = 'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH';\n  this[kError][kStatusCode] = 1009;\n  this.removeListener('data', inflateOnData);\n  this.reset();\n}\n\n/**\n * The listener of the `zlib.InflateRaw` stream `'error'` event.\n *\n * @param {Error} err The emitted error\n * @private\n */\nfunction inflateOnError(err) {\n  //\n  // There is no need to call `Zlib#close()` as the handle is automatically\n  // closed when an error is emitted.\n  //\n  this[kPerMessageDeflate]._inflate = null;\n  err[kStatusCode] = 1007;\n  this[kCallback](err);\n}\n", "'use strict';\n\nconst { isUtf8 } = require('buffer');\n\nconst { hasBlob } = require('./constants');\n\n//\n// Allowed token characters:\n//\n// '!', '#', '$', '%', '&', ''', '*', '+', '-',\n// '.', 0-9, A-Z, '^', '_', '`', a-z, '|', '~'\n//\n// tokenChars[32] === 0 // ' '\n// tokenChars[33] === 1 // '!'\n// tokenChars[34] === 0 // '\"'\n// ...\n//\n// prettier-ignore\nconst tokenChars = [\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, // 0 - 15\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, // 16 - 31\n  0, 1, 0, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 1, 1, 0, // 32 - 47\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, // 48 - 63\n  0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, // 64 - 79\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, // 80 - 95\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, // 96 - 111\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0 // 112 - 127\n];\n\n/**\n * Checks if a status code is allowed in a close frame.\n *\n * @param {Number} code The status code\n * @return {Boolean} `true` if the status code is valid, else `false`\n * @public\n */\nfunction isValidStatusCode(code) {\n  return (\n    (code >= 1000 &&\n      code <= 1014 &&\n      code !== 1004 &&\n      code !== 1005 &&\n      code !== 1006) ||\n    (code >= 3000 && code <= 4999)\n  );\n}\n\n/**\n * Checks if a given buffer contains only correct UTF-8.\n * Ported from https://www.cl.cam.ac.uk/%7Emgk25/ucs/utf8_check.c by\n * Markus Kuhn.\n *\n * @param {Buffer} buf The buffer to check\n * @return {Boolean} `true` if `buf` contains only correct UTF-8, else `false`\n * @public\n */\nfunction _isValidUTF8(buf) {\n  const len = buf.length;\n  let i = 0;\n\n  while (i < len) {\n    if ((buf[i] & 0x80) === 0) {\n      // 0xxxxxxx\n      i++;\n    } else if ((buf[i] & 0xe0) === 0xc0) {\n      // 110xxxxx 10xxxxxx\n      if (\n        i + 1 === len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i] & 0xfe) === 0xc0 // Overlong\n      ) {\n        return false;\n      }\n\n      i += 2;\n    } else if ((buf[i] & 0xf0) === 0xe0) {\n      // 1110xxxx 10xxxxxx 10xxxxxx\n      if (\n        i + 2 >= len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i + 2] & 0xc0) !== 0x80 ||\n        (buf[i] === 0xe0 && (buf[i + 1] & 0xe0) === 0x80) || // Overlong\n        (buf[i] === 0xed && (buf[i + 1] & 0xe0) === 0xa0) // Surrogate (U+D800 - U+DFFF)\n      ) {\n        return false;\n      }\n\n      i += 3;\n    } else if ((buf[i] & 0xf8) === 0xf0) {\n      // 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx\n      if (\n        i + 3 >= len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i + 2] & 0xc0) !== 0x80 ||\n        (buf[i + 3] & 0xc0) !== 0x80 ||\n        (buf[i] === 0xf0 && (buf[i + 1] & 0xf0) === 0x80) || // Overlong\n        (buf[i] === 0xf4 && buf[i + 1] > 0x8f) ||\n        buf[i] > 0xf4 // > U+10FFFF\n      ) {\n        return false;\n      }\n\n      i += 4;\n    } else {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/**\n * Determines whether a value is a `Blob`.\n *\n * @param {*} value The value to be tested\n * @return {Boolean} `true` if `value` is a `Blob`, else `false`\n * @private\n */\nfunction isBlob(value) {\n  return (\n    hasBlob &&\n    typeof value === 'object' &&\n    typeof value.arrayBuffer === 'function' &&\n    typeof value.type === 'string' &&\n    typeof value.stream === 'function' &&\n    (value[Symbol.toStringTag] === 'Blob' ||\n      value[Symbol.toStringTag] === 'File')\n  );\n}\n\nmodule.exports = {\n  isBlob,\n  isValidStatusCode,\n  isValidUTF8: _isValidUTF8,\n  tokenChars\n};\n\nif (isUtf8) {\n  module.exports.isValidUTF8 = function (buf) {\n    return buf.length < 24 ? _isValidUTF8(buf) : isUtf8(buf);\n  };\n} /* istanbul ignore else  */ else if (!process.env.WS_NO_UTF_8_VALIDATE) {\n  try {\n    const isValidUTF8 = require('utf-8-validate');\n\n    module.exports.isValidUTF8 = function (buf) {\n      return buf.length < 32 ? _isValidUTF8(buf) : isValidUTF8(buf);\n    };\n  } catch (e) {\n    // Continue regardless of the error.\n  }\n}\n", "'use strict';\n\nconst { Writable } = require('stream');\n\nconst PerMessageDeflate = require('./permessage-deflate');\nconst {\n  BINARY_TYPES,\n  EMPTY_BUFFER,\n  kStatusCode,\n  kWebSocket\n} = require('./constants');\nconst { concat, toArrayBuffer, unmask } = require('./buffer-util');\nconst { isValidStatusCode, isValidUTF8 } = require('./validation');\n\nconst FastBuffer = Buffer[Symbol.species];\n\nconst GET_INFO = 0;\nconst GET_PAYLOAD_LENGTH_16 = 1;\nconst GET_PAYLOAD_LENGTH_64 = 2;\nconst GET_MASK = 3;\nconst GET_DATA = 4;\nconst INFLATING = 5;\nconst DEFER_EVENT = 6;\n\n/**\n * HyBi Receiver implementation.\n *\n * @extends Writable\n */\nclass Receiver extends Writable {\n  /**\n   * Creates a Receiver instance.\n   *\n   * @param {Object} [options] Options object\n   * @param {Boolean} [options.allowSynchronousEvents=true] Specifies whether\n   *     any of the `'message'`, `'ping'`, and `'pong'` events can be emitted\n   *     multiple times in the same tick\n   * @param {String} [options.binaryType=nodebuffer] The type for binary data\n   * @param {Object} [options.extensions] An object containing the negotiated\n   *     extensions\n   * @param {Boolean} [options.isServer=false] Specifies whether to operate in\n   *     client or server mode\n   * @param {Number} [options.maxPayload=0] The maximum allowed message length\n   * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n   *     not to skip UTF-8 validation for text and close messages\n   */\n  constructor(options = {}) {\n    super();\n\n    this._allowSynchronousEvents =\n      options.allowSynchronousEvents !== undefined\n        ? options.allowSynchronousEvents\n        : true;\n    this._binaryType = options.binaryType || BINARY_TYPES[0];\n    this._extensions = options.extensions || {};\n    this._isServer = !!options.isServer;\n    this._maxPayload = options.maxPayload | 0;\n    this._skipUTF8Validation = !!options.skipUTF8Validation;\n    this[kWebSocket] = undefined;\n\n    this._bufferedBytes = 0;\n    this._buffers = [];\n\n    this._compressed = false;\n    this._payloadLength = 0;\n    this._mask = undefined;\n    this._fragmented = 0;\n    this._masked = false;\n    this._fin = false;\n    this._opcode = 0;\n\n    this._totalPayloadLength = 0;\n    this._messageLength = 0;\n    this._fragments = [];\n\n    this._errored = false;\n    this._loop = false;\n    this._state = GET_INFO;\n  }\n\n  /**\n   * Implements `Writable.prototype._write()`.\n   *\n   * @param {Buffer} chunk The chunk of data to write\n   * @param {String} encoding The character encoding of `chunk`\n   * @param {Function} cb Callback\n   * @private\n   */\n  _write(chunk, encoding, cb) {\n    if (this._opcode === 0x08 && this._state == GET_INFO) return cb();\n\n    this._bufferedBytes += chunk.length;\n    this._buffers.push(chunk);\n    this.startLoop(cb);\n  }\n\n  /**\n   * Consumes `n` bytes from the buffered data.\n   *\n   * @param {Number} n The number of bytes to consume\n   * @return {Buffer} The consumed bytes\n   * @private\n   */\n  consume(n) {\n    this._bufferedBytes -= n;\n\n    if (n === this._buffers[0].length) return this._buffers.shift();\n\n    if (n < this._buffers[0].length) {\n      const buf = this._buffers[0];\n      this._buffers[0] = new FastBuffer(\n        buf.buffer,\n        buf.byteOffset + n,\n        buf.length - n\n      );\n\n      return new FastBuffer(buf.buffer, buf.byteOffset, n);\n    }\n\n    const dst = Buffer.allocUnsafe(n);\n\n    do {\n      const buf = this._buffers[0];\n      const offset = dst.length - n;\n\n      if (n >= buf.length) {\n        dst.set(this._buffers.shift(), offset);\n      } else {\n        dst.set(new Uint8Array(buf.buffer, buf.byteOffset, n), offset);\n        this._buffers[0] = new FastBuffer(\n          buf.buffer,\n          buf.byteOffset + n,\n          buf.length - n\n        );\n      }\n\n      n -= buf.length;\n    } while (n > 0);\n\n    return dst;\n  }\n\n  /**\n   * Starts the parsing loop.\n   *\n   * @param {Function} cb Callback\n   * @private\n   */\n  startLoop(cb) {\n    this._loop = true;\n\n    do {\n      switch (this._state) {\n        case GET_INFO:\n          this.getInfo(cb);\n          break;\n        case GET_PAYLOAD_LENGTH_16:\n          this.getPayloadLength16(cb);\n          break;\n        case GET_PAYLOAD_LENGTH_64:\n          this.getPayloadLength64(cb);\n          break;\n        case GET_MASK:\n          this.getMask();\n          break;\n        case GET_DATA:\n          this.getData(cb);\n          break;\n        case INFLATING:\n        case DEFER_EVENT:\n          this._loop = false;\n          return;\n      }\n    } while (this._loop);\n\n    if (!this._errored) cb();\n  }\n\n  /**\n   * Reads the first two bytes of a frame.\n   *\n   * @param {Function} cb Callback\n   * @private\n   */\n  getInfo(cb) {\n    if (this._bufferedBytes < 2) {\n      this._loop = false;\n      return;\n    }\n\n    const buf = this.consume(2);\n\n    if ((buf[0] & 0x30) !== 0x00) {\n      const error = this.createError(\n        RangeError,\n        'RSV2 and RSV3 must be clear',\n        true,\n        1002,\n        'WS_ERR_UNEXPECTED_RSV_2_3'\n      );\n\n      cb(error);\n      return;\n    }\n\n    const compressed = (buf[0] & 0x40) === 0x40;\n\n    if (compressed && !this._extensions[PerMessageDeflate.extensionName]) {\n      const error = this.createError(\n        RangeError,\n        'RSV1 must be clear',\n        true,\n        1002,\n        'WS_ERR_UNEXPECTED_RSV_1'\n      );\n\n      cb(error);\n      return;\n    }\n\n    this._fin = (buf[0] & 0x80) === 0x80;\n    this._opcode = buf[0] & 0x0f;\n    this._payloadLength = buf[1] & 0x7f;\n\n    if (this._opcode === 0x00) {\n      if (compressed) {\n        const error = this.createError(\n          RangeError,\n          'RSV1 must be clear',\n          true,\n          1002,\n          'WS_ERR_UNEXPECTED_RSV_1'\n        );\n\n        cb(error);\n        return;\n      }\n\n      if (!this._fragmented) {\n        const error = this.createError(\n          RangeError,\n          'invalid opcode 0',\n          true,\n          1002,\n          'WS_ERR_INVALID_OPCODE'\n        );\n\n        cb(error);\n        return;\n      }\n\n      this._opcode = this._fragmented;\n    } else if (this._opcode === 0x01 || this._opcode === 0x02) {\n      if (this._fragmented) {\n        const error = this.createError(\n          RangeError,\n          `invalid opcode ${this._opcode}`,\n          true,\n          1002,\n          'WS_ERR_INVALID_OPCODE'\n        );\n\n        cb(error);\n        return;\n      }\n\n      this._compressed = compressed;\n    } else if (this._opcode > 0x07 && this._opcode < 0x0b) {\n      if (!this._fin) {\n        const error = this.createError(\n          RangeError,\n          'FIN must be set',\n          true,\n          1002,\n          'WS_ERR_EXPECTED_FIN'\n        );\n\n        cb(error);\n        return;\n      }\n\n      if (compressed) {\n        const error = this.createError(\n          RangeError,\n          'RSV1 must be clear',\n          true,\n          1002,\n          'WS_ERR_UNEXPECTED_RSV_1'\n        );\n\n        cb(error);\n        return;\n      }\n\n      if (\n        this._payloadLength > 0x7d ||\n        (this._opcode === 0x08 && this._payloadLength === 1)\n      ) {\n        const error = this.createError(\n          RangeError,\n          `invalid payload length ${this._payloadLength}`,\n          true,\n          1002,\n          'WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH'\n        );\n\n        cb(error);\n        return;\n      }\n    } else {\n      const error = this.createError(\n        RangeError,\n        `invalid opcode ${this._opcode}`,\n        true,\n        1002,\n        'WS_ERR_INVALID_OPCODE'\n      );\n\n      cb(error);\n      return;\n    }\n\n    if (!this._fin && !this._fragmented) this._fragmented = this._opcode;\n    this._masked = (buf[1] & 0x80) === 0x80;\n\n    if (this._isServer) {\n      if (!this._masked) {\n        const error = this.createError(\n          RangeError,\n          'MASK must be set',\n          true,\n          1002,\n          'WS_ERR_EXPECTED_MASK'\n        );\n\n        cb(error);\n        return;\n      }\n    } else if (this._masked) {\n      const error = this.createError(\n        RangeError,\n        'MASK must be clear',\n        true,\n        1002,\n        'WS_ERR_UNEXPECTED_MASK'\n      );\n\n      cb(error);\n      return;\n    }\n\n    if (this._payloadLength === 126) this._state = GET_PAYLOAD_LENGTH_16;\n    else if (this._payloadLength === 127) this._state = GET_PAYLOAD_LENGTH_64;\n    else this.haveLength(cb);\n  }\n\n  /**\n   * Gets extended payload length (7+16).\n   *\n   * @param {Function} cb Callback\n   * @private\n   */\n  getPayloadLength16(cb) {\n    if (this._bufferedBytes < 2) {\n      this._loop = false;\n      return;\n    }\n\n    this._payloadLength = this.consume(2).readUInt16BE(0);\n    this.haveLength(cb);\n  }\n\n  /**\n   * Gets extended payload length (7+64).\n   *\n   * @param {Function} cb Callback\n   * @private\n   */\n  getPayloadLength64(cb) {\n    if (this._bufferedBytes < 8) {\n      this._loop = false;\n      return;\n    }\n\n    const buf = this.consume(8);\n    const num = buf.readUInt32BE(0);\n\n    //\n    // The maximum safe integer in JavaScript is 2^53 - 1. An error is returned\n    // if payload length is greater than this number.\n    //\n    if (num > Math.pow(2, 53 - 32) - 1) {\n      const error = this.createError(\n        RangeError,\n        'Unsupported WebSocket frame: payload length > 2^53 - 1',\n        false,\n        1009,\n        'WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH'\n      );\n\n      cb(error);\n      return;\n    }\n\n    this._payloadLength = num * Math.pow(2, 32) + buf.readUInt32BE(4);\n    this.haveLength(cb);\n  }\n\n  /**\n   * Payload length has been read.\n   *\n   * @param {Function} cb Callback\n   * @private\n   */\n  haveLength(cb) {\n    if (this._payloadLength && this._opcode < 0x08) {\n      this._totalPayloadLength += this._payloadLength;\n      if (this._totalPayloadLength > this._maxPayload && this._maxPayload > 0) {\n        const error = this.createError(\n          RangeError,\n          'Max payload size exceeded',\n          false,\n          1009,\n          'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH'\n        );\n\n        cb(error);\n        return;\n      }\n    }\n\n    if (this._masked) this._state = GET_MASK;\n    else this._state = GET_DATA;\n  }\n\n  /**\n   * Reads mask bytes.\n   *\n   * @private\n   */\n  getMask() {\n    if (this._bufferedBytes < 4) {\n      this._loop = false;\n      return;\n    }\n\n    this._mask = this.consume(4);\n    this._state = GET_DATA;\n  }\n\n  /**\n   * Reads data bytes.\n   *\n   * @param {Function} cb Callback\n   * @private\n   */\n  getData(cb) {\n    let data = EMPTY_BUFFER;\n\n    if (this._payloadLength) {\n      if (this._bufferedBytes < this._payloadLength) {\n        this._loop = false;\n        return;\n      }\n\n      data = this.consume(this._payloadLength);\n\n      if (\n        this._masked &&\n        (this._mask[0] | this._mask[1] | this._mask[2] | this._mask[3]) !== 0\n      ) {\n        unmask(data, this._mask);\n      }\n    }\n\n    if (this._opcode > 0x07) {\n      this.controlMessage(data, cb);\n      return;\n    }\n\n    if (this._compressed) {\n      this._state = INFLATING;\n      this.decompress(data, cb);\n      return;\n    }\n\n    if (data.length) {\n      //\n      // This message is not compressed so its length is the sum of the payload\n      // length of all fragments.\n      //\n      this._messageLength = this._totalPayloadLength;\n      this._fragments.push(data);\n    }\n\n    this.dataMessage(cb);\n  }\n\n  /**\n   * Decompresses data.\n   *\n   * @param {Buffer} data Compressed data\n   * @param {Function} cb Callback\n   * @private\n   */\n  decompress(data, cb) {\n    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\n\n    perMessageDeflate.decompress(data, this._fin, (err, buf) => {\n      if (err) return cb(err);\n\n      if (buf.length) {\n        this._messageLength += buf.length;\n        if (this._messageLength > this._maxPayload && this._maxPayload > 0) {\n          const error = this.createError(\n            RangeError,\n            'Max payload size exceeded',\n            false,\n            1009,\n            'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH'\n          );\n\n          cb(error);\n          return;\n        }\n\n        this._fragments.push(buf);\n      }\n\n      this.dataMessage(cb);\n      if (this._state === GET_INFO) this.startLoop(cb);\n    });\n  }\n\n  /**\n   * Handles a data message.\n   *\n   * @param {Function} cb Callback\n   * @private\n   */\n  dataMessage(cb) {\n    if (!this._fin) {\n      this._state = GET_INFO;\n      return;\n    }\n\n    const messageLength = this._messageLength;\n    const fragments = this._fragments;\n\n    this._totalPayloadLength = 0;\n    this._messageLength = 0;\n    this._fragmented = 0;\n    this._fragments = [];\n\n    if (this._opcode === 2) {\n      let data;\n\n      if (this._binaryType === 'nodebuffer') {\n        data = concat(fragments, messageLength);\n      } else if (this._binaryType === 'arraybuffer') {\n        data = toArrayBuffer(concat(fragments, messageLength));\n      } else if (this._binaryType === 'blob') {\n        data = new Blob(fragments);\n      } else {\n        data = fragments;\n      }\n\n      if (this._allowSynchronousEvents) {\n        this.emit('message', data, true);\n        this._state = GET_INFO;\n      } else {\n        this._state = DEFER_EVENT;\n        setImmediate(() => {\n          this.emit('message', data, true);\n          this._state = GET_INFO;\n          this.startLoop(cb);\n        });\n      }\n    } else {\n      const buf = concat(fragments, messageLength);\n\n      if (!this._skipUTF8Validation && !isValidUTF8(buf)) {\n        const error = this.createError(\n          Error,\n          'invalid UTF-8 sequence',\n          true,\n          1007,\n          'WS_ERR_INVALID_UTF8'\n        );\n\n        cb(error);\n        return;\n      }\n\n      if (this._state === INFLATING || this._allowSynchronousEvents) {\n        this.emit('message', buf, false);\n        this._state = GET_INFO;\n      } else {\n        this._state = DEFER_EVENT;\n        setImmediate(() => {\n          this.emit('message', buf, false);\n          this._state = GET_INFO;\n          this.startLoop(cb);\n        });\n      }\n    }\n  }\n\n  /**\n   * Handles a control message.\n   *\n   * @param {Buffer} data Data to handle\n   * @return {(Error|RangeError|undefined)} A possible error\n   * @private\n   */\n  controlMessage(data, cb) {\n    if (this._opcode === 0x08) {\n      if (data.length === 0) {\n        this._loop = false;\n        this.emit('conclude', 1005, EMPTY_BUFFER);\n        this.end();\n      } else {\n        const code = data.readUInt16BE(0);\n\n        if (!isValidStatusCode(code)) {\n          const error = this.createError(\n            RangeError,\n            `invalid status code ${code}`,\n            true,\n            1002,\n            'WS_ERR_INVALID_CLOSE_CODE'\n          );\n\n          cb(error);\n          return;\n        }\n\n        const buf = new FastBuffer(\n          data.buffer,\n          data.byteOffset + 2,\n          data.length - 2\n        );\n\n        if (!this._skipUTF8Validation && !isValidUTF8(buf)) {\n          const error = this.createError(\n            Error,\n            'invalid UTF-8 sequence',\n            true,\n            1007,\n            'WS_ERR_INVALID_UTF8'\n          );\n\n          cb(error);\n          return;\n        }\n\n        this._loop = false;\n        this.emit('conclude', code, buf);\n        this.end();\n      }\n\n      this._state = GET_INFO;\n      return;\n    }\n\n    if (this._allowSynchronousEvents) {\n      this.emit(this._opcode === 0x09 ? 'ping' : 'pong', data);\n      this._state = GET_INFO;\n    } else {\n      this._state = DEFER_EVENT;\n      setImmediate(() => {\n        this.emit(this._opcode === 0x09 ? 'ping' : 'pong', data);\n        this._state = GET_INFO;\n        this.startLoop(cb);\n      });\n    }\n  }\n\n  /**\n   * Builds an error object.\n   *\n   * @param {function(new:Error|RangeError)} ErrorCtor The error constructor\n   * @param {String} message The error message\n   * @param {Boolean} prefix Specifies whether or not to add a default prefix to\n   *     `message`\n   * @param {Number} statusCode The status code\n   * @param {String} errorCode The exposed error code\n   * @return {(Error|RangeError)} The error\n   * @private\n   */\n  createError(ErrorCtor, message, prefix, statusCode, errorCode) {\n    this._loop = false;\n    this._errored = true;\n\n    const err = new ErrorCtor(\n      prefix ? `Invalid WebSocket frame: ${message}` : message\n    );\n\n    Error.captureStackTrace(err, this.createError);\n    err.code = errorCode;\n    err[kStatusCode] = statusCode;\n    return err;\n  }\n}\n\nmodule.exports = Receiver;\n", "/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^Duplex\" }] */\n\n'use strict';\n\nconst { Duplex } = require('stream');\nconst { randomFillSync } = require('crypto');\n\nconst PerMessageDeflate = require('./permessage-deflate');\nconst { EMPTY_BUFFER, kWebSocket, NOOP } = require('./constants');\nconst { isBlob, isValidStatusCode } = require('./validation');\nconst { mask: applyMask, toBuffer } = require('./buffer-util');\n\nconst kByteLength = Symbol('kByteLength');\nconst maskBuffer = Buffer.alloc(4);\nconst RANDOM_POOL_SIZE = 8 * 1024;\nlet randomPool;\nlet randomPoolPointer = RANDOM_POOL_SIZE;\n\nconst DEFAULT = 0;\nconst DEFLATING = 1;\nconst GET_BLOB_DATA = 2;\n\n/**\n * HyBi Sender implementation.\n */\nclass Sender {\n  /**\n   * Creates a Sender instance.\n   *\n   * @param {Duplex} socket The connection socket\n   * @param {Object} [extensions] An object containing the negotiated extensions\n   * @param {Function} [generateMask] The function used to generate the masking\n   *     key\n   */\n  constructor(socket, extensions, generateMask) {\n    this._extensions = extensions || {};\n\n    if (generateMask) {\n      this._generateMask = generateMask;\n      this._maskBuffer = Buffer.alloc(4);\n    }\n\n    this._socket = socket;\n\n    this._firstFragment = true;\n    this._compress = false;\n\n    this._bufferedBytes = 0;\n    this._queue = [];\n    this._state = DEFAULT;\n    this.onerror = NOOP;\n    this[kWebSocket] = undefined;\n  }\n\n  /**\n   * Frames a piece of data according to the HyBi WebSocket protocol.\n   *\n   * @param {(Buffer|String)} data The data to frame\n   * @param {Object} options Options object\n   * @param {Boolean} [options.fin=false] Specifies whether or not to set the\n   *     FIN bit\n   * @param {Function} [options.generateMask] The function used to generate the\n   *     masking key\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n   *     `data`\n   * @param {Buffer} [options.maskBuffer] The buffer used to store the masking\n   *     key\n   * @param {Number} options.opcode The opcode\n   * @param {Boolean} [options.readOnly=false] Specifies whether `data` can be\n   *     modified\n   * @param {Boolean} [options.rsv1=false] Specifies whether or not to set the\n   *     RSV1 bit\n   * @return {(Buffer|String)[]} The framed data\n   * @public\n   */\n  static frame(data, options) {\n    let mask;\n    let merge = false;\n    let offset = 2;\n    let skipMasking = false;\n\n    if (options.mask) {\n      mask = options.maskBuffer || maskBuffer;\n\n      if (options.generateMask) {\n        options.generateMask(mask);\n      } else {\n        if (randomPoolPointer === RANDOM_POOL_SIZE) {\n          /* istanbul ignore else  */\n          if (randomPool === undefined) {\n            //\n            // This is lazily initialized because server-sent frames must not\n            // be masked so it may never be used.\n            //\n            randomPool = Buffer.alloc(RANDOM_POOL_SIZE);\n          }\n\n          randomFillSync(randomPool, 0, RANDOM_POOL_SIZE);\n          randomPoolPointer = 0;\n        }\n\n        mask[0] = randomPool[randomPoolPointer++];\n        mask[1] = randomPool[randomPoolPointer++];\n        mask[2] = randomPool[randomPoolPointer++];\n        mask[3] = randomPool[randomPoolPointer++];\n      }\n\n      skipMasking = (mask[0] | mask[1] | mask[2] | mask[3]) === 0;\n      offset = 6;\n    }\n\n    let dataLength;\n\n    if (typeof data === 'string') {\n      if (\n        (!options.mask || skipMasking) &&\n        options[kByteLength] !== undefined\n      ) {\n        dataLength = options[kByteLength];\n      } else {\n        data = Buffer.from(data);\n        dataLength = data.length;\n      }\n    } else {\n      dataLength = data.length;\n      merge = options.mask && options.readOnly && !skipMasking;\n    }\n\n    let payloadLength = dataLength;\n\n    if (dataLength >= 65536) {\n      offset += 8;\n      payloadLength = 127;\n    } else if (dataLength > 125) {\n      offset += 2;\n      payloadLength = 126;\n    }\n\n    const target = Buffer.allocUnsafe(merge ? dataLength + offset : offset);\n\n    target[0] = options.fin ? options.opcode | 0x80 : options.opcode;\n    if (options.rsv1) target[0] |= 0x40;\n\n    target[1] = payloadLength;\n\n    if (payloadLength === 126) {\n      target.writeUInt16BE(dataLength, 2);\n    } else if (payloadLength === 127) {\n      target[2] = target[3] = 0;\n      target.writeUIntBE(dataLength, 4, 6);\n    }\n\n    if (!options.mask) return [target, data];\n\n    target[1] |= 0x80;\n    target[offset - 4] = mask[0];\n    target[offset - 3] = mask[1];\n    target[offset - 2] = mask[2];\n    target[offset - 1] = mask[3];\n\n    if (skipMasking) return [target, data];\n\n    if (merge) {\n      applyMask(data, mask, target, offset, dataLength);\n      return [target];\n    }\n\n    applyMask(data, mask, data, 0, dataLength);\n    return [target, data];\n  }\n\n  /**\n   * Sends a close message to the other peer.\n   *\n   * @param {Number} [code] The status code component of the body\n   * @param {(String|Buffer)} [data] The message component of the body\n   * @param {Boolean} [mask=false] Specifies whether or not to mask the message\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  close(code, data, mask, cb) {\n    let buf;\n\n    if (code === undefined) {\n      buf = EMPTY_BUFFER;\n    } else if (typeof code !== 'number' || !isValidStatusCode(code)) {\n      throw new TypeError('First argument must be a valid error code number');\n    } else if (data === undefined || !data.length) {\n      buf = Buffer.allocUnsafe(2);\n      buf.writeUInt16BE(code, 0);\n    } else {\n      const length = Buffer.byteLength(data);\n\n      if (length > 123) {\n        throw new RangeError('The message must not be greater than 123 bytes');\n      }\n\n      buf = Buffer.allocUnsafe(2 + length);\n      buf.writeUInt16BE(code, 0);\n\n      if (typeof data === 'string') {\n        buf.write(data, 2);\n      } else {\n        buf.set(data, 2);\n      }\n    }\n\n    const options = {\n      [kByteLength]: buf.length,\n      fin: true,\n      generateMask: this._generateMask,\n      mask,\n      maskBuffer: this._maskBuffer,\n      opcode: 0x08,\n      readOnly: false,\n      rsv1: false\n    };\n\n    if (this._state !== DEFAULT) {\n      this.enqueue([this.dispatch, buf, false, options, cb]);\n    } else {\n      this.sendFrame(Sender.frame(buf, options), cb);\n    }\n  }\n\n  /**\n   * Sends a ping message to the other peer.\n   *\n   * @param {*} data The message to send\n   * @param {Boolean} [mask=false] Specifies whether or not to mask `data`\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  ping(data, mask, cb) {\n    let byteLength;\n    let readOnly;\n\n    if (typeof data === 'string') {\n      byteLength = Buffer.byteLength(data);\n      readOnly = false;\n    } else if (isBlob(data)) {\n      byteLength = data.size;\n      readOnly = false;\n    } else {\n      data = toBuffer(data);\n      byteLength = data.length;\n      readOnly = toBuffer.readOnly;\n    }\n\n    if (byteLength > 125) {\n      throw new RangeError('The data size must not be greater than 125 bytes');\n    }\n\n    const options = {\n      [kByteLength]: byteLength,\n      fin: true,\n      generateMask: this._generateMask,\n      mask,\n      maskBuffer: this._maskBuffer,\n      opcode: 0x09,\n      readOnly,\n      rsv1: false\n    };\n\n    if (isBlob(data)) {\n      if (this._state !== DEFAULT) {\n        this.enqueue([this.getBlobData, data, false, options, cb]);\n      } else {\n        this.getBlobData(data, false, options, cb);\n      }\n    } else if (this._state !== DEFAULT) {\n      this.enqueue([this.dispatch, data, false, options, cb]);\n    } else {\n      this.sendFrame(Sender.frame(data, options), cb);\n    }\n  }\n\n  /**\n   * Sends a pong message to the other peer.\n   *\n   * @param {*} data The message to send\n   * @param {Boolean} [mask=false] Specifies whether or not to mask `data`\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  pong(data, mask, cb) {\n    let byteLength;\n    let readOnly;\n\n    if (typeof data === 'string') {\n      byteLength = Buffer.byteLength(data);\n      readOnly = false;\n    } else if (isBlob(data)) {\n      byteLength = data.size;\n      readOnly = false;\n    } else {\n      data = toBuffer(data);\n      byteLength = data.length;\n      readOnly = toBuffer.readOnly;\n    }\n\n    if (byteLength > 125) {\n      throw new RangeError('The data size must not be greater than 125 bytes');\n    }\n\n    const options = {\n      [kByteLength]: byteLength,\n      fin: true,\n      generateMask: this._generateMask,\n      mask,\n      maskBuffer: this._maskBuffer,\n      opcode: 0x0a,\n      readOnly,\n      rsv1: false\n    };\n\n    if (isBlob(data)) {\n      if (this._state !== DEFAULT) {\n        this.enqueue([this.getBlobData, data, false, options, cb]);\n      } else {\n        this.getBlobData(data, false, options, cb);\n      }\n    } else if (this._state !== DEFAULT) {\n      this.enqueue([this.dispatch, data, false, options, cb]);\n    } else {\n      this.sendFrame(Sender.frame(data, options), cb);\n    }\n  }\n\n  /**\n   * Sends a data message to the other peer.\n   *\n   * @param {*} data The message to send\n   * @param {Object} options Options object\n   * @param {Boolean} [options.binary=false] Specifies whether `data` is binary\n   *     or text\n   * @param {Boolean} [options.compress=false] Specifies whether or not to\n   *     compress `data`\n   * @param {Boolean} [options.fin=false] Specifies whether the fragment is the\n   *     last one\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n   *     `data`\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  send(data, options, cb) {\n    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\n    let opcode = options.binary ? 2 : 1;\n    let rsv1 = options.compress;\n\n    let byteLength;\n    let readOnly;\n\n    if (typeof data === 'string') {\n      byteLength = Buffer.byteLength(data);\n      readOnly = false;\n    } else if (isBlob(data)) {\n      byteLength = data.size;\n      readOnly = false;\n    } else {\n      data = toBuffer(data);\n      byteLength = data.length;\n      readOnly = toBuffer.readOnly;\n    }\n\n    if (this._firstFragment) {\n      this._firstFragment = false;\n      if (\n        rsv1 &&\n        perMessageDeflate &&\n        perMessageDeflate.params[\n          perMessageDeflate._isServer\n            ? 'server_no_context_takeover'\n            : 'client_no_context_takeover'\n        ]\n      ) {\n        rsv1 = byteLength >= perMessageDeflate._threshold;\n      }\n      this._compress = rsv1;\n    } else {\n      rsv1 = false;\n      opcode = 0;\n    }\n\n    if (options.fin) this._firstFragment = true;\n\n    const opts = {\n      [kByteLength]: byteLength,\n      fin: options.fin,\n      generateMask: this._generateMask,\n      mask: options.mask,\n      maskBuffer: this._maskBuffer,\n      opcode,\n      readOnly,\n      rsv1\n    };\n\n    if (isBlob(data)) {\n      if (this._state !== DEFAULT) {\n        this.enqueue([this.getBlobData, data, this._compress, opts, cb]);\n      } else {\n        this.getBlobData(data, this._compress, opts, cb);\n      }\n    } else if (this._state !== DEFAULT) {\n      this.enqueue([this.dispatch, data, this._compress, opts, cb]);\n    } else {\n      this.dispatch(data, this._compress, opts, cb);\n    }\n  }\n\n  /**\n   * Gets the contents of a blob as binary data.\n   *\n   * @param {Blob} blob The blob\n   * @param {Boolean} [compress=false] Specifies whether or not to compress\n   *     the data\n   * @param {Object} options Options object\n   * @param {Boolean} [options.fin=false] Specifies whether or not to set the\n   *     FIN bit\n   * @param {Function} [options.generateMask] The function used to generate the\n   *     masking key\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n   *     `data`\n   * @param {Buffer} [options.maskBuffer] The buffer used to store the masking\n   *     key\n   * @param {Number} options.opcode The opcode\n   * @param {Boolean} [options.readOnly=false] Specifies whether `data` can be\n   *     modified\n   * @param {Boolean} [options.rsv1=false] Specifies whether or not to set the\n   *     RSV1 bit\n   * @param {Function} [cb] Callback\n   * @private\n   */\n  getBlobData(blob, compress, options, cb) {\n    this._bufferedBytes += options[kByteLength];\n    this._state = GET_BLOB_DATA;\n\n    blob\n      .arrayBuffer()\n      .then((arrayBuffer) => {\n        if (this._socket.destroyed) {\n          const err = new Error(\n            'The socket was closed while the blob was being read'\n          );\n\n          //\n          // `callCallbacks` is called in the next tick to ensure that errors\n          // that might be thrown in the callbacks behave like errors thrown\n          // outside the promise chain.\n          //\n          process.nextTick(callCallbacks, this, err, cb);\n          return;\n        }\n\n        this._bufferedBytes -= options[kByteLength];\n        const data = toBuffer(arrayBuffer);\n\n        if (!compress) {\n          this._state = DEFAULT;\n          this.sendFrame(Sender.frame(data, options), cb);\n          this.dequeue();\n        } else {\n          this.dispatch(data, compress, options, cb);\n        }\n      })\n      .catch((err) => {\n        //\n        // `onError` is called in the next tick for the same reason that\n        // `callCallbacks` above is.\n        //\n        process.nextTick(onError, this, err, cb);\n      });\n  }\n\n  /**\n   * Dispatches a message.\n   *\n   * @param {(Buffer|String)} data The message to send\n   * @param {Boolean} [compress=false] Specifies whether or not to compress\n   *     `data`\n   * @param {Object} options Options object\n   * @param {Boolean} [options.fin=false] Specifies whether or not to set the\n   *     FIN bit\n   * @param {Function} [options.generateMask] The function used to generate the\n   *     masking key\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n   *     `data`\n   * @param {Buffer} [options.maskBuffer] The buffer used to store the masking\n   *     key\n   * @param {Number} options.opcode The opcode\n   * @param {Boolean} [options.readOnly=false] Specifies whether `data` can be\n   *     modified\n   * @param {Boolean} [options.rsv1=false] Specifies whether or not to set the\n   *     RSV1 bit\n   * @param {Function} [cb] Callback\n   * @private\n   */\n  dispatch(data, compress, options, cb) {\n    if (!compress) {\n      this.sendFrame(Sender.frame(data, options), cb);\n      return;\n    }\n\n    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\n\n    this._bufferedBytes += options[kByteLength];\n    this._state = DEFLATING;\n    perMessageDeflate.compress(data, options.fin, (_, buf) => {\n      if (this._socket.destroyed) {\n        const err = new Error(\n          'The socket was closed while data was being compressed'\n        );\n\n        callCallbacks(this, err, cb);\n        return;\n      }\n\n      this._bufferedBytes -= options[kByteLength];\n      this._state = DEFAULT;\n      options.readOnly = false;\n      this.sendFrame(Sender.frame(buf, options), cb);\n      this.dequeue();\n    });\n  }\n\n  /**\n   * Executes queued send operations.\n   *\n   * @private\n   */\n  dequeue() {\n    while (this._state === DEFAULT && this._queue.length) {\n      const params = this._queue.shift();\n\n      this._bufferedBytes -= params[3][kByteLength];\n      Reflect.apply(params[0], this, params.slice(1));\n    }\n  }\n\n  /**\n   * Enqueues a send operation.\n   *\n   * @param {Array} params Send operation parameters.\n   * @private\n   */\n  enqueue(params) {\n    this._bufferedBytes += params[3][kByteLength];\n    this._queue.push(params);\n  }\n\n  /**\n   * Sends a frame.\n   *\n   * @param {Buffer[]} list The frame to send\n   * @param {Function} [cb] Callback\n   * @private\n   */\n  sendFrame(list, cb) {\n    if (list.length === 2) {\n      this._socket.cork();\n      this._socket.write(list[0]);\n      this._socket.write(list[1], cb);\n      this._socket.uncork();\n    } else {\n      this._socket.write(list[0], cb);\n    }\n  }\n}\n\nmodule.exports = Sender;\n\n/**\n * Calls queued callbacks with an error.\n *\n * @param {Sender} sender The `Sender` instance\n * @param {Error} err The error to call the callbacks with\n * @param {Function} [cb] The first callback\n * @private\n */\nfunction callCallbacks(sender, err, cb) {\n  if (typeof cb === 'function') cb(err);\n\n  for (let i = 0; i < sender._queue.length; i++) {\n    const params = sender._queue[i];\n    const callback = params[params.length - 1];\n\n    if (typeof callback === 'function') callback(err);\n  }\n}\n\n/**\n * Handles a `Sender` error.\n *\n * @param {Sender} sender The `Sender` instance\n * @param {Error} err The error\n * @param {Function} [cb] The first pending callback\n * @private\n */\nfunction onError(sender, err, cb) {\n  callCallbacks(sender, err, cb);\n  sender.onerror(err);\n}\n", "'use strict';\n\nconst { kForOnEventAttribute, kListener } = require('./constants');\n\nconst kCode = Symbol('kCode');\nconst kData = Symbol('kData');\nconst kError = Symbol('kError');\nconst kMessage = Symbol('kMessage');\nconst kReason = Symbol('kReason');\nconst kTarget = Symbol('kTarget');\nconst kType = Symbol('kType');\nconst kWasClean = Symbol('kWasClean');\n\n/**\n * Class representing an event.\n */\nclass Event {\n  /**\n   * Create a new `Event`.\n   *\n   * @param {String} type The name of the event\n   * @throws {TypeError} If the `type` argument is not specified\n   */\n  constructor(type) {\n    this[kTarget] = null;\n    this[kType] = type;\n  }\n\n  /**\n   * @type {*}\n   */\n  get target() {\n    return this[kTarget];\n  }\n\n  /**\n   * @type {String}\n   */\n  get type() {\n    return this[kType];\n  }\n}\n\nObject.defineProperty(Event.prototype, 'target', { enumerable: true });\nObject.defineProperty(Event.prototype, 'type', { enumerable: true });\n\n/**\n * Class representing a close event.\n *\n * @extends Event\n */\nclass CloseEvent extends Event {\n  /**\n   * Create a new `CloseEvent`.\n   *\n   * @param {String} type The name of the event\n   * @param {Object} [options] A dictionary object that allows for setting\n   *     attributes via object members of the same name\n   * @param {Number} [options.code=0] The status code explaining why the\n   *     connection was closed\n   * @param {String} [options.reason=''] A human-readable string explaining why\n   *     the connection was closed\n   * @param {Boolean} [options.wasClean=false] Indicates whether or not the\n   *     connection was cleanly closed\n   */\n  constructor(type, options = {}) {\n    super(type);\n\n    this[kCode] = options.code === undefined ? 0 : options.code;\n    this[kReason] = options.reason === undefined ? '' : options.reason;\n    this[kWasClean] = options.wasClean === undefined ? false : options.wasClean;\n  }\n\n  /**\n   * @type {Number}\n   */\n  get code() {\n    return this[kCode];\n  }\n\n  /**\n   * @type {String}\n   */\n  get reason() {\n    return this[kReason];\n  }\n\n  /**\n   * @type {Boolean}\n   */\n  get wasClean() {\n    return this[kWasClean];\n  }\n}\n\nObject.defineProperty(CloseEvent.prototype, 'code', { enumerable: true });\nObject.defineProperty(CloseEvent.prototype, 'reason', { enumerable: true });\nObject.defineProperty(CloseEvent.prototype, 'wasClean', { enumerable: true });\n\n/**\n * Class representing an error event.\n *\n * @extends Event\n */\nclass ErrorEvent extends Event {\n  /**\n   * Create a new `ErrorEvent`.\n   *\n   * @param {String} type The name of the event\n   * @param {Object} [options] A dictionary object that allows for setting\n   *     attributes via object members of the same name\n   * @param {*} [options.error=null] The error that generated this event\n   * @param {String} [options.message=''] The error message\n   */\n  constructor(type, options = {}) {\n    super(type);\n\n    this[kError] = options.error === undefined ? null : options.error;\n    this[kMessage] = options.message === undefined ? '' : options.message;\n  }\n\n  /**\n   * @type {*}\n   */\n  get error() {\n    return this[kError];\n  }\n\n  /**\n   * @type {String}\n   */\n  get message() {\n    return this[kMessage];\n  }\n}\n\nObject.defineProperty(ErrorEvent.prototype, 'error', { enumerable: true });\nObject.defineProperty(ErrorEvent.prototype, 'message', { enumerable: true });\n\n/**\n * Class representing a message event.\n *\n * @extends Event\n */\nclass MessageEvent extends Event {\n  /**\n   * Create a new `MessageEvent`.\n   *\n   * @param {String} type The name of the event\n   * @param {Object} [options] A dictionary object that allows for setting\n   *     attributes via object members of the same name\n   * @param {*} [options.data=null] The message content\n   */\n  constructor(type, options = {}) {\n    super(type);\n\n    this[kData] = options.data === undefined ? null : options.data;\n  }\n\n  /**\n   * @type {*}\n   */\n  get data() {\n    return this[kData];\n  }\n}\n\nObject.defineProperty(MessageEvent.prototype, 'data', { enumerable: true });\n\n/**\n * This provides methods for emulating the `EventTarget` interface. It's not\n * meant to be used directly.\n *\n * @mixin\n */\nconst EventTarget = {\n  /**\n   * Register an event listener.\n   *\n   * @param {String} type A string representing the event type to listen for\n   * @param {(Function|Object)} handler The listener to add\n   * @param {Object} [options] An options object specifies characteristics about\n   *     the event listener\n   * @param {Boolean} [options.once=false] A `Boolean` indicating that the\n   *     listener should be invoked at most once after being added. If `true`,\n   *     the listener would be automatically removed when invoked.\n   * @public\n   */\n  addEventListener(type, handler, options = {}) {\n    for (const listener of this.listeners(type)) {\n      if (\n        !options[kForOnEventAttribute] &&\n        listener[kListener] === handler &&\n        !listener[kForOnEventAttribute]\n      ) {\n        return;\n      }\n    }\n\n    let wrapper;\n\n    if (type === 'message') {\n      wrapper = function onMessage(data, isBinary) {\n        const event = new MessageEvent('message', {\n          data: isBinary ? data : data.toString()\n        });\n\n        event[kTarget] = this;\n        callListener(handler, this, event);\n      };\n    } else if (type === 'close') {\n      wrapper = function onClose(code, message) {\n        const event = new CloseEvent('close', {\n          code,\n          reason: message.toString(),\n          wasClean: this._closeFrameReceived && this._closeFrameSent\n        });\n\n        event[kTarget] = this;\n        callListener(handler, this, event);\n      };\n    } else if (type === 'error') {\n      wrapper = function onError(error) {\n        const event = new ErrorEvent('error', {\n          error,\n          message: error.message\n        });\n\n        event[kTarget] = this;\n        callListener(handler, this, event);\n      };\n    } else if (type === 'open') {\n      wrapper = function onOpen() {\n        const event = new Event('open');\n\n        event[kTarget] = this;\n        callListener(handler, this, event);\n      };\n    } else {\n      return;\n    }\n\n    wrapper[kForOnEventAttribute] = !!options[kForOnEventAttribute];\n    wrapper[kListener] = handler;\n\n    if (options.once) {\n      this.once(type, wrapper);\n    } else {\n      this.on(type, wrapper);\n    }\n  },\n\n  /**\n   * Remove an event listener.\n   *\n   * @param {String} type A string representing the event type to remove\n   * @param {(Function|Object)} handler The listener to remove\n   * @public\n   */\n  removeEventListener(type, handler) {\n    for (const listener of this.listeners(type)) {\n      if (listener[kListener] === handler && !listener[kForOnEventAttribute]) {\n        this.removeListener(type, listener);\n        break;\n      }\n    }\n  }\n};\n\nmodule.exports = {\n  CloseEvent,\n  ErrorEvent,\n  Event,\n  EventTarget,\n  MessageEvent\n};\n\n/**\n * Call an event listener\n *\n * @param {(Function|Object)} listener The listener to call\n * @param {*} thisArg The value to use as `this`` when calling the listener\n * @param {Event} event The event to pass to the listener\n * @private\n */\nfunction callListener(listener, thisArg, event) {\n  if (typeof listener === 'object' && listener.handleEvent) {\n    listener.handleEvent.call(listener, event);\n  } else {\n    listener.call(thisArg, event);\n  }\n}\n", "'use strict';\n\nconst { tokenChars } = require('./validation');\n\n/**\n * Adds an offer to the map of extension offers or a parameter to the map of\n * parameters.\n *\n * @param {Object} dest The map of extension offers or parameters\n * @param {String} name The extension or parameter name\n * @param {(Object|Boolean|String)} elem The extension parameters or the\n *     parameter value\n * @private\n */\nfunction push(dest, name, elem) {\n  if (dest[name] === undefined) dest[name] = [elem];\n  else dest[name].push(elem);\n}\n\n/**\n * Parses the `Sec-WebSocket-Extensions` header into an object.\n *\n * @param {String} header The field value of the header\n * @return {Object} The parsed object\n * @public\n */\nfunction parse(header) {\n  const offers = Object.create(null);\n  let params = Object.create(null);\n  let mustUnescape = false;\n  let isEscaping = false;\n  let inQuotes = false;\n  let extensionName;\n  let paramName;\n  let start = -1;\n  let code = -1;\n  let end = -1;\n  let i = 0;\n\n  for (; i < header.length; i++) {\n    code = header.charCodeAt(i);\n\n    if (extensionName === undefined) {\n      if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (\n        i !== 0 &&\n        (code === 0x20 /* ' ' */ || code === 0x09) /* '\\t' */\n      ) {\n        if (end === -1 && start !== -1) end = i;\n      } else if (code === 0x3b /* ';' */ || code === 0x2c /* ',' */) {\n        if (start === -1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n\n        if (end === -1) end = i;\n        const name = header.slice(start, end);\n        if (code === 0x2c) {\n          push(offers, name, params);\n          params = Object.create(null);\n        } else {\n          extensionName = name;\n        }\n\n        start = end = -1;\n      } else {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n    } else if (paramName === undefined) {\n      if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (code === 0x20 || code === 0x09) {\n        if (end === -1 && start !== -1) end = i;\n      } else if (code === 0x3b || code === 0x2c) {\n        if (start === -1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n\n        if (end === -1) end = i;\n        push(params, header.slice(start, end), true);\n        if (code === 0x2c) {\n          push(offers, extensionName, params);\n          params = Object.create(null);\n          extensionName = undefined;\n        }\n\n        start = end = -1;\n      } else if (code === 0x3d /* '=' */ && start !== -1 && end === -1) {\n        paramName = header.slice(start, i);\n        start = end = -1;\n      } else {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n    } else {\n      //\n      // The value of a quoted-string after unescaping must conform to the\n      // token ABNF, so only token characters are valid.\n      // Ref: https://tools.ietf.org/html/rfc6455#section-9.1\n      //\n      if (isEscaping) {\n        if (tokenChars[code] !== 1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n        if (start === -1) start = i;\n        else if (!mustUnescape) mustUnescape = true;\n        isEscaping = false;\n      } else if (inQuotes) {\n        if (tokenChars[code] === 1) {\n          if (start === -1) start = i;\n        } else if (code === 0x22 /* '\"' */ && start !== -1) {\n          inQuotes = false;\n          end = i;\n        } else if (code === 0x5c /* '\\' */) {\n          isEscaping = true;\n        } else {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n      } else if (code === 0x22 && header.charCodeAt(i - 1) === 0x3d) {\n        inQuotes = true;\n      } else if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (start !== -1 && (code === 0x20 || code === 0x09)) {\n        if (end === -1) end = i;\n      } else if (code === 0x3b || code === 0x2c) {\n        if (start === -1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n\n        if (end === -1) end = i;\n        let value = header.slice(start, end);\n        if (mustUnescape) {\n          value = value.replace(/\\\\/g, '');\n          mustUnescape = false;\n        }\n        push(params, paramName, value);\n        if (code === 0x2c) {\n          push(offers, extensionName, params);\n          params = Object.create(null);\n          extensionName = undefined;\n        }\n\n        paramName = undefined;\n        start = end = -1;\n      } else {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n    }\n  }\n\n  if (start === -1 || inQuotes || code === 0x20 || code === 0x09) {\n    throw new SyntaxError('Unexpected end of input');\n  }\n\n  if (end === -1) end = i;\n  const token = header.slice(start, end);\n  if (extensionName === undefined) {\n    push(offers, token, params);\n  } else {\n    if (paramName === undefined) {\n      push(params, token, true);\n    } else if (mustUnescape) {\n      push(params, paramName, token.replace(/\\\\/g, ''));\n    } else {\n      push(params, paramName, token);\n    }\n    push(offers, extensionName, params);\n  }\n\n  return offers;\n}\n\n/**\n * Builds the `Sec-WebSocket-Extensions` header field value.\n *\n * @param {Object} extensions The map of extensions and parameters to format\n * @return {String} A string representing the given object\n * @public\n */\nfunction format(extensions) {\n  return Object.keys(extensions)\n    .map((extension) => {\n      let configurations = extensions[extension];\n      if (!Array.isArray(configurations)) configurations = [configurations];\n      return configurations\n        .map((params) => {\n          return [extension]\n            .concat(\n              Object.keys(params).map((k) => {\n                let values = params[k];\n                if (!Array.isArray(values)) values = [values];\n                return values\n                  .map((v) => (v === true ? k : `${k}=${v}`))\n                  .join('; ');\n              })\n            )\n            .join('; ');\n        })\n        .join(', ');\n    })\n    .join(', ');\n}\n\nmodule.exports = { format, parse };\n", "/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^Duplex|Readable$\", \"caughtErrors\": \"none\" }] */\n\n'use strict';\n\nconst EventEmitter = require('events');\nconst https = require('https');\nconst http = require('http');\nconst net = require('net');\nconst tls = require('tls');\nconst { randomBytes, createHash } = require('crypto');\nconst { Duplex, Readable } = require('stream');\nconst { URL } = require('url');\n\nconst PerMessageDeflate = require('./permessage-deflate');\nconst Receiver = require('./receiver');\nconst Sender = require('./sender');\nconst { isBlob } = require('./validation');\n\nconst {\n  BINARY_TYPES,\n  EMPTY_BUFFER,\n  GUID,\n  kForOnEventAttribute,\n  kListener,\n  kStatusCode,\n  kWebSocket,\n  NOOP\n} = require('./constants');\nconst {\n  EventTarget: { addEventListener, removeEventListener }\n} = require('./event-target');\nconst { format, parse } = require('./extension');\nconst { toBuffer } = require('./buffer-util');\n\nconst closeTimeout = 30 * 1000;\nconst kAborted = Symbol('kAborted');\nconst protocolVersions = [8, 13];\nconst readyStates = ['CONNECTING', 'OPEN', 'CLOSING', 'CLOSED'];\nconst subprotocolRegex = /^[!#$%&'*+\\-.0-9A-Z^_`|a-z~]+$/;\n\n/**\n * Class representing a WebSocket.\n *\n * @extends EventEmitter\n */\nclass WebSocket extends EventEmitter {\n  /**\n   * Create a new `WebSocket`.\n   *\n   * @param {(String|URL)} address The URL to which to connect\n   * @param {(String|String[])} [protocols] The subprotocols\n   * @param {Object} [options] Connection options\n   */\n  constructor(address, protocols, options) {\n    super();\n\n    this._binaryType = BINARY_TYPES[0];\n    this._closeCode = 1006;\n    this._closeFrameReceived = false;\n    this._closeFrameSent = false;\n    this._closeMessage = EMPTY_BUFFER;\n    this._closeTimer = null;\n    this._errorEmitted = false;\n    this._extensions = {};\n    this._paused = false;\n    this._protocol = '';\n    this._readyState = WebSocket.CONNECTING;\n    this._receiver = null;\n    this._sender = null;\n    this._socket = null;\n\n    if (address !== null) {\n      this._bufferedAmount = 0;\n      this._isServer = false;\n      this._redirects = 0;\n\n      if (protocols === undefined) {\n        protocols = [];\n      } else if (!Array.isArray(protocols)) {\n        if (typeof protocols === 'object' && protocols !== null) {\n          options = protocols;\n          protocols = [];\n        } else {\n          protocols = [protocols];\n        }\n      }\n\n      initAsClient(this, address, protocols, options);\n    } else {\n      this._autoPong = options.autoPong;\n      this._isServer = true;\n    }\n  }\n\n  /**\n   * For historical reasons, the custom \"nodebuffer\" type is used by the default\n   * instead of \"blob\".\n   *\n   * @type {String}\n   */\n  get binaryType() {\n    return this._binaryType;\n  }\n\n  set binaryType(type) {\n    if (!BINARY_TYPES.includes(type)) return;\n\n    this._binaryType = type;\n\n    //\n    // Allow to change `binaryType` on the fly.\n    //\n    if (this._receiver) this._receiver._binaryType = type;\n  }\n\n  /**\n   * @type {Number}\n   */\n  get bufferedAmount() {\n    if (!this._socket) return this._bufferedAmount;\n\n    return this._socket._writableState.length + this._sender._bufferedBytes;\n  }\n\n  /**\n   * @type {String}\n   */\n  get extensions() {\n    return Object.keys(this._extensions).join();\n  }\n\n  /**\n   * @type {Boolean}\n   */\n  get isPaused() {\n    return this._paused;\n  }\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onclose() {\n    return null;\n  }\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onerror() {\n    return null;\n  }\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onopen() {\n    return null;\n  }\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onmessage() {\n    return null;\n  }\n\n  /**\n   * @type {String}\n   */\n  get protocol() {\n    return this._protocol;\n  }\n\n  /**\n   * @type {Number}\n   */\n  get readyState() {\n    return this._readyState;\n  }\n\n  /**\n   * @type {String}\n   */\n  get url() {\n    return this._url;\n  }\n\n  /**\n   * Set up the socket and the internal resources.\n   *\n   * @param {Duplex} socket The network socket between the server and client\n   * @param {Buffer} head The first packet of the upgraded stream\n   * @param {Object} options Options object\n   * @param {Boolean} [options.allowSynchronousEvents=false] Specifies whether\n   *     any of the `'message'`, `'ping'`, and `'pong'` events can be emitted\n   *     multiple times in the same tick\n   * @param {Function} [options.generateMask] The function used to generate the\n   *     masking key\n   * @param {Number} [options.maxPayload=0] The maximum allowed message size\n   * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n   *     not to skip UTF-8 validation for text and close messages\n   * @private\n   */\n  setSocket(socket, head, options) {\n    const receiver = new Receiver({\n      allowSynchronousEvents: options.allowSynchronousEvents,\n      binaryType: this.binaryType,\n      extensions: this._extensions,\n      isServer: this._isServer,\n      maxPayload: options.maxPayload,\n      skipUTF8Validation: options.skipUTF8Validation\n    });\n\n    const sender = new Sender(socket, this._extensions, options.generateMask);\n\n    this._receiver = receiver;\n    this._sender = sender;\n    this._socket = socket;\n\n    receiver[kWebSocket] = this;\n    sender[kWebSocket] = this;\n    socket[kWebSocket] = this;\n\n    receiver.on('conclude', receiverOnConclude);\n    receiver.on('drain', receiverOnDrain);\n    receiver.on('error', receiverOnError);\n    receiver.on('message', receiverOnMessage);\n    receiver.on('ping', receiverOnPing);\n    receiver.on('pong', receiverOnPong);\n\n    sender.onerror = senderOnError;\n\n    //\n    // These methods may not be available if `socket` is just a `Duplex`.\n    //\n    if (socket.setTimeout) socket.setTimeout(0);\n    if (socket.setNoDelay) socket.setNoDelay();\n\n    if (head.length > 0) socket.unshift(head);\n\n    socket.on('close', socketOnClose);\n    socket.on('data', socketOnData);\n    socket.on('end', socketOnEnd);\n    socket.on('error', socketOnError);\n\n    this._readyState = WebSocket.OPEN;\n    this.emit('open');\n  }\n\n  /**\n   * Emit the `'close'` event.\n   *\n   * @private\n   */\n  emitClose() {\n    if (!this._socket) {\n      this._readyState = WebSocket.CLOSED;\n      this.emit('close', this._closeCode, this._closeMessage);\n      return;\n    }\n\n    if (this._extensions[PerMessageDeflate.extensionName]) {\n      this._extensions[PerMessageDeflate.extensionName].cleanup();\n    }\n\n    this._receiver.removeAllListeners();\n    this._readyState = WebSocket.CLOSED;\n    this.emit('close', this._closeCode, this._closeMessage);\n  }\n\n  /**\n   * Start a closing handshake.\n   *\n   *          +----------+   +-----------+   +----------+\n   *     - - -|ws.close()|-->|close frame|-->|ws.close()|- - -\n   *    |     +----------+   +-----------+   +----------+     |\n   *          +----------+   +-----------+         |\n   * CLOSING  |ws.close()|<--|close frame|<--+-----+       CLOSING\n   *          +----------+   +-----------+   |\n   *    |           |                        |   +---+        |\n   *                +------------------------+-->|fin| - - - -\n   *    |         +---+                      |   +---+\n   *     - - - - -|fin|<---------------------+\n   *              +---+\n   *\n   * @param {Number} [code] Status code explaining why the connection is closing\n   * @param {(String|Buffer)} [data] The reason why the connection is\n   *     closing\n   * @public\n   */\n  close(code, data) {\n    if (this.readyState === WebSocket.CLOSED) return;\n    if (this.readyState === WebSocket.CONNECTING) {\n      const msg = 'WebSocket was closed before the connection was established';\n      abortHandshake(this, this._req, msg);\n      return;\n    }\n\n    if (this.readyState === WebSocket.CLOSING) {\n      if (\n        this._closeFrameSent &&\n        (this._closeFrameReceived || this._receiver._writableState.errorEmitted)\n      ) {\n        this._socket.end();\n      }\n\n      return;\n    }\n\n    this._readyState = WebSocket.CLOSING;\n    this._sender.close(code, data, !this._isServer, (err) => {\n      //\n      // This error is handled by the `'error'` listener on the socket. We only\n      // want to know if the close frame has been sent here.\n      //\n      if (err) return;\n\n      this._closeFrameSent = true;\n\n      if (\n        this._closeFrameReceived ||\n        this._receiver._writableState.errorEmitted\n      ) {\n        this._socket.end();\n      }\n    });\n\n    setCloseTimer(this);\n  }\n\n  /**\n   * Pause the socket.\n   *\n   * @public\n   */\n  pause() {\n    if (\n      this.readyState === WebSocket.CONNECTING ||\n      this.readyState === WebSocket.CLOSED\n    ) {\n      return;\n    }\n\n    this._paused = true;\n    this._socket.pause();\n  }\n\n  /**\n   * Send a ping.\n   *\n   * @param {*} [data] The data to send\n   * @param {Boolean} [mask] Indicates whether or not to mask `data`\n   * @param {Function} [cb] Callback which is executed when the ping is sent\n   * @public\n   */\n  ping(data, mask, cb) {\n    if (this.readyState === WebSocket.CONNECTING) {\n      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\n    }\n\n    if (typeof data === 'function') {\n      cb = data;\n      data = mask = undefined;\n    } else if (typeof mask === 'function') {\n      cb = mask;\n      mask = undefined;\n    }\n\n    if (typeof data === 'number') data = data.toString();\n\n    if (this.readyState !== WebSocket.OPEN) {\n      sendAfterClose(this, data, cb);\n      return;\n    }\n\n    if (mask === undefined) mask = !this._isServer;\n    this._sender.ping(data || EMPTY_BUFFER, mask, cb);\n  }\n\n  /**\n   * Send a pong.\n   *\n   * @param {*} [data] The data to send\n   * @param {Boolean} [mask] Indicates whether or not to mask `data`\n   * @param {Function} [cb] Callback which is executed when the pong is sent\n   * @public\n   */\n  pong(data, mask, cb) {\n    if (this.readyState === WebSocket.CONNECTING) {\n      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\n    }\n\n    if (typeof data === 'function') {\n      cb = data;\n      data = mask = undefined;\n    } else if (typeof mask === 'function') {\n      cb = mask;\n      mask = undefined;\n    }\n\n    if (typeof data === 'number') data = data.toString();\n\n    if (this.readyState !== WebSocket.OPEN) {\n      sendAfterClose(this, data, cb);\n      return;\n    }\n\n    if (mask === undefined) mask = !this._isServer;\n    this._sender.pong(data || EMPTY_BUFFER, mask, cb);\n  }\n\n  /**\n   * Resume the socket.\n   *\n   * @public\n   */\n  resume() {\n    if (\n      this.readyState === WebSocket.CONNECTING ||\n      this.readyState === WebSocket.CLOSED\n    ) {\n      return;\n    }\n\n    this._paused = false;\n    if (!this._receiver._writableState.needDrain) this._socket.resume();\n  }\n\n  /**\n   * Send a data message.\n   *\n   * @param {*} data The message to send\n   * @param {Object} [options] Options object\n   * @param {Boolean} [options.binary] Specifies whether `data` is binary or\n   *     text\n   * @param {Boolean} [options.compress] Specifies whether or not to compress\n   *     `data`\n   * @param {Boolean} [options.fin=true] Specifies whether the fragment is the\n   *     last one\n   * @param {Boolean} [options.mask] Specifies whether or not to mask `data`\n   * @param {Function} [cb] Callback which is executed when data is written out\n   * @public\n   */\n  send(data, options, cb) {\n    if (this.readyState === WebSocket.CONNECTING) {\n      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\n    }\n\n    if (typeof options === 'function') {\n      cb = options;\n      options = {};\n    }\n\n    if (typeof data === 'number') data = data.toString();\n\n    if (this.readyState !== WebSocket.OPEN) {\n      sendAfterClose(this, data, cb);\n      return;\n    }\n\n    const opts = {\n      binary: typeof data !== 'string',\n      mask: !this._isServer,\n      compress: true,\n      fin: true,\n      ...options\n    };\n\n    if (!this._extensions[PerMessageDeflate.extensionName]) {\n      opts.compress = false;\n    }\n\n    this._sender.send(data || EMPTY_BUFFER, opts, cb);\n  }\n\n  /**\n   * Forcibly close the connection.\n   *\n   * @public\n   */\n  terminate() {\n    if (this.readyState === WebSocket.CLOSED) return;\n    if (this.readyState === WebSocket.CONNECTING) {\n      const msg = 'WebSocket was closed before the connection was established';\n      abortHandshake(this, this._req, msg);\n      return;\n    }\n\n    if (this._socket) {\n      this._readyState = WebSocket.CLOSING;\n      this._socket.destroy();\n    }\n  }\n}\n\n/**\n * @constant {Number} CONNECTING\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'CONNECTING', {\n  enumerable: true,\n  value: readyStates.indexOf('CONNECTING')\n});\n\n/**\n * @constant {Number} CONNECTING\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'CONNECTING', {\n  enumerable: true,\n  value: readyStates.indexOf('CONNECTING')\n});\n\n/**\n * @constant {Number} OPEN\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'OPEN', {\n  enumerable: true,\n  value: readyStates.indexOf('OPEN')\n});\n\n/**\n * @constant {Number} OPEN\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'OPEN', {\n  enumerable: true,\n  value: readyStates.indexOf('OPEN')\n});\n\n/**\n * @constant {Number} CLOSING\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'CLOSING', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSING')\n});\n\n/**\n * @constant {Number} CLOSING\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'CLOSING', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSING')\n});\n\n/**\n * @constant {Number} CLOSED\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'CLOSED', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSED')\n});\n\n/**\n * @constant {Number} CLOSED\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'CLOSED', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSED')\n});\n\n[\n  'binaryType',\n  'bufferedAmount',\n  'extensions',\n  'isPaused',\n  'protocol',\n  'readyState',\n  'url'\n].forEach((property) => {\n  Object.defineProperty(WebSocket.prototype, property, { enumerable: true });\n});\n\n//\n// Add the `onopen`, `onerror`, `onclose`, and `onmessage` attributes.\n// See https://html.spec.whatwg.org/multipage/comms.html#the-websocket-interface\n//\n['open', 'error', 'close', 'message'].forEach((method) => {\n  Object.defineProperty(WebSocket.prototype, `on${method}`, {\n    enumerable: true,\n    get() {\n      for (const listener of this.listeners(method)) {\n        if (listener[kForOnEventAttribute]) return listener[kListener];\n      }\n\n      return null;\n    },\n    set(handler) {\n      for (const listener of this.listeners(method)) {\n        if (listener[kForOnEventAttribute]) {\n          this.removeListener(method, listener);\n          break;\n        }\n      }\n\n      if (typeof handler !== 'function') return;\n\n      this.addEventListener(method, handler, {\n        [kForOnEventAttribute]: true\n      });\n    }\n  });\n});\n\nWebSocket.prototype.addEventListener = addEventListener;\nWebSocket.prototype.removeEventListener = removeEventListener;\n\nmodule.exports = WebSocket;\n\n/**\n * Initialize a WebSocket client.\n *\n * @param {WebSocket} websocket The client to initialize\n * @param {(String|URL)} address The URL to which to connect\n * @param {Array} protocols The subprotocols\n * @param {Object} [options] Connection options\n * @param {Boolean} [options.allowSynchronousEvents=true] Specifies whether any\n *     of the `'message'`, `'ping'`, and `'pong'` events can be emitted multiple\n *     times in the same tick\n * @param {Boolean} [options.autoPong=true] Specifies whether or not to\n *     automatically send a pong in response to a ping\n * @param {Function} [options.finishRequest] A function which can be used to\n *     customize the headers of each http request before it is sent\n * @param {Boolean} [options.followRedirects=false] Whether or not to follow\n *     redirects\n * @param {Function} [options.generateMask] The function used to generate the\n *     masking key\n * @param {Number} [options.handshakeTimeout] Timeout in milliseconds for the\n *     handshake request\n * @param {Number} [options.maxPayload=104857600] The maximum allowed message\n *     size\n * @param {Number} [options.maxRedirects=10] The maximum number of redirects\n *     allowed\n * @param {String} [options.origin] Value of the `Origin` or\n *     `Sec-WebSocket-Origin` header\n * @param {(Boolean|Object)} [options.perMessageDeflate=true] Enable/disable\n *     permessage-deflate\n * @param {Number} [options.protocolVersion=13] Value of the\n *     `Sec-WebSocket-Version` header\n * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n *     not to skip UTF-8 validation for text and close messages\n * @private\n */\nfunction initAsClient(websocket, address, protocols, options) {\n  const opts = {\n    allowSynchronousEvents: true,\n    autoPong: true,\n    protocolVersion: protocolVersions[1],\n    maxPayload: 100 * 1024 * 1024,\n    skipUTF8Validation: false,\n    perMessageDeflate: true,\n    followRedirects: false,\n    maxRedirects: 10,\n    ...options,\n    socketPath: undefined,\n    hostname: undefined,\n    protocol: undefined,\n    timeout: undefined,\n    method: 'GET',\n    host: undefined,\n    path: undefined,\n    port: undefined\n  };\n\n  websocket._autoPong = opts.autoPong;\n\n  if (!protocolVersions.includes(opts.protocolVersion)) {\n    throw new RangeError(\n      `Unsupported protocol version: ${opts.protocolVersion} ` +\n        `(supported versions: ${protocolVersions.join(', ')})`\n    );\n  }\n\n  let parsedUrl;\n\n  if (address instanceof URL) {\n    parsedUrl = address;\n  } else {\n    try {\n      parsedUrl = new URL(address);\n    } catch (e) {\n      throw new SyntaxError(`Invalid URL: ${address}`);\n    }\n  }\n\n  if (parsedUrl.protocol === 'http:') {\n    parsedUrl.protocol = 'ws:';\n  } else if (parsedUrl.protocol === 'https:') {\n    parsedUrl.protocol = 'wss:';\n  }\n\n  websocket._url = parsedUrl.href;\n\n  const isSecure = parsedUrl.protocol === 'wss:';\n  const isIpcUrl = parsedUrl.protocol === 'ws+unix:';\n  let invalidUrlMessage;\n\n  if (parsedUrl.protocol !== 'ws:' && !isSecure && !isIpcUrl) {\n    invalidUrlMessage =\n      'The URL\\'s protocol must be one of \"ws:\", \"wss:\", ' +\n      '\"http:\", \"https\", or \"ws+unix:\"';\n  } else if (isIpcUrl && !parsedUrl.pathname) {\n    invalidUrlMessage = \"The URL's pathname is empty\";\n  } else if (parsedUrl.hash) {\n    invalidUrlMessage = 'The URL contains a fragment identifier';\n  }\n\n  if (invalidUrlMessage) {\n    const err = new SyntaxError(invalidUrlMessage);\n\n    if (websocket._redirects === 0) {\n      throw err;\n    } else {\n      emitErrorAndClose(websocket, err);\n      return;\n    }\n  }\n\n  const defaultPort = isSecure ? 443 : 80;\n  const key = randomBytes(16).toString('base64');\n  const request = isSecure ? https.request : http.request;\n  const protocolSet = new Set();\n  let perMessageDeflate;\n\n  opts.createConnection =\n    opts.createConnection || (isSecure ? tlsConnect : netConnect);\n  opts.defaultPort = opts.defaultPort || defaultPort;\n  opts.port = parsedUrl.port || defaultPort;\n  opts.host = parsedUrl.hostname.startsWith('[')\n    ? parsedUrl.hostname.slice(1, -1)\n    : parsedUrl.hostname;\n  opts.headers = {\n    ...opts.headers,\n    'Sec-WebSocket-Version': opts.protocolVersion,\n    'Sec-WebSocket-Key': key,\n    Connection: 'Upgrade',\n    Upgrade: 'websocket'\n  };\n  opts.path = parsedUrl.pathname + parsedUrl.search;\n  opts.timeout = opts.handshakeTimeout;\n\n  if (opts.perMessageDeflate) {\n    perMessageDeflate = new PerMessageDeflate(\n      opts.perMessageDeflate !== true ? opts.perMessageDeflate : {},\n      false,\n      opts.maxPayload\n    );\n    opts.headers['Sec-WebSocket-Extensions'] = format({\n      [PerMessageDeflate.extensionName]: perMessageDeflate.offer()\n    });\n  }\n  if (protocols.length) {\n    for (const protocol of protocols) {\n      if (\n        typeof protocol !== 'string' ||\n        !subprotocolRegex.test(protocol) ||\n        protocolSet.has(protocol)\n      ) {\n        throw new SyntaxError(\n          'An invalid or duplicated subprotocol was specified'\n        );\n      }\n\n      protocolSet.add(protocol);\n    }\n\n    opts.headers['Sec-WebSocket-Protocol'] = protocols.join(',');\n  }\n  if (opts.origin) {\n    if (opts.protocolVersion < 13) {\n      opts.headers['Sec-WebSocket-Origin'] = opts.origin;\n    } else {\n      opts.headers.Origin = opts.origin;\n    }\n  }\n  if (parsedUrl.username || parsedUrl.password) {\n    opts.auth = `${parsedUrl.username}:${parsedUrl.password}`;\n  }\n\n  if (isIpcUrl) {\n    const parts = opts.path.split(':');\n\n    opts.socketPath = parts[0];\n    opts.path = parts[1];\n  }\n\n  let req;\n\n  if (opts.followRedirects) {\n    if (websocket._redirects === 0) {\n      websocket._originalIpc = isIpcUrl;\n      websocket._originalSecure = isSecure;\n      websocket._originalHostOrSocketPath = isIpcUrl\n        ? opts.socketPath\n        : parsedUrl.host;\n\n      const headers = options && options.headers;\n\n      //\n      // Shallow copy the user provided options so that headers can be changed\n      // without mutating the original object.\n      //\n      options = { ...options, headers: {} };\n\n      if (headers) {\n        for (const [key, value] of Object.entries(headers)) {\n          options.headers[key.toLowerCase()] = value;\n        }\n      }\n    } else if (websocket.listenerCount('redirect') === 0) {\n      const isSameHost = isIpcUrl\n        ? websocket._originalIpc\n          ? opts.socketPath === websocket._originalHostOrSocketPath\n          : false\n        : websocket._originalIpc\n          ? false\n          : parsedUrl.host === websocket._originalHostOrSocketPath;\n\n      if (!isSameHost || (websocket._originalSecure && !isSecure)) {\n        //\n        // Match curl 7.77.0 behavior and drop the following headers. These\n        // headers are also dropped when following a redirect to a subdomain.\n        //\n        delete opts.headers.authorization;\n        delete opts.headers.cookie;\n\n        if (!isSameHost) delete opts.headers.host;\n\n        opts.auth = undefined;\n      }\n    }\n\n    //\n    // Match curl 7.77.0 behavior and make the first `Authorization` header win.\n    // If the `Authorization` header is set, then there is nothing to do as it\n    // will take precedence.\n    //\n    if (opts.auth && !options.headers.authorization) {\n      options.headers.authorization =\n        'Basic ' + Buffer.from(opts.auth).toString('base64');\n    }\n\n    req = websocket._req = request(opts);\n\n    if (websocket._redirects) {\n      //\n      // Unlike what is done for the `'upgrade'` event, no early exit is\n      // triggered here if the user calls `websocket.close()` or\n      // `websocket.terminate()` from a listener of the `'redirect'` event. This\n      // is because the user can also call `request.destroy()` with an error\n      // before calling `websocket.close()` or `websocket.terminate()` and this\n      // would result in an error being emitted on the `request` object with no\n      // `'error'` event listeners attached.\n      //\n      websocket.emit('redirect', websocket.url, req);\n    }\n  } else {\n    req = websocket._req = request(opts);\n  }\n\n  if (opts.timeout) {\n    req.on('timeout', () => {\n      abortHandshake(websocket, req, 'Opening handshake has timed out');\n    });\n  }\n\n  req.on('error', (err) => {\n    if (req === null || req[kAborted]) return;\n\n    req = websocket._req = null;\n    emitErrorAndClose(websocket, err);\n  });\n\n  req.on('response', (res) => {\n    const location = res.headers.location;\n    const statusCode = res.statusCode;\n\n    if (\n      location &&\n      opts.followRedirects &&\n      statusCode >= 300 &&\n      statusCode < 400\n    ) {\n      if (++websocket._redirects > opts.maxRedirects) {\n        abortHandshake(websocket, req, 'Maximum redirects exceeded');\n        return;\n      }\n\n      req.abort();\n\n      let addr;\n\n      try {\n        addr = new URL(location, address);\n      } catch (e) {\n        const err = new SyntaxError(`Invalid URL: ${location}`);\n        emitErrorAndClose(websocket, err);\n        return;\n      }\n\n      initAsClient(websocket, addr, protocols, options);\n    } else if (!websocket.emit('unexpected-response', req, res)) {\n      abortHandshake(\n        websocket,\n        req,\n        `Unexpected server response: ${res.statusCode}`\n      );\n    }\n  });\n\n  req.on('upgrade', (res, socket, head) => {\n    websocket.emit('upgrade', res);\n\n    //\n    // The user may have closed the connection from a listener of the\n    // `'upgrade'` event.\n    //\n    if (websocket.readyState !== WebSocket.CONNECTING) return;\n\n    req = websocket._req = null;\n\n    const upgrade = res.headers.upgrade;\n\n    if (upgrade === undefined || upgrade.toLowerCase() !== 'websocket') {\n      abortHandshake(websocket, socket, 'Invalid Upgrade header');\n      return;\n    }\n\n    const digest = createHash('sha1')\n      .update(key + GUID)\n      .digest('base64');\n\n    if (res.headers['sec-websocket-accept'] !== digest) {\n      abortHandshake(websocket, socket, 'Invalid Sec-WebSocket-Accept header');\n      return;\n    }\n\n    const serverProt = res.headers['sec-websocket-protocol'];\n    let protError;\n\n    if (serverProt !== undefined) {\n      if (!protocolSet.size) {\n        protError = 'Server sent a subprotocol but none was requested';\n      } else if (!protocolSet.has(serverProt)) {\n        protError = 'Server sent an invalid subprotocol';\n      }\n    } else if (protocolSet.size) {\n      protError = 'Server sent no subprotocol';\n    }\n\n    if (protError) {\n      abortHandshake(websocket, socket, protError);\n      return;\n    }\n\n    if (serverProt) websocket._protocol = serverProt;\n\n    const secWebSocketExtensions = res.headers['sec-websocket-extensions'];\n\n    if (secWebSocketExtensions !== undefined) {\n      if (!perMessageDeflate) {\n        const message =\n          'Server sent a Sec-WebSocket-Extensions header but no extension ' +\n          'was requested';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      let extensions;\n\n      try {\n        extensions = parse(secWebSocketExtensions);\n      } catch (err) {\n        const message = 'Invalid Sec-WebSocket-Extensions header';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      const extensionNames = Object.keys(extensions);\n\n      if (\n        extensionNames.length !== 1 ||\n        extensionNames[0] !== PerMessageDeflate.extensionName\n      ) {\n        const message = 'Server indicated an extension that was not requested';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      try {\n        perMessageDeflate.accept(extensions[PerMessageDeflate.extensionName]);\n      } catch (err) {\n        const message = 'Invalid Sec-WebSocket-Extensions header';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      websocket._extensions[PerMessageDeflate.extensionName] =\n        perMessageDeflate;\n    }\n\n    websocket.setSocket(socket, head, {\n      allowSynchronousEvents: opts.allowSynchronousEvents,\n      generateMask: opts.generateMask,\n      maxPayload: opts.maxPayload,\n      skipUTF8Validation: opts.skipUTF8Validation\n    });\n  });\n\n  if (opts.finishRequest) {\n    opts.finishRequest(req, websocket);\n  } else {\n    req.end();\n  }\n}\n\n/**\n * Emit the `'error'` and `'close'` events.\n *\n * @param {WebSocket} websocket The WebSocket instance\n * @param {Error} The error to emit\n * @private\n */\nfunction emitErrorAndClose(websocket, err) {\n  websocket._readyState = WebSocket.CLOSING;\n  //\n  // The following assignment is practically useless and is done only for\n  // consistency.\n  //\n  websocket._errorEmitted = true;\n  websocket.emit('error', err);\n  websocket.emitClose();\n}\n\n/**\n * Create a `net.Socket` and initiate a connection.\n *\n * @param {Object} options Connection options\n * @return {net.Socket} The newly created socket used to start the connection\n * @private\n */\nfunction netConnect(options) {\n  options.path = options.socketPath;\n  return net.connect(options);\n}\n\n/**\n * Create a `tls.TLSSocket` and initiate a connection.\n *\n * @param {Object} options Connection options\n * @return {tls.TLSSocket} The newly created socket used to start the connection\n * @private\n */\nfunction tlsConnect(options) {\n  options.path = undefined;\n\n  if (!options.servername && options.servername !== '') {\n    options.servername = net.isIP(options.host) ? '' : options.host;\n  }\n\n  return tls.connect(options);\n}\n\n/**\n * Abort the handshake and emit an error.\n *\n * @param {WebSocket} websocket The WebSocket instance\n * @param {(http.ClientRequest|net.Socket|tls.Socket)} stream The request to\n *     abort or the socket to destroy\n * @param {String} message The error message\n * @private\n */\nfunction abortHandshake(websocket, stream, message) {\n  websocket._readyState = WebSocket.CLOSING;\n\n  const err = new Error(message);\n  Error.captureStackTrace(err, abortHandshake);\n\n  if (stream.setHeader) {\n    stream[kAborted] = true;\n    stream.abort();\n\n    if (stream.socket && !stream.socket.destroyed) {\n      //\n      // On Node.js >= 14.3.0 `request.abort()` does not destroy the socket if\n      // called after the request completed. See\n      // https://github.com/websockets/ws/issues/1869.\n      //\n      stream.socket.destroy();\n    }\n\n    process.nextTick(emitErrorAndClose, websocket, err);\n  } else {\n    stream.destroy(err);\n    stream.once('error', websocket.emit.bind(websocket, 'error'));\n    stream.once('close', websocket.emitClose.bind(websocket));\n  }\n}\n\n/**\n * Handle cases where the `ping()`, `pong()`, or `send()` methods are called\n * when the `readyState` attribute is `CLOSING` or `CLOSED`.\n *\n * @param {WebSocket} websocket The WebSocket instance\n * @param {*} [data] The data to send\n * @param {Function} [cb] Callback\n * @private\n */\nfunction sendAfterClose(websocket, data, cb) {\n  if (data) {\n    const length = isBlob(data) ? data.size : toBuffer(data).length;\n\n    //\n    // The `_bufferedAmount` property is used only when the peer is a client and\n    // the opening handshake fails. Under these circumstances, in fact, the\n    // `setSocket()` method is not called, so the `_socket` and `_sender`\n    // properties are set to `null`.\n    //\n    if (websocket._socket) websocket._sender._bufferedBytes += length;\n    else websocket._bufferedAmount += length;\n  }\n\n  if (cb) {\n    const err = new Error(\n      `WebSocket is not open: readyState ${websocket.readyState} ` +\n        `(${readyStates[websocket.readyState]})`\n    );\n    process.nextTick(cb, err);\n  }\n}\n\n/**\n * The listener of the `Receiver` `'conclude'` event.\n *\n * @param {Number} code The status code\n * @param {Buffer} reason The reason for closing\n * @private\n */\nfunction receiverOnConclude(code, reason) {\n  const websocket = this[kWebSocket];\n\n  websocket._closeFrameReceived = true;\n  websocket._closeMessage = reason;\n  websocket._closeCode = code;\n\n  if (websocket._socket[kWebSocket] === undefined) return;\n\n  websocket._socket.removeListener('data', socketOnData);\n  process.nextTick(resume, websocket._socket);\n\n  if (code === 1005) websocket.close();\n  else websocket.close(code, reason);\n}\n\n/**\n * The listener of the `Receiver` `'drain'` event.\n *\n * @private\n */\nfunction receiverOnDrain() {\n  const websocket = this[kWebSocket];\n\n  if (!websocket.isPaused) websocket._socket.resume();\n}\n\n/**\n * The listener of the `Receiver` `'error'` event.\n *\n * @param {(RangeError|Error)} err The emitted error\n * @private\n */\nfunction receiverOnError(err) {\n  const websocket = this[kWebSocket];\n\n  if (websocket._socket[kWebSocket] !== undefined) {\n    websocket._socket.removeListener('data', socketOnData);\n\n    //\n    // On Node.js < 14.0.0 the `'error'` event is emitted synchronously. See\n    // https://github.com/websockets/ws/issues/1940.\n    //\n    process.nextTick(resume, websocket._socket);\n\n    websocket.close(err[kStatusCode]);\n  }\n\n  if (!websocket._errorEmitted) {\n    websocket._errorEmitted = true;\n    websocket.emit('error', err);\n  }\n}\n\n/**\n * The listener of the `Receiver` `'finish'` event.\n *\n * @private\n */\nfunction receiverOnFinish() {\n  this[kWebSocket].emitClose();\n}\n\n/**\n * The listener of the `Receiver` `'message'` event.\n *\n * @param {Buffer|ArrayBuffer|Buffer[])} data The message\n * @param {Boolean} isBinary Specifies whether the message is binary or not\n * @private\n */\nfunction receiverOnMessage(data, isBinary) {\n  this[kWebSocket].emit('message', data, isBinary);\n}\n\n/**\n * The listener of the `Receiver` `'ping'` event.\n *\n * @param {Buffer} data The data included in the ping frame\n * @private\n */\nfunction receiverOnPing(data) {\n  const websocket = this[kWebSocket];\n\n  if (websocket._autoPong) websocket.pong(data, !this._isServer, NOOP);\n  websocket.emit('ping', data);\n}\n\n/**\n * The listener of the `Receiver` `'pong'` event.\n *\n * @param {Buffer} data The data included in the pong frame\n * @private\n */\nfunction receiverOnPong(data) {\n  this[kWebSocket].emit('pong', data);\n}\n\n/**\n * Resume a readable stream\n *\n * @param {Readable} stream The readable stream\n * @private\n */\nfunction resume(stream) {\n  stream.resume();\n}\n\n/**\n * The `Sender` error event handler.\n *\n * @param {Error} The error\n * @private\n */\nfunction senderOnError(err) {\n  const websocket = this[kWebSocket];\n\n  if (websocket.readyState === WebSocket.CLOSED) return;\n  if (websocket.readyState === WebSocket.OPEN) {\n    websocket._readyState = WebSocket.CLOSING;\n    setCloseTimer(websocket);\n  }\n\n  //\n  // `socket.end()` is used instead of `socket.destroy()` to allow the other\n  // peer to finish sending queued data. There is no need to set a timer here\n  // because `CLOSING` means that it is already set or not needed.\n  //\n  this._socket.end();\n\n  if (!websocket._errorEmitted) {\n    websocket._errorEmitted = true;\n    websocket.emit('error', err);\n  }\n}\n\n/**\n * Set a timer to destroy the underlying raw socket of a WebSocket.\n *\n * @param {WebSocket} websocket The WebSocket instance\n * @private\n */\nfunction setCloseTimer(websocket) {\n  websocket._closeTimer = setTimeout(\n    websocket._socket.destroy.bind(websocket._socket),\n    closeTimeout\n  );\n}\n\n/**\n * The listener of the socket `'close'` event.\n *\n * @private\n */\nfunction socketOnClose() {\n  const websocket = this[kWebSocket];\n\n  this.removeListener('close', socketOnClose);\n  this.removeListener('data', socketOnData);\n  this.removeListener('end', socketOnEnd);\n\n  websocket._readyState = WebSocket.CLOSING;\n\n  let chunk;\n\n  //\n  // The close frame might not have been received or the `'end'` event emitted,\n  // for example, if the socket was destroyed due to an error. Ensure that the\n  // `receiver` stream is closed after writing any remaining buffered data to\n  // it. If the readable side of the socket is in flowing mode then there is no\n  // buffered data as everything has been already written and `readable.read()`\n  // will return `null`. If instead, the socket is paused, any possible buffered\n  // data will be read as a single chunk.\n  //\n  if (\n    !this._readableState.endEmitted &&\n    !websocket._closeFrameReceived &&\n    !websocket._receiver._writableState.errorEmitted &&\n    (chunk = websocket._socket.read()) !== null\n  ) {\n    websocket._receiver.write(chunk);\n  }\n\n  websocket._receiver.end();\n\n  this[kWebSocket] = undefined;\n\n  clearTimeout(websocket._closeTimer);\n\n  if (\n    websocket._receiver._writableState.finished ||\n    websocket._receiver._writableState.errorEmitted\n  ) {\n    websocket.emitClose();\n  } else {\n    websocket._receiver.on('error', receiverOnFinish);\n    websocket._receiver.on('finish', receiverOnFinish);\n  }\n}\n\n/**\n * The listener of the socket `'data'` event.\n *\n * @param {Buffer} chunk A chunk of data\n * @private\n */\nfunction socketOnData(chunk) {\n  if (!this[kWebSocket]._receiver.write(chunk)) {\n    this.pause();\n  }\n}\n\n/**\n * The listener of the socket `'end'` event.\n *\n * @private\n */\nfunction socketOnEnd() {\n  const websocket = this[kWebSocket];\n\n  websocket._readyState = WebSocket.CLOSING;\n  websocket._receiver.end();\n  this.end();\n}\n\n/**\n * The listener of the socket `'error'` event.\n *\n * @private\n */\nfunction socketOnError() {\n  const websocket = this[kWebSocket];\n\n  this.removeListener('error', socketOnError);\n  this.on('error', NOOP);\n\n  if (websocket) {\n    websocket._readyState = WebSocket.CLOSING;\n    this.destroy();\n  }\n}\n", "'use strict';\n\nconst { tokenChars } = require('./validation');\n\n/**\n * Parses the `Sec-WebSocket-Protocol` header into a set of subprotocol names.\n *\n * @param {String} header The field value of the header\n * @return {Set} The subprotocol names\n * @public\n */\nfunction parse(header) {\n  const protocols = new Set();\n  let start = -1;\n  let end = -1;\n  let i = 0;\n\n  for (i; i < header.length; i++) {\n    const code = header.charCodeAt(i);\n\n    if (end === -1 && tokenChars[code] === 1) {\n      if (start === -1) start = i;\n    } else if (\n      i !== 0 &&\n      (code === 0x20 /* ' ' */ || code === 0x09) /* '\\t' */\n    ) {\n      if (end === -1 && start !== -1) end = i;\n    } else if (code === 0x2c /* ',' */) {\n      if (start === -1) {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n\n      if (end === -1) end = i;\n\n      const protocol = header.slice(start, end);\n\n      if (protocols.has(protocol)) {\n        throw new SyntaxError(`The \"${protocol}\" subprotocol is duplicated`);\n      }\n\n      protocols.add(protocol);\n      start = end = -1;\n    } else {\n      throw new SyntaxError(`Unexpected character at index ${i}`);\n    }\n  }\n\n  if (start === -1 || end !== -1) {\n    throw new SyntaxError('Unexpected end of input');\n  }\n\n  const protocol = header.slice(start, i);\n\n  if (protocols.has(protocol)) {\n    throw new SyntaxError(`The \"${protocol}\" subprotocol is duplicated`);\n  }\n\n  protocols.add(protocol);\n  return protocols;\n}\n\nmodule.exports = { parse };\n", "/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^Duplex$\", \"caughtErrors\": \"none\" }] */\n\n'use strict';\n\nconst EventEmitter = require('events');\nconst http = require('http');\nconst { Duplex } = require('stream');\nconst { createHash } = require('crypto');\n\nconst extension = require('./extension');\nconst PerMessageDeflate = require('./permessage-deflate');\nconst subprotocol = require('./subprotocol');\nconst WebSocket = require('./websocket');\nconst { GUID, kWebSocket } = require('./constants');\n\nconst keyRegex = /^[+/0-9A-Za-z]{22}==$/;\n\nconst RUNNING = 0;\nconst CLOSING = 1;\nconst CLOSED = 2;\n\n/**\n * Class representing a WebSocket server.\n *\n * @extends EventEmitter\n */\nclass WebSocketServer extends EventEmitter {\n  /**\n   * Create a `WebSocketServer` instance.\n   *\n   * @param {Object} options Configuration options\n   * @param {Boolean} [options.allowSynchronousEvents=true] Specifies whether\n   *     any of the `'message'`, `'ping'`, and `'pong'` events can be emitted\n   *     multiple times in the same tick\n   * @param {Boolean} [options.autoPong=true] Specifies whether or not to\n   *     automatically send a pong in response to a ping\n   * @param {Number} [options.backlog=511] The maximum length of the queue of\n   *     pending connections\n   * @param {Boolean} [options.clientTracking=true] Specifies whether or not to\n   *     track clients\n   * @param {Function} [options.handleProtocols] A hook to handle protocols\n   * @param {String} [options.host] The hostname where to bind the server\n   * @param {Number} [options.maxPayload=104857600] The maximum allowed message\n   *     size\n   * @param {Boolean} [options.noServer=false] Enable no server mode\n   * @param {String} [options.path] Accept only connections matching this path\n   * @param {(Boolean|Object)} [options.perMessageDeflate=false] Enable/disable\n   *     permessage-deflate\n   * @param {Number} [options.port] The port where to bind the server\n   * @param {(http.Server|https.Server)} [options.server] A pre-created HTTP/S\n   *     server to use\n   * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n   *     not to skip UTF-8 validation for text and close messages\n   * @param {Function} [options.verifyClient] A hook to reject connections\n   * @param {Function} [options.WebSocket=WebSocket] Specifies the `WebSocket`\n   *     class to use. It must be the `WebSocket` class or class that extends it\n   * @param {Function} [callback] A listener for the `listening` event\n   */\n  constructor(options, callback) {\n    super();\n\n    options = {\n      allowSynchronousEvents: true,\n      autoPong: true,\n      maxPayload: 100 * 1024 * 1024,\n      skipUTF8Validation: false,\n      perMessageDeflate: false,\n      handleProtocols: null,\n      clientTracking: true,\n      verifyClient: null,\n      noServer: false,\n      backlog: null, // use default (511 as implemented in net.js)\n      server: null,\n      host: null,\n      path: null,\n      port: null,\n      WebSocket,\n      ...options\n    };\n\n    if (\n      (options.port == null && !options.server && !options.noServer) ||\n      (options.port != null && (options.server || options.noServer)) ||\n      (options.server && options.noServer)\n    ) {\n      throw new TypeError(\n        'One and only one of the \"port\", \"server\", or \"noServer\" options ' +\n          'must be specified'\n      );\n    }\n\n    if (options.port != null) {\n      this._server = http.createServer((req, res) => {\n        const body = http.STATUS_CODES[426];\n\n        res.writeHead(426, {\n          'Content-Length': body.length,\n          'Content-Type': 'text/plain'\n        });\n        res.end(body);\n      });\n      this._server.listen(\n        options.port,\n        options.host,\n        options.backlog,\n        callback\n      );\n    } else if (options.server) {\n      this._server = options.server;\n    }\n\n    if (this._server) {\n      const emitConnection = this.emit.bind(this, 'connection');\n\n      this._removeListeners = addListeners(this._server, {\n        listening: this.emit.bind(this, 'listening'),\n        error: this.emit.bind(this, 'error'),\n        upgrade: (req, socket, head) => {\n          this.handleUpgrade(req, socket, head, emitConnection);\n        }\n      });\n    }\n\n    if (options.perMessageDeflate === true) options.perMessageDeflate = {};\n    if (options.clientTracking) {\n      this.clients = new Set();\n      this._shouldEmitClose = false;\n    }\n\n    this.options = options;\n    this._state = RUNNING;\n  }\n\n  /**\n   * Returns the bound address, the address family name, and port of the server\n   * as reported by the operating system if listening on an IP socket.\n   * If the server is listening on a pipe or UNIX domain socket, the name is\n   * returned as a string.\n   *\n   * @return {(Object|String|null)} The address of the server\n   * @public\n   */\n  address() {\n    if (this.options.noServer) {\n      throw new Error('The server is operating in \"noServer\" mode');\n    }\n\n    if (!this._server) return null;\n    return this._server.address();\n  }\n\n  /**\n   * Stop the server from accepting new connections and emit the `'close'` event\n   * when all existing connections are closed.\n   *\n   * @param {Function} [cb] A one-time listener for the `'close'` event\n   * @public\n   */\n  close(cb) {\n    if (this._state === CLOSED) {\n      if (cb) {\n        this.once('close', () => {\n          cb(new Error('The server is not running'));\n        });\n      }\n\n      process.nextTick(emitClose, this);\n      return;\n    }\n\n    if (cb) this.once('close', cb);\n\n    if (this._state === CLOSING) return;\n    this._state = CLOSING;\n\n    if (this.options.noServer || this.options.server) {\n      if (this._server) {\n        this._removeListeners();\n        this._removeListeners = this._server = null;\n      }\n\n      if (this.clients) {\n        if (!this.clients.size) {\n          process.nextTick(emitClose, this);\n        } else {\n          this._shouldEmitClose = true;\n        }\n      } else {\n        process.nextTick(emitClose, this);\n      }\n    } else {\n      const server = this._server;\n\n      this._removeListeners();\n      this._removeListeners = this._server = null;\n\n      //\n      // The HTTP/S server was created internally. Close it, and rely on its\n      // `'close'` event.\n      //\n      server.close(() => {\n        emitClose(this);\n      });\n    }\n  }\n\n  /**\n   * See if a given request should be handled by this server instance.\n   *\n   * @param {http.IncomingMessage} req Request object to inspect\n   * @return {Boolean} `true` if the request is valid, else `false`\n   * @public\n   */\n  shouldHandle(req) {\n    if (this.options.path) {\n      const index = req.url.indexOf('?');\n      const pathname = index !== -1 ? req.url.slice(0, index) : req.url;\n\n      if (pathname !== this.options.path) return false;\n    }\n\n    return true;\n  }\n\n  /**\n   * Handle a HTTP Upgrade request.\n   *\n   * @param {http.IncomingMessage} req The request object\n   * @param {Duplex} socket The network socket between the server and client\n   * @param {Buffer} head The first packet of the upgraded stream\n   * @param {Function} cb Callback\n   * @public\n   */\n  handleUpgrade(req, socket, head, cb) {\n    socket.on('error', socketOnError);\n\n    const key = req.headers['sec-websocket-key'];\n    const upgrade = req.headers.upgrade;\n    const version = +req.headers['sec-websocket-version'];\n\n    if (req.method !== 'GET') {\n      const message = 'Invalid HTTP method';\n      abortHandshakeOrEmitwsClientError(this, req, socket, 405, message);\n      return;\n    }\n\n    if (upgrade === undefined || upgrade.toLowerCase() !== 'websocket') {\n      const message = 'Invalid Upgrade header';\n      abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n      return;\n    }\n\n    if (key === undefined || !keyRegex.test(key)) {\n      const message = 'Missing or invalid Sec-WebSocket-Key header';\n      abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n      return;\n    }\n\n    if (version !== 8 && version !== 13) {\n      const message = 'Missing or invalid Sec-WebSocket-Version header';\n      abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n      return;\n    }\n\n    if (!this.shouldHandle(req)) {\n      abortHandshake(socket, 400);\n      return;\n    }\n\n    const secWebSocketProtocol = req.headers['sec-websocket-protocol'];\n    let protocols = new Set();\n\n    if (secWebSocketProtocol !== undefined) {\n      try {\n        protocols = subprotocol.parse(secWebSocketProtocol);\n      } catch (err) {\n        const message = 'Invalid Sec-WebSocket-Protocol header';\n        abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n        return;\n      }\n    }\n\n    const secWebSocketExtensions = req.headers['sec-websocket-extensions'];\n    const extensions = {};\n\n    if (\n      this.options.perMessageDeflate &&\n      secWebSocketExtensions !== undefined\n    ) {\n      const perMessageDeflate = new PerMessageDeflate(\n        this.options.perMessageDeflate,\n        true,\n        this.options.maxPayload\n      );\n\n      try {\n        const offers = extension.parse(secWebSocketExtensions);\n\n        if (offers[PerMessageDeflate.extensionName]) {\n          perMessageDeflate.accept(offers[PerMessageDeflate.extensionName]);\n          extensions[PerMessageDeflate.extensionName] = perMessageDeflate;\n        }\n      } catch (err) {\n        const message =\n          'Invalid or unacceptable Sec-WebSocket-Extensions header';\n        abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n        return;\n      }\n    }\n\n    //\n    // Optionally call external client verification handler.\n    //\n    if (this.options.verifyClient) {\n      const info = {\n        origin:\n          req.headers[`${version === 8 ? 'sec-websocket-origin' : 'origin'}`],\n        secure: !!(req.socket.authorized || req.socket.encrypted),\n        req\n      };\n\n      if (this.options.verifyClient.length === 2) {\n        this.options.verifyClient(info, (verified, code, message, headers) => {\n          if (!verified) {\n            return abortHandshake(socket, code || 401, message, headers);\n          }\n\n          this.completeUpgrade(\n            extensions,\n            key,\n            protocols,\n            req,\n            socket,\n            head,\n            cb\n          );\n        });\n        return;\n      }\n\n      if (!this.options.verifyClient(info)) return abortHandshake(socket, 401);\n    }\n\n    this.completeUpgrade(extensions, key, protocols, req, socket, head, cb);\n  }\n\n  /**\n   * Upgrade the connection to WebSocket.\n   *\n   * @param {Object} extensions The accepted extensions\n   * @param {String} key The value of the `Sec-WebSocket-Key` header\n   * @param {Set} protocols The subprotocols\n   * @param {http.IncomingMessage} req The request object\n   * @param {Duplex} socket The network socket between the server and client\n   * @param {Buffer} head The first packet of the upgraded stream\n   * @param {Function} cb Callback\n   * @throws {Error} If called more than once with the same socket\n   * @private\n   */\n  completeUpgrade(extensions, key, protocols, req, socket, head, cb) {\n    //\n    // Destroy the socket if the client has already sent a FIN packet.\n    //\n    if (!socket.readable || !socket.writable) return socket.destroy();\n\n    if (socket[kWebSocket]) {\n      throw new Error(\n        'server.handleUpgrade() was called more than once with the same ' +\n          'socket, possibly due to a misconfiguration'\n      );\n    }\n\n    if (this._state > RUNNING) return abortHandshake(socket, 503);\n\n    const digest = createHash('sha1')\n      .update(key + GUID)\n      .digest('base64');\n\n    const headers = [\n      'HTTP/1.1 101 Switching Protocols',\n      'Upgrade: websocket',\n      'Connection: Upgrade',\n      `Sec-WebSocket-Accept: ${digest}`\n    ];\n\n    const ws = new this.options.WebSocket(null, undefined, this.options);\n\n    if (protocols.size) {\n      //\n      // Optionally call external protocol selection handler.\n      //\n      const protocol = this.options.handleProtocols\n        ? this.options.handleProtocols(protocols, req)\n        : protocols.values().next().value;\n\n      if (protocol) {\n        headers.push(`Sec-WebSocket-Protocol: ${protocol}`);\n        ws._protocol = protocol;\n      }\n    }\n\n    if (extensions[PerMessageDeflate.extensionName]) {\n      const params = extensions[PerMessageDeflate.extensionName].params;\n      const value = extension.format({\n        [PerMessageDeflate.extensionName]: [params]\n      });\n      headers.push(`Sec-WebSocket-Extensions: ${value}`);\n      ws._extensions = extensions;\n    }\n\n    //\n    // Allow external modification/inspection of handshake headers.\n    //\n    this.emit('headers', headers, req);\n\n    socket.write(headers.concat('\\r\\n').join('\\r\\n'));\n    socket.removeListener('error', socketOnError);\n\n    ws.setSocket(socket, head, {\n      allowSynchronousEvents: this.options.allowSynchronousEvents,\n      maxPayload: this.options.maxPayload,\n      skipUTF8Validation: this.options.skipUTF8Validation\n    });\n\n    if (this.clients) {\n      this.clients.add(ws);\n      ws.on('close', () => {\n        this.clients.delete(ws);\n\n        if (this._shouldEmitClose && !this.clients.size) {\n          process.nextTick(emitClose, this);\n        }\n      });\n    }\n\n    cb(ws, req);\n  }\n}\n\nmodule.exports = WebSocketServer;\n\n/**\n * Add event listeners on an `EventEmitter` using a map of <event, listener>\n * pairs.\n *\n * @param {EventEmitter} server The event emitter\n * @param {Object.<String, Function>} map The listeners to add\n * @return {Function} A function that will remove the added listeners when\n *     called\n * @private\n */\nfunction addListeners(server, map) {\n  for (const event of Object.keys(map)) server.on(event, map[event]);\n\n  return function removeListeners() {\n    for (const event of Object.keys(map)) {\n      server.removeListener(event, map[event]);\n    }\n  };\n}\n\n/**\n * Emit a `'close'` event on an `EventEmitter`.\n *\n * @param {EventEmitter} server The event emitter\n * @private\n */\nfunction emitClose(server) {\n  server._state = CLOSED;\n  server.emit('close');\n}\n\n/**\n * Handle socket errors.\n *\n * @private\n */\nfunction socketOnError() {\n  this.destroy();\n}\n\n/**\n * Close the connection when preconditions are not fulfilled.\n *\n * @param {Duplex} socket The socket of the upgrade request\n * @param {Number} code The HTTP response status code\n * @param {String} [message] The HTTP response body\n * @param {Object} [headers] Additional HTTP response headers\n * @private\n */\nfunction abortHandshake(socket, code, message, headers) {\n  //\n  // The socket is writable unless the user destroyed or ended it before calling\n  // `server.handleUpgrade()` or in the `verifyClient` function, which is a user\n  // error. Handling this does not make much sense as the worst that can happen\n  // is that some of the data written by the user might be discarded due to the\n  // call to `socket.end()` below, which triggers an `'error'` event that in\n  // turn causes the socket to be destroyed.\n  //\n  message = message || http.STATUS_CODES[code];\n  headers = {\n    Connection: 'close',\n    'Content-Type': 'text/html',\n    'Content-Length': Buffer.byteLength(message),\n    ...headers\n  };\n\n  socket.once('finish', socket.destroy);\n\n  socket.end(\n    `HTTP/1.1 ${code} ${http.STATUS_CODES[code]}\\r\\n` +\n      Object.keys(headers)\n        .map((h) => `${h}: ${headers[h]}`)\n        .join('\\r\\n') +\n      '\\r\\n\\r\\n' +\n      message\n  );\n}\n\n/**\n * Emit a `'wsClientError'` event on a `WebSocketServer` if there is at least\n * one listener for it, otherwise call `abortHandshake()`.\n *\n * @param {WebSocketServer} server The WebSocket server\n * @param {http.IncomingMessage} req The request object\n * @param {Duplex} socket The socket of the upgrade request\n * @param {Number} code The HTTP response status code\n * @param {String} message The HTTP response body\n * @private\n */\nfunction abortHandshakeOrEmitwsClientError(server, req, socket, code, message) {\n  if (server.listenerCount('wsClientError')) {\n    const err = new Error(message);\n    Error.captureStackTrace(err, abortHandshakeOrEmitwsClientError);\n\n    server.emit('wsClientError', err, socket, req);\n  } else {\n    abortHandshake(socket, code, message);\n  }\n}\n", "import createWebSocketStream from './lib/stream.js';\nimport Receiver from './lib/receiver.js';\nimport Sender from './lib/sender.js';\nimport WebSocket from './lib/websocket.js';\nimport WebSocketServer from './lib/websocket-server.js';\n\nexport { createWebSocketStream, Receiver, Sender, WebSocket, WebSocketServer };\nexport default WebSocket;\n", "import { createServer, IncomingMessage } from 'http'\nimport { dispatch } from './dispatch'\nimport chalk from 'chalk'\nimport { WebSocketServer, WebSocket, RawData as WebSocketRawData } from 'ws'\nimport { port as mainPort, jsPort, localhost } from '../utils/ports'\nimport logger from '../log'\nimport { getRuntime } from './RuntimeContext'\nimport { isLocal } from '../environment'\nimport { EDGIO_READY_MESSAGE } from '../constants'\n\n/**\n * Creates a WebSocket handler attached to the existing server instance\n * that proxies all socket connections and messages to the target host and port and back.\n * @param server The server instance\n * @param targetPort The target port to which to proxy the messages\n * @param targetHost The target host to which to proxy the messages\n * @returns The websocket server instance\n */\nexport const startWebSocketProxy = (\n  server: ReturnType<typeof createServer>,\n  targetPort: number = jsPort,\n  targetHost: string = localhost\n) => {\n  const proxySocketServer = new WebSocketServer({ server })\n  proxySocketServer.on('connection', async (proxySocket: WebSocket, request: IncomingMessage) => {\n    try {\n      const path = request.url ?? '/'\n      const targetSocketUrl = `ws://${targetHost}:${targetPort}${path}`\n      // The target socket may have a protocol header that we need to pass to the target host.\n      // NOTE: Valid protocols are also undefined, [] but not [''] or ''.\n      const targetSocketProtocolHeader = request.headers['sec-websocket-protocol']\n      const targetSocketProtocols = targetSocketProtocolHeader\n        ? targetSocketProtocolHeader.split(',').map(p => p.trim())\n        : []\n\n      // Create a new WebSocket connection to the target host\n      // using same path and headers as the incoming upgrade request\n      const targetSocket = new WebSocket(targetSocketUrl, targetSocketProtocols, {\n        headers: request.headers,\n      })\n\n      // Wait for the target socket to be opened\n      // and ready before we start proxying messages\n      const targetSocketReadyPromise = new Promise<void>((resolve, reject) => {\n        targetSocket.on('open', resolve)\n        targetSocket.on('error', reject)\n      }).catch(e => {\n        // WebSocket errors are not fatal. Backend app may not support WebSocket connections\n        // because we often have SW from different project on the same port or cached site in the browser.\n        // Let's log them just for debugging purposes to not make too much noise in the console.\n        logger.debug(\n          `[WebSocket proxy]: Error - Failed to establish connection to target host '${targetSocketUrl}'. The target host may not support WebSocket connections.\\r\\n`\n        )\n        logger.debug(`[WebSocket proxy]: Error - ${e}\\r\\n`)\n      })\n\n      // Handle WebSocket protocol negotiation\n      // For example: sec-websocket-protocol: vite-hmr, graphql-ws\n      proxySocket.on('handleProtocols', (protocols, callback) => {\n        targetSocket.emit('handleProtocols', protocols, callback)\n      })\n      targetSocket.on('handleProtocols', (protocols, callback) => {\n        proxySocket.emit('handleProtocols', protocols, callback)\n      })\n\n      // Close both sockets when one of them is closed\n      const closeSockets = () => {\n        targetSocket.close()\n        proxySocket.close()\n      }\n      targetSocket.on('close', closeSockets)\n      proxySocket.on('close', closeSockets)\n\n      // Log errors and close the sockets when an error occurs\n      const handleError = (err: Error) => {\n        logger.debug(`[WebSocket proxy]: ${err}`)\n        closeSockets()\n      }\n      targetSocket.on('error', handleError)\n      proxySocket.on('error', handleError)\n\n      // Proxy messages from target to server and from server to target.\n      // If the target socket is not ready yet, we'll hold the message\n      // and send it as soon as the target socket is ready.\n      // NOTE: The messages are received as Buffer, so we need to convert them to string and re-send them to the other socket\n      const proxyMessage = async (receivedMessage: WebSocketRawData, receiver: WebSocket) => {\n        await targetSocketReadyPromise\n        receiver.send(receivedMessage.toString())\n      }\n      targetSocket.on('message', message => proxyMessage(message, proxySocket))\n      proxySocket.on('message', message => proxyMessage(message, targetSocket))\n    } catch (e) {\n      logger.error(`[WebSocket proxy]: Fatal Error - ${e}\\r\\n`)\n    }\n  })\n\n  return proxySocketServer\n}\n\n/**\n * Initializes the runtime, server\n * and immediately starts listening on the given port and host.\n * @param port The port on which to listen\n * @param host The host on which to listen\n * @returns The server instance\n */\nexport const startServer = (port: number = mainPort, host: string = localhost) => {\n  const server = createServer(dispatch)\n\n  // Warm-up the runtime before first request comes in\n  // and wait for it to be ready before we print the ready message.\n  // This ensures that the user's app is started immediately with the server.\n  // NOTE: It's important to do it asynchronously before we start listening on the server,\n  // so we don't wait for server to start listen on cold starts.\n  const runtime = getRuntime()\n  runtime.waitForRuntime().catch(e => {\n    // Locally, log the error and exit the process.\n    logger.error(`[Edgio]: Fatal Error - ${e}\\r\\n`)\n    logger.error(e.stack)\n\n    // Stop the server and exit the process\n    // on localhost. In lambda, we keep the server running,\n    // so the error can be serialized and sent to the client in dispatch.ts.\n    if (isLocal()) process.exit(1)\n  })\n\n  // If we are in dev mode, we also start the WebSocket proxy\n  // attached to the server instance, that proxies everything from server to app and back.\n  // This is needed so the features such as HMR (Hot Module Replacement)\n  // work correctly in the development mode and the user can see the\n  // changes in the browser immediately after the code is saved.\n  if (runtime.isDevMode) startWebSocketProxy(server)\n\n  server.listen(port, host, async () => {\n    // The actual port that the server is listening on\n    // can be different from the requested port if '0' was used.\n    const { port: usedPort } = server.address() as { port: number }\n\n    // Print the ready message after the runtime is ready. This is important\n    // as it not only informs the user that the server is ready, but also\n    // that the runtime is ready and the user's app is started (check handler.ts)\n    console.log(\n      EDGIO_READY_MESSAGE + chalk.green(chalk.bold(chalk.underline(`http://${host}:${usedPort}\\n`)))\n    )\n  })\n\n  return server\n}\n", "import { port, localhost } from '../utils/ports'\n\n// Note: This is the main server, that is used for both dev and prod mode.\n// Locally in both dev and prod, the CLI imports and starts the server directly.\n// In lambda, the server is started as separate process by the handler.ts file\n// and the handler.ts file is responsible for converting the lambda event to\n// a http request, proxying it to the server instance as well as catching the\n// lambda top level errors (level 1) and restarting the server if it crashes.\n//\n// This file is kept as simple as possible,\n// the only thing we expose here is the server instance\n// and our code injection for node ClientRequest type. We do this because\n// we want to make sure that our type is injected before we execute any\n// code. That's why we load lazy our implementation code in server.implementation.ts\nconst { interceptRequests } = require('./injection/httpRequestInterceptor')\n\n// Load HTTP request interception as soon as possible so that we can monkey patch the underlying\n// Node modules before anything else had a chance to take a reference on the original\n// classes and functions.\ninterceptRequests({\n  enableHttpRequestLogging: process.env.EDGIO_HTTP_REQUEST_LOGGING === '1',\n})\n\n// IMPORTANT: Import the server implementation after the HTTP request interception.\nconst { startServer } = require('./server.implementation')\nconst server = startServer(port, localhost)\n\nexport default server\n"],
  "mappings": "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UAAU;AAAA,QAAM,UAAU;AAAA,QAAK,UAAU;AAAA,QACzC,UAAU;AAAA,QAAM,UAAU;AAAA,QAAK,UAAU;AAAA,QACzC,UAAU;AAAA,QAAM,UAAU;AAAA,QAAK,UAAU;AAAA,QAAK,UAAU;AAAA,QACxD,UAAU;AAAA,QAAM,UAAU;AAAA,QAAK,UAAU;AAAA,QAAK,UAAU;AAAA,QACxD,UAAU;AAAA,QAAM,UAAU;AAAA,QAAK,UAAU;AAAA,QAAK,UAAU;AAAA,QACxD,UAAU;AAAA,QAAM,UAAU;AAAA,QAAK,UAAU;AAAA,QAAK,UAAU;AAAA,QAAK,UAAU;AAAA,QACvE,UAAU;AAAA,QAAM,UAAU;AAAA,QAAK,UAAU;AAAA,QAAK,UAAU;AAAA,QAAK,UAAU;AAAA,QACvE,UAAU;AAAA,QAAM,UAAU;AAAA,QAAK,UAAU;AAAA,QAAK,UAAU;AAAA,QACxD,UAAU;AAAA,QAAM,UAAU;AAAA,QAAK,UAAU;AAAA,QAAK,UAAU;AAAA,QACxD,UAAU;AAAA,QAAM,UAAU;AAAA,QAAK,UAAU;AAAA,QAAK,UAAU;AAAA,QACxD,UAAU;AAAA,QAAM,UAAU;AAAA,QAAK,UAAU;AAAA,QAAK,UAAU;AAAA,QAAK,UAAU;AAAA,QACvE,UAAU;AAAA,QAAM,UAAU;AAAA,QAAK,UAAU;AAAA,QAAK,UAAU;AAAA,QAAK,UAAU;AAAA,QACvE,UAAU;AAAA,QAAM,UAAU;AAAA,QAC1B,UAAU;AAAA,QAAM,UAAU;AAAA,QAAK,UAAU;AAAA,QACzC,UAAU;AAAA,QAAM,UAAU;AAAA,QAAK,UAAU;AAAA,QAAK,UAAU;AAAA,QAAK,UAAU;AAAA,QACvE,UAAU;AAAA,QAAM,UAAU;AAAA,QAAK,UAAU;AAAA,QAAK,UAAU;AAAA,QAAK,UAAU;AAAA,QACvE,UAAU;AAAA,QAAM,UAAU;AAAA,QAAK,UAAU;AAAA,QAAK,UAAU;AAAA,QACxD,UAAU;AAAA,QAAM,UAAU;AAAA,QAAK,UAAU;AAAA,QAAK,UAAU;AAAA,QACxD,UAAU;AAAA,QAAM,UAAU;AAAA,QAAK,UAAU;AAAA,QACzC,UAAU;AAAA,QAAM,UAAU;AAAA,QAAK,UAAU;AAAA,Q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AG,GAAG,GAAG,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,IAAI,GAAG,GAAG,GAAG,IAAI,IAAI,IAAI,GAAG,GAAG,GAAG,GAAG,KAAK,IAAI,GAAG,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,KAAK,IAAI,IAAI,GAAG,GAAG,GAAG,IAAI,IAAI,IAAI,GAAG,KAAK,GAAG,GAAG,GAAG,IAAI,GAAG,IAAI,IAAI,IAAI,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,KAAK,IAAI,KAAK,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,GAAG,KAAK,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,IAAI,IAAI,IAAI,KAAK,GAAG,GAAG,GAAG,IAAI,GAAG,IAAI,IAAI,GAAG,IAAI,KAAK,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,KAAK,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,MAAM,GAAG,GAAG,IAAI,OAAO,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,MAAM,GAAG,GAAG,IAAI,GAAG,GAAG,IAAI,GAAG,IAAI,GAAG,OAAO,GAAG,MAAM,IAAI,GAAG,IAAI,KAAK,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,GAAG,KAAK,GAAG,MAAM,IAAI,KAAK,IAAI,GAAG,IAAI,GAAG,GAAG,IAAI,GAAG,IAAI,GAAG,GAAG,IAAI,MAAM,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,KAAK,GAAG,KAAK,GAAG,IAAI,GAAG,KAAK,GAAG,IAAI,IAAI,KAAK,IAAI,KAAK,GAAG,KAAK,GAAG,GAAG,GAAG,MAAM,GAAG,QAAQ,GAAG;AAG3hC,IAAI,6BAA6B,CAAC,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,IAAI,IAAI,KAAK,IAAI,IAAI,KAAK,IAAI,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,GAAG,IAAI,IAAI,IAAI,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,IAAI,KAAK,IAAI,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,IAAI,IAAI,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,IAAI,KAAK,IAAI,IAAI,IAAI,GAAG,IAAI,GAAG,GAAG,IAAI,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,GAAG,GAAG,IAAI,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,IAAI,IAAI,IAAI,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KAAK,IAAI,GAAG,GAAG,IAAI,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,GAAG,GAAG,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,GAAG,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,IAAI,IAAI,IAAI,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,IAAI,GAAG,IAAI,IAAI,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,GAAG,IAAI,GAAG,KAAK,IAAI,IAAI,GAAG,IAAI,GAAG,IAAI,IAAI,IAAI,GAAG,GAAG,GAAG,KAAK,IAAI,IAAI,GAAG,IAAI,IAAI,IAAI,GAAG,IAAI,IAAI,IAAI,GAAG,IAAI,IAAI,IAAI,GAAG,KAAK,IAAI,KAAK,IAAI,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,GAAG,IAAI,IAAI,IAAI,GAAG,IAAI,IAAI,KAAK,GAAG,GAAG,IAAI,IAAI,GAAG,IAAI,IAAI,KAAK,GAAG,GAAG,GAAG,GAAG,IAAI,IAAI,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,IAAI,IAAI,GAAG,KAAK,IAAI,IAAI,GAAG,GAAG,IAAI,GAAG,IAAI,KAAK,GAAG,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,MAAM,IAAI,IAAI,MAAM,IAAI,GAAG,MAAM,KAAK,MAAM,KAAK,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,GAAG,IAAI,IAAI,GAAG,IAAI,KAAK,IAAI,KAAK,IAAI,GAAG,GAAG,IAAI,IAAI,IAAI,GAAG,GAAG,GAAG,IAAI,MAAM,GAAG,MAAM,IAAI,GAAG,MAAM,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,KAAK,IAAI,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,KAAK,MAAM,KAAK,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,MAAM,IAAI,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,KAAK,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,GAAG,MAAM,IAAI,GAAG,GAAG,KAAK,IAAI,KAAK,IAAI,IAAI,GAAG,IAAI,GAAG,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,KAAK,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,GAAG,KAAK,IAAI,IAAI,GAAG,GAAG,MAAM,GAA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",
  "names": ["LogLevel", "key", "module", "toString", "key", "module", "module", "module", "module", "module", "module", "parse", "path", "module", "path", "match", "module", "path", "key", "current", "i", "node", "module", "path", "reset", "module", "module", "parse", "module", "module", "first", "path", "module", "module", "module", "module", "err", "data", "module", "build", "module", "module", "offset", "module", "defaultOptions", "_", "key", "module", "stringify", "data", "key", "warned", "defaultOptions", "logger", "_", "module", "key", "levels", "module", "version", "module", "version", "bindings", "module", "version", "defaultOptions", "pino", "serializers", "base", "time", "logger", "data", "module", "import_http", "import_https", "import_url", "url", "http", "data", "callback", "https", "fetch", "interceptRequests", "module", "module", "module", "module", "concatty", "slicy", "offset", "Empty", "module", "module", "module", "undefined", "doEval", "hasOwn", "stringToPath", "first", "match", "getBaseIntrinsic", "module", "applyBind", "module", "module", "isArray", "key", "hasOwn", "module", "key", "module", "module", "isArray", "compactQueue", "arrayToObject", "merge", "key", "encode", "compact", "isRegExp", "isBuffer", "combine", "maybeMap", "module", "key", "isArray", "isNonNullishPrimitive", "stringify", "value", "normalizeStringifyOptions", "require_parse", "module", "isArray", "key", "normalizeParseOptions", "module", "parse", "key", "resolve", "body", "url", "data", "resolve", "parse", "key", "decode", "key", "Phase", "url", "path", "parseQueryString", "normalizeKey", "key", "_", "key", "offset", "match", "import_qs", "match", "key", "path", "qs", "parse", "key", "path", "value", "_a", "result", "data", "match", "pathToRegexp", "i", "path", "url", "path", "require_dist", "module", "e", "t", "r", "n", "o", "a", "i", "u", "c", "parseCacheControl", "key", "import_url", "import_http", "config", "url", "resolve", "https", "http", "port", "config", "origin", "path", "require_lib", "module", "require_utils", "module", "impl", "module", "module", "at", "url", "path", "base", "res", "port", "url", "base", "module", "impl", "URL", "url", "module", "Buffer", "key", "module", "Buffer", "Buffer", "offset", "Buffer", "Buffer", "i", "Buffer", "module", "module", "Buffer", "i", "module", "module", "module", "Buffer", "require_lib", "module", "Buffer", "key", "stream_module", "module", "require_lib", "module", "Stream", "http", "https", "zlib", "Readable", "Blob", "PassThrough", "resolve", "key", "STATUS_CODES", "URL", "parseURL", "Request", "isDomainOrSubdomain", "isSameProtocol", "fetch", "url", "abort", "abortAndFinalize", "module", "undefined", "types", "offset", "key", "collection", "current", "data", "transform", "runInContext", "_", "Array", "Date", "Error", "Function", "Math", "Object", "RegExp", "String", "TypeError", "hasOwnProperty", "Buffer", "Symbol", "Uint8Array", "DataView", "Map", "Promise", "Set", "WeakMap", "isArray", "result", "iteratee", "size", "values", "Stack", "setTimeout", "includes", "path", "object", "indexOf", "set", "toString", "clearTimeout", "index", "ary", "othValue", "map", "match", "join", "parent", "clone", "cloneDeep", "isEmpty", "isFinite", "isNaN", "at", "pick", "escape", "parseInt", "interpolate", "unescape", "chain", "value", "wasmInitialMemory", "offset", "data", "wasmInitialMemory", "key", "import_buffer", "data", "data", "key", "types", "AbortSignal", "EventTarget", "defineEventAttribute", "AbortController", "import_path", "import_buffer", "import_https", "path", "resolve", "url", "AbortController", "HttpsAgent", "data", "assert", "fetch", "path", "key", "import_path", "key", "key", "value", "import_zlib", "zlib", "init_constants", "init_constants", "key", "path", "import_path_to_regexp", "init_constants", "config", "config", "import_http", "import_path", "parseCookie", "resolve", "path", "value", "module", "module", "key", "match", "module", "current", "path", "module", "module", "offset", "module", "module", "version", "module", "module", "unescape", "escape", "chalk", "current", "styles", "module", "isArray", "chalk", "self", "import_path", "module", "__defProp", "__getOwnPropDesc", "__getOwnPropNames", "__hasOwnProp", "__export", "__copyProps", "key", "__toCommonJS", "build", "transform", "version", "offset", "define", "watch", "path3", "resolve", "resolve2", "port", "transform2", "at", "match", "path", "path2", "parentPort", "join", "import_buffer", "data", "module", "module", "match", "module", "process", "module", "path", "resolvePackagePath", "module", "key", "module", "Cache", "require_lib", "module", "Cache", "resolvePackagePath", "key", "path", "resolvePackagePath", "import_path", "import_path", "import_path", "init_paths", "offset", "key", "TokenType", "Position", "SourceLocation", "Parser", "parse", "ref", "match", "DestructuringErrors", "simple", "first", "TokContext", "base", "Scope", "Node", "RegExpValidationState", "current", "Token", "node", "override", "import_fs", "import_path", "import_zlib", "import_lodash", "init_paths", "chalk", "_", "zlib", "TextDecoder", "module", "path", "slash", "path", "import_path", "import_fs", "init_paths", "url", "AbortController", "AbortSignal", "key", "getOptions", "v", "require_lodash", "module", "offset", "key", "transform", "hasOwnProperty", "Buffer", "Symbol", "Uint8Array", "DataView", "Map", "Promise", "Set", "WeakMap", "data", "Stack", "isArray", "cloneDeep", "import_lodash", "key", "cloneDeep", "path", "AbsoluteFolderName", "key", "AbsoluteFileName", "environment", "edgeJsCriteria", "matchers", "import_url", "url", "querystring", "import_path_to_regexp", "key", "import_qs", "path", "key", "match", "config", "qs", "config", "import_path", "import_slash", "path", "data", "featureOrRouter", "key", "slash", "ignore", "config", "import_path", "import_ts_fs_utils", "import_zlib", "config", "zlib", "jsPort", "isProductionBuild", "runtime", "module", "createWebSocketStream", "data", "err", "module", "module", "offset", "data", "module", "module", "zlib", "key", "data", "module", "module", "Writable", "Receiver", "offset", "data", "module", "Sender", "data", "offset", "_", "module", "data", "module", "parse", "module", "https", "http", "Readable", "URL", "Receiver", "Sender", "parse", "WebSocket", "data", "key", "module", "parse", "protocol", "module", "http", "WebSocket", "WebSocketServer", "server", "key", "version", "import_stream", "import_http", "import_chalk", "server", "WebSocketServer", "path", "WebSocket", "resolve", "port", "runtime", "chalk", "startServer"]
}
